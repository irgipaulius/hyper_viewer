/*! For license information please see hyper_viewer-main.js.LICENSE.txt */
!function(){var e={4637:function(t,e,n){"use strict";e.Kc=function(t){return new r.default(t)};var r=a(n(5752)),i=a(n(5358));function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){Object.keys(t).filter((t=>!e||e(t))).map(t.removeItem.bind(t))}},5358:function(t,e){"use strict";function n(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;class r{constructor(t,e,i){n(this,"scope",void 0),n(this,"wrapped",void 0),this.scope="".concat(i?r.GLOBAL_SCOPE_PERSISTENT:r.GLOBAL_SCOPE_VOLATILE,"_").concat(btoa(t),"_"),this.wrapped=e}scopeKey(t){return"".concat(this.scope).concat(t)}setItem(t,e){this.wrapped.setItem(this.scopeKey(t),e)}getItem(t){return this.wrapped.getItem(this.scopeKey(t))}removeItem(t){this.wrapped.removeItem(this.scopeKey(t))}clear(){Object.keys(this.wrapped).filter((t=>t.startsWith(this.scope))).map(this.wrapped.removeItem.bind(this.wrapped))}}e.default=r,n(r,"GLOBAL_SCOPE_VOLATILE","nextcloud_vol"),n(r,"GLOBAL_SCOPE_PERSISTENT","nextcloud_per")},5752:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,i=(r=n(5358))&&r.__esModule?r:{default:r};function a(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}e.default=class{constructor(t){a(this,"appId",void 0),a(this,"persisted",!1),a(this,"clearedOnLogout",!1),this.appId=t}persist(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.persisted=t,this}clearOnLogout(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clearedOnLogout=t,this}build(){return new i.default(this.appId,this.persisted?window.localStorage:window.sessionStorage,!this.clearedOnLogout)}}},9743:function(t,e,n){"use strict";const r=n(9064),{MAX_LENGTH:i,MAX_SAFE_INTEGER:a}=n(4061),{safeRe:o,t:s}=n(3890),u=n(4900),{compareIdentifiers:l}=n(6734);class c{constructor(t,e){if(e=u(e),t instanceof c){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof t}".`);if(t.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const n=t.trim().match(e.loose?o[s.LOOSE]:o[s.FULL]);if(!n)throw new TypeError(`Invalid Version: ${t}`);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<a)return e}return t})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof c)){if("string"==typeof t&&t===this.version)return 0;t=new c(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof c||(t=new c(t,this.options)),l(this.major,t.major)||l(this.minor,t.minor)||l(this.patch,t.patch)}comparePre(t){if(t instanceof c||(t=new c(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const n=this.prerelease[e],i=t.prerelease[e];if(r("prerelease compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return l(n,i)}while(++e)}compareBuild(t){t instanceof c||(t=new c(t,this.options));let e=0;do{const n=this.build[e],i=t.build[e];if(r("build compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return l(n,i)}while(++e)}inc(t,e,n){if(t.startsWith("pre")){if(!e&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(e){const t=`-${e}`.match(this.options.loose?o[s.PRERELEASELOOSE]:o[s.PRERELEASE]);if(!t||t[1]!==e)throw new Error(`invalid identifier: ${e}`)}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e,n),this.inc("pre",e,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e,n),this.inc("pre",e,n);break;case"release":if(0===this.prerelease.length)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const t=Number(n)?1:0;if(0===this.prerelease.length)this.prerelease=[t];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(e===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(t)}}if(e){let r=[e,t];!1===n&&(r=[e]),0===l(this.prerelease[0],e)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error(`invalid increment argument: ${t}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}t.exports=c},6511:function(t,e,n){"use strict";const r=n(9743);t.exports=(t,e)=>new r(t,e).major},2599:function(t,e,n){"use strict";const r=n(9743);t.exports=(t,e,n=!1)=>{if(t instanceof r)return t;try{return new r(t,e)}catch(t){if(!n)return null;throw t}}},7284:function(t,e,n){"use strict";const r=n(2599);t.exports=(t,e)=>{const n=r(t,e);return n?n.version:null}},4061:function(t){"use strict";const e=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:e,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9064:function(t,e,n){"use strict";var r=n(4155),i=n(5108);const a="object"==typeof r&&r.env&&r.env.NODE_DEBUG&&/\bsemver\b/i.test(r.env.NODE_DEBUG)?(...t)=>i.error("SEMVER",...t):()=>{};t.exports=a},6734:function(t){"use strict";const e=/^[0-9]+$/,n=(t,n)=>{const r=e.test(t),i=e.test(n);return r&&i&&(t=+t,n=+n),t===n?0:r&&!i?-1:i&&!r?1:t<n?-1:1};t.exports={compareIdentifiers:n,rcompareIdentifiers:(t,e)=>n(e,t)}},4900:function(t){"use strict";const e=Object.freeze({loose:!0}),n=Object.freeze({});t.exports=t=>t?"object"!=typeof t?e:t:n},3890:function(t,e,n){"use strict";const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:i,MAX_LENGTH:a}=n(4061),o=n(9064),s=(e=t.exports={}).re=[],u=e.safeRe=[],l=e.src=[],c=e.safeSrc=[],d=e.t={};let p=0;const h="[a-zA-Z0-9-]",f=[["\\s",1],["\\d",a],[h,i]],g=(t,e,n)=>{const r=(t=>{for(const[e,n]of f)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t})(e),i=p++;o(t,i,e),d[t]=i,l[i]=e,c[i]=r,s[i]=new RegExp(e,n?"g":void 0),u[i]=new RegExp(r,n?"g":void 0)};g("NUMERICIDENTIFIER","0|[1-9]\\d*"),g("NUMERICIDENTIFIERLOOSE","\\d+"),g("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),g("MAINVERSION",`(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})\\.(${l[d.NUMERICIDENTIFIER]})`),g("MAINVERSIONLOOSE",`(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})\\.(${l[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASEIDENTIFIER",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIER]})`),g("PRERELEASEIDENTIFIERLOOSE",`(?:${l[d.NONNUMERICIDENTIFIER]}|${l[d.NUMERICIDENTIFIERLOOSE]})`),g("PRERELEASE",`(?:-(${l[d.PRERELEASEIDENTIFIER]}(?:\\.${l[d.PRERELEASEIDENTIFIER]})*))`),g("PRERELEASELOOSE",`(?:-?(${l[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[d.PRERELEASEIDENTIFIERLOOSE]})*))`),g("BUILDIDENTIFIER","[a-zA-Z0-9-]+"),g("BUILD",`(?:\\+(${l[d.BUILDIDENTIFIER]}(?:\\.${l[d.BUILDIDENTIFIER]})*))`),g("FULLPLAIN",`v?${l[d.MAINVERSION]}${l[d.PRERELEASE]}?${l[d.BUILD]}?`),g("FULL",`^${l[d.FULLPLAIN]}$`),g("LOOSEPLAIN",`[v=\\s]*${l[d.MAINVERSIONLOOSE]}${l[d.PRERELEASELOOSE]}?${l[d.BUILD]}?`),g("LOOSE",`^${l[d.LOOSEPLAIN]}$`),g("GTLT","((?:<|>)?=?)"),g("XRANGEIDENTIFIERLOOSE",`${l[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),g("XRANGEIDENTIFIER",`${l[d.NUMERICIDENTIFIER]}|x|X|\\*`),g("XRANGEPLAIN",`[v=\\s]*(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:\\.(${l[d.XRANGEIDENTIFIER]})(?:${l[d.PRERELEASE]})?${l[d.BUILD]}?)?)?`),g("XRANGEPLAINLOOSE",`[v=\\s]*(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[d.XRANGEIDENTIFIERLOOSE]})(?:${l[d.PRERELEASELOOSE]})?${l[d.BUILD]}?)?)?`),g("XRANGE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAIN]}$`),g("XRANGELOOSE",`^${l[d.GTLT]}\\s*${l[d.XRANGEPLAINLOOSE]}$`),g("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),g("COERCE",`${l[d.COERCEPLAIN]}(?:$|[^\\d])`),g("COERCEFULL",l[d.COERCEPLAIN]+`(?:${l[d.PRERELEASE]})?`+`(?:${l[d.BUILD]})?(?:$|[^\\d])`),g("COERCERTL",l[d.COERCE],!0),g("COERCERTLFULL",l[d.COERCEFULL],!0),g("LONETILDE","(?:~>?)"),g("TILDETRIM",`(\\s*)${l[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",g("TILDE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAIN]}$`),g("TILDELOOSE",`^${l[d.LONETILDE]}${l[d.XRANGEPLAINLOOSE]}$`),g("LONECARET","(?:\\^)"),g("CARETTRIM",`(\\s*)${l[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",g("CARET",`^${l[d.LONECARET]}${l[d.XRANGEPLAIN]}$`),g("CARETLOOSE",`^${l[d.LONECARET]}${l[d.XRANGEPLAINLOOSE]}$`),g("COMPARATORLOOSE",`^${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]})$|^$`),g("COMPARATOR",`^${l[d.GTLT]}\\s*(${l[d.FULLPLAIN]})$|^$`),g("COMPARATORTRIM",`(\\s*)${l[d.GTLT]}\\s*(${l[d.LOOSEPLAIN]}|${l[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",g("HYPHENRANGE",`^\\s*(${l[d.XRANGEPLAIN]})\\s+-\\s+(${l[d.XRANGEPLAIN]})\\s*$`),g("HYPHENRANGELOOSE",`^\\s*(${l[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[d.XRANGEPLAINLOOSE]})\\s*$`),g("STAR","(<|>)?=?\\s*\\*"),g("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),g("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},9944:function(t,e,n){"use strict";var r=n(5108);function i(){return"undefined"==typeof OC?(r.warn("No OC found"),"en"):OC.getLocale()}n(4916),n(5306),e.Iu=function(t,e,n,i,a){if("undefined"==typeof OC)return r.warn("No OC found"),e;return OC.L10N.translate(t,e,n,i,a)},e.uN=function(t,e,n,i,a,o){if("undefined"==typeof OC)return r.warn("No OC found"),e;return OC.L10N.translatePlural(t,e,n,i,a,o)}},9282:function(t,e,n){"use strict";var r=n(4155),i=n(5108);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,s,u=n(2136).codes,l=u.ERR_AMBIGUOUS_ARGUMENT,c=u.ERR_INVALID_ARG_TYPE,d=u.ERR_INVALID_ARG_VALUE,p=u.ERR_INVALID_RETURN_VALUE,h=u.ERR_MISSING_ARGS,f=n(5961),g=n(9539).inspect,m=n(9539).types,v=m.isPromise,y=m.isRegExp,A=Object.assign?Object.assign:n(8091).assign,b=Object.is?Object.is:n(609);new Map;function w(){var t=n(9158);o=t.isDeepEqual,s=t.isDeepStrictEqual}var C=!1,x=t.exports=k,T={};function S(t){if(t.message instanceof Error)throw t.message;throw new f(t)}function E(t,e,n,r){if(!n){var i=!1;if(0===e)i=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var a=new f({actual:n,expected:!0,message:r,operator:"==",stackStartFn:t});throw a.generatedMessage=i,a}}function k(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];E.apply(void 0,[k,e.length].concat(e))}x.fail=function t(e,n,a,o,s){var u,l=arguments.length;if(0===l)u="Failed";else if(1===l)a=e,e=void 0;else{if(!1===C){C=!0;var c=r.emitWarning?r.emitWarning:i.warn.bind(i);c("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===l&&(o="!=")}if(a instanceof Error)throw a;var d={actual:e,expected:n,operator:void 0===o?"fail":o,stackStartFn:s||t};void 0!==a&&(d.message=a);var p=new f(d);throw u&&(p.message=u,p.generatedMessage=!0),p},x.AssertionError=f,x.ok=k,x.equal=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");e!=n&&S({actual:e,expected:n,message:r,operator:"==",stackStartFn:t})},x.notEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");e==n&&S({actual:e,expected:n,message:r,operator:"!=",stackStartFn:t})},x.deepEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===o&&w(),o(e,n)||S({actual:e,expected:n,message:r,operator:"deepEqual",stackStartFn:t})},x.notDeepEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===o&&w(),o(e,n)&&S({actual:e,expected:n,message:r,operator:"notDeepEqual",stackStartFn:t})},x.deepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===o&&w(),s(e,n)||S({actual:e,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:t})},x.notDeepStrictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");void 0===o&&w();s(e,n)&&S({actual:e,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:t})},x.strictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");b(e,n)||S({actual:e,expected:n,message:r,operator:"strictEqual",stackStartFn:t})},x.notStrictEqual=function t(e,n,r){if(arguments.length<2)throw new h("actual","expected");b(e,n)&&S({actual:e,expected:n,message:r,operator:"notStrictEqual",stackStartFn:t})};var I=function t(e,n,r){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n.forEach((function(t){t in e&&(void 0!==r&&"string"==typeof r[t]&&y(e[t])&&e[t].test(r[t])?i[t]=r[t]:i[t]=e[t])}))};function M(t,e,n,r,i,a){if(!(n in t)||!s(t[n],e[n])){if(!r){var o=new I(t,i),u=new I(e,i,t),l=new f({actual:o,expected:u,operator:"deepStrictEqual",stackStartFn:a});throw l.actual=t,l.expected=e,l.operator=a.name,l}S({actual:t,expected:e,message:r,operator:a.name,stackStartFn:a})}}function R(t,e,n,r){if("function"!=typeof e){if(y(e))return e.test(t);if(2===arguments.length)throw new c("expected",["Function","RegExp"],e);if("object"!==a(t)||null===t){var i=new f({actual:t,expected:e,message:n,operator:"deepStrictEqual",stackStartFn:r});throw i.operator=r.name,i}var s=Object.keys(e);if(e instanceof Error)s.push("name","message");else if(0===s.length)throw new d("error",e,"may not be an empty object");return void 0===o&&w(),s.forEach((function(i){"string"==typeof t[i]&&y(e[i])&&e[i].test(t[i])||M(t,e,i,n,s,r)})),!0}return void 0!==e.prototype&&t instanceof e||!Error.isPrototypeOf(e)&&!0===e.call({},t)}function L(t){if("function"!=typeof t)throw new c("fn","Function",t);try{t()}catch(t){return t}return T}function O(t){return v(t)||null!==t&&"object"===a(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function P(t){return Promise.resolve().then((function(){var e;if("function"==typeof t){if(!O(e=t()))throw new p("instance of Promise","promiseFn",e)}else{if(!O(t))throw new c("promiseFn",["Function","Promise"],t);e=t}return Promise.resolve().then((function(){return e})).then((function(){return T})).catch((function(t){return t}))}))}function D(t,e,n,r){if("string"==typeof n){if(4===arguments.length)throw new c("error",["Object","Error","Function","RegExp"],n);if("object"===a(e)&&null!==e){if(e.message===n)throw new l("error/message",'The error message "'.concat(e.message,'" is identical to the message.'))}else if(e===n)throw new l("error/message",'The error "'.concat(e,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==a(n)&&"function"!=typeof n)throw new c("error",["Object","Error","Function","RegExp"],n);if(e===T){var i="";n&&n.name&&(i+=" (".concat(n.name,")")),i+=r?": ".concat(r):".";var o="rejects"===t.name?"rejection":"exception";S({actual:void 0,expected:n,operator:t.name,message:"Missing expected ".concat(o).concat(i),stackStartFn:t})}if(n&&!R(e,n,r,t))throw e}function _(t,e,n,r){if(e!==T){if("string"==typeof n&&(r=n,n=void 0),!n||R(e,n)){var i=r?": ".concat(r):".",a="doesNotReject"===t.name?"rejection":"exception";S({actual:e,expected:n,operator:t.name,message:"Got unwanted ".concat(a).concat(i,"\n")+'Actual message: "'.concat(e&&e.message,'"'),stackStartFn:t})}throw e}}function N(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];E.apply(void 0,[N,e.length].concat(e))}x.throws=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];D.apply(void 0,[t,L(e)].concat(r))},x.rejects=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return P(e).then((function(e){return D.apply(void 0,[t,e].concat(r))}))},x.doesNotThrow=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];_.apply(void 0,[t,L(e)].concat(r))},x.doesNotReject=function t(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return P(e).then((function(e){return _.apply(void 0,[t,e].concat(r))}))},x.ifError=function t(e){if(null!=e){var n="ifError got unwanted exception: ";"object"===a(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?n+=e.constructor.name:n+=e.message:n+=g(e);var r=new f({actual:e,expected:null,operator:"ifError",message:n,stackStartFn:t}),i=e.stack;if("string"==typeof i){var o=i.split("\n");o.shift();for(var s=r.stack.split("\n"),u=0;u<o.length;u++){var l=s.indexOf(o[u]);if(-1!==l){s=s.slice(0,l);break}}r.stack="".concat(s.join("\n"),"\n").concat(o.join("\n"))}throw r}},x.strict=A(N,x,{equal:x.strictEqual,deepEqual:x.deepStrictEqual,notEqual:x.notStrictEqual,notDeepEqual:x.notDeepStrictEqual}),x.strict.strict=x.strict},5961:function(t,e,n){"use strict";var r=n(4155);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?s(t):e}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t){var e="function"==typeof Map?new Map:void 0;return(u=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,r)}function r(){return c(t,arguments,p(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,t)})(t)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function c(t,e,n){return(c=l()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&d(i,n.prototype),i}).apply(null,arguments)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var f=n(9539).inspect,g=n(2136).codes.ERR_INVALID_ARG_TYPE;function m(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}var v="",y="",A="",b="",w={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function C(t){var e=Object.keys(t),n=Object.create(Object.getPrototypeOf(t));return e.forEach((function(e){n[e]=t[e]})),Object.defineProperty(n,"message",{value:t.message}),n}function x(t){return f(t,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function T(t,e,n){var i="",a="",o=0,s="",u=!1,l=x(t),c=l.split("\n"),d=x(e).split("\n"),p=0,f="";if("strictEqual"===n&&"object"===h(t)&&"object"===h(e)&&null!==t&&null!==e&&(n="strictEqualObject"),1===c.length&&1===d.length&&c[0]!==d[0]){var g=c[0].length+d[0].length;if(g<=10){if(!("object"===h(t)&&null!==t||"object"===h(e)&&null!==e||0===t&&0===e))return"".concat(w[n],"\n\n")+"".concat(c[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==n){if(g<(r.stderr&&r.stderr.isTTY?r.stderr.columns:80)){for(;c[0][p]===d[0][p];)p++;p>2&&(f="\n  ".concat(function(t,e){if(e=Math.floor(e),0==t.length||0==e)return"";var n=t.length*e;for(e=Math.floor(Math.log(e)/Math.log(2));e;)t+=t,e--;return t+t.substring(0,n-t.length)}(" ",p),"^"),p=0)}}}for(var C=c[c.length-1],T=d[d.length-1];C===T&&(p++<2?s="\n  ".concat(C).concat(s):i=C,c.pop(),d.pop(),0!==c.length&&0!==d.length);)C=c[c.length-1],T=d[d.length-1];var S=Math.max(c.length,d.length);if(0===S){var E=l.split("\n");if(E.length>30)for(E[26]="".concat(v,"...").concat(b);E.length>27;)E.pop();return"".concat(w.notIdentical,"\n\n").concat(E.join("\n"),"\n")}p>3&&(s="\n".concat(v,"...").concat(b).concat(s),u=!0),""!==i&&(s="\n  ".concat(i).concat(s),i="");var k=0,I=w[n]+"\n".concat(y,"+ actual").concat(b," ").concat(A,"- expected").concat(b),M=" ".concat(v,"...").concat(b," Lines skipped");for(p=0;p<S;p++){var R=p-o;if(c.length<p+1)R>1&&p>2&&(R>4?(a+="\n".concat(v,"...").concat(b),u=!0):R>3&&(a+="\n  ".concat(d[p-2]),k++),a+="\n  ".concat(d[p-1]),k++),o=p,i+="\n".concat(A,"-").concat(b," ").concat(d[p]),k++;else if(d.length<p+1)R>1&&p>2&&(R>4?(a+="\n".concat(v,"...").concat(b),u=!0):R>3&&(a+="\n  ".concat(c[p-2]),k++),a+="\n  ".concat(c[p-1]),k++),o=p,a+="\n".concat(y,"+").concat(b," ").concat(c[p]),k++;else{var L=d[p],O=c[p],P=O!==L&&(!m(O,",")||O.slice(0,-1)!==L);P&&m(L,",")&&L.slice(0,-1)===O&&(P=!1,O+=","),P?(R>1&&p>2&&(R>4?(a+="\n".concat(v,"...").concat(b),u=!0):R>3&&(a+="\n  ".concat(c[p-2]),k++),a+="\n  ".concat(c[p-1]),k++),o=p,a+="\n".concat(y,"+").concat(b," ").concat(O),i+="\n".concat(A,"-").concat(b," ").concat(L),k+=2):(a+=i,i="",1!==R&&0!==p||(a+="\n  ".concat(O),k++))}if(k>20&&p<S-2)return"".concat(I).concat(M,"\n").concat(a,"\n").concat(v,"...").concat(b).concat(i,"\n")+"".concat(v,"...").concat(b)}return"".concat(I).concat(u?M:"","\n").concat(a).concat(i).concat(s).concat(f)}var S=function(t){function e(t){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),"object"!==h(t)||null===t)throw new g("options","Object",t);var i=t.message,a=t.operator,u=t.stackStartFn,l=t.actual,c=t.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=i)n=o(this,p(e).call(this,String(i)));else if(r.stderr&&r.stderr.isTTY&&(r.stderr&&r.stderr.getColorDepth&&1!==r.stderr.getColorDepth()?(v="[34m",y="[32m",b="[39m",A="[31m"):(v="",y="",b="",A="")),"object"===h(l)&&null!==l&&"object"===h(c)&&null!==c&&"stack"in l&&l instanceof Error&&"stack"in c&&c instanceof Error&&(l=C(l),c=C(c)),"deepStrictEqual"===a||"strictEqual"===a)n=o(this,p(e).call(this,T(l,c,a)));else if("notDeepStrictEqual"===a||"notStrictEqual"===a){var f=w[a],m=x(l).split("\n");if("notStrictEqual"===a&&"object"===h(l)&&null!==l&&(f=w.notStrictEqualObject),m.length>30)for(m[26]="".concat(v,"...").concat(b);m.length>27;)m.pop();n=1===m.length?o(this,p(e).call(this,"".concat(f," ").concat(m[0]))):o(this,p(e).call(this,"".concat(f,"\n\n").concat(m.join("\n"),"\n")))}else{var S=x(l),E="",k=w[a];"notDeepEqual"===a||"notEqual"===a?(S="".concat(w[a],"\n\n").concat(S)).length>1024&&(S="".concat(S.slice(0,1021),"...")):(E="".concat(x(c)),S.length>512&&(S="".concat(S.slice(0,509),"...")),E.length>512&&(E="".concat(E.slice(0,509),"...")),"deepEqual"===a||"equal"===a?S="".concat(k,"\n\n").concat(S,"\n\nshould equal\n\n"):E=" ".concat(a," ").concat(E)),n=o(this,p(e).call(this,"".concat(S).concat(E)))}return Error.stackTraceLimit=d,n.generatedMessage=!i,Object.defineProperty(s(n),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),n.code="ERR_ASSERTION",n.actual=l,n.expected=c,n.operator=a,Error.captureStackTrace&&Error.captureStackTrace(s(n),u),n.stack,n.name="AssertionError",o(n)}var n,u,l;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(u=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:f.custom,value:function(t,e){return f(this,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){i(t,e,n[e])}))}return t}({},e,{customInspect:!1,depth:0}))}}])&&a(n.prototype,u),l&&a(n,l),e}(u(Error));t.exports=S},2136:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var s,u,l={};function c(t,e,n){n||(n=Error);var r=function(n){function r(n,o,s){var u;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r),(u=i(this,a(r).call(this,function(t,n,r){return"string"==typeof e?e:e(t,n,r)}(n,o,s)))).code=t,u}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(r,n),r}(n);l[t]=r}function d(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(t){return String(t)})),n>2?"one of ".concat(e," ").concat(t.slice(0,n-1).join(", "),", or ")+t[n-1]:2===n?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}return"of ".concat(e," ").concat(String(t))}c("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),c("ERR_INVALID_ARG_TYPE",(function(t,e,i){var a,o,u,l;if(void 0===s&&(s=n(9282)),s("string"==typeof t,"'name' must be a string"),"string"==typeof e&&(o="not ",e.substr(!u||u<0?0:+u,o.length)===o)?(a="must not be",e=e.replace(/^not /,"")):a="must be",function(t,e,n){return(void 0===n||n>t.length)&&(n=t.length),t.substring(n-e.length,n)===e}(t," argument"))l="The ".concat(t," ").concat(a," ").concat(d(e,"type"));else{var c=function(t,e,n){return"number"!=typeof n&&(n=0),!(n+e.length>t.length)&&-1!==t.indexOf(e,n)}(t,".")?"property":"argument";l='The "'.concat(t,'" ').concat(c," ").concat(a," ").concat(d(e,"type"))}return l+=". Received type ".concat(r(i))}),TypeError),c("ERR_INVALID_ARG_VALUE",(function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===u&&(u=n(9539));var i=u.inspect(e);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(t,"' ").concat(r,". Received ").concat(i)}),TypeError,RangeError),c("ERR_INVALID_RETURN_VALUE",(function(t,e,n){var i;return i=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(r(n)),"Expected ".concat(t,' to be returned from the "').concat(e,'"')+" function but got ".concat(i,".")}),TypeError),c("ERR_MISSING_ARGS",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];void 0===s&&(s=n(9282)),s(e.length>0,"At least one arg needs to be specified");var i="The ",a=e.length;switch(e=e.map((function(t){return'"'.concat(t,'"')})),a){case 1:i+="".concat(e[0]," argument");break;case 2:i+="".concat(e[0]," and ").concat(e[1]," arguments");break;default:i+=e.slice(0,a-1).join(", "),i+=", and ".concat(e[a-1]," arguments")}return"".concat(i," must be specified")}),TypeError),t.exports.codes=l},9158:function(t,e,n){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!e||n.length!==e);r=!0);}catch(t){i=!0,a=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=void 0!==/a/g.flags,o=function(t){var e=[];return t.forEach((function(t){return e.push(t)})),e},s=function(t){var e=[];return t.forEach((function(t,n){return e.push([n,t])})),e},u=Object.is?Object.is:n(609),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},c=Number.isNaN?Number.isNaN:n(360);function d(t){return t.call.bind(t)}var p=d(Object.prototype.hasOwnProperty),h=d(Object.prototype.propertyIsEnumerable),f=d(Object.prototype.toString),g=n(9539).types,m=g.isAnyArrayBuffer,v=g.isArrayBufferView,y=g.isDate,A=g.isMap,b=g.isRegExp,w=g.isSet,C=g.isNativeError,x=g.isBoxedPrimitive,T=g.isNumberObject,S=g.isStringObject,E=g.isBooleanObject,k=g.isBigIntObject,I=g.isSymbolObject,M=g.isFloat32Array,R=g.isFloat64Array;function L(t){if(0===t.length||t.length>10)return!0;for(var e=0;e<t.length;e++){var n=t.charCodeAt(e);if(n<48||n>57)return!0}return 10===t.length&&t>=Math.pow(2,32)}function O(t){return Object.keys(t).filter(L).concat(l(t).filter(Object.prototype.propertyIsEnumerable.bind(t)))}function P(t,e){if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0}function D(t,e,n,r){if(t===e)return 0!==t||(!n||u(t,e));if(n){if("object"!==i(t))return"number"==typeof t&&c(t)&&c(e);if("object"!==i(e)||null===t||null===e)return!1;if(Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1}else{if(null===t||"object"!==i(t))return(null===e||"object"!==i(e))&&t==e;if(null===e||"object"!==i(e))return!1}var o,s,l,d,p=f(t);if(p!==f(e))return!1;if(Array.isArray(t)){if(t.length!==e.length)return!1;var h=O(t),g=O(e);return h.length===g.length&&N(t,e,n,r,1,h)}if("[object Object]"===p&&(!A(t)&&A(e)||!w(t)&&w(e)))return!1;if(y(t)){if(!y(e)||Date.prototype.getTime.call(t)!==Date.prototype.getTime.call(e))return!1}else if(b(t)){if(!b(e)||(l=t,d=e,!(a?l.source===d.source&&l.flags===d.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(d))))return!1}else if(C(t)||t instanceof Error){if(t.message!==e.message||t.name!==e.name)return!1}else{if(v(t)){if(n||!M(t)&&!R(t)){if(!function(t,e){return t.byteLength===e.byteLength&&0===P(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}(t,e))return!1}else if(!function(t,e){if(t.byteLength!==e.byteLength)return!1;for(var n=0;n<t.byteLength;n++)if(t[n]!==e[n])return!1;return!0}(t,e))return!1;var L=O(t),D=O(e);return L.length===D.length&&N(t,e,n,r,0,L)}if(w(t))return!(!w(e)||t.size!==e.size)&&N(t,e,n,r,2);if(A(t))return!(!A(e)||t.size!==e.size)&&N(t,e,n,r,3);if(m(t)){if(s=e,(o=t).byteLength!==s.byteLength||0!==P(new Uint8Array(o),new Uint8Array(s)))return!1}else if(x(t)&&!function(t,e){return T(t)?T(e)&&u(Number.prototype.valueOf.call(t),Number.prototype.valueOf.call(e)):S(t)?S(e)&&String.prototype.valueOf.call(t)===String.prototype.valueOf.call(e):E(t)?E(e)&&Boolean.prototype.valueOf.call(t)===Boolean.prototype.valueOf.call(e):k(t)?k(e)&&BigInt.prototype.valueOf.call(t)===BigInt.prototype.valueOf.call(e):I(e)&&Symbol.prototype.valueOf.call(t)===Symbol.prototype.valueOf.call(e)}(t,e))return!1}return N(t,e,n,r,0)}function _(t,e){return e.filter((function(e){return h(t,e)}))}function N(t,e,n,r,i,a){if(5===arguments.length){a=Object.keys(t);var o=Object.keys(e);if(a.length!==o.length)return!1}for(var s=0;s<a.length;s++)if(!p(e,a[s]))return!1;if(n&&5===arguments.length){var u=l(t);if(0!==u.length){var c=0;for(s=0;s<u.length;s++){var d=u[s];if(h(t,d)){if(!h(e,d))return!1;a.push(d),c++}else if(h(e,d))return!1}var f=l(e);if(u.length!==f.length&&_(e,f).length!==c)return!1}else{var g=l(e);if(0!==g.length&&0!==_(e,g).length)return!1}}if(0===a.length&&(0===i||1===i&&0===t.length||0===t.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var m=r.val1.get(t);if(void 0!==m){var v=r.val2.get(e);if(void 0!==v)return m===v}r.position++}r.val1.set(t,r.position),r.val2.set(e,r.position);var y=V(t,e,n,a,r,i);return r.val1.delete(t),r.val2.delete(e),y}function U(t,e,n,r){for(var i=o(t),a=0;a<i.length;a++){var s=i[a];if(D(e,s,n,r))return t.delete(s),!0}return!1}function B(t){switch(i(t)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":t=+t;case"number":if(c(t))return!1}return!0}function j(t,e,n){var r=B(n);return null!=r?r:e.has(r)&&!t.has(r)}function q(t,e,n,r,i){var a=B(n);if(null!=a)return a;var o=e.get(a);return!(void 0===o&&!e.has(a)||!D(r,o,!1,i))&&(!t.has(a)&&D(r,o,!1,i))}function F(t,e,n,r,i,a){for(var s=o(t),u=0;u<s.length;u++){var l=s[u];if(D(n,l,i,a)&&D(r,e.get(l),i,a))return t.delete(l),!0}return!1}function V(t,e,n,a,u,l){var c=0;if(2===l){if(!function(t,e,n,r){for(var a=null,s=o(t),u=0;u<s.length;u++){var l=s[u];if("object"===i(l)&&null!==l)null===a&&(a=new Set),a.add(l);else if(!e.has(l)){if(n)return!1;if(!j(t,e,l))return!1;null===a&&(a=new Set),a.add(l)}}if(null!==a){for(var c=o(e),d=0;d<c.length;d++){var p=c[d];if("object"===i(p)&&null!==p){if(!U(a,p,n,r))return!1}else if(!n&&!t.has(p)&&!U(a,p,n,r))return!1}return 0===a.size}return!0}(t,e,n,u))return!1}else if(3===l){if(!function(t,e,n,a){for(var o=null,u=s(t),l=0;l<u.length;l++){var c=r(u[l],2),d=c[0],p=c[1];if("object"===i(d)&&null!==d)null===o&&(o=new Set),o.add(d);else{var h=e.get(d);if(void 0===h&&!e.has(d)||!D(p,h,n,a)){if(n)return!1;if(!q(t,e,d,p,a))return!1;null===o&&(o=new Set),o.add(d)}}}if(null!==o){for(var f=s(e),g=0;g<f.length;g++){var m=r(f[g],2),v=(d=m[0],m[1]);if("object"===i(d)&&null!==d){if(!F(o,t,d,v,n,a))return!1}else if(!(n||t.has(d)&&D(t.get(d),v,!1,a)||F(o,t,d,v,!1,a)))return!1}return 0===o.size}return!0}(t,e,n,u))return!1}else if(1===l)for(;c<t.length;c++){if(!p(t,c)){if(p(e,c))return!1;for(var d=Object.keys(t);c<d.length;c++){var h=d[c];if(!p(e,h)||!D(t[h],e[h],n,u))return!1}return d.length===Object.keys(e).length}if(!p(e,c)||!D(t[c],e[c],n,u))return!1}for(c=0;c<a.length;c++){var f=a[c];if(!D(t[f],e[f],n,u))return!1}return!0}t.exports={isDeepEqual:function(t,e){return D(t,e,false)},isDeepStrictEqual:function(t,e){return D(t,e,true)}}},6314:function(t,e,n){"use strict";var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"];t.exports=function(){for(var t=[],e=0;e<r.length;e++)"function"==typeof n.g[r[e]]&&(t[t.length]=r[e]);return t}},142:function(e,n,r){"use strict";var i=r(3480),a=r.n(i),o=r(3379),s=r.n(o),u=r(3342),l={insert:"head",singleton:!1},c=(s()(u.Z,l),u.Z.locals,r(5108));function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){h(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function m(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){m(a,r,i,o,s,"next",t)}function s(t){m(a,r,i,o,s,"throw",t)}o(void 0)}))}}function y(){if(c.log("🔧 Initializing Files integration..."),!window.OCA||!window.OCA.Files||!window.OCA.Files.fileActions)return c.log("⚠️ Files app not available, retrying in 2 seconds..."),void setTimeout(y,2e3);c.log("✅ Files app detected, registering actions..."),OCA.Files.fileActions.registerAction({name:"generateHlsCacheMov",displayName:t("hyper_viewer","Generate HLS Cache"),mime:"video/quicktime",permissions:OC.PERMISSION_UPDATE,iconClass:"icon-category-multimedia",actionHandler:function(t,e){c.log("🚀 Generate HLS Cache action triggered for MOV:",t),c.log("📁 Context:",e),A([{filename:t,context:e}])}}),OCA.Files.fileActions.registerAction({name:"playVideoSmart",displayName:t("hyper_viewer","Play"),mime:"video/quicktime",permissions:OC.PERMISSION_READ,iconClass:"icon-play",order:-1,actionHandler:function(t,e){return v(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.log("🎬 Smart play triggered for MOV:",t),i=(null==e?void 0:e.dir)||(null==e||null===(r=e.fileList)||void 0===r?void 0:r.getCurrentDirectory())||"/",n.next=4,_(t,i,e);case 4:case"end":return n.stop()}}),n)})))()}}),OCA.Files.fileActions.setDefault("video/quicktime","playVideoSmart"),OCA.Files.fileActions.registerAction({name:"generateHlsCacheMp4",displayName:t("hyper_viewer","Generate HLS Cache"),mime:"video/mp4",permissions:OC.PERMISSION_UPDATE,iconClass:"icon-category-multimedia",actionHandler:function(t,e){c.log("🚀 Generate HLS Cache action triggered for MP4:",t),c.log("📁 Context:",e),A([{filename:t,context:e}])}}),OCA.Files.fileActions.registerAction({name:"playVideoSmartMp4",displayName:t("hyper_viewer","Play"),mime:"video/mp4",permissions:OC.PERMISSION_READ,iconClass:"icon-play",order:-1,actionHandler:function(t,e){return v(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.log("🎬 Smart play triggered for MP4:",t),i=(null==e?void 0:e.dir)||(null==e||null===(r=e.fileList)||void 0===r?void 0:r.getCurrentDirectory())||"/",n.next=4,_(t,i,e);case 4:case"end":return n.stop()}}),n)})))()}}),OCA.Files.fileActions.setDefault("video/mp4","playVideoSmartMp4"),OCA.Files.fileActions.registerAction({name:"playProgressiveMov",displayName:t("hyper_viewer","Play Progressive (480p)"),mime:"video/quicktime",permissions:OC.PERMISSION_READ,iconClass:"icon-play",priority:100,actionHandler:function(t,e){return v(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.log("🎬 Play Progressive (480p) triggered for MOV:",t),i=(null==e?void 0:e.dir)||(null==e||null===(r=e.fileList)||void 0===r?void 0:r.getCurrentDirectory())||"/",n.next=4,B(t,i,e);case 4:case"end":return n.stop()}}),n)})))()}}),OCA.Files.fileActions.registerAction({name:"playProgressiveMp4",displayName:t("hyper_viewer","Play Progressive (480p)"),mime:"video/mp4",permissions:OC.PERMISSION_READ,iconClass:"icon-play",priority:100,actionHandler:function(t,e){return v(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c.log("🎬 Play Progressive (480p) triggered for MP4:",t),i=(null==e?void 0:e.dir)||(null==e||null===(r=e.fileList)||void 0===r?void 0:r.getCurrentDirectory())||"/",n.next=4,B(t,i,e);case 4:case"end":return n.stop()}}),n)})))()}}),OCA.Files.fileActions.registerAction({name:"generateHlsCacheDirectory",displayName:t("hyper_viewer","Generate HLS Cache (Directory)"),mime:"httpd/unix-directory",permissions:OC.PERMISSION_UPDATE,iconClass:"icon-category-multimedia",actionHandler:function(t,e){c.log("🚀 Generate HLS Cache action triggered for directory:",t),c.log("📁 Context:",e),function(t,e){b.apply(this,arguments)}(t,e)}}),OCA.Files&&OCA.Files.fileActions&&OCA.Files.fileActions.registerAction&&document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){window.FileActions&&window.FileActions.register&&window.FileActions.register("all","Generate HLS Cache (Bulk)",OC.PERMISSION_UPDATE,(function(){return OC.imagePath("core","actions/category-multimedia")}),(function(t){c.log("🚀 Bulk HLS Cache generation triggered"),function(){var t=[];if(window.FileList&&window.FileList.getSelectedFiles){window.FileList.getSelectedFiles().forEach((function(e){"video/quicktime"!==e.mimetype&&"video/mp4"!==e.mimetype||t.push({filename:e.name,context:{dir:window.FileList.getCurrentDirectory(),fileInfoModel:e}})}))}if(0===t.length)return void OC.dialogs.alert("No video files selected. Please select MOV or MP4 files.","Generate HLS Cache");c.log("🎬 Bulk processing files:",t.map((function(t){return t.filename}))),A(t)}()}))}),2e3)})),c.log("✅ Hyper Viewer Files integration registered!"),function(){var t,e,n,r=document.createElement("style");function i(){return a.apply(this,arguments)}function a(){return(a=v(regeneratorRuntime.mark((function t(){var e,n,r,i,a,o,s,u,l,d,p,h,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=document.querySelector("#filestable tbody.files-fileList")){t.next=3;break}return t.abrupt("return");case 3:o=(null===(e=window.OCA)||void 0===e||null===(n=e.Files)||void 0===n||null===(r=n.App)||void 0===r||null===(i=r.fileList)||void 0===i?void 0:i.getCurrentDirectory())||"/",s=a.querySelectorAll('tr[data-file][data-mime="video/quicktime"], tr[data-file][data-mime="video/mp4"]'),u=f(s),t.prev=6,u.s();case 8:if((l=u.n()).done){t.next=27;break}if(d=l.value,p=d.getAttribute("data-file")){t.next=13;break}return t.abrupt("continue",25);case 13:if(!d.querySelector(".hls-badge")){t.next=15;break}return t.abrupt("continue",25);case 15:return t.prev=15,t.next=18,P(p,o);case 18:t.sent&&(h=d.querySelector(".thumbnail-wrapper")||d.querySelector("td.filename .thumbnail"))&&(h.style.position="relative",(g=document.createElement("div")).className="hls-badge",g.textContent="HLS",g.title="HLS cache available",h.appendChild(g),c.log("✅ Added HLS badge to: ".concat(p))),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(15),c.error("Failed to check HLS cache for ".concat(p,":"),t.t0);case 25:t.next=8;break;case 27:t.next=32;break;case 29:t.prev=29,t.t1=t.catch(6),u.e(t.t1);case 32:return t.prev=32,u.f(),t.finish(32);case 35:case"end":return t.stop()}}),t,null,[[6,29,32,35],[15,22]])})))).apply(this,arguments)}r.textContent="\n\t\t.hls-badge {\n\t\t\tposition: absolute;\n\t\t\ttop: 8px;\n\t\t\tright: 8px;\n\t\t\tbackground: rgba(60, 60, 60, 0.9);\n\t\t\tcolor: #FF9800;\n\t\t\tpadding: 3px 8px;\n\t\t\tborder-radius: 4px;\n\t\t\tfont-size: 10px;\n\t\t\tfont-weight: bold;\n\t\t\tletter-spacing: 0.5px;\n\t\t\tz-index: 100;\n\t\t\tpointer-events: none;\n\t\t\tbox-shadow: 0 2px 4px rgba(0,0,0,0.3);\n\t\t\tbackdrop-filter: blur(4px);\n\t\t}\n\t\t\n\t\t/* Make sure badge is visible on thumbnails */\n\t\t.files-fileList tr[data-file] .thumbnail-wrapper {\n\t\t\tposition: relative;\n\t\t}\n\t",document.head.appendChild(r),setTimeout(i,2e3);var o=new MutationObserver((function(){i()})),s=setInterval((function(){var t=document.querySelector("#filestable tbody.files-fileList");t&&(o.observe(t,{childList:!0,subtree:!0}),clearInterval(s))}),500);if(null!==(t=window.OCA)&&void 0!==t&&null!==(e=t.Files)&&void 0!==e&&null!==(n=e.App)&&void 0!==n&&n.fileList){var u=window.OCA.Files.App.fileList.changeDirectory;window.OCA.Files.App.fileList.changeDirectory=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=u.apply(this,e);return setTimeout(i,1e3),r}}}()}function A(t){c.log("🔧 Opening cache generation dialog for files:",t.map((function(t){return t.filename})));var e=t.map((function(t){return t.filename})).join(", "),n='\n\t\t<div class="hyper-viewer-cache-dialog">\n\t\t\t<h3>Generate HLS Cache</h3>\n\t\t\t<p class="file-list"><strong>Files:</strong> '.concat(e,'</p>\n\t\t\t\n\t\t\t<div class="section">\n\t\t\t\t<label class="section-title">Cache Location</label>\n\t\t\t\t<div class="radio-group">\n\t\t\t\t\t<label class="radio-option">\n\t\t\t\t\t\t<input type="radio" name="cache_location" value="relative" checked>\n\t\t\t\t\t\t<span>Next to video files</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class="radio-option">\n\t\t\t\t\t\t<input type="radio" name="cache_location" value="home">\n\t\t\t\t\t\t<span>Home directory</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class="radio-option">\n\t\t\t\t\t\t<input type="radio" name="cache_location" value="custom">\n\t\t\t\t\t\t<span>Custom path</span>\n\t\t\t\t\t\t<input type="text" id="custom_path" placeholder="/mnt/cache/.cached_hls/" disabled>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="section">\n\t\t\t\t<label class="section-title">Resolution Renditions</label>\n\t\t\t\t<div class="checkbox-group">\n\t\t\t\t\t<label class="checkbox-option">\n\t\t\t\t\t\t<input type="checkbox" name="resolution" value="720p" checked>\n\t\t\t\t\t\t<span>720p - HD</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class="checkbox-option">\n\t\t\t\t\t\t<input type="checkbox" name="resolution" value="480p" checked>\n\t\t\t\t\t\t<span>480p - SD</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class="checkbox-option">\n\t\t\t\t\t\t<input type="checkbox" name="resolution" value="360p">\n\t\t\t\t\t\t<span>360p - Low</span>\n\t\t\t\t\t</label>\n\t\t\t\t\t<label class="checkbox-option">\n\t\t\t\t\t\t<input type="checkbox" name="resolution" value="240p" checked>\n\t\t\t\t\t\t<span>240p - Mobile</span>\n\t\t\t\t\t</label>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t\n\t\t\t<div class="section">\n\t\t\t\t<label class="checkbox-option">\n\t\t\t\t\t<input type="checkbox" id="overwrite_existing" checked>\n\t\t\t\t\t<span>Overwrite existing cache</span>\n\t\t\t\t</label>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<style>\n\t\t.hyper-viewer-cache-dialog {\n\t\t\tpadding: 20px;\n\t\t\tmax-width: 450px;\n\t\t\tfont-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n\t\t}\n\t\t.hyper-viewer-cache-dialog h3 {\n\t\t\tmargin: 0 0 15px 0;\n\t\t\tcolor: #333;\n\t\t\tfont-size: 18px;\n\t\t}\n\t\t.file-list {\n\t\t\tmargin: 0 0 20px 0;\n\t\t\tpadding: 10px;\n\t\t\tbackground: #f8f9fa;\n\t\t\tborder-radius: 6px;\n\t\t\tfont-size: 14px;\n\t\t\tcolor: #666;\n\t\t}\n\t\t.section {\n\t\t\tmargin-bottom: 20px;\n\t\t}\n\t\t.section-title {\n\t\t\tdisplay: block;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: #333;\n\t\t\tmargin-bottom: 10px;\n\t\t\tfont-size: 14px;\n\t\t}\n\t\t.radio-group, .checkbox-group {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tgap: 8px;\n\t\t}\n\t\t.radio-option, .checkbox-option {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tcursor: pointer;\n\t\t\tpadding: 8px;\n\t\t\tborder-radius: 4px;\n\t\t\ttransition: background-color 0.2s;\n\t\t}\n\t\t.radio-option:hover, .checkbox-option:hover {\n\t\t\tbackground-color: #f5f5f5;\n\t\t}\n\t\t.radio-option input, .checkbox-option input {\n\t\t\tmargin: 0 10px 0 0;\n\t\t}\n\t\t.radio-option span, .checkbox-option span {\n\t\t\tfont-size: 14px;\n\t\t\tcolor: #333;\n\t\t}\n\t\t#custom_path {\n\t\t\tmargin-left: 24px;\n\t\t\tmargin-top: 5px;\n\t\t\twidth: calc(100% - 24px);\n\t\t\tpadding: 6px 8px;\n\t\t\tborder: 1px solid #ddd;\n\t\t\tborder-radius: 4px;\n\t\t\tfont-size: 13px;\n\t\t}\n\t\t#custom_path:disabled {\n\t\t\tbackground-color: #f5f5f5;\n\t\t\tcolor: #999;\n\t\t}\n\t\t</style>\n\t');OC.dialogs.confirmHtml(n,"Generate HLS Cache",(function(e){e&&k(t)}),!0),setTimeout((function(){var t=document.querySelector('input[name="cache_location"][value="custom"]'),e=document.getElementById("custom_path");t&&e&&document.querySelectorAll('input[name="cache_location"]').forEach((function(t){t.addEventListener("change",(function(){e.disabled="custom"!==this.value,"custom"===this.value&&e.focus()}))}))}),100)}function b(){return(b=v(regeneratorRuntime.mark((function t(e,n){var r,i,a,o,s,u,l,d,p,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.log("🔧 Opening directory cache generation dialog for:",e),i=(null==n?void 0:n.dir)||(null==n||null===(r=n.fileList)||void 0===r?void 0:r.getCurrentDirectory())||"/",a="/"===i?"/".concat(e):"".concat(i,"/").concat(e),c.log("🔍 Discovering video files in directory:",a),t.next=6,w(a);case 6:o=t.sent,s=o.map((function(t){return t.filename})).join(", "),u=o.length,(l=document.createElement("div")).className="hyper-viewer-directory-modal",l.innerHTML='\n\t\t<div class="hyper-viewer-overlay"></div>\n\t\t<div class="hyper-viewer-directory-container">\n\t\t\t<div class="hyper-viewer-directory-header">\n\t\t\t\t<h3 class="hyper-viewer-directory-title">Generate HLS Cache (Directory)</h3>\n\t\t\t\t<button class="hyper-viewer-close" aria-label="Close dialog">\n\t\t\t\t\t<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n\t\t\t\t\t\t<line x1="18" y1="6" x2="6" y2="18"></line>\n\t\t\t\t\t\t<line x1="6" y1="6" x2="18" y2="18"></line>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="hyper-viewer-directory-content">\n\t\t\t\t<div class="directory-info-card">\n\t\t\t\t\t<div class="info-item">\n\t\t\t\t\t\t<strong>Directory:</strong> '.concat(a,'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="info-item ').concat(0===u?"no-videos":"",'">\n\t\t\t\t\t\t<strong>Video files found:</strong> ').concat(u,"\n\t\t\t\t\t\t").concat(u>0?'<div class="file-list">'.concat(s,"</div>"):'<div class="no-videos-text">No videos currently, but auto-generation can monitor for new files</div>','\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="form-section">\n\t\t\t\t\t<label class="section-title">Cache Location</label>\n\t\t\t\t\t<div class="option-group">\n\t\t\t\t\t\t<label class="option-item">\n\t\t\t\t\t\t\t<input type="radio" name="cache_location" value="relative" checked>\n\t\t\t\t\t\t\t<div class="option-content">\n\t\t\t\t\t\t\t\t<span class="option-title">Next to each video file</span>\n\t\t\t\t\t\t\t\t<span class="option-desc">.cached_hls/ folder alongside videos</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="option-item">\n\t\t\t\t\t\t\t<input type="radio" name="cache_location" value="home">\n\t\t\t\t\t\t\t<div class="option-content">\n\t\t\t\t\t\t\t\t<span class="option-title">User home directory</span>\n\t\t\t\t\t\t\t\t<span class="option-desc">~/.cached_hls/ centralized location</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="option-item">\n\t\t\t\t\t\t\t<input type="radio" name="cache_location" value="custom">\n\t\t\t\t\t\t\t<div class="option-content">\n\t\t\t\t\t\t\t\t<span class="option-title">Custom location</span>\n\t\t\t\t\t\t\t\t<input type="text" id="custom_path" placeholder="/path/to/cache" disabled class="custom-input">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="form-section">\n\t\t\t\t\t<label class="section-title">Resolution Renditions</label>\n\t\t\t\t\t<div class="resolution-grid">\n\t\t\t\t\t\t<label class="resolution-item">\n\t\t\t\t\t\t\t<input type="checkbox" name="resolution" value="720p" checked>\n\t\t\t\t\t\t\t<div class="resolution-content">\n\t\t\t\t\t\t\t\t<span class="resolution-name">720p</span>\n\t\t\t\t\t\t\t\t<span class="resolution-desc">HD Quality</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="resolution-item">\n\t\t\t\t\t\t\t<input type="checkbox" name="resolution" value="480p" checked>\n\t\t\t\t\t\t\t<div class="resolution-content">\n\t\t\t\t\t\t\t\t<span class="resolution-name">480p</span>\n\t\t\t\t\t\t\t\t<span class="resolution-desc">SD Quality</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="resolution-item">\n\t\t\t\t\t\t\t<input type="checkbox" name="resolution" value="360p">\n\t\t\t\t\t\t\t<div class="resolution-content">\n\t\t\t\t\t\t\t\t<span class="resolution-name">360p</span>\n\t\t\t\t\t\t\t\t<span class="resolution-desc">Low Quality</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="resolution-item">\n\t\t\t\t\t\t\t<input type="checkbox" name="resolution" value="240p" checked>\n\t\t\t\t\t\t\t<div class="resolution-content">\n\t\t\t\t\t\t\t\t<span class="resolution-name">240p</span>\n\t\t\t\t\t\t\t\t<span class="resolution-desc">Mobile</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="form-section">\n\t\t\t\t\t<label class="section-title">Options</label>\n\t\t\t\t\t<div class="option-group">\n\t\t\t\t\t\t<label class="option-item">\n\t\t\t\t\t\t\t<input type="checkbox" id="overwrite_existing">\n\t\t\t\t\t\t\t<div class="option-content">\n\t\t\t\t\t\t\t\t<span class="option-title">Overwrite existing cache</span>\n\t\t\t\t\t\t\t\t<span class="option-desc">Replace existing HLS files</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<label class="option-item highlight">\n\t\t\t\t\t\t\t<input type="checkbox" id="enable_auto_generation">\n\t\t\t\t\t\t\t<div class="option-content">\n\t\t\t\t\t\t\t\t<span class="option-title">Enable automatic generation</span>\n\t\t\t\t\t\t\t\t<span class="option-desc">Monitor directory for new videos and auto-generate HLS cache</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</label>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div class="dialog-actions">\n\t\t\t\t\t<button class="btn-cancel">Cancel</button>\n\t\t\t\t\t<button class="btn-confirm">Generate HLS Cache</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<style>\n\t\t\t.hyper-viewer-directory-modal {\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tz-index: 10001;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpadding: 20px;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\topacity: 0;\n\t\t\t\tvisibility: hidden;\n\t\t\t\ttransition: opacity 0.3s ease, visibility 0.3s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-directory-modal.show {\n\t\t\t\topacity: 1;\n\t\t\t\tvisibility: visible;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-overlay {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tbackground: rgba(0, 0, 0, 0.7);\n\t\t\t\tbackdrop-filter: blur(4px);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-directory-container {\n\t\t\t\tposition: relative;\n\t\t\t\tbackground: #1a1a1a;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tbox-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n\t\t\t\tmax-width: 600px;\n\t\t\t\twidth: 100%;\n\t\t\t\tmax-height: 90vh;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttransform: scale(0.95);\n\t\t\t\ttransition: transform 0.3s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-directory-modal.show .hyper-viewer-directory-container {\n\t\t\t\ttransform: scale(1);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-directory-header {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 16px 20px;\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder-bottom: 1px solid #3a3a3a;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-directory-title {\n\t\t\t\tmargin: 0;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-directory-content {\n\t\t\t\tpadding: 20px;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\toverflow-y: auto;\n\t\t\t\tflex: 1;\n\t\t\t}\n\t\t\t\n\t\t\t.directory-info-card {\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tpadding: 16px;\n\t\t\t\tmargin-bottom: 24px;\n\t\t\t\tborder: 1px solid #3a3a3a;\n\t\t\t}\n\t\t\t\n\t\t\t.info-item {\n\t\t\t\tmargin-bottom: 12px;\n\t\t\t}\n\t\t\t\n\t\t\t.info-item:last-child {\n\t\t\t\tmargin-bottom: 0;\n\t\t\t}\n\t\t\t\n\t\t\t.file-list {\n\t\t\t\tmargin-top: 8px;\n\t\t\t\tpadding: 8px 12px;\n\t\t\t\tbackground: #1a1a1a;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #cccccc;\n\t\t\t\tmax-height: 80px;\n\t\t\t\toverflow-y: auto;\n\t\t\t}\n\t\t\t\n\t\t\t.no-videos-text {\n\t\t\t\tmargin-top: 8px;\n\t\t\t\tpadding: 8px 12px;\n\t\t\t\tbackground: #2d1b1b;\n\t\t\t\tborder: 1px solid #4a3333;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #ffcc99;\n\t\t\t}\n\t\t\t\n\t\t\t.form-section {\n\t\t\t\tmargin-bottom: 24px;\n\t\t\t}\n\t\t\t\n\t\t\t.section-title {\n\t\t\t\tdisplay: block;\n\t\t\t\tfont-weight: 600;\n\t\t\t\tmargin-bottom: 12px;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 14px;\n\t\t\t}\n\t\t\t\n\t\t\t.option-group {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tgap: 8px;\n\t\t\t}\n\t\t\t\n\t\t\t.option-item {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: flex-start;\n\t\t\t\tgap: 12px;\n\t\t\t\tpadding: 12px;\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder: 1px solid #3a3a3a;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.option-item:hover {\n\t\t\t\tbackground: #333333;\n\t\t\t\tborder-color: #4a4a4a;\n\t\t\t}\n\t\t\t\n\t\t\t.option-item.highlight {\n\t\t\t\tborder-color: #4a9eff;\n\t\t\t\tbackground: rgba(74, 158, 255, 0.1);\n\t\t\t}\n\t\t\t\n\t\t\t.option-content {\n\t\t\t\tflex: 1;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tgap: 4px;\n\t\t\t}\n\t\t\t\n\t\t\t.option-title {\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t\t\n\t\t\t.option-desc {\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #999999;\n\t\t\t}\n\t\t\t\n\t\t\t.custom-input {\n\t\t\t\tmargin-top: 8px;\n\t\t\t\tpadding: 8px 12px;\n\t\t\t\tbackground: #1a1a1a;\n\t\t\t\tborder: 1px solid #3a3a3a;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 13px;\n\t\t\t}\n\t\t\t\n\t\t\t.custom-input:disabled {\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tcolor: #666666;\n\t\t\t}\n\t\t\t\n\t\t\t.custom-input:focus {\n\t\t\t\toutline: none;\n\t\t\t\tborder-color: #4a9eff;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-grid {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n\t\t\t\tgap: 8px;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-item {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 8px;\n\t\t\t\tpadding: 12px;\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder: 1px solid #3a3a3a;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-item:hover {\n\t\t\t\tbackground: #333333;\n\t\t\t\tborder-color: #4a4a4a;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-content {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tgap: 2px;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-name {\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 14px;\n\t\t\t}\n\t\t\t\n\t\t\t.resolution-desc {\n\t\t\t\tfont-size: 12px;\n\t\t\t\tcolor: #999999;\n\t\t\t}\n\t\t\t\n\t\t\t.dialog-actions {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 12px;\n\t\t\t\tjustify-content: flex-end;\n\t\t\t\tmargin-top: 24px;\n\t\t\t\tpadding-top: 20px;\n\t\t\t\tborder-top: 1px solid #3a3a3a;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-cancel, .btn-confirm {\n\t\t\t\tpadding: 10px 20px;\n\t\t\t\tborder: none;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcursor: pointer;\n\t\t\t\ttransition: all 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-cancel {\n\t\t\t\tbackground: #3a3a3a;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-cancel:hover {\n\t\t\t\tbackground: #4a4a4a;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-confirm {\n\t\t\t\tbackground: #4a9eff;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t\t\n\t\t\t.btn-confirm:hover {\n\t\t\t\tbackground: #0066cc;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-close {\n\t\t\t\tbackground: transparent;\n\t\t\t\tborder: none;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tcursor: pointer;\n\t\t\t\tpadding: 8px;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\ttransition: background-color 0.2s ease, color 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-close:hover {\n\t\t\t\tbackground: rgba(255, 255, 255, 0.1);\n\t\t\t\tcolor: #ff6b6b;\n\t\t\t}\n\t\t</style>\n\t'),document.body.appendChild(l),document.body.style.overflow="hidden",requestAnimationFrame((function(){l.classList.add("show")})),d=function(t){"Escape"===t.key&&p()},p=function(){l.classList.remove("show"),document.removeEventListener("keydown",d),setTimeout((function(){document.body.style.overflow="",l.parentNode&&l.parentNode.removeChild(l)}),300)},l.querySelector(".hyper-viewer-close").addEventListener("click",p),l.querySelector(".hyper-viewer-overlay").addEventListener("click",p),l.querySelector(".btn-cancel").addEventListener("click",p),l.querySelector(".btn-confirm").addEventListener("click",(function(){x(o,a),p()})),h=l.querySelector('input[name="cache_location"][value="custom"]'),f=l.querySelector("#custom_path"),h&&f&&l.querySelectorAll('input[name="cache_location"]').forEach((function(t){t.addEventListener("change",(function(){f.disabled="custom"!==this.value,"custom"===this.value&&f.focus()}))})),document.addEventListener("keydown",d);case 25:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function w(t){return C.apply(this,arguments)}function C(){return(C=v(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(OC.generateUrl("/apps/hyper_viewer/cache/discover-videos"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({directory:e})});case 3:return n=t.sent,t.next=6,n.json();case 6:if(!(r=t.sent).success){t.next=11;break}return t.abrupt("return",r.files||[]);case 11:throw new Error(r.error||"Failed to discover video files");case 12:t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(0),c.error("Failed to discover video files:",t.t0),OC.dialogs.alert("Failed to scan directory: ".concat(t.t0.message),"Discovery Error"),t.abrupt("return",[]);case 19:case"end":return t.stop()}}),t,null,[[0,14]])})))).apply(this,arguments)}function x(t,e){return T.apply(this,arguments)}function T(){return(T=v(regeneratorRuntime.mark((function t(e,n){var r,i,a,o,s,u,l,d,p,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.log("Starting directory HLS cache generation for:",n),s=(null===(r=document.querySelector('input[name="cache_location"]:checked'))||void 0===r?void 0:r.value)||"relative",u=(null===(i=document.getElementById("custom_path"))||void 0===i?void 0:i.value)||"",l=(null===(a=document.getElementById("overwrite_existing"))||void 0===a?void 0:a.checked)||!1,d=(null===(o=document.getElementById("enable_auto_generation"))||void 0===o?void 0:o.checked)||!1,p=Array.from(document.querySelectorAll('input[name="resolution"]:checked')).map((function(t){return t.value})),h=p.length>0?p:["720p","480p","240p"],f={cacheLocation:s,customPath:u,overwriteExisting:l,resolutions:h,enableAutoGeneration:d,directoryPath:n},c.log("Directory cache generation options:",f),t.prev=9,!(e.length>0)){t.next=13;break}return t.next=13,k(e);case 13:if(!d){t.next=16;break}return t.next=16,S(n,f);case 16:e.length>0&&d?c.log("✅ Started processing ".concat(e.length," files and enabled auto-generation for ").concat(n)):e.length>0?c.log("✅ Started processing ".concat(e.length," files in ").concat(n)):d&&(c.log("✅ Auto-generation enabled for ".concat(n," - will monitor for new videos")),OC.dialogs.info('Auto-generation has been enabled for "'.concat(n,'".\n\nNew video files added to this directory will automatically have HLS cache generated.'),"Auto-Generation Enabled")),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(9),c.error("Failed to start directory cache generation:",t.t0),OC.dialogs.alert("Failed to start directory processing: ".concat(t.t0.message),"Processing Error");case 23:case"end":return t.stop()}}),t,null,[[9,19]])})))).apply(this,arguments)}function S(t,e){return E.apply(this,arguments)}function E(){return(E=v(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(OC.generateUrl("/apps/hyper_viewer/cache/register-auto-generation"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({directory:e,options:n})});case 3:return r=t.sent,t.next=6,r.json();case 6:if(!(i=t.sent).success){t.next=12;break}c.log("Directory registered for auto-generation:",e),OC.dialogs.info('Directory "'.concat(e,'" has been registered for automatic HLS generation.\n\nNew video files added to this directory will automatically have HLS cache generated.'),"Auto-Generation Enabled"),t.next=13;break;case 12:throw new Error(i.error||"Failed to register directory");case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(0),c.error("Failed to register directory for auto-generation:",t.t0),OC.dialogs.alert("Failed to enable auto-generation: ".concat(t.t0.message),"Auto-Generation Error");case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))).apply(this,arguments)}function k(t){return I.apply(this,arguments)}function I(){return(I=v(regeneratorRuntime.mark((function t(e){var n,r,i,a,o,s,u,l,d,p,h,f,g,m,v,y,A;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.log("Starting HLS cache generation for:",e.map((function(t){return t.filename}))),a=(null===(n=document.querySelector('input[name="cache_location"]:checked'))||void 0===n?void 0:n.value)||"relative",o=(null===(r=document.getElementById("custom_path"))||void 0===r?void 0:r.value)||"",s=(null===(i=document.getElementById("overwrite_existing"))||void 0===i?void 0:i.checked)||!1,u=Array.from(document.querySelectorAll('input[name="resolution"]:checked')).map((function(t){return t.value})),l=u.length>0?u:["720p","480p","240p"],d={cacheLocation:a,customPath:o,overwriteExisting:s,resolutions:l},c.log("Cache generation options:",d),p=e.map((function(t){var e,n,r;return{filename:t.filename,directory:(null===(e=t.context)||void 0===e?void 0:e.dir)||(null===(n=t.context)||void 0===n||null===(r=n.fileList)||void 0===r?void 0:r.getCurrentDirectory())||"/"}})),t.prev=9,1===e.length?(m=e[0],v=(null===(h=m.context)||void 0===h?void 0:h.dir)||(null===(f=m.context)||void 0===f||null===(g=f.fileList)||void 0===g?void 0:g.getCurrentDirectory())||"/",L(m.filename,v)):R(e.length),t.next=13,fetch(OC.generateUrl("/apps/hyper_viewer/cache/generate"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({files:p,cacheLocation:d.cacheLocation,customPath:d.customPath,overwriteExisting:d.overwriteExisting,resolutions:d.resolutions})});case 13:return y=t.sent,t.next=16,y.json();case 16:if(!(A=t.sent).success){t.next=23;break}c.log("HLS cache generation started successfully",A),A.jobId&&c.log("📈 Tracking progress for job: ".concat(A.jobId)),OC.dialogs.info("Cache generation started for ".concat(e.length," file(s).\n\nLocation: ").concat(M(d),"\n\nResolutions: ").concat(d.resolutions.join(", "),"\n\nProcessing will run in the background."),"HLS Cache Generation Started"),t.next=24;break;case 23:throw new Error(A.error||"Unknown error occurred");case 24:t.next=30;break;case 26:t.prev=26,t.t0=t.catch(9),c.error("Failed to start HLS cache generation:",t.t0),OC.dialogs.alert("Failed to start cache generation: ".concat(t.t0.message),"Error");case 30:case"end":return t.stop()}}),t,null,[[9,26]])})))).apply(this,arguments)}function M(t){switch(t.cacheLocation){case"relative":return"Next to each video file (.cached_hls/)";case"home":return"User home directory (~/.cached_hls/)";case"custom":return t.customPath||"Custom location";default:return"Unknown location"}}function R(t){c.log("📊 Starting progress tracking for ".concat(t," files"));var e=document.createElement("div");e.className="hyper-viewer-progress-modal",e.style.cssText="\n\t\tposition: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 10000;\n\t\tbackground: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center;\n\t\tpadding: 20px; box-sizing: border-box;\n\t",e.innerHTML='\n\t\t<div style="background: #1a1a1a; border-radius: 12px; padding: 24px; max-width: 500px; width: 100%; color: white;">\n\t\t\t<h3 style="margin: 0 0 16px 0; color: #fff;">HLS Generation Progress</h3>\n\t\t\t<p style="margin: 0 0 20px 0; color: #ccc;">Processing '.concat(t," file").concat(t>1?"s":"",'...</p>\n\t\t\t<div style="background: #333; border-radius: 8px; height: 8px; overflow: hidden; margin-bottom: 16px;">\n\t\t\t\t<div class="progress-bar" style="background: linear-gradient(90deg, #4a9eff, #0066cc); height: 100%; width: 0%; transition: width 0.3s ease;"></div>\n\t\t\t</div>\n\t\t\t<div class="progress-text" style="font-size: 14px; color: #999; text-align: center;">Starting...</div>\n\t\t\t<button onclick="this.closest(\'.hyper-viewer-progress-modal\').remove()" style="\n\t\t\t\tmargin-top: 20px; padding: 8px 16px; background: #333; border: none; color: white; \n\t\t\t\tborder-radius: 6px; cursor: pointer; float: right;">Close</button>\n\t\t</div>\n\t'),document.body.appendChild(e),setTimeout((function(){e.parentNode&&e.remove()}),3e4)}function L(t,e){c.log("📈 Showing progress modal for: ".concat(t));var n="progressModal_".concat(Date.now()),r=document.createElement("div");r.id=n,r.className="hyper-viewer-progress-modal",r.setAttribute("role","dialog"),r.setAttribute("aria-modal","true"),r.setAttribute("aria-labelledby","progress-title"),r.innerHTML='\n\t\t<div class="hyper-viewer-overlay"></div>\n\t\t<div class="hyper-viewer-progress-container">\n\t\t\t<div class="hyper-viewer-progress-header">\n\t\t\t\t<h3 id="progress-title" class="hyper-viewer-progress-title">Generating HLS Cache</h3>\n\t\t\t\t<button class="hyper-viewer-close" aria-label="Close progress modal">\n\t\t\t\t\t<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n\t\t\t\t\t\t<line x1="18" y1="6" x2="6" y2="18"></line>\n\t\t\t\t\t\t<line x1="6" y1="6" x2="18" y2="18"></line>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="hyper-viewer-progress-content">\n\t\t\t\t<div class="progress-file-info">\n\t\t\t\t\t<strong>File:</strong> '.concat(t,'\n\t\t\t\t</div>\n\t\t\t\t<div class="progress-bar-container">\n\t\t\t\t\t<div class="progress-bar">\n\t\t\t\t\t\t<div class="progress-bar-fill" style="width: 0%"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="progress-percentage">0%</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="progress-details">\n\t\t\t\t\t<div class="progress-status">Starting...</div>\n\t\t\t\t\t<div class="progress-stats">\n\t\t\t\t\t\t<span class="progress-speed">Speed: 0x</span>\n\t\t\t\t\t\t<span class="progress-time">Time: 00:00:00</span>\n\t\t\t\t\t\t<span class="progress-fps">FPS: 0</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="progress-spinner">\n\t\t\t\t\t<div class="spinner"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<style>\n\t\t\t.hyper-viewer-progress-modal {\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tz-index: 10001;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpadding: 20px;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\topacity: 0;\n\t\t\t\tvisibility: hidden;\n\t\t\t\ttransition: opacity 0.3s ease, visibility 0.3s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progress-modal.show {\n\t\t\t\topacity: 1;\n\t\t\t\tvisibility: visible;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progress-container {\n\t\t\t\tposition: relative;\n\t\t\t\tbackground: #1a1a1a;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tbox-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n\t\t\t\tmax-width: 500px;\n\t\t\t\twidth: 100%;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttransform: scale(0.95);\n\t\t\t\ttransition: transform 0.3s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progress-modal.show .hyper-viewer-progress-container {\n\t\t\t\ttransform: scale(1);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progress-header {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 16px 20px;\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder-bottom: 1px solid #3a3a3a;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progress-title {\n\t\t\t\tmargin: 0;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progress-content {\n\t\t\t\tpadding: 20px;\n\t\t\t\tcolor: #ffffff;\n\t\t\t}\n\t\t\t\n\t\t\t.progress-file-info {\n\t\t\t\tmargin-bottom: 20px;\n\t\t\t\tfont-size: 14px;\n\t\t\t\tcolor: #cccccc;\n\t\t\t}\n\t\t\t\n\t\t\t.progress-bar-container {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tgap: 12px;\n\t\t\t\tmargin-bottom: 16px;\n\t\t\t}\n\t\t\t\n\t\t\t.progress-bar {\n\t\t\t\tflex: 1;\n\t\t\t\theight: 8px;\n\t\t\t\tbackground: #333333;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\toverflow: hidden;\n\t\t\t}\n\t\t\t\n\t\t\t.progress-bar-fill {\n\t\t\t\theight: 100%;\n\t\t\t\tbackground: linear-gradient(90deg, #4a9eff, #0066cc);\n\t\t\t\tborder-radius: 4px;\n\t\t\t\ttransition: width 0.3s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.progress-percentage {\n\t\t\t\tfont-weight: 600;\n\t\t\t\tmin-width: 40px;\n\t\t\t\ttext-align: right;\n\t\t\t}\n\t\t\t\n\t\t\t.progress-details {\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\tgap: 8px;\n\t\t\t}\n\t\t\t\n\t\t\t.progress-status {\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: #4a9eff;\n\t\t\t}\n\t\t\t\n\t\t\t.progress-stats {\n\t\t\t\tdisplay: flex;\n\t\t\t\tgap: 16px;\n\t\t\t\tfont-size: 13px;\n\t\t\t\tcolor: #999999;\n\t\t\t}\n\t\t\t\n\t\t\t.progress-spinner {\n\t\t\t\tdisplay: flex;\n\t\t\t\tjustify-content: center;\n\t\t\t\tmargin-top: 16px;\n\t\t\t}\n\t\t\t\n\t\t\t.spinner {\n\t\t\t\twidth: 24px;\n\t\t\t\theight: 24px;\n\t\t\t\tborder: 2px solid #333333;\n\t\t\t\tborder-top: 2px solid #4a9eff;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tanimation: spin 1s linear infinite;\n\t\t\t}\n\t\t\t\n\t\t\t@keyframes spin {\n\t\t\t\t0% { transform: rotate(0deg); }\n\t\t\t\t100% { transform: rotate(360deg); }\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-close {\n\t\t\t\tbackground: transparent;\n\t\t\t\tborder: none;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tcursor: pointer;\n\t\t\t\tpadding: 8px;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\ttransition: background-color 0.2s ease, color 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-close:hover {\n\t\t\t\tbackground: rgba(255, 255, 255, 0.1);\n\t\t\t\tcolor: #ff6b6b;\n\t\t\t}\n\t\t</style>\n\t'),document.body.appendChild(r),document.body.style.overflow="hidden",requestAnimationFrame((function(){r.classList.add("show")}));var i=function(){r.classList.remove("show"),setTimeout((function(){document.body.style.overflow="",r.parentNode&&r.parentNode.removeChild(r)}),300)};r.querySelector(".hyper-viewer-close").addEventListener("click",i),r.querySelector(".hyper-viewer-overlay").addEventListener("click",i),function(t,e,n){var r=t.replace(/\.[^/.]+$/,""),i="/"===e?"/.cached_hls/".concat(r):"".concat(e,"/.cached_hls/").concat(r);c.log("🔍 Starting progress polling for: ".concat(t)),c.log("📁 Directory: ".concat(e)),c.log("📂 Cache path: ".concat(i));var a=0,o=360;!function(t){var e=t.querySelector(".progress-status");if(!e)return;!function t(){var n=new Date,r=n.getMinutes(),i=n.getSeconds(),a=60*((5*Math.ceil(r/5)-r)%5)-i;if(a>0){var o=Math.floor(a/60),s=a%60;e.textContent="Waiting for processing to start... ".concat(o,":").concat(s.toString().padStart(2,"0")),setTimeout(t,1e3)}else e.textContent="Processing should start soon..."}()}(n);var s=function(){var e=v(regeneratorRuntime.mark((function e(){var r,u,l,d,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a++,c.log("📊 Progress poll ".concat(a,"/").concat(o," for: ").concat(t)),r=encodeURIComponent(i),u=OC.generateUrl("/apps/hyper_viewer/cache/progress/".concat(r)),c.log("🌐 Polling URL: ".concat(u)),e.next=8,fetch(u);case 8:return l=e.sent,e.next=11,l.json();case 11:if(d=e.sent,c.log("📈 Progress response:",d),!d.success||!d.progress){e.next=25;break}if(O(n,d.progress),"completed"!==d.progress.status){e.next=21;break}return c.log("✅ HLS generation completed for: ".concat(t)),setTimeout((function(){n.querySelector(".hyper-viewer-close").click()}),2e3),e.abrupt("return");case 21:if("failed"!==d.progress.status){e.next=25;break}return c.error("❌ HLS generation failed for: ".concat(t)),O(n,p(p({},d.progress),{},{status:"Error: Generation failed"})),e.abrupt("return");case 25:a<o&&n.parentNode&&setTimeout(s,5e3),e.next=33;break;case 28:e.prev=28,e.t0=e.catch(0),c.error("❌ Progress polling error:",e.t0),n.parentNode&&(h=n.querySelector(".progress-status"))&&(h.textContent="Polling error: ".concat(e.t0.message)),a<o&&n.parentNode&&setTimeout(s,5e3);case 33:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(){return e.apply(this,arguments)}}();setTimeout(s,2e3)}(t,e,r)}function O(t,e){var n=t.querySelector(".progress-bar-fill"),r=t.querySelector(".progress-percentage"),i=t.querySelector(".progress-status"),a=t.querySelector(".progress-speed"),o=t.querySelector(".progress-time"),s=t.querySelector(".progress-fps"),u=t.querySelector(".progress-spinner"),l=e.progress||0;if(e.time&&"00:00:00"!==e.time){var c=e.time.match(/(\d{2}):(\d{2}):(\d{2})/);if(c){var d=3600*parseInt(c[1])+60*parseInt(c[2])+parseInt(c[3]);l=Math.min(Math.round(d/180*100),99)}}"completed"===e.status&&(l=100,u.style.display="none"),n.style.width="".concat(l,"%"),r.textContent="".concat(l,"%"),i.textContent=e.status||"Processing...",a.textContent="Speed: ".concat(e.speed||"0x"),o.textContent="Time: ".concat(e.time||"00:00:00"),s.textContent="FPS: ".concat(e.fps||0)}function P(t,e){return D.apply(this,arguments)}function D(){return(D=v(regeneratorRuntime.mark((function t(e,n){var r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(OC.generateUrl("/apps/hyper_viewer/cache/check"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({filename:e,directory:n})});case 3:return r=t.sent,t.next=6,r.json();case 6:return i=t.sent,t.abrupt("return",i.exists?i.cachePath:null);case 10:return t.prev=10,t.t0=t.catch(0),c.error("Failed to check HLS cache:",t.t0),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})))).apply(this,arguments)}function _(t,e,n){return N.apply(this,arguments)}function N(){return(N=v(regeneratorRuntime.mark((function t(e,n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.log("🎬 Smart play: Checking HLS cache for: ".concat(e)),t.prev=1,t.next=4,P(e,n);case 4:(i=t.sent)?(c.log("✅ HLS cache found, using Shaka Player"),G(e,i,r,n)):(c.log("ℹ️ No HLS cache, using default player"),U(e,n,r)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),c.error("Error checking HLS cache:",t.t0),U(e,n,r);case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))).apply(this,arguments)}function U(t,e,n){c.log("🎥 Opening with default player: ".concat(t));var r,i="/"===e?"/".concat(t):"".concat(e,"/").concat(t);window.OCA&&window.OCA.Viewer&&window.OCA.Viewer.open?window.OCA.Viewer.open({path:i,list:(null==n||null===(r=n.fileList)||void 0===r?void 0:r.files)||[]}):window.OC&&window.OC.Viewer?window.OC.Viewer.open(i):window.location.href=OC.generateUrl("/f/".concat((null==n?void 0:n.fileId)||""))}function B(t,e,n){return j.apply(this,arguments)}function j(){return(j=v(regeneratorRuntime.mark((function t(e,n,r){var i,a,o,s,u,l,d,p,h,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.log("🎬 Starting progressive MP4 playback for: ".concat(e)),t.prev=1,i=q(e),a="/"===n?"/".concat(e):"".concat(n,"/").concat(e),t.next=6,fetch(OC.generateUrl("/apps/hyper_viewer/api/proxy-transcode")+"?path=".concat(encodeURIComponent(a)),{method:"GET",headers:{requesttoken:OC.requestToken}});case 6:if(o=t.sent,s=o.headers.get("content-type"),!(!o.ok||s&&s.includes("text/html"))){t.next=14;break}throw u=o.headers.get("X-Debug-Error"),l=o.headers.get("X-Debug-Exception"),d="Server error occurred while preparing video",u?d="Server Error: ".concat(u):l?d="Server Exception: ".concat(l):404===o.status?d="Video file not found or not accessible":403===o.status?d="Permission denied - you may not have access to this file":o.status>=500&&(d="Internal server error - please check server configuration"),new Error(d);case 14:return t.next=16,o.json();case 16:if(p=t.sent,F(i),!p.url){t.next=23;break}c.log("✅ Progressive MP4 ready: ".concat(p.url)),V(e,p.url),t.next=24;break;case 23:throw new Error(p.error||"Failed to prepare progressive MP4");case 24:t.next=34;break;case 26:t.prev=26,t.t0=t.catch(1),c.error("Error preparing progressive MP4:",t.t0),(h=document.querySelector(".hyper-viewer-loading-overlay"))&&F(h),f=t.t0.message,t.t0.message.includes("SyntaxError")||t.t0.message.includes("Unexpected token")?f="Server returned an error page instead of video data. Please check server logs or contact administrator.":(t.t0.message.includes("NetworkError")||t.t0.message.includes("fetch"))&&(f="Network error - please check your connection and try again."),OC.dialogs.alert(f,"Video Transcoding Error");case 34:case"end":return t.stop()}}),t,null,[[1,26]])})))).apply(this,arguments)}function q(t){var e=document.createElement("div");return e.className="hyper-viewer-loading-overlay",e.innerHTML='\n\t\t<div class="hyper-viewer-loading-content">\n\t\t\t<div class="hyper-viewer-spinner"></div>\n\t\t\t<h3>Preparing Preview...</h3>\n\t\t\t<p>Transcoding "'.concat(t,'" to 480p MP4</p>\n\t\t\t<p class="loading-note">This may take a moment for large files</p>\n\t\t</div>\n\t\t\n\t\t<style>\n\t\t\t.hyper-viewer-loading-overlay {\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tz-index: 10001;\n\t\t\t\tbackground: rgba(0, 0, 0, 0.8);\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tbackdrop-filter: blur(4px);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-loading-content {\n\t\t\t\tbackground: #1a1a1a;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tpadding: 40px;\n\t\t\t\ttext-align: center;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tmax-width: 400px;\n\t\t\t\tbox-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-spinner {\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\tborder: 4px solid #333;\n\t\t\t\tborder-top: 4px solid #4a9eff;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tanimation: spin 1s linear infinite;\n\t\t\t\tmargin: 0 auto 20px auto;\n\t\t\t}\n\t\t\t\n\t\t\t@keyframes spin {\n\t\t\t\t0% { transform: rotate(0deg); }\n\t\t\t\t100% { transform: rotate(360deg); }\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-loading-content h3 {\n\t\t\t\tmargin: 0 0 10px 0;\n\t\t\t\tfont-size: 18px;\n\t\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-loading-content p {\n\t\t\t\tmargin: 8px 0;\n\t\t\t\tcolor: #cccccc;\n\t\t\t}\n\t\t\t\n\t\t\t.loading-note {\n\t\t\t\tfont-size: 14px;\n\t\t\t\tcolor: #999999 !important;\n\t\t\t}\n\t\t</style>\n\t'),document.body.appendChild(e),document.body.style.overflow="hidden",e}function F(t){t&&t.parentNode&&(document.body.style.overflow="",t.parentNode.removeChild(t))}function V(t,e){var n=document.createElement("div");n.className="hyper-viewer-progressive-modal",n.innerHTML='\n\t\t<div class="hyper-viewer-overlay"></div>\n\t\t<div class="hyper-viewer-progressive-container">\n\t\t\t<div class="hyper-viewer-progressive-header">\n\t\t\t\t<h3 class="hyper-viewer-progressive-title">'.concat(t,'</h3>\n\t\t\t\t<button class="hyper-viewer-close" aria-label="Close video">\n\t\t\t\t\t<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">\n\t\t\t\t\t\t<line x1="18" y1="6" x2="6" y2="18"></line>\n\t\t\t\t\t\t<line x1="6" y1="6" x2="18" y2="18"></line>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<div class="hyper-viewer-progressive-content">\n\t\t\t\t<div class="hyper-viewer-video-container">\n\t\t\t\t\t<video \n\t\t\t\t\t\tcontrols \n\t\t\t\t\t\tpreload="auto"\n\t\t\t\t\t\tplaysinline\n\t\t\t\t\t\tclass="hyper-viewer-progressive-video"\n\t\t\t\t\t\tsrc="').concat(e,'">\n\t\t\t\t\t\tYour browser does not support the video tag.\n\t\t\t\t\t</video>\n\t\t\t\t\t<div class="hyper-viewer-retry-message" style="display: none;">\n\t\t\t\t\t\t<p>Video is still being prepared...</p>\n\t\t\t\t\t\t<div class="hyper-viewer-retry-spinner"></div>\n\t\t\t\t\t\t<p class="retry-text">Retrying in <span class="countdown">5</span> seconds</p>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t\n\t\t<style>\n\t\t\t.hyper-viewer-progressive-modal {\n\t\t\t\tposition: fixed;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tz-index: 10000;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tpadding: 20px;\n\t\t\t\tbox-sizing: border-box;\n\t\t\t\topacity: 0;\n\t\t\t\tvisibility: hidden;\n\t\t\t\ttransition: opacity 0.3s ease, visibility 0.3s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progressive-modal.show {\n\t\t\t\topacity: 1;\n\t\t\t\tvisibility: visible;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-overlay {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 0;\n\t\t\t\tleft: 0;\n\t\t\t\tright: 0;\n\t\t\t\tbottom: 0;\n\t\t\t\tbackground: rgba(0, 0, 0, 0.9);\n\t\t\t\tbackdrop-filter: blur(4px);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progressive-container {\n\t\t\t\tposition: relative;\n\t\t\t\tbackground: #1a1a1a;\n\t\t\t\tborder-radius: 12px;\n\t\t\t\tbox-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);\n\t\t\t\tmax-width: 90vw;\n\t\t\t\tmax-height: 90vh;\n\t\t\t\twidth: auto;\n\t\t\t\theight: auto;\n\t\t\t\tdisplay: flex;\n\t\t\t\tflex-direction: column;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttransform: scale(0.95);\n\t\t\t\ttransition: transform 0.3s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progressive-modal.show .hyper-viewer-progressive-container {\n\t\t\t\ttransform: scale(1);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progressive-header {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: space-between;\n\t\t\t\tpadding: 16px 20px;\n\t\t\t\tbackground: #2a2a2a;\n\t\t\t\tborder-bottom: 1px solid #3a3a3a;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progressive-title {\n\t\t\t\tmargin: 0;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tfont-size: 16px;\n\t\t\t\tfont-weight: 600;\n\t\t\t\twhite-space: nowrap;\n\t\t\t\toverflow: hidden;\n\t\t\t\ttext-overflow: ellipsis;\n\t\t\t\tmax-width: calc(100% - 60px);\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progressive-content {\n\t\t\t\tpadding: 0;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tbackground: #000000;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-video-container {\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 100%;\n\t\t\t\tmin-height: 300px;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\tbackground: #000;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-progressive-video {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: auto;\n\t\t\t\tmax-width: 100%;\n\t\t\t\tmax-height: calc(90vh - 60px);\n\t\t\t\tmin-height: 300px;\n\t\t\t\tdisplay: block;\n\t\t\t\tbackground: #000;\n\t\t\t\tobject-fit: contain;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-retry-message {\n\t\t\t\tposition: absolute;\n\t\t\t\ttop: 50%;\n\t\t\t\tleft: 50%;\n\t\t\t\ttransform: translate(-50%, -50%);\n\t\t\t\ttext-align: center;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tbackground: rgba(0, 0, 0, 0.8);\n\t\t\t\tpadding: 20px;\n\t\t\t\tborder-radius: 8px;\n\t\t\t\tz-index: 10;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-retry-message p {\n\t\t\t\tmargin: 10px 0;\n\t\t\t\tfont-size: 16px;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-retry-spinner {\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\tborder: 3px solid #333;\n\t\t\t\tborder-top: 3px solid #ffffff;\n\t\t\t\tborder-radius: 50%;\n\t\t\t\tanimation: spin 1s linear infinite;\n\t\t\t\tmargin: 15px auto;\n\t\t\t}\n\t\t\t\n\t\t\t@keyframes spin {\n\t\t\t\t0% { transform: rotate(0deg); }\n\t\t\t\t100% { transform: rotate(360deg); }\n\t\t\t}\n\t\t\t\n\t\t\t.retry-text {\n\t\t\t\tfont-size: 14px;\n\t\t\t\topacity: 0.8;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-close {\n\t\t\t\tbackground: transparent;\n\t\t\t\tborder: none;\n\t\t\t\tcolor: #ffffff;\n\t\t\t\tcursor: pointer;\n\t\t\t\tpadding: 8px;\n\t\t\t\tborder-radius: 6px;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\ttransition: background-color 0.2s ease, color 0.2s ease;\n\t\t\t}\n\t\t\t\n\t\t\t.hyper-viewer-close:hover {\n\t\t\t\tbackground: rgba(255, 255, 255, 0.1);\n\t\t\t\tcolor: #ff6b6b;\n\t\t\t}\n\t\t</style>\n\t'),document.body.appendChild(n),document.body.style.overflow="hidden",requestAnimationFrame((function(){n.classList.add("show")}));var r=function(t){"Escape"===t.key&&i()},i=function(){n.classList.remove("show"),document.removeEventListener("keydown",r),setTimeout((function(){document.body.style.overflow="",n.parentNode&&n.parentNode.removeChild(n)}),300)};n.querySelector(".hyper-viewer-close").addEventListener("click",i),n.querySelector(".hyper-viewer-overlay").addEventListener("click",i),n.querySelector(".hyper-viewer-progressive-content").addEventListener("click",(function(t){t.stopPropagation()}));var a=n.querySelector(".hyper-viewer-progressive-video");function o(t,e){var r=n.querySelector(".hyper-viewer-retry-message"),i=r.querySelector(".countdown");t.style.display="none",r.style.display="block";var a=5;i.textContent=a;var o=setInterval((function(){a--,i.textContent=a,a<=0&&(clearInterval(o),r.style.display="none",t.style.display="block",t.src=e+"&t="+Date.now(),t.load())}),1e3)}a.addEventListener("loadstart",(function(){c.log("🎬 Video load started")})),a.addEventListener("loadedmetadata",(function(){c.log("🎬 Video metadata loaded"),c.log("Video duration:",a.duration),c.log("Video dimensions:",a.videoWidth,"x",a.videoHeight)})),a.addEventListener("loadeddata",(function(){c.log("🎬 Video data loaded")})),a.addEventListener("canplay",(function(){c.log("🎬 Video can start playing"),a.play().catch((function(t){c.error("🎬 Video play failed:",t)}))})),a.addEventListener("canplaythrough",(function(){c.log("🎬 Video can play through without buffering")})),a.addEventListener("play",(function(){c.log("🎬 Video started playing")})),a.addEventListener("playing",(function(){c.log("🎬 Video is playing")})),a.addEventListener("pause",(function(){c.log("🎬 Video paused")})),a.addEventListener("error",(function(t){c.error("🎬 Video error:",t),c.error("Video error details:",a.error),!a.error||a.error.code!==MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED&&a.error.code!==MediaError.MEDIA_ERR_NETWORK||o(a,e)})),a.addEventListener("stalled",(function(){c.log("🎬 Video stalled"),o(a,e)})),a.addEventListener("waiting",(function(){c.log("🎬 Video waiting for data")})),document.addEventListener("keydown",r)}function G(t,e,n,r){var i,o="hyperVideo_".concat(Date.now());r||(r=(null==n?void 0:n.dir)||(null==n||null===(i=n.fileList)||void 0===i?void 0:i.getCurrentDirectory())||"/");var s=[],u=0;if(null!=n&&n.fileInfoModel||null!=n&&n.fileList){var l,d=(null===(l=n.fileInfoModel)||void 0===l?void 0:l.fileList)||n.fileList;if(d){var p=d.files||[];s=p.filter((function(t){return"video/quicktime"===t.mimetype||"video/mp4"===t.mimetype})).map((function(t){return t.name})).sort(),u=s.indexOf(t),c.log("📹 Video playlist: ".concat(s.length," videos, current index: ").concat(u))}}var h=document.createElement("div");h.style.cssText="\n        position: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 10000;\n        background: rgba(0,0,0,0.9); display: flex; flex-direction: column; align-items: center; justify-content: center;\n        padding: 20px; box-sizing: border-box;\n    ",h.innerHTML='\n        \x3c!-- Video Player Container (Shaka Player will be attached here) --\x3e\n        <div id="video-player-container" style="\n            position: relative; width: min(90vw, 1200px); height: min(70vh, 600px);\n            background: #000; border-radius: 8px 8px 0 0; overflow: visible; padding-bottom: 50px;\n        ">\n            \x3c!-- Navigation Arrows (Desktop only) --\x3e\n            <button id="prev-video-btn" class="nav-arrow prev-arrow" style="\n                position: absolute; left: 10px; top: 50%; transform: translateY(-50%);\n                width: 50px; height: 50px; border-radius: 50%; border: none;\n                background: rgba(0,0,0,0.6); color: white; font-size: 24px;\n                cursor: pointer; z-index: 1000; display: flex; align-items: center; justify-content: center;\n                opacity: 0; transition: opacity 0.3s, background 0.2s;\n            " title="Previous video (Shift+Left)">‹</button>\n            \n            <button id="next-video-btn" class="nav-arrow next-arrow" style="\n                position: absolute; right: 10px; top: 50%; transform: translateY(-50%);\n                width: 50px; height: 50px; border-radius: 50%; border: none;\n                background: rgba(0,0,0,0.6); color: white; font-size: 24px;\n                cursor: pointer; z-index: 1000; display: flex; align-items: center; justify-content: center;\n                opacity: 0; transition: opacity 0.3s, background 0.2s;\n            " title="Next video (Shift+Right)">›</button>\n            \n            <video id="'.concat(o,'" autoplay style="\n                width: 100%; height: calc(100% - 50px); object-fit: contain; background: #000;\n            "></video>\n        </div>\n        \n        \x3c!-- Clipping Controls Panel (Outside Shaka Player scope) --\x3e\n        <div id="clipping-panel" style="\n            width: min(90vw, 1200px); background: rgba(20,20,20,0.95); border-radius: 0 0 8px 8px;\n            padding: 15px; display: none; border-top: 1px solid #444; position: relative; z-index: 10002;\n        ">\n            \x3c!-- Clip Mode Toggle --\x3e\n            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">\n                <h3 style="color: white; margin: 0; font-size: 16px;">📹 Video Clipping Mode</h3>\n                <button id="exit-clip-mode" style="\n                    background: #666; border: none; color: white; padding: 6px 12px; \n                    border-radius: 4px; cursor: pointer; font-size: 12px;">Exit Clip Mode</button>\n            </div>\n            \n            \x3c!-- Timeline with Clip Markers --\x3e\n            <div style="margin-bottom: 20px;">\n                <div style="display: flex; justify-content: space-between; color: #ccc; font-size: 12px; margin-bottom: 5px;">\n                    <span>Timeline</span>\n                    <span id="clip-duration">Clip Duration: 0:00</span>\n                </div>\n                <div id="timeline-container" style="position: relative; height: 40px; background: #333; border-radius: 4px; overflow: hidden; cursor: pointer;">\n                    <div id="timeline-progress" style="height: 100%; background: #555; width: 0%; transition: width 0.1s;"></div>\n                    <div id="clip-range" style="\n                        position: absolute; top: 0; left: 0%; right: 0%; height: 100%; \n                        background: rgba(76, 175, 80, 0.2); z-index: 1;\n                    "></div>\n                    <div id="playback-cursor" style="\n                        position: absolute; top: 0; left: 0%; width: 2px; height: 100%; \n                        background: #fff; box-shadow: 0 0 4px rgba(255,255,255,0.8); z-index: 4;\n                    "></div>\n                    <div id="start-marker" style="\n                        position: absolute; top: -2px; left: 0%; width: 12px; height: 44px; \n                        background: #4CAF50; cursor: ew-resize; z-index: 3; border-radius: 2px;\n                        display: flex; align-items: center; justify-content: center; color: white; font-size: 8px;\n                    " title="Start time">\n                        S\n                        <div id="start-marker-tooltip" style="\n                            position: absolute; bottom: 50px; left: 50%; transform: translateX(-50%);\n                            background: rgba(0,0,0,0.9); color: white; padding: 4px 8px; border-radius: 4px;\n                            font-size: 11px; white-space: nowrap; pointer-events: none; display: none;\n                        ">0:00.000</div>\n                    </div>\n                    <div id="end-marker" style="\n                        position: absolute; top: -2px; right: 0%; width: 12px; height: 44px; \n                        background: #f44336; cursor: ew-resize; z-index: 3; border-radius: 2px;\n                        display: flex; align-items: center; justify-content: center; color: white; font-size: 8px;\n                    " title="End time">\n                        E\n                        <div id="end-marker-tooltip" style="\n                            position: absolute; bottom: 50px; left: 50%; transform: translateX(-50%);\n                            background: rgba(0,0,0,0.9); color: white; padding: 4px 8px; border-radius: 4px;\n                            font-size: 11px; white-space: nowrap; pointer-events: none; display: none;\n                        ">0:00.000</div>\n                    </div>\n                </div>\n            </div>\n            \n            \x3c!-- Frame-Accurate Controls --\x3e\n            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">\n                \x3c!-- Start Time Controls --\x3e\n                <div style="background: rgba(76, 175, 80, 0.1); padding: 12px; border-radius: 6px; border: 1px solid #4CAF50;">\n                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">\n                        <label style="color: #4CAF50; font-weight: bold; font-size: 14px;">🟢 Start Time</label>\n                        <span id="start-time-display" style="color: white; font-family: monospace;">0:00.000</span>\n                    </div>\n                    <div style="display: flex; gap: 8px; align-items: center;">\n                        <button id="start-frame-back" style="background: #4CAF50; border: none; color: white; padding: 6px 8px; border-radius: 3px; cursor: pointer; font-size: 11px;">⏪ -1f</button>\n                        <button id="start-set-current" style="background: #4CAF50; border: none; color: white; padding: 6px 12px; border-radius: 3px; cursor: pointer; font-size: 11px;">Set Current</button>\n                        <button id="start-frame-forward" style="background: #4CAF50; border: none; color: white; padding: 6px 8px; border-radius: 3px; cursor: pointer; font-size: 11px;">+1f ⏩</button>\n                    </div>\n                </div>\n                \n                \x3c!-- End Time Controls --\x3e\n                <div style="background: rgba(244, 67, 54, 0.1); padding: 12px; border-radius: 6px; border: 1px solid #f44336;">\n                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">\n                        <label style="color: #f44336; font-weight: bold; font-size: 14px;">🔴 End Time</label>\n                        <span id="end-time-display" style="color: white; font-family: monospace;">0:00.000</span>\n                    </div>\n                    <div style="display: flex; gap: 8px; align-items: center;">\n                        <button id="end-frame-back" style="background: #f44336; border: none; color: white; padding: 6px 8px; border-radius: 3px; cursor: pointer; font-size: 11px;">⏪ -1f</button>\n                        <button id="end-set-current" style="background: #f44336; border: none; color: white; padding: 6px 12px; border-radius: 3px; cursor: pointer; font-size: 11px;">Set Current</button>\n                        <button id="end-frame-forward" style="background: #f44336; border: none; color: white; padding: 6px 8px; border-radius: 3px; cursor: pointer; font-size: 11px;">+1f ⏩</button>\n                    </div>\n                </div>\n            </div>\n            \n            \x3c!-- Preview and Export Controls --\x3e\n            <div style="display: flex; justify-content: space-between; align-items: center;">\n                <div style="display: flex; gap: 10px;">\n                    <button id="preview-clip" style="\n                        background: #2196F3; border: none; color: white; padding: 8px 16px; \n                        border-radius: 4px; cursor: pointer; font-size: 14px;">🎬 Preview Clip</button>\n                    <button id="reset-markers" style="\n                        background: #666; border: none; color: white; padding: 8px 16px; \n                        border-radius: 4px; cursor: pointer; font-size: 14px;">🔄 Reset</button>\n                </div>\n                <button id="export-clip" style="\n                    background: #FF9800; border: none; color: white; padding: 10px 20px; \n                    border-radius: 4px; cursor: pointer; font-size: 14px; font-weight: bold;">📤 Export Clip</button>\n            </div>\n        </div>\n        \n        \x3c!-- Top Controls (Over video player) --\x3e\n        <div style="position: absolute; top: 20px; left: 20px; z-index: 10003;">\n            <div class="hls-player-badge" style="\n                background: rgba(60, 60, 60, 0.9); color: #FF9800; \n                padding: 6px 12px; border-radius: 4px; font-size: 11px; font-weight: bold;\n                letter-spacing: 0.5px; box-shadow: 0 2px 8px rgba(0,0,0,0.3);\n                backdrop-filter: blur(4px); display: flex; align-items: center; gap: 6px;">\n                <span style="font-size: 14px;">📡</span> HLS STREAMING\n            </div>\n        </div>\n        \n        <div style="position: absolute; top: 20px; right: 20px; display: flex; gap: 10px; z-index: 10003;">\n            <button id="toggle-clip-mode" style="\n                background: rgba(255, 152, 0, 0.9); border: none; color: white; \n                padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px;">✂️ Clip Video</button>\n            <button id="open-default-player" style="\n                background: rgba(33, 150, 243, 0.9); border: none; color: white; \n                padding: 8px 12px; border-radius: 4px; cursor: pointer; font-size: 12px; \n                display: flex; align-items: center; gap: 5px;" title="Open with default Nextcloud player">🎬 Default Player</button>\n            <button class="close-btn" style="\n                background: rgba(0,0,0,0.7); border: none; color: white; \n                width: 40px; height: 40px; border-radius: 50%; font-size: 18px; cursor: pointer;">✕</button>\n        </div>\n    ');var f=function(){h.remove(),document.body.style.overflow="",document.removeEventListener("keydown",g)},g=function(t){"Escape"!==t.key&&"Backspace"!==t.key||f()};h.onclick=function(t){t.target===h&&f()},document.body.appendChild(h),document.body.style.overflow="hidden",document.addEventListener("keydown",g);var m=document.getElementById(o),y=!1,A=0,b=0,w=0,C=!1;h.querySelector(".close-btn").addEventListener("click",f),h.querySelector("#open-default-player").addEventListener("click",(function(){f(),U(t,r,n)}));var x=function(){var t=v(regeneratorRuntime.mark((function t(e){var i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(s.length<=1)){t.next=2;break}return t.abrupt("return");case 2:return(i=u+e)<0&&(i=s.length-1),i>=s.length&&(i=0),a=s[i],c.log("🔄 Navigating to video ".concat(i+1,"/").concat(s.length,": ").concat(a)),f(),t.next=10,_(a,r,n);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=h.querySelector("#prev-video-btn"),S=h.querySelector("#next-video-btn"),E=h.querySelector("#video-player-container");if(s.length<=1)T.style.display="none",S.style.display="none";else{E.addEventListener("mouseenter",(function(){window.innerWidth>768&&(T.style.opacity="0.7",S.style.opacity="0.7")})),E.addEventListener("mouseleave",(function(){T.style.opacity="0",S.style.opacity="0"})),T.addEventListener("mouseenter",(function(){T.style.opacity="1",T.style.background="rgba(0,0,0,0.8)"})),T.addEventListener("mouseleave",(function(){T.style.background="rgba(0,0,0,0.6)"})),S.addEventListener("mouseenter",(function(){S.style.opacity="1",S.style.background="rgba(0,0,0,0.8)"})),S.addEventListener("mouseleave",(function(){S.style.background="rgba(0,0,0,0.6)"})),T.addEventListener("click",(function(t){t.stopPropagation(),x(-1)})),S.addEventListener("click",(function(t){t.stopPropagation(),x(1)}));var k=0;E.addEventListener("touchstart",(function(t){k=t.changedTouches[0].screenX})),E.addEventListener("touchend",(function(t){var e=t.changedTouches[0].screenX-k;Math.abs(e)>50&&x(e>0?-1:1)}))}if(a().polyfill.installAll(),a().Player.isBrowserSupported()){var I=new(a().Player)(m);new(a().ui.Overlay)(I,E,m).configure({controlPanelElements:["play_pause","time_and_duration","mute","volume","spacer","overflow_menu","fullscreen"],overflowMenuButtons:["picture_in_picture","quality","playback_speed","save_video_frame","statistics"],enableTooltips:!0,addSeekBar:!0,customContextMenu:!0,playbackRates:[.25,.5,.75,1,1.25,1.5,2],seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(76, 175, 80, 0.4)",played:"rgb(255, 152, 0)"}});var M=encodeURIComponent(e),R="".concat(OC.generateUrl("/apps/hyper_viewer/hls"),"/").concat(M,"/master.m3u8"),L="".concat(OC.generateUrl("/apps/hyper_viewer/hls"),"/").concat(M,"/playlist.m3u8");I.load(R).catch((function(){return I.load(L)})),m.addEventListener("loadedmetadata",(function(){w=m.duration,b=w,N(),D()})),m.addEventListener("timeupdate",(function(){y&&function(){if(0===w)return;var t=m.currentTime/w*100;h.querySelector("#timeline-progress").style.width="".concat(t,"%"),h.querySelector("#playback-cursor").style.left="calc(".concat(t,"% - 1px)")}()}))}function O(){y=!y;var t=h.querySelector("#clipping-panel"),e=h.querySelector("#toggle-clip-mode"),n=h.querySelector("#video-player-container");y?(t.style.display="block",n.style.borderRadius="8px 8px 0 0",e.textContent="✂️ Exit Clip Mode",e.style.background="rgba(244, 67, 54, 0.9)",A=0,b=w,N(),D()):(t.style.display="none",n.style.borderRadius="8px",e.textContent="✂️ Clip Video",e.style.background="rgba(255, 152, 0, 0.9)")}function P(t){var e=Math.floor(t/60),n=Math.floor(t%60),r=Math.floor(t%1*1e3);return"".concat(e,":").concat(n.toString().padStart(2,"0"),".").concat(r.toString().padStart(3,"0"))}function D(){h.querySelector("#start-time-display").textContent=P(A),h.querySelector("#end-time-display").textContent=P(b);var t=Math.max(0,b-A),e=Math.floor(t/60),n=Math.floor(t%60);h.querySelector("#clip-duration").textContent="Clip Duration: ".concat(e,":").concat(n.toString().padStart(2,"0"))}function N(){if(0!==w){var t=A/w*100,e=b/w*100;h.querySelector("#start-marker").style.left="calc(".concat(t,"% - 6px)"),h.querySelector("#end-marker").style.left="calc(".concat(e,"% - 6px)"),h.querySelector("#clip-range").style.left="".concat(t,"%"),h.querySelector("#clip-range").style.width="".concat(e-t,"%")}}function B(t){t;var e=h.querySelector("#start-time-display").closest("div").closest("div");"start"===t?(e.style.background="rgba(76, 175, 80, 0.3)",e.style.borderColor="#4CAF50",e.style.borderWidth="2px"):(e.style.background="rgba(76, 175, 80, 0.1)",e.style.borderColor="#4CAF50",e.style.borderWidth="1px");var n=h.querySelector("#end-time-display").closest("div").closest("div");"end"===t?(n.style.background="rgba(244, 67, 54, 0.3)",n.style.borderColor="#f44336",n.style.borderWidth="2px"):(n.style.background="rgba(244, 67, 54, 0.1)",n.style.borderColor="#f44336",n.style.borderWidth="1px")}function j(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?(A=m.currentTime,B("start")):(b=m.currentTime,B("end")),A>=b&&(t?b=Math.min(w,A+1):A=Math.max(0,b-1)),N(),D()}function q(){"/"===n.dir||n.dir.startsWith("/home")||n.dir.startsWith("/Users");var t=document.createElement("div");t.style.cssText="\n\t\t\tposition: fixed; top: 0; left: 0; right: 0; bottom: 0; z-index: 10002;\n\t\t\tbackground: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center;\n\t\t",t.innerHTML='\n\t\t\t<div style="\n\t\t\t\tbackground: #2a2a2a; border-radius: 8px; padding: 24px; max-width: 400px; width: 90%;\n\t\t\t\tcolor: white; box-shadow: 0 4px 20px rgba(0,0,0,0.5);\n\t\t\t">\n\t\t\t\t<h3 style="margin: 0 0 20px 0; color: #FF9800;">📤 Export Video Clip</h3>\n\t\t\t\t\n\t\t\t\t<div style="margin-bottom: 20px;">\n\t\t\t\t\t<label style="display: block; margin-bottom: 8px; font-weight: bold;">Export Location:</label>\n\t\t\t\t\t<input id="export-path" type="text" value="'.concat("../exports",'" style="\n\t\t\t\t\t\twidth: 100%; padding: 12px; border: 1px solid #555; border-radius: 4px; \n\t\t\t\t\t\tbackground: #333; color: white; font-family: monospace; box-sizing: border-box;\n\t\t\t\t\t">\n\t\t\t\t\t<small style="color: #ccc; margin-top: 4px; display: block;">\n\t\t\t\t\t\tRelative to video location. Directory will be created if it doesn\'t exist.\n\t\t\t\t\t</small>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="margin-bottom: 20px; padding: 12px; background: rgba(76, 175, 80, 0.1); border-radius: 4px; border: 1px solid #4CAF50;">\n\t\t\t\t\t<div style="font-size: 14px; margin-bottom: 8px;">📊 Clip Details:</div>\n\t\t\t\t\t<div style="font-family: monospace; font-size: 12px; color: #ccc;">\n\t\t\t\t\t\t<div>Start: ').concat(P(A),"</div>\n\t\t\t\t\t\t<div>End: ").concat(P(b),"</div>\n\t\t\t\t\t\t<div>Duration: ").concat(P(b-A),'</div>\n\t\t\t\t\t\t<div style="color: #4CAF50; margin-top: 8px;">✨ Original quality lossless cut</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t\n\t\t\t\t<div style="display: flex; justify-content: flex-end; gap: 12px;">\n\t\t\t\t\t<button id="cancel-export" style="\n\t\t\t\t\t\tbackground: #666; border: none; color: white; padding: 10px 16px; \n\t\t\t\t\t\tborder-radius: 4px; cursor: pointer;">Cancel</button>\n\t\t\t\t\t<button id="confirm-export" style="\n\t\t\t\t\t\tbackground: #FF9800; border: none; color: white; padding: 10px 16px; \n\t\t\t\t\t\tborder-radius: 4px; cursor: pointer; font-weight: bold;">🚀 Start Export</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t'),document.body.appendChild(t);var e=t.querySelector("#export-path");e.focus(),e.select(),t.querySelector("#cancel-export").addEventListener("click",(function(){t.remove()}));var r=function(){var e=t.querySelector("#export-path").value.trim();e?(!function(t){F.apply(this,arguments)}(e),t.remove()):OC.dialogs.alert("Please enter an export location.","Export Error")};t.querySelector("#confirm-export").addEventListener("click",r),e.addEventListener("keydown",(function(t){"Enter"===t.key&&(t.preventDefault(),r())})),t.addEventListener("click",(function(e){e.target===t&&t.remove()}))}function F(){return(F=v(regeneratorRuntime.mark((function e(r){var i,a,o,s,u,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i=(new Date).toISOString().replace(/[:.]/g,"-").slice(0,-5),a=t.replace(/\.[^/.]+$/,""),o=t.split(".").pop(),V(s="".concat(a,"_clip_").concat(i,".").concat(o),r),u="/"===n.dir?"/".concat(t):"".concat(n.dir,"/").concat(t),e.next=9,fetch(OC.generateUrl("/apps/hyper_viewer/api/export-clip"),{method:"POST",headers:{"Content-Type":"application/json",requesttoken:OC.requestToken},body:JSON.stringify({originalPath:u,startTime:A,endTime:b,exportPath:r,clipFilename:s})});case 9:return l=e.sent,e.next=12,l.json();case 12:if(d=e.sent,l.ok){e.next=15;break}throw new Error(d.error||"Export failed");case 15:c.log("✅ Export started successfully:",d),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),c.error("❌ Export failed:",e.t0),OC.dialogs.alert("Export failed: ".concat(e.t0.message),"Export Error");case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}function V(t,e){var n=document.createElement("div");n.style.cssText="\n\t\t\tposition: fixed; top: 20px; right: 20px; z-index: 10003;\n\t\t\tbackground: #4CAF50; color: white; padding: 16px 20px; border-radius: 8px;\n\t\t\tbox-shadow: 0 4px 12px rgba(0,0,0,0.3); max-width: 400px;\n\t\t\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n\t\t",n.innerHTML='\n\t\t\t<div style="display: flex; align-items: center; gap: 12px;">\n\t\t\t\t<div style="font-size: 20px;">✂️</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div style="font-weight: bold; margin-bottom: 4px;">Export Started</div>\n\t\t\t\t\t<div style="font-size: 13px; opacity: 0.9;">\n\t\t\t\t\t\tCreating: '.concat(t,"<br>\n\t\t\t\t\t\tLocation: ").concat(e,"\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t"),document.body.appendChild(n),setTimeout((function(){n.parentNode&&(n.style.opacity="0",n.style.transform="translateX(100%)",n.style.transition="all 0.3s ease",setTimeout((function(){return n.remove()}),300))}),5e3)}function G(t){var e=Math.max(0,Math.min(A+t,b-.1));A=e,m.currentTime=e,N(),D()}function z(t){var e=Math.max(A+.1,Math.min(b+t,w));b=e,m.currentTime=e,N(),D()}h.querySelector("#toggle-clip-mode").addEventListener("click",O),h.querySelector("#exit-clip-mode").addEventListener("click",O),h.querySelector("#start-frame-back").addEventListener("click",(function(){return G(-1/30)})),h.querySelector("#start-frame-forward").addEventListener("click",(function(){return G(1/30)})),h.querySelector("#start-set-current").addEventListener("click",(function(){return j(!0)})),h.querySelector("#end-frame-back").addEventListener("click",(function(){return z(-1/30)})),h.querySelector("#end-frame-forward").addEventListener("click",(function(){return z(1/30)})),h.querySelector("#end-set-current").addEventListener("click",(function(){return j(!1)})),h.querySelector("#preview-clip").addEventListener("click",(function(){m.currentTime=A,m.play(),requestAnimationFrame((function t(){m.currentTime>=b?m.pause():requestAnimationFrame(t)}))})),h.querySelector("#reset-markers").addEventListener("click",(function(){A=0,b=w,N(),D()})),h.querySelector("#export-clip").addEventListener("click",q);var H=h.querySelector("#timeline-container"),K=h.querySelector("#start-marker"),W=h.querySelector("#end-marker");function $(t,e){t.addEventListener("mousedown",(function(t){t.preventDefault(),t.stopPropagation(),C=!0,B(e?"start":"end");var n=function(t){if(C){var n=H.getBoundingClientRect(),r=t.clientX-n.left,i=Math.max(0,Math.min(1,r/n.width))*w;e?A=Math.min(i,b-.1):b=Math.max(i,A+.1),m.currentTime=i,N(),D()}};document.addEventListener("mousemove",n),document.addEventListener("mouseup",(function t(){C=!1,null,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",t)}))}));var n=t.querySelector('div[id$="-tooltip"]');t.addEventListener("mouseenter",(function(){C||(t.style.transform="scale(1.1)",t.style.boxShadow="0 0 8px rgba(255,255,255,0.5)",n&&(n.style.display="block",n.textContent=P(e?A:b)))})),t.addEventListener("mouseleave",(function(){C||(t.style.transform="scale(1)",t.style.boxShadow="none",n&&(n.style.display="none"))}))}function X(t){if("Escape"===t.key)return t.preventDefault(),void f();if(" "===t.key||"Spacebar"===t.key)return t.preventDefault(),void(m.paused?m.play():m.pause());if(t.shiftKey&&"ArrowRight"===t.key&&!t.target.matches("input, textarea"))return t.preventDefault(),void(s.length>1&&x(1));if(t.shiftKey&&"ArrowLeft"===t.key&&!t.target.matches("input, textarea"))return t.preventDefault(),void(s.length>1&&x(-1));if(h.querySelector("#clipping-panel").style.display&&"none"!==h.querySelector("#clipping-panel").style.display){switch((["ArrowLeft","ArrowRight","Enter"].includes(t.key)||"Enter"===t.key&&(t.ctrlKey||t.metaKey))&&t.preventDefault(),t.key){case"ArrowLeft":m.currentTime>0&&(m.currentTime=Math.max(0,m.currentTime-1/30));break;case"ArrowRight":m.currentTime<m.duration&&(m.currentTime=Math.min(m.duration,m.currentTime+1/30));break;case"Enter":if(t.ctrlKey||t.metaKey)q();else{var e=document.querySelector("#confirm-export");e&&e.click()}}}}H.addEventListener("click",(function(t){if(!C){var e=H.getBoundingClientRect(),n=t.clientX-e.left,r=Math.max(0,Math.min(1,n/e.width))*w;m.currentTime=r}})),$(K,!0),$(W,!1),document.addEventListener("keydown",X);var Y=h.remove;h.remove=function(){document.removeEventListener("keydown",X),Y.call(this)}}c.log("🎬 Hyper Viewer Files integration loading..."),document.addEventListener("DOMContentLoaded",(function(){setTimeout(y,1e3)}))},9742:function(t,e){"use strict";e.byteLength=function(t){var e=u(t),n=e[0],r=e[1];return 3*(n+r)/4-r},e.toByteArray=function(t){var e,n,a=u(t),o=a[0],s=a[1],l=new i(function(t,e,n){return 3*(e+n)/4-n}(0,o,s)),c=0,d=s>0?o-4:o;for(n=0;n<d;n+=4)e=r[t.charCodeAt(n)]<<18|r[t.charCodeAt(n+1)]<<12|r[t.charCodeAt(n+2)]<<6|r[t.charCodeAt(n+3)],l[c++]=e>>16&255,l[c++]=e>>8&255,l[c++]=255&e;2===s&&(e=r[t.charCodeAt(n)]<<2|r[t.charCodeAt(n+1)]>>4,l[c++]=255&e);1===s&&(e=r[t.charCodeAt(n)]<<10|r[t.charCodeAt(n+1)]<<4|r[t.charCodeAt(n+2)]>>2,l[c++]=e>>8&255,l[c++]=255&e);return l},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,a=[],o=16383,s=0,u=r-i;s<u;s+=o)a.push(l(t,s,s+o>u?u:s+o));1===i?(e=t[r-1],a.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],a.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return a.join("")};for(var n=[],r=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=a.length;o<s;++o)n[o]=a[o],r[a.charCodeAt(o)]=o;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function l(t,e,r){for(var i,a,o=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(n[(a=i)>>18&63]+n[a>>12&63]+n[a>>6&63]+n[63&a]);return o.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},8764:function(t,e,n){"use strict";var r=n(5108);const i=n(9742),a=n(645),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50;const s=2147483647;function u(t){if(t>s)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,l.prototype),e}function l(t,e,n){if("number"==typeof t){if("string"==typeof e)throw new TypeError('The "string" argument must be of type string. Received type number');return p(t)}return c(t,e,n)}function c(t,e,n){if("string"==typeof t)return function(t,e){"string"==typeof e&&""!==e||(e="utf8");if(!l.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const n=0|m(t,e);let r=u(n);const i=r.write(t,e);i!==n&&(r=r.slice(0,i));return r}(t,e);if(ArrayBuffer.isView(t))return function(t){if(Y(t,Uint8Array)){const e=new Uint8Array(t);return f(e.buffer,e.byteOffset,e.byteLength)}return h(t)}(t);if(null==t)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Y(t,ArrayBuffer)||t&&Y(t.buffer,ArrayBuffer))return f(t,e,n);if("undefined"!=typeof SharedArrayBuffer&&(Y(t,SharedArrayBuffer)||t&&Y(t.buffer,SharedArrayBuffer)))return f(t,e,n);if("number"==typeof t)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=t.valueOf&&t.valueOf();if(null!=r&&r!==t)return l.from(r,e,n);const i=function(t){if(l.isBuffer(t)){const e=0|g(t.length),n=u(e);return 0===n.length||t.copy(n,0,0,e),n}if(void 0!==t.length)return"number"!=typeof t.length||J(t.length)?u(0):h(t);if("Buffer"===t.type&&Array.isArray(t.data))return h(t.data)}(t);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof t[Symbol.toPrimitive])return l.from(t[Symbol.toPrimitive]("string"),e,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function d(t){if("number"!=typeof t)throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function p(t){return d(t),u(t<0?0:0|g(t))}function h(t){const e=t.length<0?0:0|g(t.length),n=u(e);for(let r=0;r<e;r+=1)n[r]=255&t[r];return n}function f(t,e,n){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===e&&void 0===n?new Uint8Array(t):void 0===n?new Uint8Array(t,e):new Uint8Array(t,e,n),Object.setPrototypeOf(r,l.prototype),r}function g(t){if(t>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|t}function m(t,e){if(l.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Y(t,ArrayBuffer))return t.byteLength;if("string"!=typeof t)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const n=t.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(t).length;default:if(i)return r?-1:W(t).length;e=(""+e).toLowerCase(),i=!0}}function v(t,e,n){let r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,n);case"utf8":case"utf-8":return k(this,e,n);case"ascii":return M(this,e,n);case"latin1":case"binary":return R(this,e,n);case"base64":return E(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function A(t,e,n,r,i){if(0===t.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof e&&(e=l.from(e,r)),l.isBuffer(e))return 0===e.length?-1:b(t,e,n,r,i);if("number"==typeof e)return e&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):b(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(t,e,n,r,i){let a,o=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,u/=2,n/=2}function l(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){let r=-1;for(a=n;a<s;a++)if(l(t,a)===l(e,-1===r?0:a-r)){if(-1===r&&(r=a),a-r+1===u)return r*o}else-1!==r&&(a-=a-r),r=-1}else for(n+u>s&&(n=s-u),a=n;a>=0;a--){let n=!0;for(let r=0;r<u;r++)if(l(t,a+r)!==l(e,r)){n=!1;break}if(n)return a}return-1}function w(t,e,n,r){n=Number(n)||0;const i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;const a=e.length;let o;for(r>a/2&&(r=a/2),o=0;o<r;++o){const r=parseInt(e.substr(2*o,2),16);if(J(r))return o;t[n+o]=r}return o}function C(t,e,n,r){return X(W(e,t.length-n),t,n,r)}function x(t,e,n,r){return X(function(t){const e=[];for(let n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}(e),t,n,r)}function T(t,e,n,r){return X($(e),t,n,r)}function S(t,e,n,r){return X(function(t,e){let n,r,i;const a=[];for(let o=0;o<t.length&&!((e-=2)<0);++o)n=t.charCodeAt(o),r=n>>8,i=n%256,a.push(i),a.push(r);return a}(e,t.length-n),t,n,r)}function E(t,e,n){return 0===e&&n===t.length?i.fromByteArray(t):i.fromByteArray(t.slice(e,n))}function k(t,e,n){n=Math.min(t.length,n);const r=[];let i=e;for(;i<n;){const e=t[i];let a=null,o=e>239?4:e>223?3:e>191?2:1;if(i+o<=n){let n,r,s,u;switch(o){case 1:e<128&&(a=e);break;case 2:n=t[i+1],128==(192&n)&&(u=(31&e)<<6|63&n,u>127&&(a=u));break;case 3:n=t[i+1],r=t[i+2],128==(192&n)&&128==(192&r)&&(u=(15&e)<<12|(63&n)<<6|63&r,u>2047&&(u<55296||u>57343)&&(a=u));break;case 4:n=t[i+1],r=t[i+2],s=t[i+3],128==(192&n)&&128==(192&r)&&128==(192&s)&&(u=(15&e)<<18|(63&n)<<12|(63&r)<<6|63&s,u>65535&&u<1114112&&(a=u))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=o}return function(t){const e=t.length;if(e<=I)return String.fromCharCode.apply(String,t);let n="",r=0;for(;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=I));return n}(r)}e.kMaxLength=s,l.TYPED_ARRAY_SUPPORT=function(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),42===t.foo()}catch(t){return!1}}(),l.TYPED_ARRAY_SUPPORT||void 0===r||"function"!=typeof r.error||r.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(t,e,n){return c(t,e,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(t,e,n){return function(t,e,n){return d(t),t<=0?u(t):void 0!==e?"string"==typeof n?u(t).fill(e,n):u(t).fill(e):u(t)}(t,e,n)},l.allocUnsafe=function(t){return p(t)},l.allocUnsafeSlow=function(t){return p(t)},l.isBuffer=function(t){return null!=t&&!0===t._isBuffer&&t!==l.prototype},l.compare=function(t,e){if(Y(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),Y(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let n=t.length,r=e.length;for(let i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);let n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;const r=l.allocUnsafe(e);let i=0;for(n=0;n<t.length;++n){let e=t[n];if(Y(e,Uint8Array))i+e.length>r.length?(l.isBuffer(e)||(e=l.from(e)),e.copy(r,i)):Uint8Array.prototype.set.call(r,e,i);else{if(!l.isBuffer(e))throw new TypeError('"list" argument must be an Array of Buffers');e.copy(r,i)}i+=e.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){const t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)y(this,e,e+1);return this},l.prototype.swap32=function(){const t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},l.prototype.swap64=function(){const t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},l.prototype.toString=function(){const t=this.length;return 0===t?"":0===arguments.length?k(this,0,t):v.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){let t="";const n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(t,e,n,r,i){if(Y(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;let a=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0);const s=Math.min(a,o),u=this.slice(r,i),c=t.slice(e,n);for(let t=0;t<s;++t)if(u[t]!==c[t]){a=u[t],o=c[t];break}return a<o?-1:o<a?1:0},l.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},l.prototype.indexOf=function(t,e,n){return A(this,t,e,n,!0)},l.prototype.lastIndexOf=function(t,e,n){return A(this,t,e,n,!1)},l.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"==typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let a=!1;for(;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return C(this,t,e,n);case"ascii":case"latin1":case"binary":return x(this,t,e,n);case"base64":return T(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),a=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const I=4096;function M(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function R(t,e,n){let r="";n=Math.min(t.length,n);for(let i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function L(t,e,n){const r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);let i="";for(let r=e;r<n;++r)i+=Z[t[r]];return i}function O(t,e,n){const r=t.slice(e,n);let i="";for(let t=0;t<r.length-1;t+=2)i+=String.fromCharCode(r[t]+256*r[t+1]);return i}function P(t,e,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,n,r,i,a){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function _(t,e,n,r,i){G(e,r,i,t,n,7);let a=Number(e&BigInt(4294967295));t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a,a>>=8,t[n++]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,o>>=8,t[n++]=o,n}function N(t,e,n,r,i){G(e,r,i,t,n,7);let a=Number(e&BigInt(4294967295));t[n+7]=a,a>>=8,t[n+6]=a,a>>=8,t[n+5]=a,a>>=8,t[n+4]=a;let o=Number(e>>BigInt(32)&BigInt(4294967295));return t[n+3]=o,o>>=8,t[n+2]=o,o>>=8,t[n+1]=o,o>>=8,t[n]=o,n+8}function U(t,e,n,r,i,a){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(t,e,n,r,i){return e=+e,n>>>=0,i||U(t,0,n,4),a.write(t,e,n,r,23,4),n+4}function j(t,e,n,r,i){return e=+e,n>>>=0,i||U(t,0,n,8),a.write(t,e,n,r,52,8),n+8}l.prototype.slice=function(t,e){const n=this.length;(t=~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),(e=void 0===e?n:~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);const r=this.subarray(t,e);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],i=1,a=0;for(;++a<e&&(i*=256);)r+=this[t+a]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t+--e],i=1;for(;e>0&&(i*=256);)r+=this[t+--e]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),this[t]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(t,e){return t>>>=0,e||P(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readBigUInt64LE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=e+256*this[++t]+65536*this[++t]+this[++t]*2**24,i=this[++t]+256*this[++t]+65536*this[++t]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),l.prototype.readBigUInt64BE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=e*2**24+65536*this[++t]+256*this[++t]+this[++t],i=this[++t]*2**24+65536*this[++t]+256*this[++t]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),l.prototype.readIntLE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=this[t],i=1,a=0;for(;++a<e&&(i*=256);)r+=this[t+a]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},l.prototype.readIntBE=function(t,e,n){t>>>=0,e>>>=0,n||P(t,e,this.length);let r=e,i=1,a=this[t+--r];for(;r>0&&(i*=256);)a+=this[t+--r]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*e)),a},l.prototype.readInt8=function(t,e){return t>>>=0,e||P(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(t,e){t>>>=0,e||P(t,2,this.length);const n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return t>>>=0,e||P(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readBigInt64LE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=this[t+4]+256*this[t+5]+65536*this[t+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(e+256*this[++t]+65536*this[++t]+this[++t]*2**24)})),l.prototype.readBigInt64BE=Q((function(t){z(t>>>=0,"offset");const e=this[t],n=this[t+7];void 0!==e&&void 0!==n||H(t,this.length-8);const r=(e<<24)+65536*this[++t]+256*this[++t]+this[++t];return(BigInt(r)<<BigInt(32))+BigInt(this[++t]*2**24+65536*this[++t]+256*this[++t]+n)})),l.prototype.readFloatLE=function(t,e){return t>>>=0,e||P(t,4,this.length),a.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return t>>>=0,e||P(t,4,this.length),a.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return t>>>=0,e||P(t,8,this.length),a.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return t>>>=0,e||P(t,8,this.length),a.read(this,t,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){D(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=1,a=0;for(this[e]=255&t;++a<n&&(i*=256);)this[e+a]=t/i&255;return e+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e>>>=0,n>>>=0,!r){D(this,t,e,n,Math.pow(2,8*n)-1,0)}let i=n-1,a=1;for(this[e+i]=255&t;--i>=0&&(a*=256);)this[e+i]=t/a&255;return e+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,255,0),this[e]=255&t,e+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigUInt64LE=Q((function(t,e=0){return _(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeBigUInt64BE=Q((function(t,e=0){return N(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))})),l.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);D(this,t,e,n,r-1,-r)}let i=0,a=1,o=0;for(this[e]=255&t;++i<n&&(a*=256);)t<0&&0===o&&0!==this[e+i-1]&&(o=1),this[e+i]=(t/a>>0)-o&255;return e+n},l.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e>>>=0,!r){const r=Math.pow(2,8*n-1);D(this,t,e,n,r-1,-r)}let i=n-1,a=1,o=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===o&&0!==this[e+i+1]&&(o=1),this[e+i]=(t/a>>0)-o&255;return e+n},l.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},l.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},l.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},l.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},l.prototype.writeBigInt64LE=Q((function(t,e=0){return _(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeBigInt64BE=Q((function(t,e=0){return N(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),l.prototype.writeFloatLE=function(t,e,n){return B(this,t,e,!0,n)},l.prototype.writeFloatBE=function(t,e,n){return B(this,t,e,!1,n)},l.prototype.writeDoubleLE=function(t,e,n){return j(this,t,e,!0,n)},l.prototype.writeDoubleBE=function(t,e,n){return j(this,t,e,!1,n)},l.prototype.copy=function(t,e,n,r){if(!l.isBuffer(t))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);const i=r-n;return this===t&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(e,n,r):Uint8Array.prototype.set.call(t,this.subarray(n,r),e),i},l.prototype.fill=function(t,e,n,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===t.length){const e=t.charCodeAt(0);("utf8"===r&&e<128||"latin1"===r)&&(t=e)}}else"number"==typeof t?t&=255:"boolean"==typeof t&&(t=Number(t));if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;let i;if(e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0),"number"==typeof t)for(i=e;i<n;++i)this[i]=t;else{const a=l.isBuffer(t)?t:l.from(t,r),o=a.length;if(0===o)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(i=0;i<n-e;++i)this[i+e]=a[i%o]}return this};const q={};function F(t,e,n){q[t]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(t){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:t,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}function V(t){let e="",n=t.length;const r="-"===t[0]?1:0;for(;n>=r+4;n-=3)e=`_${t.slice(n-3,n)}${e}`;return`${t.slice(0,n)}${e}`}function G(t,e,n,r,i,a){if(t>n||t<e){const r="bigint"==typeof e?"n":"";let i;throw i=a>3?0===e||e===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(a+1)}${r}`:`>= -(2${r} ** ${8*(a+1)-1}${r}) and < 2 ** ${8*(a+1)-1}${r}`:`>= ${e}${r} and <= ${n}${r}`,new q.ERR_OUT_OF_RANGE("value",i,t)}!function(t,e,n){z(e,"offset"),void 0!==t[e]&&void 0!==t[e+n]||H(e,t.length-(n+1))}(r,i,a)}function z(t,e){if("number"!=typeof t)throw new q.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,n){if(Math.floor(t)!==t)throw z(t,n),new q.ERR_OUT_OF_RANGE(n||"offset","an integer",t);if(e<0)throw new q.ERR_BUFFER_OUT_OF_BOUNDS;throw new q.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${e}`,t)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(t,e,n){let r=`The value of "${t}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=V(String(n)):"bigint"==typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),r+=` It must be ${e}. Received ${i}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(t,e){let n;e=e||1/0;const r=t.length;let i=null;const a=[];for(let o=0;o<r;++o){if(n=t.charCodeAt(o),n>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&a.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&a.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&a.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&a.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;a.push(n)}else if(n<2048){if((e-=2)<0)break;a.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;a.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;a.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return a}function $(t){return i.toByteArray(function(t){if((t=(t=t.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function X(t,e,n,r){let i;for(i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Y(t,e){return t instanceof e||null!=t&&null!=t.constructor&&null!=t.constructor.name&&t.constructor.name===e.name}function J(t){return t!=t}const Z=function(){const t="0123456789abcdef",e=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)e[r+i]=t[n]+t[i]}return e}();function Q(t){return"undefined"==typeof BigInt?tt:t}function tt(){throw new Error("BigInt not supported")}},5116:function(t,e,n){"use strict";var r=n(8612),i=n(1768),a=n(8928),o=n(9770);t.exports=o||r.call(a,i)},1768:function(t){"use strict";t.exports=Function.prototype.apply},8928:function(t){"use strict";t.exports=Function.prototype.call},319:function(t,e,n){"use strict";var r=n(8612),i=n(4453),a=n(8928),o=n(5116);t.exports=function(t){if(t.length<1||"function"!=typeof t[0])throw new i("a function is required");return o(r,a,t)}},9770:function(t){"use strict";t.exports="undefined"!=typeof Reflect&&Reflect&&Reflect.apply},1924:function(t,e,n){"use strict";var r=n(210),i=n(5559),a=i(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&a(t,".prototype.")>-1?i(n):n}},5559:function(t,e,n){"use strict";var r=n(8612),i=n(210),a=i("%Function.prototype.apply%"),o=i("%Function.prototype.call%"),s=i("%Reflect.apply%",!0)||r.call(o,a),u=i("%Object.getOwnPropertyDescriptor%",!0),l=i("%Object.defineProperty%",!0),c=i("%Math.max%");if(l)try{l({},"a",{value:1})}catch(t){l=null}t.exports=function(t){var e=s(r,o,arguments);if(u&&l){var n=u(e,"length");n.configurable&&l(e,"length",{value:1+c(0,t.length-(arguments.length-1))})}return e};var d=function(){return s(r,a,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d},5108:function(t,e,n){var r=n(9539),i=n(9282);function a(){return(new Date).getTime()}var o,s=Array.prototype.slice,u={};o=void 0!==n.g&&n.g.console?n.g.console:"undefined"!=typeof window&&window.console?window.console:{};for(var l=[[function(){},"log"],[function(){o.log.apply(o,arguments)},"info"],[function(){o.log.apply(o,arguments)},"warn"],[function(){o.warn.apply(o,arguments)},"error"],[function(t){u[t]=a()},"time"],[function(t){var e=u[t];if(!e)throw new Error("No such label: "+t);delete u[t];var n=a()-e;o.log(t+": "+n+"ms")},"timeEnd"],[function(){var t=new Error;t.name="Trace",t.message=r.format.apply(null,arguments),o.error(t.stack)},"trace"],[function(t){o.log(r.inspect(t)+"\n")},"dir"],[function(t){if(!t){var e=s.call(arguments,1);i.ok(!1,r.format.apply(null,e))}},"assert"]],c=0;c<l.length;c++){var d=l[c],p=d[0],h=d[1];o[h]||(o[h]=p)}t.exports=o},9662:function(t,e,n){"use strict";var r=n(614),i=n(6330),a=TypeError;t.exports=function(t){if(r(t))return t;throw new a(i(t)+" is not a function")}},1530:function(t,e,n){"use strict";var r=n(8710).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},9670:function(t,e,n){"use strict";var r=n(111),i=String,a=TypeError;t.exports=function(t){if(r(t))return t;throw new a(i(t)+" is not an object")}},1318:function(t,e,n){"use strict";var r=n(5656),i=n(1400),a=n(6244),o=function(t){return function(e,n,o){var s=r(e),u=a(s);if(0===u)return!t&&-1;var l,c=i(o,u);if(t&&n!=n){for(;u>c;)if((l=s[c++])!=l)return!0}else for(;u>c;c++)if((t||c in s)&&s[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},4326:function(t,e,n){"use strict";var r=n(1702),i=r({}.toString),a=r("".slice);t.exports=function(t){return a(i(t),8,-1)}},648:function(t,e,n){"use strict";var r=n(1694),i=n(614),a=n(4326),o=n(5112)("toStringTag"),s=Object,u="Arguments"===a(function(){return arguments}());t.exports=r?a:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=s(t),o))?n:u?a(e):"Object"===(r=a(e))&&i(e.callee)?"Arguments":r}},9920:function(t,e,n){"use strict";var r=n(2597),i=n(3887),a=n(1236),o=n(3070);t.exports=function(t,e,n){for(var s=i(e),u=o.f,l=a.f,c=0;c<s.length;c++){var d=s[c];r(t,d)||n&&r(n,d)||u(t,d,l(e,d))}}},8880:function(t,e,n){"use strict";var r=n(9781),i=n(3070),a=n(9114);t.exports=r?function(t,e,n){return i.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},9114:function(t){"use strict";t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},8052:function(t,e,n){"use strict";var r=n(614),i=n(3070),a=n(6339),o=n(3072);t.exports=function(t,e,n,s){s||(s={});var u=s.enumerable,l=void 0!==s.name?s.name:e;if(r(n)&&a(n,l,s),s.global)u?t[e]=n:o(e,n);else{try{s.unsafe?t[e]&&(u=!0):delete t[e]}catch(t){}u?t[e]=n:i.f(t,e,{value:n,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return t}},3072:function(t,e,n){"use strict";var r=n(7854),i=Object.defineProperty;t.exports=function(t,e){try{i(r,t,{value:e,configurable:!0,writable:!0})}catch(n){r[t]=e}return e}},9781:function(t,e,n){"use strict";var r=n(7293);t.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(t,e,n){"use strict";var r=n(7854),i=n(111),a=r.document,o=i(a)&&i(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},8113:function(t){"use strict";t.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7392:function(t,e,n){"use strict";var r,i,a=n(7854),o=n(8113),s=a.process,u=a.Deno,l=s&&s.versions||u&&u.version,c=l&&l.v8;c&&(i=(r=c.split("."))[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=+r[1]),t.exports=i},748:function(t){"use strict";t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2109:function(t,e,n){"use strict";var r=n(7854),i=n(1236).f,a=n(8880),o=n(8052),s=n(3072),u=n(9920),l=n(4705);t.exports=function(t,e){var n,c,d,p,h,f=t.target,g=t.global,m=t.stat;if(n=g?r:m?r[f]||s(f,{}):r[f]&&r[f].prototype)for(c in e){if(p=e[c],d=t.dontCallGetSet?(h=i(n,c))&&h.value:n[c],!l(g?c:f+(m?".":"#")+c,t.forced)&&void 0!==d){if(typeof p==typeof d)continue;u(p,d)}(t.sham||d&&d.sham)&&a(p,"sham",!0),o(n,c,p,t)}}},7293:function(t){"use strict";t.exports=function(t){try{return!!t()}catch(t){return!0}}},7007:function(t,e,n){"use strict";n(4916);var r=n(6916),i=n(8052),a=n(2261),o=n(7293),s=n(5112),u=n(8880),l=s("species"),c=RegExp.prototype;t.exports=function(t,e,n,d){var p=s(t),h=!o((function(){var e={};return e[p]=function(){return 7},7!==""[t](e)})),f=h&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[p]=/./[p]),n.exec=function(){return e=!0,null},n[p](""),!e}));if(!h||!f||n){var g=/./[p],m=e(p,""[t],(function(t,e,n,i,o){var s=e.exec;return s===a||s===c.exec?h&&!o?{done:!0,value:r(g,e,n,i)}:{done:!0,value:r(t,n,e,i)}:{done:!1}}));i(String.prototype,t,m[0]),i(c,p,m[1])}d&&u(c[p],"sham",!0)}},2104:function(t,e,n){"use strict";var r=n(4374),i=Function.prototype,a=i.apply,o=i.call;t.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(a):function(){return o.apply(a,arguments)})},4374:function(t,e,n){"use strict";var r=n(7293);t.exports=!r((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},6916:function(t,e,n){"use strict";var r=n(4374),i=Function.prototype.call;t.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(t,e,n){"use strict";var r=n(9781),i=n(2597),a=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,s=i(a,"name"),u=s&&"something"===function(){}.name,l=s&&(!r||r&&o(a,"name").configurable);t.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},1702:function(t,e,n){"use strict";var r=n(4374),i=Function.prototype,a=i.call,o=r&&i.bind.bind(a,a);t.exports=r?o:function(t){return function(){return a.apply(t,arguments)}}},5005:function(t,e,n){"use strict";var r=n(7854),i=n(614),a=function(t){return i(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t]):r[t]&&r[t][e]}},8173:function(t,e,n){"use strict";var r=n(9662),i=n(8554);t.exports=function(t,e){var n=t[e];return i(n)?void 0:r(n)}},647:function(t,e,n){"use strict";var r=n(1702),i=n(7908),a=Math.floor,o=r("".charAt),s=r("".replace),u=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,r,d,p){var h=n+t.length,f=r.length,g=c;return void 0!==d&&(d=i(d),g=l),s(p,g,(function(i,s){var l;switch(o(s,0)){case"$":return"$";case"&":return t;case"`":return u(e,0,n);case"'":return u(e,h);case"<":l=d[u(s,1,-1)];break;default:var c=+s;if(0===c)return i;if(c>f){var p=a(c/10);return 0===p?i:p<=f?void 0===r[p-1]?o(s,1):r[p-1]+o(s,1):i}l=r[c-1]}return void 0===l?"":l}))}},7854:function(t,e,n){"use strict";var r=function(t){return t&&t.Math===Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()},2597:function(t,e,n){"use strict";var r=n(1702),i=n(7908),a=r({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return a(i(t),e)}},3501:function(t){"use strict";t.exports={}},490:function(t,e,n){"use strict";var r=n(5005);t.exports=r("document","documentElement")},4664:function(t,e,n){"use strict";var r=n(9781),i=n(7293),a=n(317);t.exports=!r&&!i((function(){return 7!==Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},8361:function(t,e,n){"use strict";var r=n(1702),i=n(7293),a=n(4326),o=Object,s=r("".split);t.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"===a(t)?s(t,""):o(t)}:o},2788:function(t,e,n){"use strict";var r=n(1702),i=n(614),a=n(5465),o=r(Function.toString);i(a.inspectSource)||(a.inspectSource=function(t){return o(t)}),t.exports=a.inspectSource},9909:function(t,e,n){"use strict";var r,i,a,o=n(4811),s=n(7854),u=n(111),l=n(8880),c=n(2597),d=n(5465),p=n(6200),h=n(3501),f="Object already initialized",g=s.TypeError,m=s.WeakMap;if(o||d.state){var v=d.state||(d.state=new m);v.get=v.get,v.has=v.has,v.set=v.set,r=function(t,e){if(v.has(t))throw new g(f);return e.facade=t,v.set(t,e),e},i=function(t){return v.get(t)||{}},a=function(t){return v.has(t)}}else{var y=p("state");h[y]=!0,r=function(t,e){if(c(t,y))throw new g(f);return e.facade=t,l(t,y,e),e},i=function(t){return c(t,y)?t[y]:{}},a=function(t){return c(t,y)}}t.exports={set:r,get:i,has:a,enforce:function(t){return a(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=i(e)).type!==t)throw new g("Incompatible receiver, "+t+" required");return n}}}},614:function(t){"use strict";var e="object"==typeof document&&document.all;t.exports=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e}:function(t){return"function"==typeof t}},4705:function(t,e,n){"use strict";var r=n(7293),i=n(614),a=/#|\.prototype\./,o=function(t,e){var n=u[s(t)];return n===c||n!==l&&(i(e)?r(e):!!e)},s=o.normalize=function(t){return String(t).replace(a,".").toLowerCase()},u=o.data={},l=o.NATIVE="N",c=o.POLYFILL="P";t.exports=o},8554:function(t){"use strict";t.exports=function(t){return null==t}},111:function(t,e,n){"use strict";var r=n(614);t.exports=function(t){return"object"==typeof t?null!==t:r(t)}},1913:function(t){"use strict";t.exports=!1},2190:function(t,e,n){"use strict";var r=n(5005),i=n(614),a=n(7976),o=n(3307),s=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=r("Symbol");return i(e)&&a(e.prototype,s(t))}},6244:function(t,e,n){"use strict";var r=n(7466);t.exports=function(t){return r(t.length)}},6339:function(t,e,n){"use strict";var r=n(1702),i=n(7293),a=n(614),o=n(2597),s=n(9781),u=n(6530).CONFIGURABLE,l=n(2788),c=n(9909),d=c.enforce,p=c.get,h=String,f=Object.defineProperty,g=r("".slice),m=r("".replace),v=r([].join),y=s&&!i((function(){return 8!==f((function(){}),"length",{value:8}).length})),A=String(String).split("String"),b=t.exports=function(t,e,n){"Symbol("===g(h(e),0,7)&&(e="["+m(h(e),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!o(t,"name")||u&&t.name!==e)&&(s?f(t,"name",{value:e,configurable:!0}):t.name=e),y&&n&&o(n,"arity")&&t.length!==n.arity&&f(t,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&f(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=d(t);return o(r,"source")||(r.source=v(A,"string"==typeof e?e:"")),t};Function.prototype.toString=b((function(){return a(this)&&p(this).source||l(this)}),"toString")},4758:function(t){"use strict";var e=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var r=+t;return(r>0?n:e)(r)}},30:function(t,e,n){"use strict";var r,i=n(9670),a=n(6048),o=n(748),s=n(3501),u=n(490),l=n(317),c=n(6200),d=c("IE_PROTO"),p=function(){},h=function(t){return"<script>"+t+"</"+"script>"},f=function(t){t.write(h("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}var t,e;g="undefined"!=typeof document?document.domain&&r?f(r):((e=l("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(h("document.F=Object")),t.close(),t.F):f(r);for(var n=o.length;n--;)delete g.prototype[o[n]];return g()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=i(t),n=new p,p.prototype=null,n[d]=t):n=g(),void 0===e?n:a.f(n,e)}},6048:function(t,e,n){"use strict";var r=n(9781),i=n(3353),a=n(3070),o=n(9670),s=n(5656),u=n(1956);e.f=r&&!i?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),i=u(e),l=i.length,c=0;l>c;)a.f(t,n=i[c++],r[n]);return t}},3070:function(t,e,n){"use strict";var r=n(9781),i=n(4664),a=n(3353),o=n(9670),s=n(4948),u=TypeError,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",p="configurable",h="writable";e.f=r?a?function(t,e,n){if(o(t),e=s(e),o(n),"function"==typeof t&&"prototype"===e&&"value"in n&&h in n&&!n.writable){var r=c(t,e);r&&r.writable&&(t[e]=n.value,n={configurable:p in n?n.configurable:r.configurable,enumerable:d in n?n.enumerable:r.enumerable,writable:!1})}return l(t,e,n)}:l:function(t,e,n){if(o(t),e=s(e),o(n),i)try{return l(t,e,n)}catch(t){}if("get"in n||"set"in n)throw new u("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},1236:function(t,e,n){"use strict";var r=n(9781),i=n(6916),a=n(5296),o=n(9114),s=n(5656),u=n(4948),l=n(2597),c=n(4664),d=Object.getOwnPropertyDescriptor;e.f=r?d:function(t,e){if(t=s(t),e=u(e),c)try{return d(t,e)}catch(t){}if(l(t,e))return o(!i(a.f,t,e),t[e])}},8006:function(t,e,n){"use strict";var r=n(6324),i=n(748).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},5181:function(t,e){"use strict";e.f=Object.getOwnPropertySymbols},7976:function(t,e,n){"use strict";var r=n(1702);t.exports=r({}.isPrototypeOf)},6324:function(t,e,n){"use strict";var r=n(1702),i=n(2597),a=n(5656),o=n(1318).indexOf,s=n(3501),u=r([].push);t.exports=function(t,e){var n,r=a(t),l=0,c=[];for(n in r)!i(s,n)&&i(r,n)&&u(c,n);for(;e.length>l;)i(r,n=e[l++])&&(~o(c,n)||u(c,n));return c}},1956:function(t,e,n){"use strict";var r=n(6324),i=n(748);t.exports=Object.keys||function(t){return r(t,i)}},5296:function(t,e){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);e.f=i?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},2140:function(t,e,n){"use strict";var r=n(6916),i=n(614),a=n(111),o=TypeError;t.exports=function(t,e){var n,s;if("string"===e&&i(n=t.toString)&&!a(s=r(n,t)))return s;if(i(n=t.valueOf)&&!a(s=r(n,t)))return s;if("string"!==e&&i(n=t.toString)&&!a(s=r(n,t)))return s;throw new o("Can't convert object to primitive value")}},3887:function(t,e,n){"use strict";var r=n(5005),i=n(1702),a=n(8006),o=n(5181),s=n(9670),u=i([].concat);t.exports=r("Reflect","ownKeys")||function(t){var e=a.f(s(t)),n=o.f;return n?u(e,n(t)):e}},7651:function(t,e,n){"use strict";var r=n(6916),i=n(9670),a=n(614),o=n(4326),s=n(2261),u=TypeError;t.exports=function(t,e){var n=t.exec;if(a(n)){var l=r(n,t,e);return null!==l&&i(l),l}if("RegExp"===o(t))return r(s,t,e);throw new u("RegExp#exec called on incompatible receiver")}},2261:function(t,e,n){"use strict";var r,i,a=n(6916),o=n(1702),s=n(1340),u=n(7066),l=n(2999),c=n(2309),d=n(30),p=n(9909).get,h=n(9441),f=n(7168),g=c("native-string-replace",String.prototype.replace),m=RegExp.prototype.exec,v=m,y=o("".charAt),A=o("".indexOf),b=o("".replace),w=o("".slice),C=(i=/b*/g,a(m,r=/a/,"a"),a(m,i,"a"),0!==r.lastIndex||0!==i.lastIndex),x=l.BROKEN_CARET,T=void 0!==/()??/.exec("")[1];(C||T||x||h||f)&&(v=function(t){var e,n,r,i,o,l,c,h=this,f=p(h),S=s(t),E=f.raw;if(E)return E.lastIndex=h.lastIndex,e=a(v,E,S),h.lastIndex=E.lastIndex,e;var k=f.groups,I=x&&h.sticky,M=a(u,h),R=h.source,L=0,O=S;if(I&&(M=b(M,"y",""),-1===A(M,"g")&&(M+="g"),O=w(S,h.lastIndex),h.lastIndex>0&&(!h.multiline||h.multiline&&"\n"!==y(S,h.lastIndex-1))&&(R="(?: "+R+")",O=" "+O,L++),n=new RegExp("^(?:"+R+")",M)),T&&(n=new RegExp("^"+R+"$(?!\\s)",M)),C&&(r=h.lastIndex),i=a(m,I?n:h,O),I?i?(i.input=w(i.input,L),i[0]=w(i[0],L),i.index=h.lastIndex,h.lastIndex+=i[0].length):h.lastIndex=0:C&&i&&(h.lastIndex=h.global?i.index+i[0].length:r),T&&i&&i.length>1&&a(g,i[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(i[o]=void 0)})),i&&k)for(i.groups=l=d(null),o=0;o<k.length;o++)l[(c=k[o])[0]]=i[c[1]];return i}),t.exports=v},7066:function(t,e,n){"use strict";var r=n(9670);t.exports=function(){var t=r(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e}},2999:function(t,e,n){"use strict";var r=n(7293),i=n(7854).RegExp,a=r((function(){var t=i("a","y");return t.lastIndex=2,null!==t.exec("abcd")})),o=a||r((function(){return!i("a","y").sticky})),s=a||r((function(){var t=i("^r","gy");return t.lastIndex=2,null!==t.exec("str")}));t.exports={BROKEN_CARET:s,MISSED_STICKY:o,UNSUPPORTED_Y:a}},9441:function(t,e,n){"use strict";var r=n(7293),i=n(7854).RegExp;t.exports=r((function(){var t=i(".","s");return!(t.dotAll&&t.test("\n")&&"s"===t.flags)}))},7168:function(t,e,n){"use strict";var r=n(7293),i=n(7854).RegExp;t.exports=r((function(){var t=i("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},4488:function(t,e,n){"use strict";var r=n(8554),i=TypeError;t.exports=function(t){if(r(t))throw new i("Can't call method on "+t);return t}},6200:function(t,e,n){"use strict";var r=n(2309),i=n(9711),a=r("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},5465:function(t,e,n){"use strict";var r=n(1913),i=n(7854),a=n(3072),o="__core-js_shared__",s=t.exports=i[o]||a(o,{});(s.versions||(s.versions=[])).push({version:"3.37.0",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.0/LICENSE",source:"https://github.com/zloirock/core-js"})},2309:function(t,e,n){"use strict";var r=n(5465);t.exports=function(t,e){return r[t]||(r[t]=e||{})}},8710:function(t,e,n){"use strict";var r=n(1702),i=n(9303),a=n(1340),o=n(4488),s=r("".charAt),u=r("".charCodeAt),l=r("".slice),c=function(t){return function(e,n){var r,c,d=a(o(e)),p=i(n),h=d.length;return p<0||p>=h?t?"":void 0:(r=u(d,p))<55296||r>56319||p+1===h||(c=u(d,p+1))<56320||c>57343?t?s(d,p):r:t?l(d,p,p+2):c-56320+(r-55296<<10)+65536}};t.exports={codeAt:c(!1),charAt:c(!0)}},6293:function(t,e,n){"use strict";var r=n(7392),i=n(7293),a=n(7854).String;t.exports=!!Object.getOwnPropertySymbols&&!i((function(){var t=Symbol("symbol detection");return!a(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},1400:function(t,e,n){"use strict";var r=n(9303),i=Math.max,a=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):a(n,e)}},5656:function(t,e,n){"use strict";var r=n(8361),i=n(4488);t.exports=function(t){return r(i(t))}},9303:function(t,e,n){"use strict";var r=n(4758);t.exports=function(t){var e=+t;return e!=e||0===e?0:r(e)}},7466:function(t,e,n){"use strict";var r=n(9303),i=Math.min;t.exports=function(t){var e=r(t);return e>0?i(e,9007199254740991):0}},7908:function(t,e,n){"use strict";var r=n(4488),i=Object;t.exports=function(t){return i(r(t))}},7593:function(t,e,n){"use strict";var r=n(6916),i=n(111),a=n(2190),o=n(8173),s=n(2140),u=n(5112),l=TypeError,c=u("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var n,u=o(t,c);if(u){if(void 0===e&&(e="default"),n=r(u,t,e),!i(n)||a(n))return n;throw new l("Can't convert object to primitive value")}return void 0===e&&(e="number"),s(t,e)}},4948:function(t,e,n){"use strict";var r=n(7593),i=n(2190);t.exports=function(t){var e=r(t,"string");return i(e)?e:e+""}},1694:function(t,e,n){"use strict";var r={};r[n(5112)("toStringTag")]="z",t.exports="[object z]"===String(r)},1340:function(t,e,n){"use strict";var r=n(648),i=String;t.exports=function(t){if("Symbol"===r(t))throw new TypeError("Cannot convert a Symbol value to a string");return i(t)}},6330:function(t){"use strict";var e=String;t.exports=function(t){try{return e(t)}catch(t){return"Object"}}},9711:function(t,e,n){"use strict";var r=n(1702),i=0,a=Math.random(),o=r(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++i+a,36)}},3307:function(t,e,n){"use strict";var r=n(6293);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(t,e,n){"use strict";var r=n(9781),i=n(7293);t.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:function(t,e,n){"use strict";var r=n(7854),i=n(614),a=r.WeakMap;t.exports=i(a)&&/native code/.test(String(a))},5112:function(t,e,n){"use strict";var r=n(7854),i=n(2309),a=n(2597),o=n(9711),s=n(6293),u=n(3307),l=r.Symbol,c=i("wks"),d=u?l.for||l:l&&l.withoutSetter||o;t.exports=function(t){return a(c,t)||(c[t]=s&&a(l,t)?l[t]:d("Symbol."+t)),c[t]}},4916:function(t,e,n){"use strict";var r=n(2109),i=n(2261);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},5306:function(t,e,n){"use strict";var r=n(2104),i=n(6916),a=n(1702),o=n(7007),s=n(7293),u=n(9670),l=n(614),c=n(8554),d=n(9303),p=n(7466),h=n(1340),f=n(4488),g=n(1530),m=n(8173),v=n(647),y=n(7651),A=n(5112)("replace"),b=Math.max,w=Math.min,C=a([].concat),x=a([].push),T=a("".indexOf),S=a("".slice),E="$0"==="a".replace(/./,"$0"),k=!!/./[A]&&""===/./[A]("a","$0");o("replace",(function(t,e,n){var a=k?"$":"$0";return[function(t,n){var r=f(this),a=c(t)?void 0:m(t,A);return a?i(a,t,r,n):i(e,h(r),t,n)},function(t,i){var o=u(this),s=h(t);if("string"==typeof i&&-1===T(i,a)&&-1===T(i,"$<")){var c=n(e,o,s,i);if(c.done)return c.value}var f=l(i);f||(i=h(i));var m,A=o.global;A&&(m=o.unicode,o.lastIndex=0);for(var E,k=[];null!==(E=y(o,s))&&(x(k,E),A);){""===h(E[0])&&(o.lastIndex=g(s,p(o.lastIndex),m))}for(var I,M="",R=0,L=0;L<k.length;L++){for(var O,P=h((E=k[L])[0]),D=b(w(d(E.index),s.length),0),_=[],N=1;N<E.length;N++)x(_,void 0===(I=E[N])?I:String(I));var U=E.groups;if(f){var B=C([P],_,D,s);void 0!==U&&x(B,U),O=h(r(i,void 0,B))}else O=v(P,s,D,_,U,i);D>=R&&(M+=S(s,R,D)+O,R=D+P.length)}return M+S(s,R)}]}),!!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!E||k)},3342:function(t,e,n){"use strict";var r=n(3645),i=n.n(r)()(!0);i.push([t.id,'/*! @license\n * Shaka Player\n * Copyright 2016 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n.shaka-hidden{display:none!important}.shaka-video-container{position:relative;top:0;left:0;display:flex;font-family:Roboto,sans-serif,TengwarTelcontar;font-weight:400;-webkit-font-smoothing:antialiased;user-select:none;-webkit-user-select:none}.shaka-video-container .material-svg-icon{font-size:24px}.shaka-video-container:fullscreen{width:100%;height:100%;background-color:#000}.shaka-video-container:fullscreen .shaka-text-container{font-size:4.4vmin}.shaka-video-container:-webkit-full-screen{width:100%;height:100%;background-color:#000}.shaka-video-container:-webkit-full-screen .shaka-text-container{font-size:4.4vmin}.shaka-video-container:-moz-full-screen{width:100%;height:100%;background-color:#000}.shaka-video-container:-moz-full-screen .shaka-text-container{font-size:4.4vmin}.shaka-video-container:-ms-fullscreen{width:100%;height:100%;background-color:#000}.shaka-video-container:-ms-fullscreen .shaka-text-container{font-size:4.4vmin}.shaka-controls-container{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%;box-sizing:border-box;display:flex;flex-direction:column;justify-content:flex-end;align-items:center;z-index:1}.shaka-video-container:not([shaka-controls=true]) .shaka-controls-container{display:none}.shaka-controls-container *{flex-shrink:0}.shaka-controls-container[casting=true] .shaka-fullscreen-button{display:none}.shaka-canvas-container{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%;pointer-events:none}.shaka-vr-canvas-container{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%;pointer-events:none}.shaka-bottom-controls{width:98%;padding:0;z-index:1}.shaka-controls-button-panel{padding:0;margin:0;display:flex;flex-direction:row;justify-content:flex-end;align-items:center;overflow:hidden;min-width:48px;font-size:12px;font-weight:400;font-style:normal;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s}.shaka-controls-container[casting=true] .shaka-controls-button-panel,.shaka-controls-container[shown=true] .shaka-controls-button-panel{opacity:1}.shaka-controls-button-panel>*{color:#fff;height:48px;width:48px;line-height:.5;padding:0 2px;background:0 0;border:0;cursor:pointer;opacity:.9;transition:opacity cubic-bezier(.4, 0, .6, 1) .1s;text-shadow:0 0 2px rgba(0,0,0,.5)}.shaka-controls-button-panel>.shaka-fast-forward-button .material-svg-icon,.shaka-controls-button-panel>.shaka-rewind-button .material-svg-icon,.shaka-controls-button-panel>.shaka-skip-next-button .material-svg-icon,.shaka-controls-button-panel>.shaka-skip-previous-button .material-svg-icon,.shaka-controls-button-panel>.shaka-small-play-button .material-svg-icon{font-size:32px}.shaka-controls-button-panel>.shaka-fullscreen-button .material-svg-icon{font-size:24px}.shaka-controls-button-panel>.shaka-overflow-menu-button{position:relative}.shaka-controls-button-panel>.shaka-overflow-menu-button .material-svg-icon{font-size:24px}.shaka-controls-button-panel>:hover{opacity:1}.shaka-controls-button-panel .shaka-overflow-menu-only{display:none}.shaka-play-button-container{margin:0;width:100%;height:100%;flex-shrink:1;position:absolute;left:0;right:0;top:0;bottom:0;display:flex;justify-content:center;align-items:center;z-index:1}.shaka-statistics-container{overflow-x:hidden;overflow-y:auto;scrollbar-color:white rgba(0,0,0,0.5);scrollbar-width:thin;min-width:300px;color:#fff;background-color:rgba(35,35,35,.9);font-size:14px;padding:5px 10px;border-radius:2px;position:absolute;z-index:2;left:15px;top:15px;max-height:calc(100% - 115px);opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s}.shaka-controls-container[casting=true] .shaka-statistics-container,.shaka-controls-container[shown=true] .shaka-statistics-container{opacity:1}.shaka-statistics-container div{display:flex;justify-content:space-between}.shaka-statistics-container span{color:#969696}.shaka-ad-statistics-container{overflow-x:hidden;overflow-y:auto;scrollbar-color:white rgba(0,0,0,0.5);scrollbar-width:thin;min-width:150px;color:#fff;background-color:rgba(35,35,35,.9);font-size:14px;padding:5px 10px;border-radius:2px;position:absolute;z-index:2;right:15px;top:15px;max-height:calc(100% - 115px);opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s}.shaka-controls-container[casting=true] .shaka-ad-statistics-container,.shaka-controls-container[shown=true] .shaka-ad-statistics-container{opacity:1}.shaka-ad-statistics-container div{display:flex;justify-content:space-between}.shaka-ad-statistics-container span{color:#969696}.shaka-context-menu{overflow-x:hidden;overflow-y:auto;white-space:nowrap;background:rgba(28,28,28,.9);border-radius:2px;min-width:190px;opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s;display:flex;flex-direction:column;align-items:stretch;position:absolute;z-index:3}.shaka-controls-container[casting=true] .shaka-context-menu,.shaka-controls-container[shown=true] .shaka-context-menu{opacity:1}.shaka-context-menu button{font-size:14px;background:0 0;color:#fff;border:none;min-height:30px;padding:10px;display:flex;align-items:center;cursor:pointer}.shaka-context-menu button:hover{background:rgba(255,255,255,.1)}.shaka-context-menu button label{cursor:pointer;margin-left:5px}.shaka-keyboard-navigation .shaka-context-menu button:focus{background:rgba(255,255,255,.1)}.shaka-context-menu button .shaka-current-selection-span{display:none}.shaka-scrim-container{margin:0;width:100%;position:absolute;left:0;right:0;bottom:0;flex-shrink:1;opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s;height:61px;background:linear-gradient(rgba(0,0,0,0) 0,rgba(0,0,0,.5) 100%)}.shaka-controls-container[casting=true] .shaka-scrim-container,.shaka-controls-container[shown=true] .shaka-scrim-container{opacity:1}.shaka-text-container{position:absolute;left:0;right:0;top:0;bottom:0;pointer-events:none;bottom:0;width:100%;min-width:48px;transition:bottom cubic-bezier(.4, 0, .6, 1) .1s;transition-delay:0.5s;font-size:20px;line-height:1.4;color:#fff}.shaka-text-container span.shaka-text-wrapper{display:inline;background:0 0}.shaka-controls-container[shown=true]~.shaka-text-container{transition-delay:0s}.shaka-spinner-container{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;flex-shrink:1;display:flex;justify-content:center;align-items:center}.shaka-video-container:not([shaka-controls=true]) .shaka-spinner-container{display:none}.shaka-hidden-fast-forward-container,.shaka-hidden-rewind-container{height:100%;width:40%;flex-shrink:1}.shaka-hidden-fast-forward-container{position:absolute;left:0;right:0;top:0;bottom:0;left:60%}.shaka-hidden-rewind-container{position:absolute;left:0;right:0;top:0;bottom:0}.shaka-video-container.no-cursor{cursor:none!important}.shaka-video-container.no-cursor *{cursor:none!important}.shaka-play-button{box-sizing:border-box;padding:calc(15% / 2);width:0;height:0;margin:0;border-radius:50%;box-shadow:rgba(0,0,0,.1) 0 0 20px 0;border:none;background-size:50%;background-repeat:no-repeat;background-position:center center;background-color:rgba(255,255,255,.9);opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s}.shaka-controls-container[casting=true] .shaka-play-button,.shaka-controls-container[shown=true] .shaka-play-button{opacity:1}.shaka-play-button[icon=play]{background-image:url("data:image/svg+xml,%3Csvg%20fill%3D%22%23000000%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M8%205v14l11-7z%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%0A%3C%2Fsvg%3E")}.shaka-play-button[icon=pause]{background-image:url("data:image/svg+xml,%3Csvg%20fill%3D%22%23000000%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%20width%3D%2224%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%20%20%3Cpath%20d%3D%22M6%2019h4V5H6v14zm8-14v14h4V5h-4z%22%2F%3E%0A%20%20%20%20%3Cpath%20d%3D%22M0%200h24v24H0z%22%20fill%3D%22none%22%2F%3E%0A%3C%2Fsvg%3E")}.shaka-play-button[icon=replay]{background-image:url("data:image/svg+xml,%3Csvg%20fill%3D%22%231f1f1f%22%20height%3D%2224px%22%20viewBox%3D%220%20-960%20960%20960%22%20width%3D%2224px%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Cpath%20d%3D%22M480-80q-75%200-140.5-28.5t-114-77q-48.5-48.5-77-114T120-440h80q0%20117%2081.5%20198.5T480-160q117%200%20198.5-81.5T760-440q0-117-81.5-198.5T480-720h-6l62%2062-56%2058-160-160%20160-160%2056%2058-62%2062h6q75%200%20140.5%2028.5t114%2077q48.5%2048.5%2077%20114T840-440q0%2075-28.5%20140.5t-77%20114q-48.5%2048.5-114%2077T480-80Z%22%2F%3E%0A%3C%2Fsvg%3E")}.shaka-current-time{font-size:14px;color:#fff;cursor:pointer;width:auto;padding:0 5px}.shaka-current-time[disabled]{background-color:transparent;color:#fff;cursor:default}.shaka-controls-container button:focus,.shaka-controls-container input:focus{outline:1px solid Highlight}.shaka-controls-container button:-moz-focus-inner,.shaka-controls-container input:-moz-focus-outer{outline:0;border:0}.shaka-controls-container:not(.shaka-keyboard-navigation) button:focus,.shaka-controls-container:not(.shaka-keyboard-navigation) input:focus{outline:0}.shaka-fast-forward-container,.shaka-rewind-container{height:100%;width:100%;flex-shrink:1;position:absolute;left:0;right:0;top:0;bottom:0;display:flex;flex-direction:row;justify-content:center;align-items:center;margin:0;border:none;color:#fff;background-color:rgba(0,0,0,.5);cursor:default;font-size:20px;opacity:0;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none}.shaka-fast-forward-container{border-radius:40% 0 0 40%}.shaka-rewind-container{border-radius:0 40% 40% 0}.shaka-forward-rewind-container-icon{font-size:32px}.shaka-range-container{position:relative;top:0;left:0;margin:calc((12px - 4px)/ 2) 6px;height:4px;border-radius:4px;background:#fff;box-sizing:content-box}.shaka-volume-bar-container{width:100px;padding:0;transition-property:opacity,width;transition-duration:250ms;transition-timing-function:cubic-bezier(0.4,0,0.6,1)}.shaka-volume-bar-container:hover{width:100px!important;opacity:1!important}@media (max-width:474px){.shaka-volume-bar-container{width:50px}.shaka-volume-bar-container:hover{width:50px!important}.shaka-mute-button:hover+.shaka-volume-bar-container-allow-hiding{width:50px;opacity:1}}.shaka-mute-button+.shaka-volume-bar-container-allow-hiding:not(:focus-within){width:0;opacity:0}@media (min-width:475px){.shaka-mute-button:hover+.shaka-volume-bar-container-allow-hiding{width:100px;opacity:1}}.shaka-range-element{-webkit-appearance:none;background:0 0;cursor:pointer;position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%;height:12px;top:calc((4px - 12px)/ 2);z-index:1}.shaka-range-element::-webkit-slider-runnable-track{width:100%;cursor:pointer;height:12px;background:0 0;color:transparent;border:none}.shaka-range-element::-webkit-slider-thumb{-webkit-appearance:none;border:none;border-radius:12px;height:12px;width:12px;background:#fff}.shaka-range-element::-moz-range-track{width:100%;cursor:pointer;height:12px;background:0 0;color:transparent;border:none}.shaka-range-element::-moz-range-thumb{-webkit-appearance:none;border:none;border-radius:12px;height:12px;width:12px;background:#fff}.shaka-seek-bar-container{opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s;top:5px;height:5px;margin-bottom:0;background-clip:padding-box!important;border-top:4px solid transparent;border-bottom:4px solid transparent}.shaka-controls-container[casting=true] .shaka-seek-bar-container,.shaka-controls-container[shown=true] .shaka-seek-bar-container{opacity:1}.shaka-seek-bar-container .shaka-seek-bar{transition:opacity cubic-bezier(.4, 0, .6, 1) 250ms;opacity:0}.shaka-seek-bar-container:hover .shaka-seek-bar{opacity:1}.shaka-ad-markers{position:absolute;top:0;left:0;right:0;bottom:0;margin:0;padding:0;width:100%;height:100%}.shaka-spacer{cursor:default;flex-shrink:1;flex-grow:1;margin:0}.shaka-overflow-menu,.shaka-settings-menu{overflow-x:hidden;overflow-y:auto;scrollbar-color:white rgba(0,0,0,0.5);scrollbar-width:thin;white-space:nowrap;background:rgba(28,28,28,.9);border-radius:15px;max-height:250px;min-width:190px;padding:5px 0;opacity:0;transition:opacity cubic-bezier(.4, 0, .6, 1) .6s;display:flex;flex-direction:column;align-items:stretch;position:absolute;z-index:2;right:15px;bottom:62px}.shaka-controls-container[casting=true] .shaka-overflow-menu,.shaka-controls-container[casting=true] .shaka-settings-menu,.shaka-controls-container[shown=true] .shaka-overflow-menu,.shaka-controls-container[shown=true] .shaka-settings-menu{opacity:1}.shaka-overflow-menu button,.shaka-settings-menu button{font-size:14px;background:0 0;color:#fff;border:none;min-height:30px;padding:10px;display:flex;align-items:center;cursor:pointer}.shaka-overflow-menu button:hover,.shaka-settings-menu button:hover{background:rgba(255,255,255,.1)}.shaka-overflow-menu button label,.shaka-settings-menu button label{cursor:pointer}.shaka-keyboard-navigation .shaka-overflow-menu button:focus,.shaka-keyboard-navigation .shaka-settings-menu button:focus{background:rgba(255,255,255,.1)}.shaka-overflow-menu .material-svg-icon,.shaka-settings-menu .material-svg-icon{padding-left:0;padding-right:10px}.shaka-overflow-menu .material-svg-icon.shaka-chosen-item,.shaka-settings-menu .material-svg-icon.shaka-chosen-item{order:-1;line-height:17px;font-size:18px}.shaka-overflow-menu.shaka-low-position,.shaka-settings-menu.shaka-low-position{bottom:48px}.shaka-overflow-menu span{text-align:left}.shaka-overflow-button-label{position:relative;display:flex;flex-direction:column}.shaka-overflow-button-label-inline{box-sizing:border-box;flex-direction:row;justify-content:space-between;width:calc(100% - 34px);padding-right:28px;background-image:url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjRweCIgdmlld0JveD0iMCAwIDI0IDI0IiB3aWR0aD0iMjRweCIgZmlsbD0iI2VlZWVlZSI+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTguNTkgMTYuNTlMMTMuMTcgMTIgOC41OSA3LjQxIDEwIDZsNiA2LTYgNi0xLjQxLTEuNDF6Ii8+PC9zdmc+");background-repeat:no-repeat;background-position:right 5px center;background-size:24px 24px}.shaka-simple-overflow-button-label-inline{box-sizing:border-box;flex-direction:row;justify-content:space-between;width:calc(100% - 50px)}.shaka-current-selection-span{font-size:12px;padding-left:10px}.shaka-current-auto-quality{margin-left:5px;font-size:11px;color:#ccc}.shaka-current-quality-mark,.shaka-quality-mark{color:red;margin-left:2px!important;font-size:10px;height:17px}.shaka-quality-mark{line-height:6px}.shaka-overflow-playback-rate-mark,.shaka-overflow-quality-mark{background:red;color:#fff;border-radius:2px;font-family:Roboto,sans-serif,TengwarTelcontar;font-size:10px;font-weight:700;line-height:10px;text-shadow:none;padding:1px;position:absolute;right:4px;top:10px}.shaka-settings-menu span{margin-left:28px}.shaka-settings-menu span.shaka-chosen-item{margin-left:0}.shaka-settings-menu .shaka-chapter{margin-left:10px}.shaka-back-to-overflow-button{border-bottom:1px solid rgba(255,255,255,.2)!important}.shaka-back-to-overflow-button span{margin-left:0}.shaka-back-to-overflow-button .material-svg-icon{padding-right:10px;font-size:18px!important}.shaka-back-to-overflow-button:hover{background:0 0!important}.shaka-controls-container[ad-active=true]{pointer-events:none}.shaka-controls-container[ad-active=true] .shaka-bottom-controls{pointer-events:auto}.shaka-client-side-ad-container,.shaka-server-side-ad-container{position:absolute;left:0;right:0;top:0;bottom:0}.shaka-video-container[shaka-controls=true] .shaka-client-side-ad-container iframe,.shaka-video-container[shaka-controls=true] .shaka-server-side-ad-container iframe{height:90%}.shaka-ad-controls{display:flex;flex-direction:row;z-index:1;padding-bottom:1%}.shaka-video-container:not([shaka-controls=true]) .shaka-ad-controls{display:none}.shaka-ad-controls button,.shaka-ad-controls div{color:#fff;font-size:initial}.shaka-ad-info{font-size:14px;color:#fff;width:auto;padding:0 5px}.shaka-ad-info[disabled]{background-color:transparent;color:#fff;cursor:default;padding:0}.shaka-skip-ad-container{position:relative;right:calc((100% - 98%)/ 2 * -1);display:flex;flex-direction:row;margin:0;margin-left:auto}.shaka-skip-ad-button{padding:5px 15px;background:rgba(0,0,0,.7);border:none;cursor:pointer}.shaka-skip-ad-button:disabled{background:rgba(0,0,0,.3)}.shaka-skip-ad-counter{padding:5px;background:rgba(0,0,0,.7);margin:0}/*!\n * @license\n * The tooltip is based on https://github.com/felipefialho/css-components/\n * Local modifications have been performed.\n *\n * Copyright (c) 2017 Felipe Fialho\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */.shaka-tooltips-on{overflow:visible}.shaka-tooltips-on>.shaka-tooltip,.shaka-tooltips-on>.shaka-tooltip-status{position:relative}.shaka-tooltips-on>.shaka-tooltip-status:active:after,.shaka-tooltips-on>.shaka-tooltip-status:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip-status:hover:after,.shaka-tooltips-on>.shaka-tooltip:active:after,.shaka-tooltips-on>.shaka-tooltip:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip:hover:after{content:attr(aria-label);font-family:Roboto,sans-serif,TengwarTelcontar;line-height:20px;white-space:nowrap;font-size:14px;background:rgba(0,0,0,.5);color:#fff;border-radius:2px;padding:2px 10px;position:absolute;bottom:62px;left:calc(48px / 2);-webkit-transform:translateX(-50%);-moz-transform:translateX(-50%);-ms-transform:translateX(-50%);-o-transform:translateX(-50%);transform:translateX(-50%)}@media (prefers-reduced-transparency){.shaka-tooltips-on>.shaka-tooltip-status:active:after,.shaka-tooltips-on>.shaka-tooltip-status:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip-status:hover:after,.shaka-tooltips-on>.shaka-tooltip:active:after,.shaka-tooltips-on>.shaka-tooltip:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip:hover:after{background-color:rgba(0,0,0,.9)}}.shaka-tooltips-on.shaka-tooltips-low-position>.shaka-tooltip:active:after,.shaka-tooltips-on.shaka-tooltips-low-position>.shaka-tooltip:focus-visible:after,.shaka-tooltips-on.shaka-tooltips-low-position>.shaka-tooltip:hover:after{bottom:48px}.shaka-tooltips-on>.shaka-tooltip-status:active:after,.shaka-tooltips-on>.shaka-tooltip-status:focus-visible:after,.shaka-tooltips-on>.shaka-tooltip-status:hover:after{content:attr(aria-label) " (" attr(shaka-status) ")"}.shaka-tooltips-on button:first-child:active:after,.shaka-tooltips-on button:first-child:focus-visible:after,.shaka-tooltips-on button:first-child:hover:after{left:0;-webkit-transform:translateX(0);-moz-transform:translateX(0);-ms-transform:translateX(0);-o-transform:translateX(0);transform:translateX(0)}.shaka-tooltips-on button:last-child:active:after,.shaka-tooltips-on button:last-child:focus-visible:after,.shaka-tooltips-on button:last-child:hover:after{left:48px;-webkit-transform:translateX(-100%);-moz-transform:translateX(-100%);-ms-transform:translateX(-100%);-o-transform:translateX(-100%);transform:translateX(-100%)}#shaka-player-ui-thumbnail-container{background-color:#000;border:1px solid #000;box-shadow:0 8px 8px 0 rgba(0,0,0,.5);min-width:150px;overflow:hidden;position:absolute;visibility:hidden;width:15%;z-index:1;pointer-events:none}#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-image{position:absolute}#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-time-container{bottom:0;left:0;position:absolute;right:0;display:flex;justify-content:center}#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-time-container #shaka-player-ui-thumbnail-time{background-color:rgba(0,0,0,.5);border-radius:14px;color:#fff;font-size:14px;padding:0 5px}@media (prefers-reduced-transparency){#shaka-player-ui-thumbnail-container #shaka-player-ui-thumbnail-time-container #shaka-player-ui-thumbnail-time{background-color:rgba(0,0,0,.9)}}#shaka-player-ui-thumbnail-container.portrait-thumbnail{min-width:75px;width:7.5%}#shaka-player-ui-time-container{background-color:rgba(0,0,0,.5);border-radius:5px;color:#fff;display:flex;font-size:14px;justify-content:center;overflow:hidden;padding:0 3px;position:absolute;visibility:hidden;z-index:1}@media (prefers-reduced-transparency){#shaka-player-ui-time-container{background-color:rgba(0,0,0,.9)}}.material-svg-icon{display:inline-block;fill:currentcolor;width:1em;height:1em}@font-face{font-family:Roboto;font-style:normal;font-weight:400;font-stretch:normal;src:url(https://fonts.gstatic.com/s/roboto/v49/KFOMCnqEu92Fr1ME7kSn66aGLdTylUAMQXC89YmC2DPNWubEbVmUiA8.ttf) format(\'truetype\')}/*# sourceMappingURL=controls.css.map */',"",{version:3,sources:["webpack://node_modules/shaka-player/dist/$stdin","webpack://node_modules/shaka-player/dist/controls.css"],names:[],mappings:"AAaA;;;;ECTE;AACF,cAAc,sBAAsB,CAAC,uBAAuB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,YAAY,CAAC,8CAA8C,CAAC,eAAe,CAAC,kCAAkC,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,0CAA0C,cAAc,CAAC,kCAAkC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,wDAAwD,iBAAiB,CAAC,2CAA2C,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,iEAAiE,iBAAiB,CAAC,wCAAwC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,8DAA8D,iBAAiB,CAAC,sCAAsC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,4DAA4D,iBAAiB,CAAC,0BAA0B,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,qBAAqB,CAAC,YAAY,CAAC,qBAAqB,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,SAAS,CAAC,4EAA4E,YAAY,CAAC,4BAA4B,aAAa,CAAC,iEAAiE,YAAY,CAAC,wBAAwB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,mBAAmB,CAAC,2BAA2B,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,mBAAmB,CAAC,uBAAuB,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,6BAA6B,SAAS,CAAC,QAAQ,CAAC,YAAY,CAAC,kBAAkB,CAAC,wBAAwB,CAAC,kBAAkB,CAAC,eAAe,CAAC,cAAc,CAAC,cAAc,CAAC,eAAe,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,SAAS,CAAC,iDAAiD,CAAC,wIAAwI,SAAS,CAAC,+BAA+B,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,cAAc,CAAC,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,iDAAiD,CAAC,kCAAkC,CAAC,6WAA6W,cAAc,CAAC,yEAAyE,cAAc,CAAC,yDAAyD,iBAAiB,CAAC,4EAA4E,cAAc,CAAC,oCAAoC,SAAS,CAAC,uDAAuD,YAAY,CAAC,6BAA6B,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,SAAS,CAAC,4BAA4B,iBAAiB,CAAC,eAAe,CAAC,qCAAqC,CAAC,oBAAoB,CAAC,eAAe,CAAC,UAAU,CAAC,kCAAkC,CAAC,cAAc,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,6BAA6B,CAAC,SAAS,CAAC,iDAAiD,CAAC,sIAAsI,SAAS,CAAC,gCAAgC,YAAY,CAAC,6BAA6B,CAAC,iCAAiC,aAAa,CAAC,+BAA+B,iBAAiB,CAAC,eAAe,CAAC,qCAAqC,CAAC,oBAAoB,CAAC,eAAe,CAAC,UAAU,CAAC,kCAAkC,CAAC,cAAc,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAU,CAAC,QAAQ,CAAC,6BAA6B,CAAC,SAAS,CAAC,iDAAiD,CAAC,4IAA4I,SAAS,CAAC,mCAAmC,YAAY,CAAC,6BAA6B,CAAC,oCAAoC,aAAa,CAAC,oBAAoB,iBAAiB,CAAC,eAAe,CAAC,kBAAkB,CAAC,4BAA4B,CAAC,iBAAiB,CAAC,eAAe,CAAC,SAAS,CAAC,iDAAiD,CAAC,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,SAAS,CAAC,sHAAsH,SAAS,CAAC,2BAA2B,cAAc,CAAC,cAAc,CAAC,UAAU,CAAC,WAAW,CAAC,eAAe,CAAC,YAAY,CAAC,YAAY,CAAC,kBAAkB,CAAC,cAAc,CAAC,iCAAiC,+BAA+B,CAAC,iCAAiC,cAAc,CAAC,eAAe,CAAC,4DAA4D,+BAA+B,CAAC,yDAAyD,YAAY,CAAC,uBAAuB,QAAQ,CAAC,UAAU,CAAC,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,iDAAiD,CAAC,WAAW,CAAC,+DAA+D,CAAC,4HAA4H,SAAS,CAAC,sBAAsB,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,mBAAmB,CAAC,QAAQ,CAAC,UAAU,CAAC,cAAc,CAAC,gDAAgD,CAAC,qBAAqB,CAAC,cAAc,CAAC,eAAe,CAAC,UAAU,CAAC,8CAA8C,cAAc,CAAC,cAAc,CAAC,4DAA4D,mBAAmB,CAAC,yBAAyB,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,WAAW,CAAC,aAAa,CAAC,YAAY,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,2EAA2E,YAAY,CAAC,oEAAoE,WAAW,CAAC,SAAS,CAAC,aAAa,CAAC,qCAAqC,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,QAAQ,CAAC,+BAA+B,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,iCAAiC,qBAAqB,CAAC,mCAAmC,qBAAqB,CAAC,mBAAmB,qBAAqB,CAAC,qBAAqB,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,iBAAiB,CAAC,oCAAoC,CAAC,WAAW,CAAC,mBAAmB,CAAC,2BAA2B,CAAC,iCAAiC,CAAC,qCAAqC,CAAC,SAAS,CAAC,iDAAiD,CAAC,oHAAoH,SAAS,CAAC,8BAA8B,8VAA8V,CAAC,+BAA+B,gXAAgX,CAAC,gCAAgC,6kBAA6kB,CAAC,oBAAoB,cAAc,CAAC,UAAU,CAAC,cAAc,CAAC,UAAU,CAAC,aAAa,CAAC,8BAA8B,4BAA4B,CAAC,UAAU,CAAC,cAAc,CAAC,6EAA6E,2BAA2B,CAAC,mGAAmG,SAAS,CAAC,QAAQ,CAAC,6IAA6I,SAAS,CAAC,sDAAsD,WAAW,CAAC,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,YAAY,CAAC,kBAAkB,CAAC,sBAAsB,CAAC,kBAAkB,CAAC,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,+BAA+B,CAAC,cAAc,CAAC,cAAc,CAAC,SAAS,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,qBAAqB,CAAC,oBAAoB,CAAC,8BAA8B,yBAAyB,CAAC,wBAAwB,yBAAyB,CAAC,qCAAqC,cAAc,CAAC,uBAAuB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,gCAAgC,CAAC,UAAU,CAAC,iBAAiB,CAAC,eAAe,CAAC,sBAAsB,CAAC,4BAA4B,WAAW,CAAC,SAAS,CAAC,iCAAiC,CAAC,yBAAyB,CAAC,oDAAoD,CAAC,kCAAkC,qBAAqB,CAAC,mBAAmB,CAAC,yBAAyB,4BAA4B,UAAU,CAAC,kCAAkC,oBAAoB,CAAC,kEAAkE,UAAU,CAAC,SAAS,CAAC,CAAC,+EAA+E,OAAO,CAAC,SAAS,CAAC,yBAAyB,kEAAkE,WAAW,CAAC,SAAS,CAAC,CAAC,qBAAqB,uBAAuB,CAAC,cAAc,CAAC,cAAc,CAAC,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,WAAW,CAAC,yBAAyB,CAAC,SAAS,CAAC,oDAAoD,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,iBAAiB,CAAC,WAAW,CAAC,2CAA2C,uBAAuB,CAAC,WAAW,CAAC,kBAAkB,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,uCAAuC,UAAU,CAAC,cAAc,CAAC,WAAW,CAAC,cAAc,CAAC,iBAAiB,CAAC,WAAW,CAAC,uCAAuC,uBAAuB,CAAC,WAAW,CAAC,kBAAkB,CAAC,WAAW,CAAC,UAAU,CAAC,eAAe,CAAC,0BAA0B,SAAS,CAAC,iDAAiD,CAAC,OAAO,CAAC,UAAU,CAAC,eAAe,CAAC,qCAAqC,CAAC,gCAAgC,CAAC,mCAAmC,CAAC,kIAAkI,SAAS,CAAC,0CAA0C,mDAAmD,CAAC,SAAS,CAAC,gDAAgD,SAAS,CAAC,kBAAkB,iBAAiB,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,QAAQ,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,cAAc,cAAc,CAAC,aAAa,CAAC,WAAW,CAAC,QAAQ,CAAC,0CAA0C,iBAAiB,CAAC,eAAe,CAAC,qCAAqC,CAAC,oBAAoB,CAAC,kBAAkB,CAAC,4BAA4B,CAAC,kBAAkB,CAAC,gBAAgB,CAAC,eAAe,CAAC,aAAa,CAAC,SAAS,CAAC,iDAAiD,CAAC,YAAY,CAAC,qBAAqB,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,gPAAgP,SAAS,CAAC,wDAAwD,cAAc,CAAC,cAAc,CAAC,UAAU,CAAC,WAAW,CAAC,eAAe,CAAC,YAAY,CAAC,YAAY,CAAC,kBAAkB,CAAC,cAAc,CAAC,oEAAoE,+BAA+B,CAAC,oEAAoE,cAAc,CAAC,0HAA0H,+BAA+B,CAAC,gFAAgF,cAAc,CAAC,kBAAkB,CAAC,oHAAoH,QAAQ,CAAC,gBAAgB,CAAC,cAAc,CAAC,gFAAgF,WAAW,CAAC,0BAA0B,eAAe,CAAC,6BAA6B,iBAAiB,CAAC,YAAY,CAAC,qBAAqB,CAAC,oCAAoC,qBAAqB,CAAC,kBAAkB,CAAC,6BAA6B,CAAC,uBAAuB,CAAC,kBAAkB,CAAC,8UAA8U,CAAC,2BAA2B,CAAC,oCAAoC,CAAC,yBAAyB,CAAC,2CAA2C,qBAAqB,CAAC,kBAAkB,CAAC,6BAA6B,CAAC,uBAAuB,CAAC,8BAA8B,cAAc,CAAC,iBAAiB,CAAC,4BAA4B,eAAe,CAAC,cAAc,CAAC,UAAU,CAAC,gDAAgD,SAAS,CAAC,yBAAyB,CAAC,cAAc,CAAC,WAAW,CAAC,oBAAoB,eAAe,CAAC,gEAAgE,cAAc,CAAC,UAAU,CAAC,iBAAiB,CAAC,8CAA8C,CAAC,cAAc,CAAC,eAAe,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,WAAW,CAAC,iBAAiB,CAAC,SAAS,CAAC,QAAQ,CAAC,0BAA0B,gBAAgB,CAAC,4CAA4C,aAAa,CAAC,oCAAoC,gBAAgB,CAAC,+BAA+B,sDAAsD,CAAC,oCAAoC,aAAa,CAAC,kDAAkD,kBAAkB,CAAC,wBAAwB,CAAC,qCAAqC,wBAAwB,CAAC,0CAA0C,mBAAmB,CAAC,iEAAiE,mBAAmB,CAAC,gEAAgE,iBAAiB,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,QAAQ,CAAC,sKAAsK,UAAU,CAAC,mBAAmB,YAAY,CAAC,kBAAkB,CAAC,SAAS,CAAC,iBAAiB,CAAC,qEAAqE,YAAY,CAAC,iDAAiD,UAAU,CAAC,iBAAiB,CAAC,eAAe,cAAc,CAAC,UAAU,CAAC,UAAU,CAAC,aAAa,CAAC,yBAAyB,4BAA4B,CAAC,UAAU,CAAC,cAAc,CAAC,SAAS,CAAC,yBAAyB,iBAAiB,CAAC,gCAAgC,CAAC,YAAY,CAAC,kBAAkB,CAAC,QAAQ,CAAC,gBAAgB,CAAC,sBAAsB,gBAAgB,CAAC,yBAAyB,CAAC,WAAW,CAAC,cAAc,CAAC,+BAA+B,yBAAyB,CAAC,uBAAuB,WAAW,CAAC,yBAAyB,CAAC,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;EAwBn0gB,CAAC,mBAAmB,gBAAgB,CAAC,2EAA2E,iBAAiB,CAAC,2TAA2T,wBAAwB,CAAC,8CAA8C,CAAC,gBAAgB,CAAC,kBAAkB,CAAC,cAAc,CAAC,yBAAyB,CAAC,UAAU,CAAC,iBAAiB,CAAC,gBAAgB,CAAC,iBAAiB,CAAC,WAAW,CAAC,mBAAmB,CAAC,kCAAkC,CAAC,+BAA+B,CAAC,8BAA8B,CAAC,6BAA6B,CAAC,0BAA0B,CAAC,sCAAsC,2TAA2T,+BAA+B,CAAC,CAAC,uOAAuO,WAAW,CAAC,wKAAwK,oDAAoD,CAAC,+JAA+J,MAAM,CAAC,+BAA+B,CAAC,4BAA4B,CAAC,2BAA2B,CAAC,0BAA0B,CAAC,uBAAuB,CAAC,4JAA4J,SAAS,CAAC,mCAAmC,CAAC,gCAAgC,CAAC,+BAA+B,CAAC,8BAA8B,CAAC,2BAA2B,CAAC,qCAAqC,qBAAqB,CAAC,qBAAqB,CAAC,qCAAqC,CAAC,eAAe,CAAC,eAAe,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,SAAS,CAAC,mBAAmB,CAAC,sEAAsE,iBAAiB,CAAC,+EAA+E,QAAQ,CAAC,MAAM,CAAC,iBAAiB,CAAC,OAAO,CAAC,YAAY,CAAC,sBAAsB,CAAC,+GAA+G,+BAA+B,CAAC,kBAAkB,CAAC,UAAU,CAAC,cAAc,CAAC,aAAa,CAAC,sCAAsC,+GAA+G,+BAA+B,CAAC,CAAC,wDAAwD,cAAc,CAAC,UAAU,CAAC,gCAAgC,+BAA+B,CAAC,iBAAiB,CAAC,UAAU,CAAC,YAAY,CAAC,cAAc,CAAC,sBAAsB,CAAC,eAAe,CAAC,aAAa,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,SAAS,CAAC,sCAAsC,gCAAgC,+BAA+B,CAAC,CAAC,mBAAmB,oBAAoB,CAAC,iBAAiB,CAAC,SAAS,CAAC,UAAU,CAAC,WAAW,kBAAkB,CAAC,iBAAiB,CAAC,eAAe,CAAC,mBAAmB,CAAC,8HAA8H,CAAC,uCAAuC",sourceRoot:""}]),e.Z=i},4069:function(t,e,n){"use strict";var r=n(3645),i=n.n(r)()(!0);i.push([t.id,"\n.hyper-viewer-dashboard[data-v-5a1b7adc] {\n\tpadding: 20px;\n\tmax-width: 1200px;\n\tmargin: 0 auto;\n\tfont-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n\tmin-height: 100vh;\n\toverflow-y: auto;\n\tbox-sizing: border-box;\n}\n\n/* Header */\n.dashboard-header[data-v-5a1b7adc] {\n\ttext-align: center;\n\tmargin-bottom: 30px;\n\tpadding: 20px;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tborder-radius: 12px;\n\tcolor: white;\n\tposition: relative;\n}\n.dashboard-header h1[data-v-5a1b7adc] {\n\tmargin: 0 0 10px 0;\n\tfont-size: 2.5em;\n\tfont-weight: 600;\n}\n.dashboard-header p[data-v-5a1b7adc] {\n\tmargin: 0 0 20px 0;\n\topacity: 0.9;\n\tfont-size: 1.1em;\n}\n.refresh-btn[data-v-5a1b7adc] {\n\tbackground: rgba(255, 255, 255, 0.2);\n\tborder: 2px solid rgba(255, 255, 255, 0.3);\n\tcolor: white;\n\tpadding: 10px 20px;\n\tborder-radius: 25px;\n\tcursor: pointer;\n\tfont-size: 16px;\n\ttransition: all 0.3s ease;\n\tbackdrop-filter: blur(10px);\n}\n.refresh-btn[data-v-5a1b7adc]:hover:not(:disabled) {\n\tbackground: rgba(255, 255, 255, 0.3);\n\ttransform: translateY(-2px);\n}\n.refresh-btn[data-v-5a1b7adc]:disabled {\n\topacity: 0.6;\n\tcursor: not-allowed;\n}\n\n/* Quick Navigation */\n.quick-nav[data-v-5a1b7adc] {\n\tdisplay: flex;\n\tjustify-content: center;\n\tgap: 15px;\n\tmargin-bottom: 30px;\n\tflex-wrap: wrap;\n}\n.nav-btn[data-v-5a1b7adc] {\n\tbackground: rgba(255, 255, 255, 0.9);\n\tborder: 2px solid #667eea;\n\tcolor: #667eea;\n\tpadding: 8px 16px;\n\tborder-radius: 20px;\n\tcursor: pointer;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\ttransition: all 0.3s ease;\n\tbackdrop-filter: blur(10px);\n}\n.nav-btn[data-v-5a1b7adc]:hover {\n\tbackground: #667eea;\n\tcolor: white;\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n}\n.nav-btn[data-v-5a1b7adc]:active {\n\ttransform: translateY(0);\n}\n\n/* Statistics Grid */\n.stats-grid[data-v-5a1b7adc] {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n\tgap: 20px;\n\tmargin-bottom: 40px;\n}\n.stat-card[data-v-5a1b7adc] {\n\tbackground: white;\n\tborder-radius: 12px;\n\tpadding: 20px;\n\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\tdisplay: flex;\n\talign-items: center;\n\ttransition: transform 0.2s ease;\n}\n.stat-card[data-v-5a1b7adc]:hover {\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);\n}\n.stat-icon[data-v-5a1b7adc] {\n\tfont-size: 2.5em;\n\tmargin-right: 15px;\n}\n.stat-number[data-v-5a1b7adc] {\n\tfont-size: 2em;\n\tfont-weight: bold;\n\tcolor: #333;\n\tmargin-bottom: 5px;\n}\n.stat-label[data-v-5a1b7adc] {\n\tcolor: #666;\n\tfont-size: 0.9em;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n\tposition: relative;\n}\n.stat-card.clickable[data-v-5a1b7adc] {\n\tcursor: pointer;\n}\n.stat-card.clickable[data-v-5a1b7adc]:hover {\n\tbackground: #f8f9fa;\n}\n.toggle-indicator[data-v-5a1b7adc] {\n\tmargin-left: 8px;\n\tfont-size: 0.8em;\n\tcolor: #999;\n\ttransition: transform 0.2s ease;\n}\n\n/* Completed Jobs Section */\n.completed-jobs-section[data-v-5a1b7adc] {\n\tbackground: white;\n\tborder-radius: 12px;\n\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\tmargin-bottom: 30px;\n\toverflow: hidden;\n\tanimation: slideDown-data-v-5a1b7adc 0.3s ease-out;\n}\n@keyframes slideDown-data-v-5a1b7adc {\nfrom {\n\t\topacity: 0;\n\t\ttransform: translateY(-10px);\n}\nto {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n}\n}\n.completed-jobs-header[data-v-5a1b7adc] {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 20px;\n\tbackground: linear-gradient(135deg, #28a745 0%, #20c997 100%);\n\tcolor: white;\n}\n.completed-jobs-header h3[data-v-5a1b7adc] {\n\tmargin: 0;\n\tfont-size: 1.3em;\n\tfont-weight: 600;\n}\n.close-btn[data-v-5a1b7adc] {\n\tbackground: rgba(255, 255, 255, 0.2);\n\tborder: none;\n\tcolor: white;\n\twidth: 30px;\n\theight: 30px;\n\tborder-radius: 50%;\n\tcursor: pointer;\n\tfont-size: 16px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: background 0.2s ease;\n}\n.close-btn[data-v-5a1b7adc]:hover {\n\tbackground: rgba(255, 255, 255, 0.3);\n}\n.completed-jobs-list[data-v-5a1b7adc] {\n\tmax-height: 400px;\n\toverflow-y: auto;\n\tpadding: 0;\n}\n.completed-job-item[data-v-5a1b7adc] {\n\tpadding: 12px 20px;\n\tborder-bottom: 1px solid #f0f0f0;\n\tfont-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;\n\tfont-size: 0.9em;\n\tcolor: #333;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\ttransition: background 0.2s ease;\n}\n.completed-job-item[data-v-5a1b7adc]:hover {\n\tbackground: #f8f9fa;\n}\n.completed-job-item[data-v-5a1b7adc]:last-child {\n\tborder-bottom: none;\n}\n\n/* Custom scrollbar for completed jobs list */\n.completed-jobs-list[data-v-5a1b7adc]::-webkit-scrollbar {\n\twidth: 8px;\n}\n.completed-jobs-list[data-v-5a1b7adc]::-webkit-scrollbar-track {\n\tbackground: #f1f1f1;\n}\n.completed-jobs-list[data-v-5a1b7adc]::-webkit-scrollbar-thumb {\n\tbackground: #c1c1c1;\n\tborder-radius: 4px;\n}\n.completed-jobs-list[data-v-5a1b7adc]::-webkit-scrollbar-thumb:hover {\n\tbackground: #a8a8a8;\n}\n\n/* Sections */\n.section[data-v-5a1b7adc] {\n\tmargin-bottom: 40px;\n\tscroll-margin-top: 20px; /* For smooth scrolling to sections */\n}\n.section h2[data-v-5a1b7adc] {\n\tfont-size: 1.8em;\n\tmargin-bottom: 20px;\n\tcolor: #333;\n\tborder-bottom: 3px solid #667eea;\n\tpadding-bottom: 10px;\n}\n\n/* Empty States */\n.empty-state[data-v-5a1b7adc] {\n\ttext-align: center;\n\tpadding: 60px 20px;\n\tbackground: #f8f9fa;\n\tborder-radius: 12px;\n\tborder: 2px dashed #dee2e6;\n}\n.empty-icon[data-v-5a1b7adc] {\n\tfont-size: 4em;\n\tmargin-bottom: 15px;\n\topacity: 0.5;\n}\n.empty-state p[data-v-5a1b7adc] {\n\tcolor: #6c757d;\n\tfont-size: 1.1em;\n\tmargin: 0;\n}\n\n/* Job Cards */\n.jobs-list[data-v-5a1b7adc] {\n\tdisplay: grid;\n\tgap: 20px;\n}\n.job-card[data-v-5a1b7adc] {\n\tbackground: white;\n\tborder-radius: 12px;\n\tpadding: 20px;\n\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\tborder-left: 4px solid #28a745;\n}\n.job-header[data-v-5a1b7adc] {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 15px;\n}\n.job-filename[data-v-5a1b7adc] {\n\tfont-weight: 600;\n\tfont-size: 1.1em;\n\tcolor: #333;\n}\n.job-status[data-v-5a1b7adc] {\n\tpadding: 4px 12px;\n\tborder-radius: 20px;\n\tfont-size: 0.85em;\n\tfont-weight: 500;\n\ttext-transform: uppercase;\n}\n.job-status.processing[data-v-5a1b7adc] {\n\tbackground: #fff3cd;\n\tcolor: #856404;\n}\n.job-progress[data-v-5a1b7adc] {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 15px;\n}\n.progress-bar[data-v-5a1b7adc] {\n\tflex: 1;\n\theight: 8px;\n\tbackground: #e9ecef;\n\tborder-radius: 4px;\n\toverflow: hidden;\n\tmargin-right: 15px;\n}\n.progress-fill[data-v-5a1b7adc] {\n\theight: 100%;\n\tbackground: linear-gradient(90deg, #28a745, #20c997);\n\ttransition: width 0.3s ease;\n}\n.progress-text[data-v-5a1b7adc] {\n\tfont-weight: 600;\n\tcolor: #28a745;\n\tmin-width: 50px;\n}\n.job-details[data-v-5a1b7adc] {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 15px;\n\tmargin-bottom: 15px;\n}\n.detail-item[data-v-5a1b7adc] {\n\tbackground: #f8f9fa;\n\tpadding: 5px 10px;\n\tborder-radius: 15px;\n\tfont-size: 0.9em;\n\tcolor: #495057;\n}\n.job-resolutions[data-v-5a1b7adc] {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 8px;\n}\n.resolution-tag[data-v-5a1b7adc] {\n\tbackground: #667eea;\n\tcolor: white;\n\tpadding: 4px 8px;\n\tborder-radius: 12px;\n\tfont-size: 0.8em;\n\tfont-weight: 500;\n}\n\n/* Auto-Generation Cards */\n.auto-gen-list[data-v-5a1b7adc] {\n\tdisplay: grid;\n\tgap: 20px;\n}\n.auto-gen-card[data-v-5a1b7adc] {\n\tbackground: white;\n\tborder-radius: 12px;\n\tpadding: 20px;\n\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\tborder-left: 4px solid #6f42c1;\n}\n.auto-gen-header[data-v-5a1b7adc] {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 15px;\n}\n.auto-gen-path[data-v-5a1b7adc] {\n\tfont-weight: 600;\n\tfont-size: 1.1em;\n\tcolor: #333;\n}\n.auto-gen-status[data-v-5a1b7adc] {\n\tpadding: 4px 12px;\n\tborder-radius: 20px;\n\tfont-size: 0.85em;\n\tfont-weight: 500;\n\ttext-transform: uppercase;\n}\n.auto-gen-status.enabled[data-v-5a1b7adc] {\n\tbackground: #d4edda;\n\tcolor: #155724;\n}\n.auto-gen-status.disabled[data-v-5a1b7adc] {\n\tbackground: #f8d7da;\n\tcolor: #721c24;\n}\n.auto-gen-details[data-v-5a1b7adc] {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 15px;\n\tmargin-bottom: 15px;\n}\n.auto-gen-resolutions[data-v-5a1b7adc] {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 8px;\n\tmargin-bottom: 15px;\n}\n.auto-gen-actions[data-v-5a1b7adc] {\n\ttext-align: right;\n}\n.remove-btn[data-v-5a1b7adc] {\n\tbackground: #dc3545;\n\tcolor: white;\n\tborder: none;\n\tpadding: 8px 16px;\n\tborder-radius: 6px;\n\tcursor: pointer;\n\tfont-size: 0.9em;\n\ttransition: background 0.2s ease;\n}\n.remove-btn[data-v-5a1b7adc]:hover {\n\tbackground: #c82333;\n}\n\n/* System Info */\n.info-grid[data-v-5a1b7adc] {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n\tgap: 15px;\n}\n.info-item[data-v-5a1b7adc] {\n\tbackground: white;\n\tpadding: 15px;\n\tborder-radius: 8px;\n\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n.info-item strong[data-v-5a1b7adc] {\n\tcolor: #495057;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n.hyper-viewer-dashboard[data-v-5a1b7adc] {\n\t\tpadding: 15px;\n}\n.dashboard-header h1[data-v-5a1b7adc] {\n\t\tfont-size: 2em;\n}\n.stats-grid[data-v-5a1b7adc] {\n\t\tgrid-template-columns: repeat(2, 1fr);\n}\n.job-header[data-v-5a1b7adc], .auto-gen-header[data-v-5a1b7adc] {\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tgap: 10px;\n}\n.job-details[data-v-5a1b7adc] {\n\t\tjustify-content: center;\n}\n}\n@media (max-width: 480px) {\n.stats-grid[data-v-5a1b7adc] {\n\t\tgrid-template-columns: 1fr;\n}\n}\n\n/* Back to Top Button */\n.back-to-top-btn[data-v-5a1b7adc] {\n\tposition: fixed;\n\tbottom: 30px;\n\tright: 30px;\n\twidth: 50px;\n\theight: 50px;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 50%;\n\tfont-size: 20px;\n\tfont-weight: bold;\n\tcursor: pointer;\n\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\ttransition: all 0.3s ease;\n\tz-index: 1000;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n.back-to-top-btn[data-v-5a1b7adc]:hover {\n\ttransform: translateY(-3px);\n\tbox-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);\n\tbackground: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);\n}\n.back-to-top-btn[data-v-5a1b7adc]:active {\n\ttransform: translateY(-1px);\n}\n\n/* Smooth scrolling for the entire page */\nhtml[data-v-5a1b7adc] {\n\tscroll-behavior: smooth;\n}\n\n/* Better scrollbar styling for webkit browsers */\n.hyper-viewer-dashboard[data-v-5a1b7adc]::-webkit-scrollbar {\n\twidth: 8px;\n}\n.hyper-viewer-dashboard[data-v-5a1b7adc]::-webkit-scrollbar-track {\n\tbackground: #f1f1f1;\n\tborder-radius: 4px;\n}\n.hyper-viewer-dashboard[data-v-5a1b7adc]::-webkit-scrollbar-thumb {\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tborder-radius: 4px;\n}\n.hyper-viewer-dashboard[data-v-5a1b7adc]::-webkit-scrollbar-thumb:hover {\n\tbackground: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);\n}\n\n/* Improve section spacing for better scrolling */\n.section[data-v-5a1b7adc]:last-child {\n\tmargin-bottom: 100px; /* Extra space at bottom for comfortable scrolling */\n}\n","",{version:3,sources:["webpack://src/App.vue"],names:[],mappings:";AA8eA;CACA,aAAA;CACA,iBAAA;CACA,cAAA;CACA,8EAAA;CACA,iBAAA;CACA,gBAAA;CACA,sBAAA;AACA;;AAEA,WAAA;AACA;CACA,kBAAA;CACA,mBAAA;CACA,aAAA;CACA,6DAAA;CACA,mBAAA;CACA,YAAA;CACA,kBAAA;AACA;AAEA;CACA,kBAAA;CACA,gBAAA;CACA,gBAAA;AACA;AAEA;CACA,kBAAA;CACA,YAAA;CACA,gBAAA;AACA;AAEA;CACA,oCAAA;CACA,0CAAA;CACA,YAAA;CACA,kBAAA;CACA,mBAAA;CACA,eAAA;CACA,eAAA;CACA,yBAAA;CACA,2BAAA;AACA;AAEA;CACA,oCAAA;CACA,2BAAA;AACA;AAEA;CACA,YAAA;CACA,mBAAA;AACA;;AAEA,qBAAA;AACA;CACA,aAAA;CACA,uBAAA;CACA,SAAA;CACA,mBAAA;CACA,eAAA;AACA;AAEA;CACA,oCAAA;CACA,yBAAA;CACA,cAAA;CACA,iBAAA;CACA,mBAAA;CACA,eAAA;CACA,eAAA;CACA,gBAAA;CACA,yBAAA;CACA,2BAAA;AACA;AAEA;CACA,mBAAA;CACA,YAAA;CACA,2BAAA;CACA,+CAAA;AACA;AAEA;CACA,wBAAA;AACA;;AAEA,oBAAA;AACA;CACA,aAAA;CACA,2DAAA;CACA,SAAA;CACA,mBAAA;AACA;AAEA;CACA,iBAAA;CACA,mBAAA;CACA,aAAA;CACA,wCAAA;CACA,aAAA;CACA,mBAAA;CACA,+BAAA;AACA;AAEA;CACA,2BAAA;CACA,0CAAA;AACA;AAEA;CACA,gBAAA;CACA,kBAAA;AACA;AAEA;CACA,cAAA;CACA,iBAAA;CACA,WAAA;CACA,kBAAA;AACA;AAEA;CACA,WAAA;CACA,gBAAA;CACA,yBAAA;CACA,qBAAA;CACA,kBAAA;AACA;AAEA;CACA,eAAA;AACA;AAEA;CACA,mBAAA;AACA;AAEA;CACA,gBAAA;CACA,gBAAA;CACA,WAAA;CACA,+BAAA;AACA;;AAEA,2BAAA;AACA;CACA,iBAAA;CACA,mBAAA;CACA,wCAAA;CACA,mBAAA;CACA,gBAAA;CACA,kDAAA;AACA;AAEA;AACA;EACA,UAAA;EACA,4BAAA;AACA;AACA;EACA,UAAA;EACA,wBAAA;AACA;AACA;AAEA;CACA,aAAA;CACA,8BAAA;CACA,mBAAA;CACA,aAAA;CACA,6DAAA;CACA,YAAA;AACA;AAEA;CACA,SAAA;CACA,gBAAA;CACA,gBAAA;AACA;AAEA;CACA,oCAAA;CACA,YAAA;CACA,YAAA;CACA,WAAA;CACA,YAAA;CACA,kBAAA;CACA,eAAA;CACA,eAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;CACA,gCAAA;AACA;AAEA;CACA,oCAAA;AACA;AAEA;CACA,iBAAA;CACA,gBAAA;CACA,UAAA;AACA;AAEA;CACA,kBAAA;CACA,gCAAA;CACA,wDAAA;CACA,gBAAA;CACA,WAAA;CACA,mBAAA;CACA,gBAAA;CACA,uBAAA;CACA,gCAAA;AACA;AAEA;CACA,mBAAA;AACA;AAEA;CACA,mBAAA;AACA;;AAEA,6CAAA;AACA;CACA,UAAA;AACA;AAEA;CACA,mBAAA;AACA;AAEA;CACA,mBAAA;CACA,kBAAA;AACA;AAEA;CACA,mBAAA;AACA;;AAEA,aAAA;AACA;CACA,mBAAA;CACA,uBAAA,EAAA,qCAAA;AACA;AAEA;CACA,gBAAA;CACA,mBAAA;CACA,WAAA;CACA,gCAAA;CACA,oBAAA;AACA;;AAEA,iBAAA;AACA;CACA,kBAAA;CACA,kBAAA;CACA,mBAAA;CACA,mBAAA;CACA,0BAAA;AACA;AAEA;CACA,cAAA;CACA,mBAAA;CACA,YAAA;AACA;AAEA;CACA,cAAA;CACA,gBAAA;CACA,SAAA;AACA;;AAEA,cAAA;AACA;CACA,aAAA;CACA,SAAA;AACA;AAEA;CACA,iBAAA;CACA,mBAAA;CACA,aAAA;CACA,wCAAA;CACA,8BAAA;AACA;AAEA;CACA,aAAA;CACA,8BAAA;CACA,mBAAA;CACA,mBAAA;AACA;AAEA;CACA,gBAAA;CACA,gBAAA;CACA,WAAA;AACA;AAEA;CACA,iBAAA;CACA,mBAAA;CACA,iBAAA;CACA,gBAAA;CACA,yBAAA;AACA;AAEA;CACA,mBAAA;CACA,cAAA;AACA;AAEA;CACA,aAAA;CACA,mBAAA;CACA,mBAAA;AACA;AAEA;CACA,OAAA;CACA,WAAA;CACA,mBAAA;CACA,kBAAA;CACA,gBAAA;CACA,kBAAA;AACA;AAEA;CACA,YAAA;CACA,oDAAA;CACA,2BAAA;AACA;AAEA;CACA,gBAAA;CACA,cAAA;CACA,eAAA;AACA;AAEA;CACA,aAAA;CACA,eAAA;CACA,SAAA;CACA,mBAAA;AACA;AAEA;CACA,mBAAA;CACA,iBAAA;CACA,mBAAA;CACA,gBAAA;CACA,cAAA;AACA;AAEA;CACA,aAAA;CACA,eAAA;CACA,QAAA;AACA;AAEA;CACA,mBAAA;CACA,YAAA;CACA,gBAAA;CACA,mBAAA;CACA,gBAAA;CACA,gBAAA;AACA;;AAEA,0BAAA;AACA;CACA,aAAA;CACA,SAAA;AACA;AAEA;CACA,iBAAA;CACA,mBAAA;CACA,aAAA;CACA,wCAAA;CACA,8BAAA;AACA;AAEA;CACA,aAAA;CACA,8BAAA;CACA,mBAAA;CACA,mBAAA;AACA;AAEA;CACA,gBAAA;CACA,gBAAA;CACA,WAAA;AACA;AAEA;CACA,iBAAA;CACA,mBAAA;CACA,iBAAA;CACA,gBAAA;CACA,yBAAA;AACA;AAEA;CACA,mBAAA;CACA,cAAA;AACA;AAEA;CACA,mBAAA;CACA,cAAA;AACA;AAEA;CACA,aAAA;CACA,eAAA;CACA,SAAA;CACA,mBAAA;AACA;AAEA;CACA,aAAA;CACA,eAAA;CACA,QAAA;CACA,mBAAA;AACA;AAEA;CACA,iBAAA;AACA;AAEA;CACA,mBAAA;CACA,YAAA;CACA,YAAA;CACA,iBAAA;CACA,kBAAA;CACA,eAAA;CACA,gBAAA;CACA,gCAAA;AACA;AAEA;CACA,mBAAA;AACA;;AAEA,gBAAA;AACA;CACA,aAAA;CACA,2DAAA;CACA,SAAA;AACA;AAEA;CACA,iBAAA;CACA,aAAA;CACA,kBAAA;CACA,wCAAA;AACA;AAEA;CACA,cAAA;AACA;;AAEA,sBAAA;AACA;AACA;EACA,aAAA;AACA;AAEA;EACA,cAAA;AACA;AAEA;EACA,qCAAA;AACA;AAEA;EACA,sBAAA;EACA,uBAAA;EACA,SAAA;AACA;AAEA;EACA,uBAAA;AACA;AACA;AAEA;AACA;EACA,0BAAA;AACA;AACA;;AAEA,uBAAA;AACA;CACA,eAAA;CACA,YAAA;CACA,WAAA;CACA,WAAA;CACA,YAAA;CACA,6DAAA;CACA,YAAA;CACA,YAAA;CACA,kBAAA;CACA,eAAA;CACA,iBAAA;CACA,eAAA;CACA,0CAAA;CACA,yBAAA;CACA,aAAA;CACA,aAAA;CACA,mBAAA;CACA,uBAAA;AACA;AAEA;CACA,2BAAA;CACA,0CAAA;CACA,6DAAA;AACA;AAEA;CACA,2BAAA;AACA;;AAEA,yCAAA;AACA;CACA,uBAAA;AACA;;AAEA,iDAAA;AACA;CACA,UAAA;AACA;AAEA;CACA,mBAAA;CACA,kBAAA;AACA;AAEA;CACA,6DAAA;CACA,kBAAA;AACA;AAEA;CACA,6DAAA;AACA;;AAEA,iDAAA;AACA;CACA,oBAAA,EAAA,oDAAA;AACA",sourcesContent:['<template>\n\t<div class="hyper-viewer-dashboard">\n\t\t\x3c!-- Header --\x3e\n\t\t<div class="dashboard-header">\n\t\t\t<h1>🎬 Hyper Viewer Management</h1>\n\t\t\t<p>Monitor HLS generation jobs and manage auto-generation settings</p>\n\t\t\t<button class="refresh-btn" :disabled="loading" @click="refreshData">\n\t\t\t\t<span v-if="loading">🔄</span>\n\t\t\t\t<span v-else>↻</span>\n\t\t\t\tRefresh\n\t\t\t</button>\n\t\t</div>\n\n\t\t\x3c!-- Quick Navigation --\x3e\n\t\t<div class="quick-nav">\n\t\t\t<button class="nav-btn" @click="scrollToSection(\'stats\')">\n\t\t\t\t📊 Stats\n\t\t\t</button>\n\t\t\t<button class="nav-btn" @click="scrollToSection(\'active-jobs\')">\n\t\t\t\t🔥 Active\n\t\t\t</button>\n\t\t\t<button class="nav-btn" @click="scrollToSection(\'auto-gen\')">\n\t\t\t\t🤖 Auto-Gen\n\t\t\t</button>\n\t\t\t<button class="nav-btn" @click="scrollToSection(\'system-info\')">\n\t\t\t\tℹ️ System\n\t\t\t</button>\n\t\t</div>\n\n\t\t\x3c!-- Statistics Cards --\x3e\n\t\t<div id="stats" class="stats-grid">\n\t\t\t<div class="stat-card">\n\t\t\t\t<div class="stat-icon">\n\t\t\t\t\t⚡\n\t\t\t\t</div>\n\t\t\t\t<div class="stat-content">\n\t\t\t\t\t<div class="stat-number">\n\t\t\t\t\t\t{{ statistics.activeJobs }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="stat-label">\n\t\t\t\t\t\tActive Jobs\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="stat-card">\n\t\t\t\t<div class="stat-icon">\n\t\t\t\t\t🤖\n\t\t\t\t</div>\n\t\t\t\t<div class="stat-content">\n\t\t\t\t\t<div class="stat-number">\n\t\t\t\t\t\t{{ statistics.autoGenDirectories }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="stat-label">\n\t\t\t\t\t\tAuto-Gen Dirs\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="stat-card clickable" @click="toggleCompletedJobs">\n\t\t\t\t<div class="stat-icon">\n\t\t\t\t\t✅\n\t\t\t\t</div>\n\t\t\t\t<div class="stat-content">\n\t\t\t\t\t<div class="stat-number">\n\t\t\t\t\t\t{{ statistics.completedJobs }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="stat-label">\n\t\t\t\t\t\tCompleted\n\t\t\t\t\t\t<span class="toggle-indicator">{{ showCompletedJobs ? \'▼\' : \'▶\' }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="stat-card">\n\t\t\t\t<div class="stat-icon">\n\t\t\t\t\t⏳\n\t\t\t\t</div>\n\t\t\t\t<div class="stat-content">\n\t\t\t\t\t<div class="stat-number">\n\t\t\t\t\t\t{{ statistics.pendingJobs }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="stat-label">\n\t\t\t\t\t\tPending\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- Completed Jobs List (Collapsible) --\x3e\n\t\t<div v-if="showCompletedJobs && statistics.completedJobFilenames && statistics.completedJobFilenames.length > 0" class="completed-jobs-section">\n\t\t\t<div class="completed-jobs-header">\n\t\t\t\t<h3>✅ Completed Jobs ({{ statistics.completedJobFilenames.length }})</h3>\n\t\t\t\t<button @click="showCompletedJobs = false" class="close-btn">✕</button>\n\t\t\t</div>\n\t\t\t<div class="completed-jobs-list">\n\t\t\t\t<div \n\t\t\t\t\tv-for="filename in statistics.completedJobFilenames" \n\t\t\t\t\t:key="filename"\n\t\t\t\t\tclass="completed-job-item"\n\t\t\t\t\t:title="filename">\n\t\t\t\t\t{{ filename }}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- Active Jobs Section --\x3e\n\t\t<div id="active-jobs" class="section">\n\t\t\t<h2>🔥 Active Jobs</h2>\n\t\t\t<div v-if="activeJobs.length === 0" class="empty-state">\n\t\t\t\t<div class="empty-icon">\n\t\t\t\t\t😴\n\t\t\t\t</div>\n\t\t\t\t<p>No active jobs running</p>\n\t\t\t</div>\n\t\t\t<div v-else class="jobs-list">\n\t\t\t\t<div v-for="job in activeJobs" :key="job.cachePath" class="job-card">\n\t\t\t\t\t<div class="job-header">\n\t\t\t\t\t\t<div class="job-filename">\n\t\t\t\t\t\t\t{{ job.filename }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="job-status processing">\n\t\t\t\t\t\t\t{{ job.status }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="job-progress">\n\t\t\t\t\t\t<div class="progress-bar">\n\t\t\t\t\t\t\t<div class="progress-fill" :style="{ width: job.progress + \'%\' }" />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="progress-text">\n\t\t\t\t\t\t\t{{ job.progress }}%\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="job-details">\n\t\t\t\t\t\t<span class="detail-item">⏱️ {{ job.time }}</span>\n\t\t\t\t\t\t<span class="detail-item">🎬 {{ job.frame }} frames</span>\n\t\t\t\t\t\t<span class="detail-item">⚡ {{ job.speed }}</span>\n\t\t\t\t\t\t<span class="detail-item">📺 {{ job.fps }} fps</span>\n\t\t\t\t\t\t<span v-if="job.cacheSize" class="detail-item">💾 {{ job.cacheSize }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="job-resolutions">\n\t\t\t\t\t\t<span v-for="res in job.resolutions" :key="res" class="resolution-tag">{{ res }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- Auto-Generation Management --\x3e\n\t\t<div id="auto-gen" class="section">\n\t\t\t<h2>🤖 Auto-Generation Directories</h2>\n\t\t\t<div v-if="autoGenDirs.length === 0" class="empty-state">\n\t\t\t\t<div class="empty-icon">\n\t\t\t\t\t📁\n\t\t\t\t</div>\n\t\t\t\t<p>No auto-generation directories configured</p>\n\t\t\t</div>\n\t\t\t<div v-else class="auto-gen-list">\n\t\t\t\t<div v-for="dir in autoGenDirs" :key="dir.configKey" class="auto-gen-card">\n\t\t\t\t\t<div class="auto-gen-header">\n\t\t\t\t\t\t<div class="auto-gen-path">\n\t\t\t\t\t\t\t📁 {{ dir.directory }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div class="auto-gen-status" :class="{ enabled: dir.enabled, disabled: !dir.enabled }">\n\t\t\t\t\t\t\t{{ dir.enabled ? \'Enabled\' : \'Disabled\' }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="auto-gen-details">\n\t\t\t\t\t\t<span class="detail-item">📍 {{ dir.cacheLocation }}</span>\n\t\t\t\t\t\t<span class="detail-item">📅 {{ formatDate(dir.registeredAt) }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="auto-gen-resolutions">\n\t\t\t\t\t\t<span v-for="res in dir.resolutions" :key="res" class="resolution-tag">{{ res }}</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="auto-gen-actions">\n\t\t\t\t\t\t<button class="edit-btn" @click="editAutoGeneration(dir)">\n\t\t\t\t\t\t\t✏️ Edit\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class="remove-btn" @click="removeAutoGeneration(dir.configKey)">\n\t\t\t\t\t\t\t🗑️ Remove\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t\x3c!-- Back to Top Button --\x3e\n\t\t<button \n\t\t\tv-show="showBackToTop" \n\t\t\tclass="back-to-top-btn" \n\t\t\ttitle="Back to top"\n\t\t\t@click="scrollToTop">\n\t\t\t↑\n\t\t</button>\n\t</div>\n</template>\n\n<script>\nimport axios from \'@nextcloud/axios\'\nimport { generateUrl } from \'@nextcloud/router\'\n\nexport default {\n\tname: \'App\',\n\tdata() {\n\t\treturn {\n\t\t\tloading: false,\n\t\t\tactiveJobs: [],\n\t\t\tautoGenDirs: [],\n\t\t\tstatistics: {\n\t\t\t\tactiveJobs: 0,\n\t\t\t\tcompletedJobs: 0,\n\t\t\t\tpendingJobs: 0,\n\t\t\t\tcompletedJobFilenames: []\n\t\t\t},\n\t\t\tlastRefresh: \'Never\',\n\t\t\trefreshInterval: null,\n\t\t\tstatsInterval: null,\n\t\t\tisPollingActive: false, // Track if centralized polling is running\n\t\t\tshowBackToTop: false,\n\t\t\tshowCompletedJobs: false\n\t\t}\n\t},\n\tasync mounted() {\n\t\tconsole.log(\'🎬 Hyper Viewer Dashboard mounted!\')\n\t\tawait this.refreshData()\n\t\t\n\t\t// Set up auto-refresh every 10 seconds for job discovery\n\t\tthis.refreshInterval = setInterval(() => {\n\t\t\tthis.refreshActiveJobs()\n\t\t}, 10000)\n\n\t\t// Set up periodic refresh for statistics and auto-gen (every 10 seconds)\n\t\tthis.statsInterval = setInterval(() => {\n\t\t\tthis.refreshStatisticsAndAutoGen()\n\t\t}, 10000)\n\n\t\t// Set up scroll listener for back-to-top button\n\t\twindow.addEventListener(\'scroll\', this.handleScroll)\n\t},\n\tbeforeDestroy() {\n\t\tif (this.refreshInterval) {\n\t\t\tclearInterval(this.refreshInterval)\n\t\t}\n\t\tif (this.statsInterval) {\n\t\t\tclearInterval(this.statsInterval)\n\t\t}\n\t\t// Stop centralized polling\n\t\tthis.isPollingActive = false\n\t\twindow.removeEventListener(\'scroll\', this.handleScroll)\n\t},\n\tmethods: {\n\t\tasync refreshData() {\n\t\t\tthis.loading = true\n\t\t\ttry {\n\t\t\t\t// Fetch all data in parallel (full refresh)\n\t\t\t\tconst [autoGenRes, statsRes] = await Promise.all([\n\t\t\t\t\taxios.get(generateUrl(\'/apps/hyper_viewer/api/auto-generation\')),\n\t\t\t\t\taxios.get(generateUrl(\'/apps/hyper_viewer/api/jobs/statistics\'))\n\t\t\t\t])\n\n\t\t\t\t// Also refresh active jobs initially\n\t\t\t\tawait this.refreshActiveJobs()\n\t\t\t\t\n\t\t\t\tthis.autoGenDirs = autoGenRes.data.autoGenDirs || []\n\t\t\t\tthis.statistics = statsRes.data.stats || this.statistics\n\n\t\t\t\tthis.lastRefresh = new Date().toLocaleTimeString()\n\t\t\t\tconsole.log(\'✅ Dashboard data refreshed\', {\n\t\t\t\t\tactiveJobs: this.activeJobs.length,\n\t\t\t\t\tautoGenDirs: this.autoGenDirs.length\n\t\t\t\t})\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\'❌ Failed to refresh dashboard data:\', error)\n\t\t\t\tOC.Notification.showTemporary(\'Failed to refresh dashboard data\', { type: \'error\' })\n\t\t\t} finally {\n\t\t\t\tthis.loading = false\n\t\t\t}\n\t\t},\n\n\t\tasync refreshStatisticsAndAutoGen() {\n\t\t\ttry {\n\t\t\t\t// Refresh statistics and auto-gen directories (not active jobs)\n\t\t\t\tconst [autoGenRes, statsRes] = await Promise.all([\n\t\t\t\t\taxios.get(generateUrl(\'/apps/hyper_viewer/api/auto-generation\')),\n\t\t\t\t\taxios.get(generateUrl(\'/apps/hyper_viewer/api/jobs/statistics\'))\n\t\t\t\t])\n\t\t\t\t\n\t\t\t\tthis.autoGenDirs = autoGenRes.data.autoGenDirs || []\n\t\t\t\tthis.statistics = statsRes.data.stats || this.statistics\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\'❌ Failed to refresh statistics and auto-gen:\', error)\n\t\t\t}\n\t\t},\n\n\t\tasync refreshActiveJobs() {\n\t\t\ttry {\n\t\t\t\t// Fast scan - just get list of active jobs (no detailed progress)\n\t\t\t\tconst response = await axios.get(generateUrl(\'/apps/hyper_viewer/api/jobs/active\'))\n\t\t\t\tconst newActiveJobs = response.data.jobs || []\n\t\t\t\t\n\t\t\t\t// Update the jobs list (merge with existing progress data)\n\t\t\t\tthis.activeJobs = newActiveJobs.map(newJob => {\n\t\t\t\t\tconst existingJob = this.activeJobs.find(j => j.filename === newJob.filename)\n\t\t\t\t\treturn existingJob ? { ...existingJob, ...newJob } : { ...newJob, progress: 0, frame: 0, fps: 0, speed: \'0x\', time: \'00:00:00\' }\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// Start centralized polling if we have jobs and it\'s not already running\n\t\t\t\tif (this.activeJobs.length > 0 && !this.isPollingActive) {\n\t\t\t\t\tthis.startCentralizedPolling()\n\t\t\t\t}\n\t\t\t\t\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\'❌ Failed to refresh active jobs:\', error)\n\t\t\t}\n\t\t},\n\n\t\tasync startCentralizedPolling() {\n\t\t\tif (this.isPollingActive) {\n\t\t\t\treturn // Already polling\n\t\t\t}\n\t\t\t\n\t\t\tthis.isPollingActive = true\n\t\t\tconsole.log(\'🔄 Starting centralized job polling\')\n\t\t\t\n\t\t\t// Sequential polling loop that processes one job at a time\n\t\t\twhile (this.activeJobs.length > 0 && this.isPollingActive) {\n\t\t\t\t// Process each active job sequentially\n\t\t\t\tfor (let i = 0; i < this.activeJobs.length; i++) {\n\t\t\t\t\tif (!this.isPollingActive) break\n\t\t\t\t\t\n\t\t\t\t\tconst job = this.activeJobs[i]\n\t\t\t\t\tif (!job) continue\n\t\t\t\t\t\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst response = await axios.get(generateUrl(`/apps/hyper_viewer/api/jobs/active/${job.filename}`))\n\t\t\t\t\t\t\n\t\t\t\t\t\t// Update the specific job in the array\n\t\t\t\t\t\tthis.$set(this.activeJobs, i, { ...this.activeJobs[i], ...response.data })\n\t\t\t\t\t\t\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tif (error.response?.status === 404) {\n\t\t\t\t\t\t\t// Job no longer active, remove from list\n\t\t\t\t\t\t\tthis.activeJobs.splice(i, 1)\n\t\t\t\t\t\t\ti-- // Adjust index after removal\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t// Wait 500ms before next request (max 2 requests per second)\n\t\t\t\t\tawait new Promise(resolve => setTimeout(resolve, 500))\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t// Wait a bit before next cycle\n\t\t\t\tawait new Promise(resolve => setTimeout(resolve, 2000))\n\t\t\t}\n\t\t\t\n\t\t\tthis.isPollingActive = false\n\t\t\tconsole.log(\'⏹️ Stopped centralized job polling\')\n\t\t},\n\n\t\teditAutoGeneration(dir) {\n\t\t\t// Create a simple edit dialog\n\t\t\tconst resolutions = [\'1080p\', \'720p\', \'480p\', \'360p\', \'240p\']\n\t\t\tconst currentResolutions = dir.resolutions || []\n\t\t\t\n\t\t\t// Build checkbox list\n\t\t\tconst checkboxes = resolutions.map(res => {\n\t\t\t\tconst checked = currentResolutions.includes(res) ? \'checked\' : \'\'\n\t\t\t\treturn `<label style="display: block; margin: 5px 0;"><input type="checkbox" value="${res}" ${checked}> ${res}</label>`\n\t\t\t}).join(\'\')\n\t\t\t\n\t\t\tconst enabledChecked = dir.enabled ? \'checked\' : \'\'\n\t\t\t\n\t\t\tconst dialogContent = `\n\t\t\t\t<div style="padding: 20px;">\n\t\t\t\t\t<h3>Edit Auto-Generation Settings</h3>\n\t\t\t\t\t<p><strong>Directory:</strong> ${dir.directory}</p>\n\t\t\t\t\t\n\t\t\t\t\t<div style="margin: 15px 0;">\n\t\t\t\t\t\t<label><input type="checkbox" id="enabled-checkbox" ${enabledChecked}> Enabled</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div style="margin: 15px 0;">\n\t\t\t\t\t\t<strong>Resolutions:</strong><br>\n\t\t\t\t\t\t${checkboxes}\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div style="margin-top: 20px;">\n\t\t\t\t\t\t<button id="save-btn" style="background: #0082c9; color: white; padding: 8px 16px; border: none; border-radius: 4px; margin-right: 10px;">Save</button>\n\t\t\t\t\t\t<button id="cancel-btn" style="background: #ccc; color: black; padding: 8px 16px; border: none; border-radius: 4px;">Cancel</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`\n\t\t\t\n\t\t\t// Create modal\n\t\t\tconst modal = document.createElement(\'div\')\n\t\t\tmodal.style.cssText = \'position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; display: flex; align-items: center; justify-content: center;\'\n\t\t\tmodal.innerHTML = `<div style="background: white; border-radius: 8px; max-width: 500px; width: 90%;">${dialogContent}</div>`\n\t\t\t\n\t\t\tdocument.body.appendChild(modal)\n\t\t\t\n\t\t\t// Handle save\n\t\t\tmodal.querySelector(\'#save-btn\').onclick = async () => {\n\t\t\t\tconst enabled = modal.querySelector(\'#enabled-checkbox\').checked\n\t\t\t\tconst selectedResolutions = Array.from(modal.querySelectorAll(\'input[type="checkbox"][value]\'))\n\t\t\t\t\t.filter(cb => cb.checked)\n\t\t\t\t\t.map(cb => cb.value)\n\t\t\t\t\n\t\t\t\ttry {\n\t\t\t\t\tawait axios.put(generateUrl(`/apps/hyper_viewer/api/auto-generation/${dir.configKey}`), {\n\t\t\t\t\t\tenabled,\n\t\t\t\t\t\tresolutions: selectedResolutions\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\t// Update local data\n\t\t\t\t\tconst dirIndex = this.autoGenDirs.findIndex(d => d.configKey === dir.configKey)\n\t\t\t\t\tif (dirIndex !== -1) {\n\t\t\t\t\t\tthis.autoGenDirs[dirIndex].enabled = enabled\n\t\t\t\t\t\tthis.autoGenDirs[dirIndex].resolutions = selectedResolutions\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tdocument.body.removeChild(modal)\n\t\t\t\t\tOC.Notification.showTemporary(\'Auto-generation settings updated successfully\', { type: \'success\' })\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error(\'❌ Failed to update auto-generation settings:\', error)\n\t\t\t\t\tOC.Notification.showTemporary(\'Failed to update settings\', { type: \'error\' })\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// Handle cancel\n\t\t\tmodal.querySelector(\'#cancel-btn\').onclick = () => {\n\t\t\t\tdocument.body.removeChild(modal)\n\t\t\t}\n\t\t\t\n\t\t\t// Handle click outside\n\t\t\tmodal.onclick = (e) => {\n\t\t\t\tif (e.target === modal) {\n\t\t\t\t\tdocument.body.removeChild(modal)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tasync removeAutoGeneration(configKey) {\n\t\t\tif (!confirm(\'Are you sure you want to remove this auto-generation directory?\')) {\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tawait axios.delete(generateUrl(\'/apps/hyper_viewer/api/auto-generation/\' + configKey))\n\t\t\t\t\n\t\t\t\t// Remove from local array\n\t\t\t\tthis.autoGenDirs = this.autoGenDirs.filter(dir => dir.configKey !== configKey)\n\t\t\t\tthis.statistics.autoGenDirectories = Math.max(0, this.statistics.autoGenDirectories - 1)\n\t\t\t\t\n\t\t\t\tOC.Notification.showTemporary(\'Auto-generation removed successfully\', { type: \'success\' })\n\t\t\t\tconsole.log(\'🗑️ Removed auto-generation:\', configKey)\n\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error(\'❌ Failed to remove auto-generation:\', error)\n\t\t\t\tOC.Notification.showTemporary(\'Failed to remove auto-generation\', { type: \'error\' })\n\t\t\t}\n\t\t},\n\n\t\tformatDate(timestamp) {\n\t\t\tif (!timestamp) return \'Unknown\'\n\t\t\treturn new Date(timestamp * 1000).toLocaleDateString()\n\t\t},\n\n\t\thandleScroll() {\n\t\t\tthis.showBackToTop = window.scrollY > 300\n\t\t},\n\n\t\tscrollToTop() {\n\t\t\twindow.scrollTo({\n\t\t\t\ttop: 0,\n\t\t\t\tbehavior: \'smooth\'\n\t\t\t})\n\t\t},\n\n\t\ttoggleCompletedJobs() {\n\t\t\tthis.showCompletedJobs = !this.showCompletedJobs\n\t\t},\n\n\t\tscrollToSection(sectionId) {\n\t\t\tconst element = document.getElementById(sectionId)\n\t\t\tif (element) {\n\t\t\t\telement.scrollIntoView({\n\t\t\t\t\tbehavior: \'smooth\',\n\t\t\t\t\tblock: \'start\'\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n}\n<\/script>\n\n<style scoped>\n.hyper-viewer-dashboard {\n\tpadding: 20px;\n\tmax-width: 1200px;\n\tmargin: 0 auto;\n\tfont-family: -apple-system, BlinkMacSystemFont, \'Segoe UI\', Roboto, sans-serif;\n\tmin-height: 100vh;\n\toverflow-y: auto;\n\tbox-sizing: border-box;\n}\n\n/* Header */\n.dashboard-header {\n\ttext-align: center;\n\tmargin-bottom: 30px;\n\tpadding: 20px;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tborder-radius: 12px;\n\tcolor: white;\n\tposition: relative;\n}\n\n.dashboard-header h1 {\n\tmargin: 0 0 10px 0;\n\tfont-size: 2.5em;\n\tfont-weight: 600;\n}\n\n.dashboard-header p {\n\tmargin: 0 0 20px 0;\n\topacity: 0.9;\n\tfont-size: 1.1em;\n}\n\n.refresh-btn {\n\tbackground: rgba(255, 255, 255, 0.2);\n\tborder: 2px solid rgba(255, 255, 255, 0.3);\n\tcolor: white;\n\tpadding: 10px 20px;\n\tborder-radius: 25px;\n\tcursor: pointer;\n\tfont-size: 16px;\n\ttransition: all 0.3s ease;\n\tbackdrop-filter: blur(10px);\n}\n\n.refresh-btn:hover:not(:disabled) {\n\tbackground: rgba(255, 255, 255, 0.3);\n\ttransform: translateY(-2px);\n}\n\n.refresh-btn:disabled {\n\topacity: 0.6;\n\tcursor: not-allowed;\n}\n\n/* Quick Navigation */\n.quick-nav {\n\tdisplay: flex;\n\tjustify-content: center;\n\tgap: 15px;\n\tmargin-bottom: 30px;\n\tflex-wrap: wrap;\n}\n\n.nav-btn {\n\tbackground: rgba(255, 255, 255, 0.9);\n\tborder: 2px solid #667eea;\n\tcolor: #667eea;\n\tpadding: 8px 16px;\n\tborder-radius: 20px;\n\tcursor: pointer;\n\tfont-size: 14px;\n\tfont-weight: 500;\n\ttransition: all 0.3s ease;\n\tbackdrop-filter: blur(10px);\n}\n\n.nav-btn:hover {\n\tbackground: #667eea;\n\tcolor: white;\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n}\n\n.nav-btn:active {\n\ttransform: translateY(0);\n}\n\n/* Statistics Grid */\n.stats-grid {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n\tgap: 20px;\n\tmargin-bottom: 40px;\n}\n\n.stat-card {\n\tbackground: white;\n\tborder-radius: 12px;\n\tpadding: 20px;\n\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\tdisplay: flex;\n\talign-items: center;\n\ttransition: transform 0.2s ease;\n}\n\n.stat-card:hover {\n\ttransform: translateY(-2px);\n\tbox-shadow: 0 8px 15px rgba(0, 0, 0, 0.15);\n}\n\n.stat-icon {\n\tfont-size: 2.5em;\n\tmargin-right: 15px;\n}\n\n.stat-number {\n\tfont-size: 2em;\n\tfont-weight: bold;\n\tcolor: #333;\n\tmargin-bottom: 5px;\n}\n\n.stat-label {\n\tcolor: #666;\n\tfont-size: 0.9em;\n\ttext-transform: uppercase;\n\tletter-spacing: 0.5px;\n\tposition: relative;\n}\n\n.stat-card.clickable {\n\tcursor: pointer;\n}\n\n.stat-card.clickable:hover {\n\tbackground: #f8f9fa;\n}\n\n.toggle-indicator {\n\tmargin-left: 8px;\n\tfont-size: 0.8em;\n\tcolor: #999;\n\ttransition: transform 0.2s ease;\n}\n\n/* Completed Jobs Section */\n.completed-jobs-section {\n\tbackground: white;\n\tborder-radius: 12px;\n\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\tmargin-bottom: 30px;\n\toverflow: hidden;\n\tanimation: slideDown 0.3s ease-out;\n}\n\n@keyframes slideDown {\n\tfrom {\n\t\topacity: 0;\n\t\ttransform: translateY(-10px);\n\t}\n\tto {\n\t\topacity: 1;\n\t\ttransform: translateY(0);\n\t}\n}\n\n.completed-jobs-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 20px;\n\tbackground: linear-gradient(135deg, #28a745 0%, #20c997 100%);\n\tcolor: white;\n}\n\n.completed-jobs-header h3 {\n\tmargin: 0;\n\tfont-size: 1.3em;\n\tfont-weight: 600;\n}\n\n.close-btn {\n\tbackground: rgba(255, 255, 255, 0.2);\n\tborder: none;\n\tcolor: white;\n\twidth: 30px;\n\theight: 30px;\n\tborder-radius: 50%;\n\tcursor: pointer;\n\tfont-size: 16px;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\ttransition: background 0.2s ease;\n}\n\n.close-btn:hover {\n\tbackground: rgba(255, 255, 255, 0.3);\n}\n\n.completed-jobs-list {\n\tmax-height: 400px;\n\toverflow-y: auto;\n\tpadding: 0;\n}\n\n.completed-job-item {\n\tpadding: 12px 20px;\n\tborder-bottom: 1px solid #f0f0f0;\n\tfont-family: \'Monaco\', \'Menlo\', \'Ubuntu Mono\', monospace;\n\tfont-size: 0.9em;\n\tcolor: #333;\n\twhite-space: nowrap;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\ttransition: background 0.2s ease;\n}\n\n.completed-job-item:hover {\n\tbackground: #f8f9fa;\n}\n\n.completed-job-item:last-child {\n\tborder-bottom: none;\n}\n\n/* Custom scrollbar for completed jobs list */\n.completed-jobs-list::-webkit-scrollbar {\n\twidth: 8px;\n}\n\n.completed-jobs-list::-webkit-scrollbar-track {\n\tbackground: #f1f1f1;\n}\n\n.completed-jobs-list::-webkit-scrollbar-thumb {\n\tbackground: #c1c1c1;\n\tborder-radius: 4px;\n}\n\n.completed-jobs-list::-webkit-scrollbar-thumb:hover {\n\tbackground: #a8a8a8;\n}\n\n/* Sections */\n.section {\n\tmargin-bottom: 40px;\n\tscroll-margin-top: 20px; /* For smooth scrolling to sections */\n}\n\n.section h2 {\n\tfont-size: 1.8em;\n\tmargin-bottom: 20px;\n\tcolor: #333;\n\tborder-bottom: 3px solid #667eea;\n\tpadding-bottom: 10px;\n}\n\n/* Empty States */\n.empty-state {\n\ttext-align: center;\n\tpadding: 60px 20px;\n\tbackground: #f8f9fa;\n\tborder-radius: 12px;\n\tborder: 2px dashed #dee2e6;\n}\n\n.empty-icon {\n\tfont-size: 4em;\n\tmargin-bottom: 15px;\n\topacity: 0.5;\n}\n\n.empty-state p {\n\tcolor: #6c757d;\n\tfont-size: 1.1em;\n\tmargin: 0;\n}\n\n/* Job Cards */\n.jobs-list {\n\tdisplay: grid;\n\tgap: 20px;\n}\n\n.job-card {\n\tbackground: white;\n\tborder-radius: 12px;\n\tpadding: 20px;\n\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\tborder-left: 4px solid #28a745;\n}\n\n.job-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 15px;\n}\n\n.job-filename {\n\tfont-weight: 600;\n\tfont-size: 1.1em;\n\tcolor: #333;\n}\n\n.job-status {\n\tpadding: 4px 12px;\n\tborder-radius: 20px;\n\tfont-size: 0.85em;\n\tfont-weight: 500;\n\ttext-transform: uppercase;\n}\n\n.job-status.processing {\n\tbackground: #fff3cd;\n\tcolor: #856404;\n}\n\n.job-progress {\n\tdisplay: flex;\n\talign-items: center;\n\tmargin-bottom: 15px;\n}\n\n.progress-bar {\n\tflex: 1;\n\theight: 8px;\n\tbackground: #e9ecef;\n\tborder-radius: 4px;\n\toverflow: hidden;\n\tmargin-right: 15px;\n}\n\n.progress-fill {\n\theight: 100%;\n\tbackground: linear-gradient(90deg, #28a745, #20c997);\n\ttransition: width 0.3s ease;\n}\n\n.progress-text {\n\tfont-weight: 600;\n\tcolor: #28a745;\n\tmin-width: 50px;\n}\n\n.job-details {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 15px;\n\tmargin-bottom: 15px;\n}\n\n.detail-item {\n\tbackground: #f8f9fa;\n\tpadding: 5px 10px;\n\tborder-radius: 15px;\n\tfont-size: 0.9em;\n\tcolor: #495057;\n}\n\n.job-resolutions {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 8px;\n}\n\n.resolution-tag {\n\tbackground: #667eea;\n\tcolor: white;\n\tpadding: 4px 8px;\n\tborder-radius: 12px;\n\tfont-size: 0.8em;\n\tfont-weight: 500;\n}\n\n/* Auto-Generation Cards */\n.auto-gen-list {\n\tdisplay: grid;\n\tgap: 20px;\n}\n\n.auto-gen-card {\n\tbackground: white;\n\tborder-radius: 12px;\n\tpadding: 20px;\n\tbox-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n\tborder-left: 4px solid #6f42c1;\n}\n\n.auto-gen-header {\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tmargin-bottom: 15px;\n}\n\n.auto-gen-path {\n\tfont-weight: 600;\n\tfont-size: 1.1em;\n\tcolor: #333;\n}\n\n.auto-gen-status {\n\tpadding: 4px 12px;\n\tborder-radius: 20px;\n\tfont-size: 0.85em;\n\tfont-weight: 500;\n\ttext-transform: uppercase;\n}\n\n.auto-gen-status.enabled {\n\tbackground: #d4edda;\n\tcolor: #155724;\n}\n\n.auto-gen-status.disabled {\n\tbackground: #f8d7da;\n\tcolor: #721c24;\n}\n\n.auto-gen-details {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 15px;\n\tmargin-bottom: 15px;\n}\n\n.auto-gen-resolutions {\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tgap: 8px;\n\tmargin-bottom: 15px;\n}\n\n.auto-gen-actions {\n\ttext-align: right;\n}\n\n.remove-btn {\n\tbackground: #dc3545;\n\tcolor: white;\n\tborder: none;\n\tpadding: 8px 16px;\n\tborder-radius: 6px;\n\tcursor: pointer;\n\tfont-size: 0.9em;\n\ttransition: background 0.2s ease;\n}\n\n.remove-btn:hover {\n\tbackground: #c82333;\n}\n\n/* System Info */\n.info-grid {\n\tdisplay: grid;\n\tgrid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n\tgap: 15px;\n}\n\n.info-item {\n\tbackground: white;\n\tpadding: 15px;\n\tborder-radius: 8px;\n\tbox-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.info-item strong {\n\tcolor: #495057;\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n\t.hyper-viewer-dashboard {\n\t\tpadding: 15px;\n\t}\n\t\n\t.dashboard-header h1 {\n\t\tfont-size: 2em;\n\t}\n\t\n\t.stats-grid {\n\t\tgrid-template-columns: repeat(2, 1fr);\n\t}\n\t\n\t.job-header, .auto-gen-header {\n\t\tflex-direction: column;\n\t\talign-items: flex-start;\n\t\tgap: 10px;\n\t}\n\t\n\t.job-details {\n\t\tjustify-content: center;\n\t}\n}\n\n@media (max-width: 480px) {\n\t.stats-grid {\n\t\tgrid-template-columns: 1fr;\n\t}\n}\n\n/* Back to Top Button */\n.back-to-top-btn {\n\tposition: fixed;\n\tbottom: 30px;\n\tright: 30px;\n\twidth: 50px;\n\theight: 50px;\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tcolor: white;\n\tborder: none;\n\tborder-radius: 50%;\n\tfont-size: 20px;\n\tfont-weight: bold;\n\tcursor: pointer;\n\tbox-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n\ttransition: all 0.3s ease;\n\tz-index: 1000;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n}\n\n.back-to-top-btn:hover {\n\ttransform: translateY(-3px);\n\tbox-shadow: 0 6px 20px rgba(0, 0, 0, 0.25);\n\tbackground: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);\n}\n\n.back-to-top-btn:active {\n\ttransform: translateY(-1px);\n}\n\n/* Smooth scrolling for the entire page */\nhtml {\n\tscroll-behavior: smooth;\n}\n\n/* Better scrollbar styling for webkit browsers */\n.hyper-viewer-dashboard::-webkit-scrollbar {\n\twidth: 8px;\n}\n\n.hyper-viewer-dashboard::-webkit-scrollbar-track {\n\tbackground: #f1f1f1;\n\tborder-radius: 4px;\n}\n\n.hyper-viewer-dashboard::-webkit-scrollbar-thumb {\n\tbackground: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n\tborder-radius: 4px;\n}\n\n.hyper-viewer-dashboard::-webkit-scrollbar-thumb:hover {\n\tbackground: linear-gradient(135deg, #5a67d8 0%, #6b46c1 100%);\n}\n\n/* Improve section spacing for better scrolling */\n.section:last-child {\n\tmargin-bottom: 100px; /* Extra space at bottom for comfortable scrolling */\n}\n</style>\n'],sourceRoot:""}]),e.Z=i},3645:function(t){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(o=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(u," */")),a=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(a).concat([i]).join("\n")}var o,s,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<t.length;s++){var u=[].concat(t[s]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},4289:function(t,e,n){"use strict";var r=n(2215),i="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),a=Object.prototype.toString,o=Array.prototype.concat,s=Object.defineProperty,u=s&&function(){var t={};try{for(var e in s(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),l=function(t,e,n,r){var i;(!(e in t)||"function"==typeof(i=r)&&"[object Function]"===a.call(i)&&r())&&(u?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n)},c=function(t,e){var n=arguments.length>2?arguments[2]:{},a=r(e);i&&(a=o.call(a,Object.getOwnPropertySymbols(e)));for(var s=0;s<a.length;s+=1)l(t,a[s],e[a[s]],n[a[s]])};c.supportsDescriptors=!!u,t.exports=c},6504:function(t,e,n){"use strict";var r,i=n(319),a=n(7296);try{r=[].__proto__===Array.prototype}catch(t){if(!t||"object"!=typeof t||!("code"in t)||"ERR_PROTO_ACCESS"!==t.code)throw t}var o=!!r&&a&&a(Object.prototype,"__proto__"),s=Object,u=s.getPrototypeOf;t.exports=o&&"function"==typeof o.get?i([o.get]):"function"==typeof u&&function(t){return u(null==t?t:s(t))}},4079:function(t,e,n){"use strict";var r=n(210)("%Object.getOwnPropertyDescriptor%");if(r)try{r([],"length")}catch(t){r=null}t.exports=r},4429:function(t){"use strict";var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}t.exports=e},3981:function(t){"use strict";t.exports=EvalError},1648:function(t){"use strict";t.exports=Error},4726:function(t){"use strict";t.exports=RangeError},6712:function(t){"use strict";t.exports=ReferenceError},3464:function(t){"use strict";t.exports=SyntaxError},4453:function(t){"use strict";t.exports=TypeError},3915:function(t){"use strict";t.exports=URIError},8892:function(t){"use strict";t.exports=Object},8091:function(t){"use strict";function e(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var a=Object.keys(Object(i)),o=0,s=a.length;o<s;o++){var u=a[o],l=Object.getOwnPropertyDescriptor(i,u);void 0!==l&&l.enumerable&&(n[u]=i[u])}}return n}t.exports={assign:e,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:e})}}},9804:function(t){var e=Object.prototype.hasOwnProperty,n=Object.prototype.toString;t.exports=function(t,r,i){if("[object Function]"!==n.call(r))throw new TypeError("iterator must be a function");var a=t.length;if(a===+a)for(var o=0;o<a;o++)r.call(i,t[o],o,t);else for(var s in t)e.call(t,s)&&r.call(i,t[s],s,t)}},7648:function(t){"use strict";var e="Function.prototype.bind called on incompatible ",n=Object.prototype.toString,r=Math.max,i="[object Function]",a=function(t,e){for(var n=[],r=0;r<t.length;r+=1)n[r]=t[r];for(var i=0;i<e.length;i+=1)n[i+t.length]=e[i];return n},o=function(t,e){for(var n=[],r=e||0,i=0;r<t.length;r+=1,i+=1)n[i]=t[r];return n},s=function(t,e){for(var n="",r=0;r<t.length;r+=1)n+=t[r],r+1<t.length&&(n+=e);return n};t.exports=function(t){var u=this;if("function"!=typeof u||n.apply(u)!==i)throw new TypeError(e+u);for(var l,c=o(arguments,1),d=function(){if(this instanceof l){var e=u.apply(this,a(c,arguments));return Object(e)===e?e:this}return u.apply(t,a(c,arguments))},p=r(0,u.length-c.length),h=[],f=0;f<p;f++)h[f]="$"+f;if(l=Function("binder","return function ("+s(h,",")+"){ return binder.apply(this,arguments); }")(d),u.prototype){var g=function(){};g.prototype=u.prototype,l.prototype=new g,g.prototype=null}return l}},8612:function(t,e,n){"use strict";var r=n(7648);t.exports=Function.prototype.bind||r},210:function(t,e,n){"use strict";var r,i=n(8892),a=n(1648),o=n(3981),s=n(4726),u=n(6712),l=n(3464),c=n(4453),d=n(3915),p=n(9738),h=n(6329),f=n(2264),g=n(5730),m=n(707),v=n(3862),y=n(9550),A=Function,b=function(t){try{return A('"use strict"; return ('+t+").constructor;")()}catch(t){}},w=n(7296),C=n(4429),x=function(){throw new c},T=w?function(){try{return x}catch(t){try{return w(arguments,"callee").get}catch(t){return x}}}():x,S=n(1405)(),E=n(1618),k=n(8899),I=n(443),M=n(1768),R=n(8928),L={},O="undefined"!=typeof Uint8Array&&E?E(Uint8Array):r,P={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":S&&E?E([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":L,"%AsyncGenerator%":L,"%AsyncGeneratorFunction%":L,"%AsyncIteratorPrototype%":L,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":a,"%eval%":eval,"%EvalError%":o,"%Float16Array%":"undefined"==typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":L,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":S&&E?E(E([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&S&&E?E((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":u,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&S&&E?E((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":S&&E?E(""[Symbol.iterator]()):r,"%Symbol%":S?Symbol:r,"%SyntaxError%":l,"%ThrowTypeError%":T,"%TypedArray%":O,"%TypeError%":c,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":d,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet,"%Function.prototype.call%":R,"%Function.prototype.apply%":M,"%Object.defineProperty%":C,"%Object.getPrototypeOf%":k,"%Math.abs%":p,"%Math.floor%":h,"%Math.max%":f,"%Math.min%":g,"%Math.pow%":m,"%Math.round%":v,"%Math.sign%":y,"%Reflect.getPrototypeOf%":I};if(E)try{null.error}catch(t){var D=E(E(t));P["%Error.prototype%"]=D}var _=function t(e){var n;if("%AsyncFunction%"===e)n=b("async function () {}");else if("%GeneratorFunction%"===e)n=b("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=b("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&E&&(n=E(i.prototype))}return P[e]=n,n},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},U=n(8612),B=n(8824),j=U.call(R,Array.prototype.concat),q=U.call(M,Array.prototype.splice),F=U.call(R,String.prototype.replace),V=U.call(R,String.prototype.slice),G=U.call(R,RegExp.prototype.exec),z=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,H=/\\(\\)?/g,K=function(t){var e=V(t,0,1),n=V(t,-1);if("%"===e&&"%"!==n)throw new l("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new l("invalid intrinsic syntax, expected opening `%`");var r=[];return F(t,z,(function(t,e,n,i){r[r.length]=n?F(i,H,"$1"):e||t})),r},W=function(t,e){var n,r=t;if(B(N,r)&&(r="%"+(n=N[r])[0]+"%"),B(P,r)){var i=P[r];if(i===L&&(i=_(r)),void 0===i&&!e)throw new c("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new l("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new c('"allowMissing" argument must be a boolean');if(null===G(/^%?[^%]*%?$/,t))throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=K(t),r=n.length>0?n[0]:"",i=W("%"+r+"%",e),a=i.name,o=i.value,s=!1,u=i.alias;u&&(r=u[0],q(n,j([0,1],u)));for(var d=1,p=!0;d<n.length;d+=1){var h=n[d],f=V(h,0,1),g=V(h,-1);if(('"'===f||"'"===f||"`"===f||'"'===g||"'"===g||"`"===g)&&f!==g)throw new l("property names with quotes must have matching quotes");if("constructor"!==h&&p||(s=!0),B(P,a="%"+(r+="."+h)+"%"))o=P[a];else if(null!=o){if(!(h in o)){if(!e)throw new c("base intrinsic for "+t+" exists, but the property is not available.");return}if(w&&d+1>=n.length){var m=w(o,h);o=(p=!!m)&&"get"in m&&!("originalValue"in m.get)?m.get:o[h]}else p=B(o,h),o=o[h];p&&!s&&(P[a]=o)}}return o}},8899:function(t,e,n){"use strict";var r=n(8892);t.exports=r.getPrototypeOf||null},443:function(t){"use strict";t.exports="undefined"!=typeof Reflect&&Reflect.getPrototypeOf||null},1618:function(t,e,n){"use strict";var r=n(443),i=n(8899),a=n(6504);t.exports=r?function(t){return r(t)}:i?function(t){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("getProto: not an object");return i(t)}:a?function(t){return a(t)}:null},690:function(t){"use strict";t.exports=Object.getOwnPropertyDescriptor},7296:function(t,e,n){"use strict";var r=n(690);if(r)try{r([],"length")}catch(t){r=null}t.exports=r},1405:function(t,e,n){"use strict";var r="undefined"!=typeof Symbol&&Symbol,i=n(5419);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&i())))}},5419:function(t){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var i=Object.getOwnPropertySymbols(t);if(1!==i.length||i[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var a=Object.getOwnPropertyDescriptor(t,e);if(42!==a.value||!0!==a.enumerable)return!1}return!0}},8824:function(t,e,n){"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,a=n(8612);t.exports=a.call(r,i)},645:function(t,e){e.read=function(t,e,n,r,i){var a,o,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,d=n?i-1:0,p=n?-1:1,h=t[e+d];for(d+=p,a=h&(1<<-c)-1,h>>=-c,c+=s;c>0;a=256*a+t[e+d],d+=p,c-=8);for(o=a&(1<<-c)-1,a>>=-c,c+=r;c>0;o=256*o+t[e+d],d+=p,c-=8);if(0===a)a=1-l;else{if(a===u)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,r),a-=l}return(h?-1:1)*o*Math.pow(2,a-r)},e.write=function(t,e,n,r,i,a){var o,s,u,l=8*a-i-1,c=(1<<l)-1,d=c>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:a-1,f=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-o))<1&&(o--,u*=2),(e+=o+d>=1?p/u:p*Math.pow(2,1-d))*u>=2&&(o++,u/=2),o+d>=c?(s=0,o=c):o+d>=1?(s=(e*u-1)*Math.pow(2,i),o+=d):(s=e*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;t[n+h]=255&s,h+=f,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;t[n+h]=255&o,h+=f,o/=256,l-=8);t[n+h-f]|=128*g}},5717:function(t){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},2584:function(t,e,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,i=n(1924)("Object.prototype.toString"),a=function(t){return!(r&&t&&"object"==typeof t&&Symbol.toStringTag in t)&&"[object Arguments]"===i(t)},o=function(t){return!!a(t)||null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Array]"!==i(t)&&"[object Function]"===i(t.callee)},s=function(){return a(arguments)}();a.isLegacyArguments=o,t.exports=s?a:o},8662:function(t){"use strict";var e,n=Object.prototype.toString,r=Function.prototype.toString,i=/^\s*(?:function)?\*/,a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,o=Object.getPrototypeOf;t.exports=function(t){if("function"!=typeof t)return!1;if(i.test(r.call(t)))return!0;if(!a)return"[object GeneratorFunction]"===n.call(t);if(!o)return!1;if(void 0===e){var s=function(){if(!a)return!1;try{return Function("return function*() {}")()}catch(t){}}();e=!!s&&o(s)}return o(t)===e}},8611:function(t){"use strict";t.exports=function(t){return t!=t}},360:function(t,e,n){"use strict";var r=n(5559),i=n(4289),a=n(8611),o=n(9415),s=n(3194),u=r(o(),Number);i(u,{getPolyfill:o,implementation:a,shim:s}),t.exports=u},9415:function(t,e,n){"use strict";var r=n(8611);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},3194:function(t,e,n){"use strict";var r=n(4289),i=n(9415);t.exports=function(){var t=i();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},5692:function(t,e,n){"use strict";var r=n(9804),i=n(6314),a=n(1924),o=a("Object.prototype.toString"),s=n(1405)()&&"symbol"==typeof Symbol.toStringTag,u=i(),l=a("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},c=a("String.prototype.slice"),d={},p=n(4079),h=Object.getPrototypeOf;s&&p&&h&&r(u,(function(t){var e=new n.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=h(e),i=p(r,Symbol.toStringTag);if(!i){var a=h(r);i=p(a,Symbol.toStringTag)}d[t]=i.get}));t.exports=function(t){if(!t||"object"!=typeof t)return!1;if(!s){var e=c(o(t),8,-1);return l(u,e)>-1}return!!p&&function(t){var e=!1;return r(d,(function(n,r){if(!e)try{e=n.call(t)===r}catch(t){}})),e}(t)}},9738:function(t){"use strict";t.exports=Math.abs},6329:function(t){"use strict";t.exports=Math.floor},3678:function(t){"use strict";t.exports=Number.isNaN||function(t){return t!=t}},2264:function(t){"use strict";t.exports=Math.max},5730:function(t){"use strict";t.exports=Math.min},707:function(t){"use strict";t.exports=Math.pow},3862:function(t){"use strict";t.exports=Math.round},9550:function(t,e,n){"use strict";var r=n(3678);t.exports=function(t){return r(t)||0===t?t:t<0?-1:1}},4244:function(t){"use strict";var e=function(t){return t!=t};t.exports=function(t,n){return 0===t&&0===n?1/t==1/n:t===n||!(!e(t)||!e(n))}},609:function(t,e,n){"use strict";var r=n(4289),i=n(5559),a=n(4244),o=n(5624),s=n(2281),u=i(o(),Object);r(u,{getPolyfill:o,implementation:a,shim:s}),t.exports=u},5624:function(t,e,n){"use strict";var r=n(4244);t.exports=function(){return"function"==typeof Object.is?Object.is:r}},2281:function(t,e,n){"use strict";var r=n(5624),i=n(4289);t.exports=function(){var t=r();return i(Object,{is:t},{is:function(){return Object.is!==t}}),t}},8987:function(t,e,n){"use strict";var r;if(!Object.keys){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=n(1414),s=Object.prototype.propertyIsEnumerable,u=!s.call({toString:null},"toString"),l=s.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(t){var e=t.constructor;return e&&e.prototype===t},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!p["$"+t]&&i.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{d(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===a.call(t),r=o(t),s=e&&"[object String]"===a.call(t),p=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=l&&n;if(s&&t.length>0&&!i.call(t,0))for(var g=0;g<t.length;++g)p.push(String(g));if(r&&t.length>0)for(var m=0;m<t.length;++m)p.push(String(m));else for(var v in t)f&&"prototype"===v||!i.call(t,v)||p.push(String(v));if(u)for(var y=function(t){if("undefined"==typeof window||!h)return d(t);try{return d(t)}catch(t){return!1}}(t),A=0;A<c.length;++A)y&&"constructor"===c[A]||!i.call(t,c[A])||p.push(c[A]);return p}}t.exports=r},2215:function(t,e,n){"use strict";var r=Array.prototype.slice,i=n(1414),a=Object.keys,o=a?function(t){return a(t)}:n(8987),s=Object.keys;o.shim=function(){Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return i(t)?s(r.call(t)):s(t)}):Object.keys=o;return Object.keys||o},t.exports=o},1414:function(t){"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},4155:function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var s,u=[],l=!1,c=-1;function d(){l&&s&&(l=!1,s.length?u=s.concat(u):c=-1,u.length&&p())}function p(){if(!l){var t=o(d);l=!0;for(var e=u.length;e;){for(s=u,u=[];++c<e;)s&&s[c].run();c=-1,e=u.length}s=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function f(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||o(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},3480:function(t,e,n){var r=n(5108);!function(){var t="undefined"!=typeof window?window:n.g,i={};for(var a in function(t,e,n){var i,a="function"==typeof Object.create?Object.create:function(t){function e(){}return e.prototype=t,new e},o="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var s,u=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof t&&t,"object"==typeof self&&self,"object"==typeof e&&e];for(var r=0;r<n.length;++r){var i=n[r];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")}(this);function l(t,e){if(e)t:{var n=u;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];if(!(i in n))break t;n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&o(n,t,{configurable:!0,writable:!0,value:e})}}if("function"==typeof Object.setPrototypeOf)s=Object.setPrototypeOf;else{var c;t:{var d={};try{d.__proto__={a:!0},c=d.a;break t}catch(t){}c=!1}s=c?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var p=s;function h(t,e){if(t.prototype=a(e.prototype),t.prototype.constructor=t,p)p(t,e);else for(var n in e)if("prototype"!=n)if(Object.defineProperties){var r=Object.getOwnPropertyDescriptor(e,n);r&&Object.defineProperty(t,n,r)}else t[n]=e[n];t.Vn=e.prototype}function f(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function g(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if(e)return e.call(t);if("number"==typeof t.length)return{next:f(t)};throw Error(String(t)+" is not an iterable or ArrayLike")}function m(t){if(!(t instanceof Array)){t=g(t);for(var e,n=[];!(e=t.next()).done;)n.push(e.value);t=n}return t}function v(t){return(t={next:t})[Symbol.iterator]=function(){return this},t}function y(){this.u=!1,this.l=null,this.h=void 0,this.g=1,this.j=this.m=0,this.C=this.i=null}function A(t){if(t.u)throw new TypeError("Generator is already running");t.u=!0}function b(t,e){t.i={Ti:e,gj:!0},t.g=t.m||t.j}function w(t,e,n){return t.g=n,{value:e}}function C(t){t.g=0}function x(t,e,n){t.m=e,null!=n&&(t.j=n)}function T(t,e){t.m=0,t.j=e||0}function S(t,e,n){t.g=e,t.m=n||0}function E(t,e){return t.m=e||0,e=t.i.Ti,t.i=null,e}function k(t){t.C=[t.i],t.m=0,t.j=0}function I(t,e){var n=t.C.splice(0)[0];(n=t.i=t.i||n)?n.gj?t.g=t.m||t.j:null!=n.B&&t.j<n.B?(t.g=n.B,t.i=null):t.g=t.j:t.g=e}function M(t){this.g=new y,this.h=t}function R(t,e,n,r){try{var i=e.call(t.g.l,n);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.g.u=!1,i;var a=i.value}catch(e){return t.g.l=null,b(t.g,e),L(t)}return t.g.l=null,r.call(t.g,a),L(t)}function L(t){for(;t.g.g;)try{var e=t.h(t.g);if(e)return t.g.u=!1,{value:e.value,done:!1}}catch(e){t.g.h=void 0,b(t.g,e)}if(t.g.u=!1,t.g.i){if(e=t.g.i,t.g.i=null,e.gj)throw e.Ti;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function O(t){this.next=function(e){return A(t.g),t.g.l?e=R(t,t.g.l.next,e,t.g.A):(t.g.A(e),e=L(t)),e},this.throw=function(e){return A(t.g),t.g.l?e=R(t,t.g.l.throw,e,t.g.A):(b(t.g,e),e=L(t)),e},this.return=function(e){return function(t,e){A(t.g);var n=t.g.l;return n?R(t,"return"in n?n.return:function(t){return{value:t,done:!0}},e,t.g.return):(t.g.return(e),L(t))}(t,e)},this[Symbol.iterator]=function(){return this}}function P(t){return function(t){function e(e){return t.next(e)}function n(e){return t.throw(e)}return new Promise((function(r,i){!function t(a){a.done?r(a.value):Promise.resolve(a.value).then(e,n).then(t,i)}(t.next())}))}(new O(new M(t)))}function D(){for(var t=Number(this),e=[],n=t;n<arguments.length;n++)e[n-t]=arguments[n];return e}function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function N(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}function U(t,e,n){if(null==t)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return t+""}function B(t,e,n){t instanceof String&&(t=String(t));for(var r=t.length,i=0;i<r;i++){var a=t[i];if(e.call(n,a,i,t))return{cj:i,v:a}}return{cj:-1,v:void 0}}l("Symbol",(function(t){function e(t,e){this.g=t,o(this,"description",{configurable:!0,writable:!0,value:e})}if(t)return t;e.prototype.toString=function(){return this.g};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function t(i){if(this instanceof t)throw new TypeError("Symbol is not a constructor");return new e(n+(i||"")+"_"+r++,i)}})),l("Symbol.iterator",(function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),n=0;n<e.length;n++){var r=u[e[n]];"function"==typeof r&&"function"!=typeof r.prototype[t]&&o(r.prototype,t,{configurable:!0,writable:!0,value:function(){return v(f(this))}})}return t})),y.prototype.A=function(t){this.h=t},y.prototype.return=function(t){this.i={return:t},this.g=this.j},y.prototype.B=function(t){this.g=t},l("Promise",(function(t){function e(t){this.h=0,this.i=void 0,this.g=[],this.u=!1;var e=this.j();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function n(){this.g=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.h=function(t){if(null==this.g){this.g=[];var e=this;this.i((function(){e.l()}))}this.g.push(t)};var i=u.setTimeout;n.prototype.i=function(t){i(t,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var t=this.g;this.g=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.j(t)}}}this.g=null},n.prototype.j=function(t){this.i((function(){throw t}))},e.prototype.j=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.G),reject:t(this.l)}},e.prototype.G=function(t){if(t===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.I(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.F(t):this.m(t)}},e.prototype.F=function(t){var e=void 0;try{e=t.then}catch(t){return void this.l(t)}"function"==typeof e?this.J(e,t):this.m(t)},e.prototype.l=function(t){this.A(2,t)},e.prototype.m=function(t){this.A(1,t)},e.prototype.A=function(t,e){if(0!=this.h)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.h);this.h=t,this.i=e,2===this.h&&this.H(),this.C()},e.prototype.H=function(){var t=this;i((function(){if(t.D()){var e=u.console;void 0!==e&&e.error(t.i)}}),1)},e.prototype.D=function(){if(this.u)return!1;var t=u.CustomEvent,e=u.Event,n=u.dispatchEvent;return void 0===n||("function"==typeof t?t=new t("unhandledrejection",{cancelable:!0}):"function"==typeof e?t=new e("unhandledrejection",{cancelable:!0}):(t=u.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,t),t.promise=this,t.reason=this.i,n(t))},e.prototype.C=function(){if(null!=this.g){for(var t=0;t<this.g.length;++t)a.h(this.g[t]);this.g=null}};var a=new n;return e.prototype.I=function(t){var e=this.j();t.lf(e.resolve,e.reject)},e.prototype.J=function(t,e){var n=this.j();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){a(t)}}:e}var i,a,o=new e((function(t,e){i=t,a=e}));return this.lf(r(t,i),r(n,a)),o},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.lf=function(t,e){function n(){switch(r.h){case 1:t(r.i);break;case 2:e(r.i);break;default:throw Error("Unexpected state: "+r.h)}}var r=this;null==this.g?a.h(n):this.g.push(n),this.u=!0},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=g(t),a=i.next();!a.done;a=i.next())r(a.value).lf(e,n)}))},e.all=function(t){var n=g(t),i=n.next();return i.done?r([]):new e((function(t,e){function a(e){return function(n){o[e]=n,0==--s&&t(o)}}var o=[],s=0;do{o.push(void 0),s++,r(i.value).lf(a(o.length-1),e),i=n.next()}while(!i.done)}))},e})),l("WeakMap",(function(t){function e(t){if(this.g=(u+=Math.random()+1).toString(),t){t=g(t);for(var e;!(e=t.next()).done;)e=e.value,this.set(e[0],e[1])}}function n(){}function r(t){var e=typeof t;return"object"===e&&null!==t||"function"===e}function i(t){if(!_(t,s)){var e=new n;o(t,s,{value:e})}}function a(t){var e=Object[t];e&&(Object[t]=function(t){return t instanceof n?t:(Object.isExtensible(t)&&i(t),e(t))})}if(function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([[e,2],[n,3]]);return 2==r.get(e)&&3==r.get(n)&&(r.delete(e),r.set(n,4),!r.has(e)&&4==r.get(n))}catch(t){return!1}}())return t;var s="$jscomp_hidden_"+Math.random();a("freeze"),a("preventExtensions"),a("seal");var u=0;return e.prototype.set=function(t,e){if(!r(t))throw Error("Invalid WeakMap key");if(i(t),!_(t,s))throw Error("WeakMap key fail: "+t);return t[s][this.g]=e,this},e.prototype.get=function(t){return r(t)&&_(t,s)?t[s][this.g]:void 0},e.prototype.has=function(t){return r(t)&&_(t,s)&&_(t[s],this.g)},e.prototype.delete=function(t){return!!(r(t)&&_(t,s)&&_(t[s],this.g))&&delete t[s][this.g]},e})),l("Map",(function(t){function e(){var t={};return t.Fc=t.next=t.head=t}function n(t,e){var n=t[1];return v((function(){if(n){for(;n.head!=t[1];)n=n.Fc;for(;n.next!=n.head;)return n=n.next,{done:!1,value:e(n)};n=null}return{done:!0,value:void 0}}))}function r(t,e){var n=e&&typeof e;"object"==n||"function"==n?a.has(e)?n=a.get(e):(n=""+ ++o,a.set(e,n)):n="p_"+e;var r=t[0][n];if(r&&_(t[0],n))for(t=0;t<r.length;t++){var i=r[t];if(e!=e&&i.key!=i.key||e===i.key)return{id:n,list:r,index:t,entry:i}}return{id:n,list:r,index:-1,entry:void 0}}function i(t){if(this[0]={},this[1]=e(),this.size=0,t){t=g(t);for(var n;!(n=t.next()).done;)n=n.value,this.set(n[0],n[1])}}if(function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(g([[e,"s"]]));if("s"!=n.get(e)||1!=n.size||n.get({x:4})||n.set({x:4},"t")!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&"s"==i.value[1]&&!((i=r.next()).done||4!=i.value[0].x||"t"!=i.value[1]||!r.next().done)}catch(t){return!1}}())return t;var a=new WeakMap;i.prototype.set=function(t,e){var n=r(this,t=0===t?0:t);return n.list||(n.list=this[0][n.id]=[]),n.entry?n.entry.value=e:(n.entry={next:this[1],Fc:this[1].Fc,head:this[1],key:t,value:e},n.list.push(n.entry),this[1].Fc.next=n.entry,this[1].Fc=n.entry,this.size++),this},i.prototype.delete=function(t){return!(!(t=r(this,t)).entry||!t.list)&&(t.list.splice(t.index,1),t.list.length||delete this[0][t.id],t.entry.Fc.next=t.entry.next,t.entry.next.Fc=t.entry.Fc,t.entry.head=null,this.size--,!0)},i.prototype.clear=function(){this[0]={},this[1]=this[1].Fc=e(),this.size=0},i.prototype.has=function(t){return!!r(this,t).entry},i.prototype.get=function(t){return(t=r(this,t).entry)&&t.value},i.prototype.entries=function(){return n(this,(function(t){return[t.key,t.value]}))},i.prototype.keys=function(){return n(this,(function(t){return t.key}))},i.prototype.values=function(){return n(this,(function(t){return t.value}))},i.prototype.forEach=function(t,e){for(var n,r=this.entries();!(n=r.next()).done;)n=n.value,t.call(e,n[1],n[0],this)},i.prototype[Symbol.iterator]=i.prototype.entries;var o=0;return i})),l("Array.prototype.keys",(function(t){return t||function(){return N(this,(function(t){return t}))}})),l("Set",(function(t){function e(t){if(this.g=new Map,t){t=g(t);for(var e;!(e=t.next()).done;)this.add(e.value)}this.size=this.g.size}return function(){if(!t||"function"!=typeof t||!t.prototype.entries||"function"!=typeof Object.seal)return!1;try{var e=Object.seal({x:4}),n=new t(g([e]));if(!n.has(e)||1!=n.size||n.add(e)!=n||1!=n.size||n.add({x:4})!=n||2!=n.size)return!1;var r=n.entries(),i=r.next();return!i.done&&i.value[0]==e&&i.value[1]==e&&(!(i=r.next()).done&&i.value[0]!=e&&4==i.value[0].x&&i.value[1]==i.value[0]&&r.next().done)}catch(t){return!1}}()?t:(e.prototype.add=function(t){return t=0===t?0:t,this.g.set(t,t),this.size=this.g.size,this},e.prototype.delete=function(t){return t=this.g.delete(t),this.size=this.g.size,t},e.prototype.clear=function(){this.g.clear(),this.size=0},e.prototype.has=function(t){return this.g.has(t)},e.prototype.entries=function(){return this.g.entries()},e.prototype.values=function(){return this.g.values()},e.prototype.keys=e.prototype.values,e.prototype[Symbol.iterator]=e.prototype.values,e.prototype.forEach=function(t,e){var n=this;this.g.forEach((function(r){return t.call(e,r,r,n)}))},e)})),l("Array.prototype.values",(function(t){return t||function(){return N(this,(function(t,e){return e}))}})),l("Array.from",(function(t){return t||function(t,e,n){e=null!=e?e:function(t){return t};var r=[],i="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];if("function"==typeof i){t=i.call(t);for(var a=0;!(i=t.next()).done;)r.push(e.call(n,i.value,a++))}else for(i=t.length,a=0;a<i;a++)r.push(e.call(n,t[a],a));return r}})),l("Object.is",(function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}})),l("Array.prototype.includes",(function(t){return t||function(t,e){var n=this;n instanceof String&&(n=String(n));var r=n.length;for((e=e||0)<0&&(e=Math.max(e+r,0));e<r;e++){var i=n[e];if(i===t||Object.is(i,t))return!0}return!1}})),l("String.prototype.includes",(function(t){return t||function(t,e){return-1!==U(this,t,"includes").indexOf(t,e||0)}})),l("String.fromCodePoint",(function(t){return t||function(t){for(var e="",n=0;n<arguments.length;n++){var r=Number(arguments[n]);if(r<0||r>1114111||r!==Math.floor(r))throw new RangeError("invalid_code_point "+r);r<=65535?e+=String.fromCharCode(r):(r-=65536,e+=String.fromCharCode(r>>>10&1023|55296),e+=String.fromCharCode(1023&r|56320))}return e}})),l("Array.prototype.findIndex",(function(t){return t||function(t,e){return B(this,t,e).cj}})),l("WeakSet",(function(t){function e(t){if(this.g=new WeakMap,t){t=g(t);for(var e;!(e=t.next()).done;)this.add(e.value)}}return function(){if(!t||!Object.seal)return!1;try{var e=Object.seal({}),n=Object.seal({}),r=new t([e]);return!(!r.has(e)||r.has(n))&&(r.delete(e),r.add(n),!r.has(e)&&r.has(n))}catch(t){return!1}}()?t:(e.prototype.add=function(t){return this.g.set(t,!0),this},e.prototype.has=function(t){return this.g.has(t)},e.prototype.delete=function(t){return this.g.delete(t)},e)})),l("Array.prototype.find",(function(t){return t||function(t,e){return B(this,t,e).v}})),l("String.prototype.startsWith",(function(t){return t||function(t,e){var n=U(this,t,"startsWith"),r=n.length,i=t.length;e=Math.max(0,Math.min(0|e,n.length));for(var a=0;a<i&&e<r;)if(n[e++]!=t[a++])return!1;return a>=i}})),l("Object.entries",(function(t){return t||function(t){var e,n=[];for(e in t)_(t,e)&&n.push([e,t[e]]);return n}}));var j="function"==typeof Object.assign?Object.assign:function(t,e){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var i in r)_(r,i)&&(t[i]=r[i])}return t};function q(t){if((t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this[t]}function F(t){return t||q}l("Object.assign",(function(t){return t||j})),l("Promise.prototype.finally",(function(t){return t||function(t){return this.then((function(e){return Promise.resolve(t()).then((function(){return e}))}),(function(e){return Promise.resolve(t()).then((function(){throw e}))}))}})),l("Array.prototype.entries",(function(t){return t||function(){return N(this,(function(t,e){return[t,e]}))}})),l("Number.isNaN",(function(t){return t||function(t){return"number"==typeof t&&isNaN(t)}})),l("String.prototype.repeat",(function(t){return t||function(t){var e=U(this,null,"repeat");if(t<0||t>1342177279)throw new RangeError("Invalid count value");t|=0;for(var n="";t;)1&t&&(n+=e),(t>>>=1)&&(e+=e);return n}})),l("Number.EPSILON",(function(){return 2220446049250313e-31})),l("Number.MAX_SAFE_INTEGER",(function(){return 9007199254740991})),l("Number.isFinite",(function(t){return t||function(t){return"number"==typeof t&&(!isNaN(t)&&t!==1/0&&t!==-1/0)}})),l("Object.values",(function(t){return t||function(t){var e,n=[];for(e in t)_(t,e)&&n.push(t[e]);return n}})),l("Math.log2",(function(t){return t||function(t){return Math.log(t)/Math.LN2}})),l("String.prototype.endsWith",(function(t){return t||function(t,e){var n=U(this,t,"endsWith");void 0===e&&(e=n.length),e=Math.max(0,Math.min(0|e,n.length));for(var r=t.length;r>0&&e>0;)if(n[--e]!=t[--r])return!1;return r<=0}})),l("Math.trunc",(function(t){return t||function(t){if(t=Number(t),isNaN(t)||t===1/0||t===-1/0||0===t)return t;var e=Math.floor(Math.abs(t));return t<0?-e:e}})),l("Array.prototype.at",(function(t){return t||q})),l("Int8Array.prototype.at",F),l("Uint8Array.prototype.at",F),l("Uint8ClampedArray.prototype.at",F),l("Int16Array.prototype.at",F),l("Uint16Array.prototype.at",F),l("Int32Array.prototype.at",F),l("Uint32Array.prototype.at",F),l("Float32Array.prototype.at",F),l("Float64Array.prototype.at",F),l("String.prototype.at",(function(t){return t||q}));var V=this||self;function G(t,e){t=t.split(".");var n,r=V;t[0]in r||void 0===r.execScript||r.execScript("var "+t[0]);for(;t.length&&(n=t.shift());)t.length||void 0===e?r=r[n]&&r[n]!==Object.prototype[n]?r[n]:r[n]={}:r[n]=e}function z(e,n){if(n)if(n instanceof Map)for(var r=g(n.keys()),i=r.next();!i.done;i=r.next())i=i.value,Object.defineProperty(this,i,{value:n.get(i),writable:!0,enumerable:!0});else for(r in n)Object.defineProperty(this,r,{value:n[r],writable:!0,enumerable:!0});this.defaultPrevented=this.cancelable=this.bubbles=!1,this.timeStamp=t.performance&&t.performance.now?t.performance.now():Date.now(),this.type=e,this.isTrusted=!1,this.target=this.currentTarget=null,this.g=!1}function H(t){var e,n=new z(t.type);for(e in t)Object.defineProperty(n,e,{value:t[e],writable:!0,enumerable:!0});return n}z.prototype.preventDefault=function(){this.cancelable&&(this.defaultPrevented=!0)},z.prototype.stopImmediatePropagation=function(){this.g=!0},z.prototype.stopPropagation=function(){},G("shaka.util.FakeEvent",z);var K={Hm:"abrstatuschanged",Im:"adaptation",Jm:"audiotrackchanged",Km:"audiotrackschanged",Lm:"boundarycrossed",Mm:"buffering",Nm:"canupdatestarttime",Om:"complete",Pm:"currentitemchanged",Qm:"downloadcompleted",Rm:"downloadfailed",Sm:"downloadheadersreceived",Tm:"drmsessionupdate",Um:"emsg",$m:"itemsinserted",an:"itemsremoved",un:"prft",Error:"error",Vm:"expirationupdated",Wm:"firstquartile",Xm:"gapjumped",cn:"keystatuschanged",gn:"loaded",hn:"loading",ln:"manifestparsed",mn:"manifestupdated",nn:"mediaqualitychanged",on:"mediasourcerecovered",pn:"metadataadded",Metadata:"metadata",qn:"midpoint",rn:"nospatialvideoinfo",tn:"onstatechange",vn:"ratechange",yn:"segmentappended",zn:"sessiondata",An:"spatialvideoinfo",Bn:"stalldetected",Cn:"started",Dn:"statechanged",En:"streaming",Fn:"textchanged",Gn:"texttrackvisibility",Hn:"thirdquartile",In:"timelineregionadded",Jn:"timelineregionenter",Kn:"timelineregionexit",Ln:"trackschanged",Nn:"unloading",Pn:"variantchanged"};function W(){}function $(){}function X(){}function Y(t){var e=D.apply(1,arguments);Z.has(t)||(Z.add(t),X.apply(W,m(e)))}function J(){}var Z=new Set;function Q(){this.g=new Map}function tt(){this.hb=new Q,this.Ye=this}function et(t,e){for(var n=[],r=(t=g(t)).next();!r.done;r=t.next())n.push(e(r.value));return n}function nt(t,e){for(var n=(t=g(t)).next();!n.done;n=t.next())if(e(n.value))return!0;return!1}function rt(t,e){for(var n=[],r=(t=g(t)).next();!r.done;r=t.next())e(r=r.value)&&n.push(r);return n}t.console&&((new Map).set(1,(function(){return r.error.apply(r,m(D.apply(0,arguments)))})).set(2,(function(){return r.warn.apply(r,m(D.apply(0,arguments)))})).set(3,(function(){return r.info.apply(r,m(D.apply(0,arguments)))})).set(4,(function(){return r.log.apply(r,m(D.apply(0,arguments)))})).set(5,(function(){return r.debug.apply(r,m(D.apply(0,arguments)))})).set(6,(function(){return r.debug.apply(r,m(D.apply(0,arguments)))})),X=function(){return r.warn.apply(r,m(D.apply(0,arguments)))},$=function(){r.error.apply(r,m(D.apply(0,arguments)))}),(i=Q.prototype).push=function(t,e){this.g.has(t)?this.g.get(t).push(e):this.g.set(t,[e])},i.get=function(t){return this.g.has(t)?this.g.get(t).slice():null},i.remove=function(t,e){if(this.g.has(t)){var n=this.g.get(t).filter((function(t){return t!=e}));this.g.set(t,n),n.length||this.g.delete(t)}},i.forEach=function(t){this.g.forEach((function(e,n){t(n,e)}))},i.size=function(){return this.g.size},i.keys=function(){return Array.from(this.g.keys())},tt.prototype.addEventListener=function(t,e){this.hb&&this.hb.push(t,e)},tt.prototype.removeEventListener=function(t,e){this.hb&&this.hb.remove(t,e)},tt.prototype.dispatchEvent=function(t){if(!this.hb)return!0;var e=this.hb.get(t.type)||[],n=this.hb.get("All");for(n&&(e=e.concat(n)),n=(e=g(e)).next();!n.done;n=e.next()){n=n.value,t.target=this.Ye,t.currentTarget=this.Ye;try{n.handleEvent?n.handleEvent(t):n.call(this,t)}catch(t){}if(t.g)break}return t.defaultPrevented},tt.prototype.release=function(){this.hb=null};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");function at(t){var e;t instanceof at?(ot(this,t.lc),this.xd=t.xd,st(this,t.Ib),ut(this,t.Sd),this.Tb=t.Tb,lt(this,t.g.clone()),this.fd=t.fd):t&&(e=String(t).match(it))?(ot(this,e[1]||"",!0),this.xd=ct(e[2]||""),st(this,e[3]||"",!0),ut(this,e[4]),this.Tb=ct(e[5]||"",!0),lt(this,e[6]||"",!0),this.fd=ct(e[7]||"")):this.g=new yt(null)}function ot(t,e,n){t.lc=n?ct(e,!0):e,t.lc&&(t.lc=t.lc.replace(/:$/,""))}function st(t,e,n){t.Ib=n?ct(e,!0):e}function ut(t,e){if(e){if(e=Number(e),isNaN(e)||e<0)throw Error("Bad port number "+e);t.Sd=e}else t.Sd=null}function lt(t,e,n){e instanceof yt?t.g=e:(n||(e=dt(e,mt)),t.g=new yt(e))}function ct(t,e){return t?e?decodeURI(t):decodeURIComponent(t):""}function dt(t,e,n){return null!=t?(t=encodeURI(t).replace(e,pt),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pt(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}(i=at.prototype).lc="",i.xd="",i.Ib="",i.Sd=null,i.Tb="",i.fd="",i.toString=function(){var t=[],e=this.lc;if(e&&t.push(dt(e,ht,!0),":"),e=this.Ib){t.push("//");var n=this.xd;n&&t.push(dt(n,ht,!0),"@"),t.push(encodeURIComponent(e).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.Sd)&&t.push(":",String(e))}return(e=this.Tb)&&(this.Ib&&"/"!=e.charAt(0)&&t.push("/"),t.push(dt(e,"/"==e.charAt(0)?gt:ft,!0))),(e=this.g.toString())&&t.push("?",e),(e=this.fd)&&t.push("#",dt(e,vt)),t.join("")},i.resolve=function(t){var e=this.clone();"data"===e.lc&&(e=new at);var n=!!t.lc;n?ot(e,t.lc):n=!!t.xd,n?e.xd=t.xd:n=!!t.Ib,n?st(e,t.Ib):n=null!=t.Sd;var r=t.Tb;if(n)ut(e,t.Sd);else if(n=!!t.Tb){if("/"!=r.charAt(0))if(this.Ib&&!this.Tb)r="/"+r;else{var i=e.Tb.lastIndexOf("/");-1!=i&&(r=e.Tb.substr(0,i+1)+r)}if(".."==r||"."==r)r="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");for(var a=[],o=0;o<r.length;){var s=r[o++];"."==s?i&&o==r.length&&a.push(""):".."==s?((a.length>1||1==a.length&&""!=a[0])&&a.pop(),i&&o==r.length&&a.push("")):(a.push(s),i=!0)}r=a.join("/")}}return n?e.Tb=r:n=""!==t.g.toString(),n?lt(e,t.g.clone()):n=!!t.fd,n&&(e.fd=t.fd),e},i.clone=function(){return new at(this)};var ht=/[#\/\?@]/g,ft=/[#\?:]/g,gt=/[#\?]/g,mt=/[#\?@]/g,vt=/#/g;function yt(t){this.g=t||null}function At(t){if(!t.ob&&(t.ob=new Map,t.ke=0,t.g))for(var e=t.g.split("&"),n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(r>=0){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];a=decodeURIComponent(a),i=i||"",t.add(a,decodeURIComponent(i))}}function bt(t){return At(t),t.ke}function wt(){}function Ct(t,e){if(!t&&!e)return!0;if(!t||!e||t.byteLength!=e.byteLength)return!1;if((ArrayBuffer.isView(t)?t.buffer:t)==(ArrayBuffer.isView(e)?e.buffer:e)&&(t.byteOffset||0)==(e.byteOffset||0))return!0;var n=Tt(t);e=Tt(e);for(var r=0;r<t.byteLength;r++)if(n[r]!=e[r])return!1;return!0}function xt(t){return ArrayBuffer.isView(t)?0==t.byteOffset&&t.byteLength==t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer:t}function Tt(t,e,n){return kt(t,void 0===e?0:e,n=void 0===n?1/0:n,Uint8Array)}function St(t,e,n){return kt(t,void 0===e?0:e,n=void 0===n?1/0:n,Uint16Array)}function Et(t,e,n){return kt(t,void 0===e?0:e,n=void 0===n?1/0:n,DataView)}function kt(t,e,n,r){var i=ArrayBuffer.isView(t)?t.buffer:t,a=1;"BYTES_PER_ELEMENT"in r&&(a=r.BYTES_PER_ELEMENT);var o=((t.byteOffset||0)+t.byteLength)/a;return new r(i,t=Math.floor(Math.max(0,Math.min(((t.byteOffset||0)+e)/a,o))),Math.floor(Math.min(t+Math.max(n,0),o))-t)}function It(t,e,n){var r=D.apply(3,arguments);if(this.severity=t,this.category=e,this.code=n,this.data=r,this.handled=!1,this.message="Shaka Error "+this.code,Mt)try{throw Error(this.message||"Shaka Error")}catch(t){this.stack=t.stack}}(i=yt.prototype).ob=null,i.ke=null,i.add=function(t,e){At(this),this.g=null;var n=this.ob.has(t)?this.ob.get(t):null;return n||this.ob.set(t,n=[]),n.push(e),this.ke++,this},i.set=function(t,e){return At(this),this.g=null,this.ob.has(t)?this.ob.set(t,[e]):this.add(t,e),this},i.get=function(t){return At(this),this.ob.get(t)||[]},i.toString=function(){if(this.g)return this.g;if(!this.ob||!this.ob.size)return"";for(var t=[],e=g(this.ob.keys()),n=e.next();!n.done;n=e.next()){var r=n.value;n=encodeURIComponent(r),r=this.ob.get(r);for(var i=0;i<r.length;i++){var a=n;""!==r[i]&&(a+="="+encodeURIComponent(r[i])),t.push(a)}}return this.g=t.join("&")},i.clone=function(){var t=new yt;if(t.g=this.g,this.ob){for(var e=new Map,n=g(this.ob),r=n.next();!r.done;r=n.next()){var i=g(r.value);r=i.next().value,i=i.next().value,e.set(r,i.concat())}t.ob=e,t.ke=this.ke}return t},G("shaka.util.BufferUtils",wt),wt.toDataView=Et,wt.toUint16=St,wt.toUint8=Tt,wt.toArrayBuffer=xt,wt.equal=Ct,It.prototype.toString=function(){return"shaka.util.Error "+JSON.stringify(this,null,"  ")},G("shaka.util.Error",It);var Mt=!0;function Rt(t){this.h=t,this.g=void 0}function Lt(){return Dt.value()}It.Severity={RECOVERABLE:1,CRITICAL:2},It.Category={NETWORK:1,TEXT:2,MEDIA:3,MANIFEST:4,STREAMING:5,DRM:6,PLAYER:7,CAST:8,STORAGE:9,ADS:10},It.Code={UNSUPPORTED_SCHEME:1e3,BAD_HTTP_STATUS:1001,HTTP_ERROR:1002,TIMEOUT:1003,MALFORMED_DATA_URI:1004,REQUEST_FILTER_ERROR:1006,RESPONSE_FILTER_ERROR:1007,MALFORMED_TEST_URI:1008,UNEXPECTED_TEST_REQUEST:1009,ATTEMPTS_EXHAUSTED:1010,SEGMENT_MISSING:1011,INVALID_TEXT_HEADER:2e3,INVALID_TEXT_CUE:2001,UNABLE_TO_DETECT_ENCODING:2003,BAD_ENCODING:2004,INVALID_XML:2005,INVALID_MP4_TTML:2007,INVALID_MP4_VTT:2008,UNABLE_TO_EXTRACT_CUE_START_TIME:2009,INVALID_MP4_CEA:2010,TEXT_COULD_NOT_GUESS_MIME_TYPE:2011,CANNOT_ADD_EXTERNAL_TEXT_TO_SRC_EQUALS:2012,TEXT_ONLY_WEBVTT_SRC_EQUALS:2013,MISSING_TEXT_PLUGIN:2014,UNSUPPORTED_EXTERNAL_THUMBNAILS_URI:2017,BUFFER_READ_OUT_OF_BOUNDS:3e3,JS_INTEGER_OVERFLOW:3001,EBML_OVERFLOW:3002,EBML_BAD_FLOATING_POINT_SIZE:3003,MP4_SIDX_WRONG_BOX_TYPE:3004,MP4_SIDX_INVALID_TIMESCALE:3005,MP4_SIDX_TYPE_NOT_SUPPORTED:3006,WEBM_CUES_ELEMENT_MISSING:3007,WEBM_EBML_HEADER_ELEMENT_MISSING:3008,WEBM_SEGMENT_ELEMENT_MISSING:3009,WEBM_INFO_ELEMENT_MISSING:3010,WEBM_DURATION_ELEMENT_MISSING:3011,WEBM_CUE_TRACK_POSITIONS_ELEMENT_MISSING:3012,WEBM_CUE_TIME_ELEMENT_MISSING:3013,MEDIA_SOURCE_OPERATION_FAILED:3014,MEDIA_SOURCE_OPERATION_THREW:3015,VIDEO_ERROR:3016,QUOTA_EXCEEDED_ERROR:3017,TRANSMUXING_FAILED:3018,CONTENT_TRANSFORMATION_FAILED:3019,MSS_MISSING_DATA_FOR_TRANSMUXING:3020,MSS_TRANSMUXING_FAILED:3022,TRANSMUXING_NO_VIDEO_DATA:3023,STREAMING_NOT_ALLOWED:3024,UNABLE_TO_GUESS_MANIFEST_TYPE:4e3,DASH_INVALID_XML:4001,DASH_NO_SEGMENT_INFO:4002,DASH_EMPTY_ADAPTATION_SET:4003,DASH_EMPTY_PERIOD:4004,DASH_WEBM_MISSING_INIT:4005,DASH_UNSUPPORTED_CONTAINER:4006,DASH_PSSH_BAD_ENCODING:4007,DASH_NO_COMMON_KEY_SYSTEM:4008,DASH_MULTIPLE_KEY_IDS_NOT_SUPPORTED:4009,DASH_CONFLICTING_KEY_IDS:4010,RESTRICTIONS_CANNOT_BE_MET:4012,HLS_PLAYLIST_HEADER_MISSING:4015,INVALID_HLS_TAG:4016,HLS_INVALID_PLAYLIST_HIERARCHY:4017,DASH_DUPLICATE_REPRESENTATION_ID:4018,HLS_MULTIPLE_MEDIA_INIT_SECTIONS_FOUND:4020,HLS_REQUIRED_ATTRIBUTE_MISSING:4023,HLS_REQUIRED_TAG_MISSING:4024,HLS_COULD_NOT_GUESS_CODECS:4025,HLS_KEYFORMATS_NOT_SUPPORTED:4026,DASH_UNSUPPORTED_XLINK_ACTUATE:4027,DASH_XLINK_DEPTH_LIMIT:4028,CONTENT_UNSUPPORTED_BY_BROWSER:4032,CANNOT_ADD_EXTERNAL_TEXT_TO_LIVE_STREAM:4033,NO_VARIANTS:4036,PERIOD_FLATTENING_FAILED:4037,INCONSISTENT_DRM_ACROSS_PERIODS:4038,HLS_VARIABLE_NOT_FOUND:4039,HLS_MSE_ENCRYPTED_MP2T_NOT_SUPPORTED:4040,HLS_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4041,NO_WEB_CRYPTO_API:4042,CANNOT_ADD_EXTERNAL_THUMBNAILS_TO_LIVE_STREAM:4045,MSS_INVALID_XML:4046,MSS_LIVE_CONTENT_NOT_SUPPORTED:4047,AES_128_INVALID_IV_LENGTH:4048,AES_128_INVALID_KEY_LENGTH:4049,DASH_CONFLICTING_AES_128:4050,DASH_UNSUPPORTED_AES_128:4051,DASH_INVALID_PATCH:4052,HLS_EMPTY_MEDIA_PLAYLIST:4053,DASH_MSE_ENCRYPTED_LEGACY_APPLE_MEDIA_KEYS_NOT_SUPPORTED:4054,CANNOT_ADD_EXTERNAL_CHAPTERS_TO_LIVE_STREAM:4054,STREAMING_ENGINE_STARTUP_INVALID_STATE:5006,NO_RECOGNIZED_KEY_SYSTEMS:6e3,REQUESTED_KEY_SYSTEM_CONFIG_UNAVAILABLE:6001,FAILED_TO_CREATE_CDM:6002,FAILED_TO_ATTACH_TO_VIDEO:6003,INVALID_SERVER_CERTIFICATE:6004,FAILED_TO_CREATE_SESSION:6005,FAILED_TO_GENERATE_LICENSE_REQUEST:6006,LICENSE_REQUEST_FAILED:6007,LICENSE_RESPONSE_REJECTED:6008,ENCRYPTED_CONTENT_WITHOUT_DRM_INFO:6010,NO_LICENSE_SERVER_GIVEN:6012,OFFLINE_SESSION_REMOVED:6013,EXPIRED:6014,SERVER_CERTIFICATE_REQUIRED:6015,INIT_DATA_TRANSFORM_ERROR:6016,SERVER_CERTIFICATE_REQUEST_FAILED:6017,MIN_HDCP_VERSION_NOT_MATCH:6018,ERROR_CHECKING_HDCP_VERSION:6019,MISSING_EME_SUPPORT:6020,LOAD_INTERRUPTED:7e3,OPERATION_ABORTED:7001,NO_VIDEO_ELEMENT:7002,OBJECT_DESTROYED:7003,CONTENT_NOT_LOADED:7004,SRC_EQUALS_PRELOAD_NOT_SUPPORTED:7005,PRELOAD_DESTROYED:7006,QUEUE_INDEX_OUT_OF_BOUNDS:7007,CAST_API_UNAVAILABLE:8e3,NO_CAST_RECEIVERS:8001,ALREADY_CASTING:8002,UNEXPECTED_CAST_ERROR:8003,CAST_CANCELED_BY_USER:8004,CAST_CONNECTION_TIMED_OUT:8005,CAST_RECEIVER_APP_UNAVAILABLE:8006,STORAGE_NOT_SUPPORTED:9e3,INDEXED_DB_ERROR:9001,DEPRECATED_OPERATION_ABORTED:9002,REQUESTED_ITEM_NOT_FOUND:9003,MALFORMED_OFFLINE_URI:9004,CANNOT_STORE_LIVE_OFFLINE:9005,NO_INIT_DATA_FOR_OFFLINE:9007,LOCAL_PLAYER_INSTANCE_REQUIRED:9008,NEW_KEY_OPERATION_NOT_SUPPORTED:9011,KEY_NOT_FOUND:9012,MISSING_STORAGE_CELL:9013,STORAGE_LIMIT_REACHED:9014,DOWNLOAD_SIZE_CALLBACK_ERROR:9015,MODIFY_OPERATION_NOT_SUPPORTED:9016,INDEXED_DB_INIT_TIMED_OUT:9017,CS_IMA_SDK_MISSING:1e4,CS_AD_MANAGER_NOT_INITIALIZED:10001,SS_IMA_SDK_MISSING:10002,SS_AD_MANAGER_NOT_INITIALIZED:10003,CURRENT_DAI_REQUEST_NOT_FINISHED:10004,MT_AD_MANAGER_NOT_INITIALIZED:10005,INTERSTITIAL_AD_MANAGER_NOT_INITIALIZED:10006,VAST_INVALID_XML:10007},Rt.prototype.value=function(){return void 0===this.g&&(this.g=this.h()),this.g};var Ot=null,Pt=null,Dt=new Rt((function(){var t=void 0;return Ot&&(t=Ot()),!t&&Pt&&(t=Pt()),t}));function _t(){}function Nt(e){if(!e)return"";if(239==(e=Tt(e))[0]&&187==e[1]&&191==e[2]&&(e=e.subarray(3)),t.TextDecoder&&!Lt().ji())return(e=(new TextDecoder).decode(e)).includes("�")&&$('Decoded string contains an "unknown character" codepoint.  That probably means the UTF8 encoding was incorrect!'),e;for(var n="",r=0;r<e.length;++r){var i=65533;if(0==(128&e[r])?i=e[r]:e.length>=r+2&&192==(224&e[r])&&128==(192&e[r+1])?(i=(31&e[r])<<6|63&e[r+1],r+=1):e.length>=r+3&&224==(240&e[r])&&128==(192&e[r+1])&&128==(192&e[r+2])?(i=(15&e[r])<<12|(63&e[r+1])<<6|63&e[r+2],r+=2):e.length>=r+4&&240==(241&e[r])&&128==(192&e[r+1])&&128==(192&e[r+2])&&128==(192&e[r+3])&&(i=(7&e[r])<<18|(63&e[r+1])<<12|(63&e[r+2])<<6|63&e[r+3],r+=3),i<=65535)n+=String.fromCharCode(i);else{var a=1023&(i-=65536);n+=String.fromCharCode(55296+(i>>10)),n+=String.fromCharCode(56320+a)}}return n}function Ut(t,e,n){if(!t)return"";if(!n&&t.byteLength%2!=0)throw new It(2,2,2004);n=Math.floor(t.byteLength/2);var r=new Uint16Array(n);t=Et(t);for(var i=0;i<n;i++)r[i]=t.getUint16(2*i,e);return Ft(r)}function Bt(t){function e(t){return n.byteLength<=t||n[t]>=9&&n[t]<=126}if(!t)return"";var n=Tt(t);if(239==n[0]&&187==n[1]&&191==n[2])return Nt(n);if(254==n[0]&&255==n[1])return Ut(n.subarray(2),!1);if(255==n[0]&&254==n[1])return Ut(n.subarray(2),!0);if(0==n[0]&&0==n[2])return Ut(t,!1);if(0==n[1]&&0==n[3])return Ut(t,!0);if(e(0)&&e(1)&&e(2)&&e(3))return Nt(t);throw new It(2,2,2003)}function jt(e){if(t.TextEncoder&&!Lt().ji()){var n=new TextEncoder;return xt(n.encode(e))}e=encodeURIComponent(e),e=unescape(e),n=new Uint8Array(e.length);for(var r=0;r<e.length;r++)n[r]=e[r].charCodeAt(0);return xt(n)}function qt(t,e){for(var n=new ArrayBuffer(2*t.length),r=new DataView(n),i=0;i<t.length;++i)r.setUint16(2*i,t.charCodeAt(i),e);return n}function Ft(t){return Gt.value()(t)}function Vt(t){var e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&apos;":"'","&nbsp;":" ","&lrm;":"‎","&rlm;":"‏"},n=/&(?:amp|lt|gt|quot|apos|nbsp|lrm|rlm|#[xX]?[0-9a-fA-F]+);/g,r=RegExp(n.source);return t&&r.test(t)?t.replace(n,(function(t){return"#"==t[1]?(t="x"==t[2]||"X"==t[2]?parseInt(t.substring(3),16):parseInt(t.substring(2),10))>=0&&t<=1114111?String.fromCodePoint(t):"":e[t]||"'"})):t||""}G("shaka.util.StringUtils",_t),_t.resetFromCharCode=function(){Gt.g=void 0},_t.toUTF16=qt,_t.toUTF8=jt,_t.fromBytesAutoDetect=Bt,_t.fromUTF16=Ut,_t.fromUTF8=Nt;var Gt=new Rt((function(){function t(t){try{var e=new Uint8Array(t);return String.fromCharCode.apply(null,e).length>0}catch(t){return!1}}for(var e={$c:65536};e.$c>0;(e={$c:e.$c}).$c/=2)if(t(e.$c))return function(t){return function(e){for(var n="",r=0;r<e.length;r+=t.$c)n+=String.fromCharCode.apply(null,e.subarray(r,r+t.$c));return n}}(e);return null}));function zt(){}function Ht(t){return t=Ft(Tt(t)),btoa(t)}function Kt(t,e){return e=null==e||e,t=Ht(t).replace(/\+/g,"-").replace(/\//g,"_"),e?t:t.replace(/[=]*$/,"")}function Wt(e){e=t.atob(e.replace(/-/g,"+").replace(/_/g,"/"));for(var n=new Uint8Array(e.length),r=0;r<e.length;++r)n[r]=e.charCodeAt(r);return n}function $t(e){for(var n=e.length/2,r=new Uint8Array(n),i=0;i<n;i++)r[i]=t.parseInt(e.substr(2*i,2),16);return r}function Xt(t){var e=Tt(t);t="";for(var n=(e=g(e)).next();!n.done;n=e.next())1==(n=(n=n.value).toString(16)).length&&(n="0"+n),t+=n;return t}function Yt(){for(var t=D.apply(0,arguments),e=0,n=0;n<t.length;++n)e+=t[n].byteLength;e=new Uint8Array(e);for(var r=n=0;r<t.length;++r){var i=t[r];ArrayBuffer.isView(i)&&1===i.BYTES_PER_ELEMENT?e.set(i,n):e.set(Tt(i),n),n+=i.byteLength}return e}function Jt(t,e,n){if(n=void 0===n?"":n,0==e.length)return t;if(1==t.length&&1==e.length){var r=new at(t[0]);return e=new at(e[0]),e=r.resolve(e),n&&lt(e,n),[e.toString()]}e=e.map((function(t){return new at(t)})),r=[];for(var i=(t=g(t)).next();!i.done;i=t.next()){i=new at(i.value);for(var a=g(e),o=a.next();!o.done;o=a.next())o=i.resolve(o.value),n&&lt(o,n),r.push(o.toString())}return r}function Zt(t,e,n,r){return t={keySystem:t,encryptionScheme:e,licenseServerUri:"",distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:n||[],keyIds:new Set},r&&(t.keySystemUris=new Set([r])),t}function Qt(e,n){n=void 0===n?"cenc":n;var r=[],i=[],a=[];e.forEach((function(t,e){var n=e;22!=n.length&&(n=Kt($t(e),!1));var o=t;22!=o.length&&(o=Kt($t(t),!1)),t={kty:"oct",kid:n,k:o},r.push(t),i.push(t.kid),a.push(e)})),e=JSON.stringify({keys:r});var o=JSON.stringify({kids:i});return o=[{initData:Tt(jt(o)),initDataType:"keyids"}],{keySystem:"org.w3.clearkey",encryptionScheme:n,licenseServerUri:"data:application/json;base64,"+t.btoa(e),distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",sessionType:"",initData:o,keyIds:new Set(a)}}function te(t,e){if(1==e.length)return e[0];if(null!=(t=ee(t,e)))return t;throw new It(2,4,4025,e)}function ee(t,e){for(var n=oe.get(t),r=(n=g(n)).next();!r.done;r=n.next()){r=r.value;for(var i=g(e),a=i.next();!a.done;a=i.next())if(a=a.value,r.test(a.trim()))return a.trim()}return t==re?"":null}function ne(t,e){for(var n=[],r=(t=g(t=oe.get(t))).next();!r.done;r=t.next()){r=r.value;for(var i=g(e),a=i.next();!a.done;a=i.next())a=a.value,r.test(a.trim())&&n.push(a.trim())}return n}G("shaka.util.Uint8ArrayUtils",zt),zt.concat=Yt,zt.toHex=Xt,zt.fromHex=$t,zt.fromBase64=Wt,zt.toBase64=Kt,zt.toStandardBase64=Ht;var re="text",ie={Ha:"video",na:"audio",Va:re,yg:"image",Fm:"application"},ae=1/15,oe=(new Map).set("audio",[/^vorbis$/,/^Opus$/,/^opus$/,/^fLaC$/,/^flac$/,/^mp4a/,/^[ae]c-3$/,/^ac-4/,/^dts[cex]$/,/^iamf/,/^mhm[12]/,/^ac3$/,/^eac3$/,/^apac$/]).set("video",[/^avc/,/^hev/,/^hvc/,/^vvc/,/^vvi/,/^vp0?[89]/,/^av01/,/^dvh/,/^dva/,/^dav/]).set("text",[/^vtt$/,/^wvtt/,/^stpp/]);function se(){}function ue(t,e){return t=de(t),e=de(e),t.split("-")[0]==e.split("-")[0]}function le(t,e){return t=de(t),e=de(e),t=t.split("-"),e=e.split("-"),t[0]==e[0]&&1==t.length&&2==e.length}function ce(t,e){return t=de(t),e=de(e),t=t.split("-"),e=e.split("-"),2==t.length&&2==e.length&&t[0]==e[0]}function de(t){var e=(t=g(t.split("-x-"))).next().value;e=void 0===e?"":e,t=void 0===(t=t.next().value)?"":t;var n=g(e.split("-"));return e=void 0===(e=n.next().value)?"":e,n=void 0===(n=n.next().value)?"":n,t=t?"x-"+t:"",e=e.toLowerCase(),e=ve.get(e)||e,((n=n.toUpperCase())?e+"-"+n:e)+(t?"-"+t:"")}function pe(t,e){var n=fe(t),r=fe(e);return t!=n&&e!=r&&n==r}function he(t,e){return t=de(t),(e=de(e))==t?4:le(e,t)?3:ce(e,t)?2:le(t,e)?1:0}function fe(t){var e=t.indexOf("-");return t=(t=e>=0?t.substring(0,e):t).toLowerCase(),ve.get(t)||t}function ge(t){return t.language?de(t.language):t.audio&&t.audio.language?de(t.audio.language):t.video&&t.video.language?de(t.video.language):"und"}function me(t,e){t=de(t);for(var n=new Set,r=(e=g(e)).next();!r.done;r=e.next())n.add(de(r.value));for(r=(e=g(n)).next();!r.done;r=e.next())if((r=r.value)==t)return r;for(r=(e=g(n)).next();!r.done;r=e.next())if(le(r=r.value,t))return r;for(r=(e=g(n)).next();!r.done;r=e.next())if(ce(r=r.value,t))return r;for(e=(n=g(n)).next();!e.done;e=n.next())if(le(t,e=e.value))return e;return null}G("shaka.util.LanguageUtils",se),se.findClosestLocale=me,se.getLocaleForVariant=ge,se.getLocaleForText=function(t){return de(t.language||"und")},se.getBase=fe,se.relatedness=he,se.areSiblings=pe,se.normalize=de,se.isSiblingOf=ce,se.isParentOf=le,se.areLanguageCompatible=ue,se.areLocaleCompatible=function(t,e){return(t=de(t))==(e=de(e))};var ve=new Map([["aar","aa"],["abk","ab"],["afr","af"],["aka","ak"],["alb","sq"],["amh","am"],["ara","ar"],["arg","an"],["arm","hy"],["asm","as"],["ava","av"],["ave","ae"],["aym","ay"],["aze","az"],["bak","ba"],["bam","bm"],["baq","eu"],["bel","be"],["ben","bn"],["bih","bh"],["bis","bi"],["bod","bo"],["bos","bs"],["bre","br"],["bul","bg"],["bur","my"],["cat","ca"],["ces","cs"],["cha","ch"],["che","ce"],["chi","zh"],["chu","cu"],["chv","cv"],["cor","kw"],["cos","co"],["cre","cr"],["cym","cy"],["cze","cs"],["dan","da"],["deu","de"],["div","dv"],["dut","nl"],["dzo","dz"],["ell","el"],["eng","en"],["epo","eo"],["est","et"],["eus","eu"],["ewe","ee"],["fao","fo"],["fas","fa"],["fij","fj"],["fin","fi"],["fra","fr"],["fre","fr"],["fry","fy"],["ful","ff"],["geo","ka"],["ger","de"],["gla","gd"],["gle","ga"],["glg","gl"],["glv","gv"],["gre","el"],["grn","gn"],["guj","gu"],["hat","ht"],["hau","ha"],["heb","he"],["her","hz"],["hin","hi"],["hmo","ho"],["hrv","hr"],["hun","hu"],["hye","hy"],["ibo","ig"],["ice","is"],["ido","io"],["iii","ii"],["iku","iu"],["ile","ie"],["ina","ia"],["ind","id"],["ipk","ik"],["isl","is"],["ita","it"],["jav","jv"],["jpn","ja"],["kal","kl"],["kan","kn"],["kas","ks"],["kat","ka"],["kau","kr"],["kaz","kk"],["khm","km"],["kik","ki"],["kin","rw"],["kir","ky"],["kom","kv"],["kon","kg"],["kor","ko"],["kua","kj"],["kur","ku"],["lao","lo"],["lat","la"],["lav","lv"],["lim","li"],["lin","ln"],["lit","lt"],["ltz","lb"],["lub","lu"],["lug","lg"],["mac","mk"],["mah","mh"],["mal","ml"],["mao","mi"],["mar","mr"],["may","ms"],["mkd","mk"],["mlg","mg"],["mlt","mt"],["mon","mn"],["mri","mi"],["msa","ms"],["mya","my"],["nau","na"],["nav","nv"],["nbl","nr"],["nde","nd"],["ndo","ng"],["nep","ne"],["nld","nl"],["nno","nn"],["nob","nb"],["nor","no"],["nya","ny"],["oci","oc"],["oji","oj"],["ori","or"],["orm","om"],["oss","os"],["pan","pa"],["per","fa"],["pli","pi"],["pol","pl"],["por","pt"],["pus","ps"],["que","qu"],["roh","rm"],["ron","ro"],["rum","ro"],["run","rn"],["rus","ru"],["sag","sg"],["san","sa"],["sin","si"],["slk","sk"],["slo","sk"],["slv","sl"],["sme","se"],["smo","sm"],["sna","sn"],["snd","sd"],["som","so"],["sot","st"],["spa","es"],["sqi","sq"],["srd","sc"],["srp","sr"],["ssw","ss"],["sun","su"],["swa","sw"],["swe","sv"],["tah","ty"],["tam","ta"],["tat","tt"],["tel","te"],["tgk","tg"],["tgl","tl"],["tha","th"],["tib","bo"],["tir","ti"],["ton","to"],["tsn","tn"],["tso","ts"],["tuk","tk"],["tur","tr"],["twi","tw"],["uig","ug"],["ukr","uk"],["urd","ur"],["uzb","uz"],["ven","ve"],["vie","vi"],["vol","vo"],["wel","cy"],["wln","wa"],["wol","wo"],["xho","xh"],["yid","yi"],["yor","yo"],["zha","za"],["zho","zh"],["zul","zu"]]);function ye(t){tt.call(this),this.j=de(t),this.i=new Map,this.g=new Set,this.h=new Map}function Ae(t){for(var e=t.h,n=t.j,r=t.g,i=new Set,a=g(r),o=a.next(),s={};!o.done;s={ze:void 0},o=a.next()){s.ze=o.value,i.add(s.ze),i.add(fe(s.ze)),(o=rt(e.keys(),function(t){return function(e){return pe(e,t.ze)}}(s))).sort();for(var u=(o=g(o)).next();!u.done;u=o.next())i.add(u.value);for((s=rt(e.keys(),function(t){return function(e){return fe(e)==t.ze}}(s))).sort(),o=(s=g(s)).next();!o.done;o=s.next())i.add(o.value)}for(i.add(n),n=[],a=(i=g(i)).next();!a.done;a=i.next())(a=e.get(a.value))&&n.push(a);for(n.reverse(),t.i.clear(),i=(e=g(n)).next();!i.done;i=e.next())i.value.forEach((function(e,n){t.i.set(n,e)}));for(e=t.i.keys(),i=new Set,a=(n=g(t.g)).next();!a.done;a=n.next())be(a=t.h.get(a.value)||new Map,e,i);i.size>0&&(r=(new Map).set("locales",Array.from(r)).set("missing",Array.from(i)),t.dispatchEvent(new z("missing-localizations",r)))}function be(t,e,n){for(var r=(e=g(e)).next();!r.done;r=e.next())r=r.value,t.get(r)||n.add(r)}h(ye,tt),(i=ye.prototype).release=function(){tt.prototype.release.call(this)},i.Ki=function(t){var e=this;this.g.clear();for(var n=(t=g(t)).next();!n.done;n=t.next())this.g.add(de(n.value));Ae(this),(t=rt(this.g,(function(t){return!e.h.has(t)}))).length&&this.dispatchEvent(new z("unknown-locales",(new Map).set("locales",t))),t=rt(this.g,(function(t){return e.h.has(t)})),t=(new Map).set("locales",t.length?t:[this.j]),this.dispatchEvent(new z("locale-changed",t))},i.Xa=function(t,e,n){t=de(t),void 0===n&&(n=we);var r=this.h.get(t)||new Map;return e.forEach((function(t,e){r.has(e)&&n!=we||r.set(e,t)})),this.h.set(t,r),Ae(this),this.dispatchEvent(new z("locale-updated")),this},i.im=function(t){for(var e=g(t.keys()),n=e.next();!n.done;n=e.next())n=n.value,t.set(n,this.resolve(n))},i.resolve=function(t){var e=this.i.get(t);return e||(t=(new Map).set("locales",Array.from(this.g)).set("missing",t),this.dispatchEvent(new z("unknown-localization",t)),"")},i.Kk=function(){return this.g},G("shaka.ui.Localization",ye),ye.prototype.getCurrentLocales=ye.prototype.Kk,ye.prototype.resolve=ye.prototype.resolve,ye.prototype.resolveDictionary=ye.prototype.im,ye.prototype.insert=ye.prototype.Xa,ye.prototype.changeLocale=ye.prototype.Ki,ye.prototype.release=ye.prototype.release;var we=1;function Ce(t){this.g=Math.exp(Math.log(.5)/t),this.i=this.h=0}function xe(t){return t.h/(1-Math.pow(t.g,t.i))}function Te(){this.h=new Ce(2),this.j=new Ce(5),this.g=0,this.i=128e3,this.l=16e3}function Se(t,e){return!("number"!=typeof t||"number"!=typeof e||!isNaN(t)||!isNaN(e))||t===e}function Ee(t,e){(e=t.indexOf(e))>-1&&t.splice(e,1)}function ke(t,e,n){if(n||(n=Se),t.length!=e.length)return!1;e=e.slice();for(var r=(t=g(t)).next(),i={};!r.done;i={hj:void 0},r=t.next()){if(i.hj=r.value,-1==(r=e.findIndex(function(t){return function(e){return n(t.hj,e)}}(i))))return!1;e[r]=e[e.length-1],e.pop()}return 0==e.length}function Ie(t,e,n){if(t===e)return!0;if(!t||!e)return t==e;if(n||(n=Se),t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Me(){this.g=new Q}function Re(t,e,n,r){this.target=t,this.type=e,this.listener=n,this.g=function(t,e){if(null==e)return!1;if("boolean"==typeof e)return e;var n=new Set(["passive","capture"]);return Object.keys(e).filter((function(t){return!n.has(t)})),function(t){var e=Le;if(null==e){e=!1;try{var n={},r={get:function(){return e=!0,!1}};Object.defineProperty(n,"passive",r),Object.defineProperty(n,"capture",r),r=function(){},t.addEventListener("test",r,n),t.removeEventListener("test",r,n)}catch(t){e=!1}Le=e}return e||!1}(t)?e:e.capture||!1}(t,r),this.target.addEventListener(e,n,this.g)}ye.ConflictResolution={USE_OLD:0,USE_NEW:we},ye.UNKNOWN_LOCALES="unknown-locales",ye.UNKNOWN_LOCALIZATION="unknown-localization",ye.MISSING_LOCALIZATIONS="missing-localizations",ye.LOCALE_CHANGED="locale-changed",ye.LOCALE_UPDATED="locale-updated",Ce.prototype.sample=function(t,e){var n=Math.pow(this.g,t);e=e*(1-n)+n*this.h,isNaN(e)||(this.h=e,this.i+=t)},Te.prototype.configure=function(t){this.i=t.minTotalBytes,this.l=t.minBytes,this.h.g=Math.exp(Math.log(.5)/t.fastHalfLife),this.j.g=Math.exp(Math.log(.5)/t.slowHalfLife)},Te.prototype.sample=function(t,e){if(!(e<this.l)){var n=8e3*e/t;t/=1e3,this.g+=e,this.h.sample(t,n),this.j.sample(t,n)}},Te.prototype.getBandwidthEstimate=function(t){return this.g<this.i?t:Math.min(xe(this.h),xe(this.j))},(i=Me.prototype).release=function(){this.Sa(),this.g=null},i.o=function(t,e,n,r){this.g&&(t=new Re(t,e,n,r),this.g.push(e,t))},i.ua=function(t,e,n,r){var i=this;this.o(t,e,(function r(a){i.Fa(t,e,r),n(a)}),r)},i.Fa=function(t,e,n){if(this.g)for(var r=this.g.get(e)||[],i=(r=g(r)).next();!i.done;i=r.next())(i=i.value).target!=t||n!=i.listener&&n||(i.Fa(),this.g.remove(e,i))},i.Sa=function(){if(this.g){for(var t=[],e=g(this.g.g.values()),n=e.next();!n.done;n=e.next())t.push.apply(t,m(n.value));for(e=(t=g(t)).next();!e.done;e=t.next())e.value.Fa();this.g.g.clear()}},G("shaka.util.EventManager",Me),Me.prototype.removeAll=Me.prototype.Sa,Me.prototype.unlisten=Me.prototype.Fa,Me.prototype.listenOnce=Me.prototype.ua,Me.prototype.listen=Me.prototype.o,Me.prototype.release=Me.prototype.release,Re.prototype.Fa=function(){this.target.removeEventListener(this.type,this.listener,this.g),this.listener=this.target=null,this.g=!1};var Le=void 0;function Oe(t,e){this.g=t,this.h=e}function Pe(t,e){var n=new Oe(5,0),r=Ne,i=r.g,a=n.h-i.h;((n.g-i.g||a)>0?r.i:r.h)(r.g,n,t,e)}function De(t,e,n,r){X([n,"has been deprecated and will be removed in",e,". We are currently at version",t,". Additional information:",r].join(" "))}function _e(t,e,n,r){$([n,"has been deprecated and has been removed in",e,". We are now at version",t,". Additional information:",r].join(" "))}G("shaka.config.AutoShowText",{NEVER:0,ALWAYS:1,IF_PREFERRED_TEXT_LANGUAGE:2,IF_SUBTITLES_MAY_BE_NEEDED:3}),Oe.prototype.toString=function(){return"v"+this.g+"."+this.h};var Ne=null;function Ue(t,e,n,r){this.g=null,this.l=t,this.i=e,this.m=n,this.u=r,this.j=!1;t:{if("undefined"==typeof libDPIModule&&X("Could not find LCEVC Library dependencies on this page"),"undefined"!=typeof LCEVCdec)this.h=LCEVCdec;else{if("undefined"==typeof LcevcDil){X("Could not find LCEVC Library on this page"),t=!1;break t}this.h=LcevcDil,this.j=!0,Pe("LcevcDil","lcevc_dil.js is deprecated, please use lcevc_dec.js instead")}void 0===this.h.SupportObject?(X("Could not find LCEVC Library on this page"),t=!1):(this.h.SupportObject.SupportStatus||X(this.h.SupportObject.SupportError),t=void 0!==this.h&&"undefined"!=typeof libDPIModule&&this.i instanceof HTMLCanvasElement&&this.h.SupportObject.SupportStatus)}t&&!this.g&&this.h.SupportObject.webGLSupport(this.i)&&(this.i.classList.remove("shaka-hidden"),this.g=this.j?new this.h.LcevcDil(this.l,this.i,this.m):new this.h.LCEVCdec(this.l,this.i,this.m))}function Be(t,e,n,r){"video"!==r.type||t.u&&!r.baseOriginalId||t.g&&t.g.appendBuffer(e,"video",r.id,-n,!t.u)}function je(t){t.g&&t.i.classList.add("shaka-hidden")}function qe(t){return!(!t||"undefined"==typeof LCEVCdec)&&"lvc1"==t.codecs}function Fe(e){if(ze.has(e))return ze.get(e);var n=t.ManagedMediaSource||t.MediaSource;return!!n&&(n=n.isTypeSupported(e),ze.set(e,n),n)}function Ve(){var e=t.ManagedSourceBuffer||t.SourceBuffer;return!!e&&!!e.prototype&&!!e.prototype.changeType}function Ge(){var e=t.ManagedMediaSource||t.MediaSource;return!(!e||!e.prototype)&&(!!e.prototype.setLiveSeekableRange&&!!e.prototype.clearLiveSeekableRange)}Ue.prototype.release=function(){this.g&&(this.g.close(),this.g=null)},G("shaka.lcevc.Dec",Ue),Ue.prototype.release=Ue.prototype.release;var ze=new Map;function He(){}function Ke(){}function We(){}function $e(t){this.h=new Map,this.i=0,this.j=new Ke,(t=Ye(t.toLowerCase()))&&(this.j=t()),this.g=new He,(t=Ze)&&(this.g=t(),this.h.set(this.i,this.g))}function Xe(t,e){Je.set(t,e)}function Ye(t){return Je.get(t)}He.prototype.extract=function(){},He.prototype.decode=function(){return[]},He.prototype.clear=function(){},He.prototype.getStreams=function(){return[]},Ke.prototype.init=function(){},Ke.prototype.parse=function(){return[]},(i=We.prototype).init=function(){},i.Uf=function(){},i.fe=function(){},i.remove=function(){},i.zg=function(){},G("shaka.media.IClosedCaptionParser",We),(i=$e.prototype).init=function(t,e,n){if(e=void 0!==e&&e,-1!=(n=void 0===n?-1:n)&&this.i!=n){e=n;var r=this.h.get(e);this.h.set(this.i,this.g),r?this.g=r:((r=Ze)&&(this.g=r()),this.h.set(e,this.g))}else e||this.fe();this.j.init(t),-1!=n&&(this.i=n)},i.Uf=function(t){for(var e=(t=g(t=this.j.parse(t))).next();!e.done;e=t.next()){var n=Tt((e=e.value).packet);n.length>0&&this.g.extract(n,e.pts)}return this.g.decode()},i.fe=function(){this.g.clear()},i.remove=function(t){t=void 0===t?[]:t,t=new Set(t);for(var e=g(this.h.keys()),n=e.next();!n.done;n=e.next())if(n=n.value,!t.has(n)){var r=this.h.get(n);r&&r.clear(),this.h.delete(n)}},i.zg=function(){return this.g.getStreams()},G("shaka.media.ClosedCaptionParser",$e),$e.findDecoder=function(){return Ze},$e.unregisterDecoder=function(){Ze=null},$e.registerDecoder=function(t){Ze=t},$e.findParser=Ye,$e.unregisterParser=function(t){Je.delete(t)},$e.registerParser=Xe;var Je=new Map,Ze=null;function Qe(){this.id="",this.regionAnchorY=this.regionAnchorX=this.viewportAnchorY=this.viewportAnchorX=0,this.height=this.width=100,this.viewportAnchorUnits=this.widthUnits=this.heightUnits=tn,this.scroll=en}G("shaka.text.CueRegion",Qe);var tn=1;Qe.units={PX:0,PERCENTAGE:tn,LINES:2};var en="";function nn(t){this.h=t||"",this.g=0}function rn(t){an(t,/[ \t]+/gm)}function an(t,e){return e.lastIndex=t.g,e=null==(e=e.exec(t.h))?null:{position:e.index,length:e[0].length,results:e},t.g==t.h.length||null==e||e.position!=t.g?null:(t.g+=e.length,e.results)}function on(t){return t.g==t.h.length?null:(t=an(t,/[^ \t\n]*/gm))?t[0]:null}function sn(t){if(null==(t=an(t,ln)))return null;var e=Number(t[2]),n=Number(t[3]);return e>59||n>59?null:(Number(t[6])||0)/1e3+n+60*e+3600*(Number(t[1])||0)}function un(t){return t?sn(new nn(t)):null}Qe.scrollMode={NONE:en,UP:"up"};var ln=/(?:(\d{1,}):)?(\d{2}):(\d{2})((\.(\d{1,3})))?/g;function cn(){}function dn(t){var e=new WeakSet;return function t(n){switch(typeof n){case"undefined":case"boolean":case"number":case"string":case"symbol":case"function":return n;default:if(!n||ArrayBuffer.isView(n))return n;if(e.has(n))return null;var r=Array.isArray(n);if(n.constructor!=Object&&!r)return null;e.add(n);var i,a=r?[]:{};for(i in n)a[i]=t(n[i]);return r&&(a.length=n.length),a}}(t)}function pn(t){var e,n={};for(e in t)n[e]=t[e];return n}function hn(t){if(Array.isArray(t)){for(var e=[],n=0;n<t.length;n++){var r=n.toString(),i=t[n];void 0!==i&&(i=hn(i))&&e.push(r+":"+i)}t="["+e.join(",")+"]"}else if("function"==typeof t)t="";else if(t instanceof Object){for((n=Object.keys(t)).sort(),e=[],r=(n=g(n)).next();!r.done;r=n.next())i=r.value,r=JSON.stringify(i),void 0!==(i=t[i])&&(i=hn(i))&&e.push(r+":"+i);t="{"+e.join(",")+"}"}else t=JSON.stringify(t);return t}function fn(t,e){var n=void 0!==n&&n;return gn(t=Bt(t),e,n)}function gn(t,e,n){return t=function(t,e){function n(a,o){o=void 0!==o&&o;for(var s=[];t[i];)if(60==t.charCodeAt(i)){if(47===t.charCodeAt(i+1)){o=i+2,i=t.indexOf(">",i);var u=(o=t.substring(o,i)).indexOf(a);if(-1==u){var l=a.indexOf(".");l>0&&(u=o.indexOf(a.substring(0,l)))}if(-1==u)throw a=t.substring(0,i).split("\n"),Error("Unexpected close tag\nLine: "+(a.length-1)+"\nColumn: "+(a[a.length-1].length+1)+"\nChar: "+t[i]);i+1&&(i+=1);break}if(33===t.charCodeAt(i+1)){if(45==t.charCodeAt(i+2)){for(;-1!==i&&(62!==t.charCodeAt(i)||45!=t.charCodeAt(i-1)||45!=t.charCodeAt(i-2)||-1==i);)i=t.indexOf(">",i+1);-1===i&&(i=t.length)}else if(91===t.charCodeAt(i+2)&&91===t.charCodeAt(i+8)&&"cdata"===t.substr(i+3,5).toLowerCase()){-1==(u=t.indexOf("]]>",i))?(s.push(t.substr(i+9)),i=t.length):(s.push(t.substring(i+9,u)),i=u+3);continue}i++;continue}t:{l=o,i++;var c=r(),d={};for(u=[];62!==t.charCodeAt(i)&&t[i];){var p=t.charCodeAt(i);if(p>64&&p<91||p>96&&p<123){p=r();for(var h=t.charCodeAt(i);h&&39!==h&&34!==h&&!(h>64&&h<91||h>96&&h<123)&&62!==h;)i++,h=t.charCodeAt(i);var f=i+1;if(i=t.indexOf(t[i],f),f=t.slice(f,i),39===h||34===h){if(-1===i){if(l={tagName:c,attributes:d,children:u,parent:null},e)for(c=0;c<u.length;c++)"string"!=typeof u[c]&&(u[c].parent=l);u=l;break t}}else f=null,i--;if(p.startsWith("xmlns:")){h=f;var g=p.split(":")[1];zn.set(h,g),Hn.set(g,h)}"tt"===c&&"xml:space"===p&&"preserve"===f&&(l=!0),d[p]=f}i++}for(47!==t.charCodeAt(i-1)?(i++,u=n(c,l)):i++,l={tagName:c,attributes:d,children:u,parent:null},c=u.length,d=0;d<c;d++)"string"!=typeof(p=u[d])?e&&(p.parent=l):d==c-1&&"\n"==p&&u.pop();u=l}if(s.push(u),"string"==typeof u)break;"?"===u.tagName[0]&&u.children&&(s.push.apply(s,m(u.children)),u.children=[])}else u=i,-2===(i=t.indexOf("<",i)-1)&&(i=t.length),u=t.slice(u,i+1),o?u.length>0&&s.push(u):(s.length&&1==u.length&&"\n"==u[0]||u.trim().length>0)&&s.push(u),i++;return s}function r(){for(var e=i;-1==="\r\n\t>/= ".indexOf(t[i])&&t[i];)i++;return t.slice(e,i)}var i=0;return n("")}(t,void 0!==n&&n),!e&&t.length?t[0]:(t=t.find((function(t){return e.split(",").includes(t.tagName)})))?t:null}function mn(t){return zn.has(t)?zn.get(t):""}function vn(t){return"string"==typeof t}function yn(t){var e=[];if(!t.children)return[];for(var n=(t=g(t.children)).next();!n.done;n=t.next())"string"!=typeof(n=n.value)&&e.push(n);return e}function An(t,e){var n=[];if(!t.children)return[];for(var r=(t=g(t.children)).next();!r.done;r=t.next())(r=r.value).tagName===e&&n.push(r);return n}function bn(t){return"string"==typeof t?Vt(t):""===(t=t.children.reduce((function(t,e){return"string"==typeof e?t+e:t}),""))?null:Vt(t)}function wn(t){return Array.from(t.children).every((function(t){return"string"==typeof t}))?((t=bn(t))&&(t=t.trim()),t):null}function Cn(t,e,n){if(n=void 0===n?[]:n,t.tagName===e&&n.push(t),t.children)for(var r=(t=g(t.children)).next();!r.done;r=t.next())Cn(r.value,e,n);return n}function xn(t,e){return 1!=(t=An(t,e)).length?null:t[0]}function Tn(t,e,n){return 1!=(t=kn(t,e,n)).length?null:t[0]}function Sn(t,e,n,r){r=void 0===r?null:r;var i=null;return null!=(t=t.attributes[e])&&(i=n(t)),null==i?r:i}function En(t,e,n){return e=mn(e),t.attributes[e+":"+n]||null}function kn(t,e,n){var r=mn(e);if(e=[],t.children)for(n=r?r+":"+n:n,r=(t=g(t.children)).next();!r.done;r=t.next())(r=r.value)&&r.tagName===n&&e.push(r);return e}function In(t,e,n){for(var r=(e=g(e)).next();!r.done;r=e.next())if(r=En(t,r.value,n))return r;return null}function Mn(t){return t?(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),t=Date.parse(t),isNaN(t)?null:t/1e3):null}function Rn(t){return t&&(t=RegExp("^P(?:([0-9]*)Y)?(?:([0-9]*)M)?(?:([0-9]*)D)?(?:T(?:([0-9]*)H)?(?:([0-9]*)M)?(?:([0-9.]*)S)?)?$","i").exec(t))?(t=31536e3*Number(t[1]||null)+2592e3*Number(t[2]||null)+86400*Number(t[3]||null)+3600*Number(t[4]||null)+60*Number(t[5]||null)+Number(t[6]||null),isFinite(t)?t:null):null}function Ln(t){var e=/([0-9]+)-([0-9]+)/.exec(t);return e?(t=Number(e[1]),isFinite(t)?(e=Number(e[2]),isFinite(e)?{start:t,end:e}:null):null):null}function On(t){return(t=Number(t))%1==0?t:null}function Pn(t){return(t=Number(t))%1==0&&t>0?t:null}function Dn(t){return(t=Number(t))%1==0&&t>=0?t:null}function _n(t){return t=Number(t),isNaN(t)?null:t}function Nn(t){return!!t&&"true"===t.toLowerCase()}function Un(t){var e,n=(e=t.match(/^(\d+)\/(\d+)$/))?Number(e[1])/Number(e[2]):Number(t);return isNaN(n)?null:n}function Bn(t){for(var e=[],n=(t=g(t=Vt(t).split(/\/+(?=(?:[^'"]*['"][^'"]*['"])*[^'"]*$)/))).next();!n.done;n=t.next()){var r=(n=n.value).match(/^([\w]+)/);if(r){var i=n.match(/(@id='(.*?)')/),a=n.match(/(@t='(\d+)')/),o=n.match(/(@n='(\d+)')/),s=n.match(/\[(\d+)\]/);e.push({name:r[0],id:i?i[0].match(/'(.*?)'/)[0].replace(/'/gm,""):null,t:a?Number(a[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,n:o?Number(o[0].match(/'(.*?)'/)[0].replace(/'/gm,"")):null,position:s?Number(s[1])-1:null,Lc:n.split("/@")[1]||null})}else n.startsWith("@")&&e.length&&(e[e.length-1].Lc=n.slice(1))}return e}function jn(t,e){var n=Bn(e.attributes.sel||"");if(n.length){var r=n[n.length-1],i=e.attributes.pos||null;null==(n=r.position)&&(null!==r.t&&(n=qn(t,"t",r.t)),null!==r.n&&(n=qn(t,"n",r.n))),null===n?n="prepend"===i?0:t.length:"prepend"===i?--n:"after"===i&&++n,i=e.tagName,(r=r.Lc)&&t[n]?Fn(t[n],i,r,wn(e)||""):("remove"!==i&&"replace"!==i||t.splice(n,1),"add"!==i&&"replace"!==i||t.splice.apply(t,[n,0].concat(m(e.children))))}}function qn(t,e,n){for(var r=0,i=(t=g(t)).next();!i.done;i=t.next()){if(Number(i.value.attributes[e])===n)return r;r++}return null}function Fn(t,e,n,r){"remove"===e?delete t.attributes[n]:"add"!==e&&"replace"!==e||(t.attributes[n]=r)}function Vn(t){var e="",n=t.tagName.split(":");for(var r in n.length>0&&(e=n[0],e=Hn.has(e)?Hn.get(e):""),e=document.createElementNS(e,t.tagName),t.attributes)e.setAttribute(r,t.attributes[r]);for(r=(t=g(t.children)).next();!r.done;r=t.next())n=void 0,n="string"==typeof(r=r.value)?new Text(r):Vn(r),e.appendChild(n);return e}function Gn(t){if(!t)return null;for(var e={tagName:t.tagName,attributes:pn(t.attributes),children:[],parent:null},n=(t=g(t.children)).next();!n.done;n=t.next())"string"==typeof(n=n.value)||((n=Gn(n)).parent=e),e.children.push(n);return e}G("shaka.util.ObjectUtils",cn),cn.alphabeticalKeyOrderStringify=hn,cn.shallowCloneObject=pn,cn.cloneObject=dn;var zn=new Map,Hn=new Map;function Kn(t,e,n){this.startTime=t,this.endTime=e,this.payload=n,this.region=new Qe,this.position=null,this.positionAlign=Qn,this.size=0,this.textAlign=tr,this.direction=ir,this.writingMode=ar,this.lineInterpretation=or,this.line=null,this.lineHeight="",this.lineAlign=sr,this.displayAlign=nr,this.fontSize=this.border=this.backgroundImage=this.backgroundColor=this.color="",this.fontWeight=dr,this.fontStyle=hr,this.linePadding=this.letterSpacing=this.fontFamily="",this.opacity=1,this.textCombineUpright="",this.textDecoration=[],this.textStrokeWidth=this.textStrokeColor=this.textShadow="",this.wrapLine=!0,this.id="",this.nestedCues=[],this.lineBreak=this.isContainer=!1,this.rubyTag=null,this.cellResolution={columns:32,rows:15}}function Wn(t,e){return(t=new Kn(t,e,"")).lineBreak=!0,t}function $n(t,e){if(t.payload!=e.payload||!(Math.abs(t.startTime-e.startTime)<.001&&Math.abs(t.endTime-e.endTime)<.001))return!1;for(var n in t)if("startTime"!=n&&"endTime"!=n&&"payload"!=n)if("nestedCues"==n){if(!Ie(t.nestedCues,e.nestedCues,$n))return!1}else if("region"==n||"cellResolution"==n){for(var r in t[n])if(t[n][r]!=e[n][r])return!1}else if(Array.isArray(t[n])){if(!Ie(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0}function Xn(t,e){e=void 0===e?new Map:e;var n=t.payload;if(n.includes("<")){0===e.size&&Yn(e);var r=n;n=[];for(var i=-1,a=0;a<r.length;a++)"<"===r[a]?i=a+1:">"===r[a]&&i>0&&((i=r.substr(i,a-i)).match(vr)&&n.push(i),i=-1);for(a=(n=g(n)).next();!a.done;a=n.next())a=a.value,r=r.replace("<"+a+">",'<div time="'+a+'">'),r+="</div>";t:{a=r,i=[];var o=-1;n="",r=!1;for(var s=0;s<a.length;s++)if("/"===a[s]){var u=a.indexOf(">",s);if(-1===u){n=a;break t}if((u=a.substring(s+1,u))&&"v"==u){r=!0;var l=null;if(i.length&&(l=i[i.length-1]),l){if(l===u)n+="/"+u+">";else{if(!l.startsWith("v")){n+=a[s];continue}n+="/"+l+">"}s+=u.length+1}else n+=a[s]}else n+=a[s]}else"<"===a[s]?"v"!=a[o=s+1]&&(o=-1):">"===a[s]&&o>0&&(i.push(a.substr(o,s-o)),o=-1),n+=a[s];for(i=(a=g(i)).next();!i.done;i=a.next())o=(i=i.value).replace(" ",".voice-"),n=(n=n.replace("<"+i+">","<"+o+">")).replace("</"+i+">","</"+o+">"),r||(n+="</"+o+">")}n=function(t){var e={"< ":""," >":" &gt;"},n=/(< +>|<\s|\s>)/g,r=RegExp(n.source);return t&&r.test(t)?t.replace(n,(function(t){return e[t]||""})):t||""}(n),t.payload="",r="<span>"+n.replace("\n","<br />")+"</span>";try{var c=gn(r,"span")}catch(t){}if(c)if(1!=(c=c.children).length||c[0].tagName)for(n=(c=g(c)).next();!n.done;n=c.next())Jn(n.value,t,e);else t.payload=Vt(n);else t.payload=Vt(n)}else t.payload=Vt(n)}function Yn(t){for(var e=g(Object.entries(lr)),n=e.next();!n.done;n=e.next()){var r=g(n.value);n=r.next().value,r=r.next().value;var i=new Kn(0,0,"");i.color=r,t.set("."+n,i)}for(n=(e=g(Object.entries(cr))).next();!n.done;n=e.next())n=(r=g(n.value)).next().value,r=r.next().value,(i=new Kn(0,0,"")).backgroundColor=r,t.set("."+n,i)}function Jn(t,e,n){var r=e.clone();if(r.nestedCues=[],r.payload="",r.rubyTag="",r.line=null,r.region=new Qe,r.position=null,r.size=0,r.textAlign=tr,t.tagName)for(var i=g(t.tagName.split(/(?=[ .])+/g)),a=i.next();!a.done;a=i.next()){var o=a=a.value;if(o.startsWith(".voice-")){var s=o.split("-").pop();o='v[voice="'+s+'"]',n.has(o)||(o="v[voice="+s+"]")}switch(n.has(o)&&(s=r,o=n.get(o))&&(s.backgroundColor=Zn(o.backgroundColor,s.backgroundColor),s.color=Zn(o.color,s.color),s.fontFamily=Zn(o.fontFamily,s.fontFamily),s.fontSize=Zn(o.fontSize,s.fontSize),s.textShadow=Zn(o.textShadow,s.textShadow),s.fontWeight=o.fontWeight,s.fontStyle=o.fontStyle,s.opacity=o.opacity,s.rubyTag=o.rubyTag,s.textCombineUpright=o.textCombineUpright,s.wrapLine=o.wrapLine),a){case"br":return r=Wn(r.startTime,r.endTime),void e.nestedCues.push(r);case"b":r.fontWeight=pr;break;case"i":r.fontStyle=fr;break;case"u":r.textDecoration.push(mr);break;case"font":(a=t.attributes.color)&&(r.color=a);break;case"div":if(!(a=t.attributes.time))break;(a=un(a))&&(r.startTime=a);break;case"ruby":case"rp":case"rt":r.rubyTag=a}}if(i=t.children,vn(t)||1==i.length&&vn(i[0]))for(n=bn(t).split("\n"),t=!0,i=(n=g(n)).next();!i.done;i=n.next())i=i.value,t||(t=Wn(r.startTime,r.endTime),e.nestedCues.push(t)),i.length>0&&((t=r.clone()).payload=Vt(i),e.nestedCues.push(t)),t=!1;else for(e.nestedCues.push(r),t=(e=g(i)).next();!t.done;t=e.next())Jn(t.value,r,n)}function Zn(t,e){return t&&t.length>0?t:e}Kn.prototype.clone=function(){var t,e=new Kn(0,0,"");for(t in this)e[t]=this[t],Array.isArray(e[t])&&(e[t]=e[t].slice());return e},G("shaka.text.Cue",Kn),Kn.parseCuePayload=Xn,Kn.equal=$n,Kn.prototype.clone=Kn.prototype.clone;var Qn="auto";Kn.positionAlign={LEFT:"line-left",RIGHT:"line-right",CENTER:"center",AUTO:Qn};var tr="center",er={LEFT:"left",RIGHT:"right",CENTER:tr,START:"start",END:"end"};Kn.textAlign=er;var nr="after",rr={BEFORE:"before",CENTER:"center",AFTER:nr};Kn.displayAlign=rr;var ir="ltr";Kn.direction={HORIZONTAL_LEFT_TO_RIGHT:ir,HORIZONTAL_RIGHT_TO_LEFT:"rtl"};var ar="horizontal-tb";Kn.writingMode={HORIZONTAL_TOP_TO_BOTTOM:ar,VERTICAL_LEFT_TO_RIGHT:"vertical-lr",VERTICAL_RIGHT_TO_LEFT:"vertical-rl"};var or=0;Kn.lineInterpretation={LINE_NUMBER:or,PERCENTAGE:1};var sr="start",ur={CENTER:"center",START:sr,END:"end"};Kn.lineAlign=ur;var lr={white:"white",lime:"lime",cyan:"cyan",red:"red",yellow:"yellow",magenta:"magenta",blue:"blue",black:"black"};Kn.defaultTextColor=lr;var cr={bg_white:"white",bg_lime:"lime",bg_cyan:"cyan",bg_red:"red",bg_yellow:"yellow",bg_magenta:"magenta",bg_blue:"blue",bg_black:"black"};Kn.defaultTextBackgroundColor=cr;var dr=400,pr=700;Kn.fontWeight={NORMAL:dr,BOLD:pr};var hr="normal",fr="italic",gr={NORMAL:hr,ITALIC:fr,OBLIQUE:"oblique"};Kn.fontStyle=gr;var mr="underline";Kn.textDecoration={UNDERLINE:mr,LINE_THROUGH:"lineThrough",OVERLINE:"overline"};var vr=/(?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{2,3})/g;function yr(){}function Ar(t,e,n){wr.set(t.toLowerCase().split(";")[0]+"-"+n,{priority:n,Vf:e})}function br(t,e){for(var n=t.toLowerCase().split(";")[0],r=g([Sr,Tr,xr,Cr]),i=r.next();!i.done;i=r.next())if(i=wr.get(n+"-"+i.value)){var a=i.Vf(),o=a.isSupported(t,e);if(a.destroy(),o)return i.Vf}return null}yr.prototype.destroy=function(){},G("shaka.transmuxer.TransmuxerEngine",yr),yr.findTransmuxer=br,yr.unregisterTransmuxer=function(t,e){wr.delete(t.toLowerCase().split(";")[0]+"-"+e)},yr.registerTransmuxer=Ar,yr.prototype.destroy=yr.prototype.destroy;var wr=new Map,Cr=1,xr=2,Tr=3,Sr=4;function Er(){}function kr(t,e){var n=t;return e&&!Ur.includes(t)&&(n+='; codecs="'+e+'"'),n}function Ir(t,e){return e&&(t+='; codecs="'+e+'"'),t}function Mr(t,e,n){var r=kr(t,e);return br(e=Ir(t,e))?(t=br(e))?(n=(t=t()).convertCodecs(n,e),t.destroy()):n=e:n="video/mp2t"!=t&&"audio"==n?r.replace("video","audio"):r,n}function Rr(t){return t.split(";")[0].split("/")[1]}function Lr(t){var e=Nr(t);switch(t=e[0].toLowerCase(),e=e[1].toLowerCase(),!0){case"mp4a"===t&&"69"===e:case"mp4a"===t&&"6b"===e:case"mp4a"===t&&"40.34"===e:return"mp3";case"mp4a"===t&&"66"===e:case"mp4a"===t&&"67"===e:case"mp4a"===t&&"68"===e:case"mp4a"===t&&"40.2"===e:case"mp4a"===t&&"40.02"===e:case"mp4a"===t&&"40.5"===e:case"mp4a"===t&&"40.05"===e:case"mp4a"===t&&"40.29"===e:case"mp4a"===t&&"40.42"===e:return"aac";case"mp4a"===t&&"a5"===e:case"ac3"===t:case"ac-3"===t:return"ac-3";case"mp4a"===t&&"a6"===e:case"eac3"===t:case"ec-3"===t:return"ec-3";case"ac-4"===t:return"ac-4";case"mp4a"===t&&"b2"===e:return"dtsx";case"mp4a"===t&&"a9"===e:return"dtsc";case"vp09"===t:case"vp9"===t:return"vp9";case"avc1"===t:case"avc3"===t:return"avc";case"hvc1"===t:case"hev1"===t:return"hevc";case"vvc1"===t:case"vvi1"===t:return"vvc";case"dvh1"===t:case"dvhe"===t:return e&&e.startsWith("05")?"dovi-p5":"dovi-hevc";case"dvav"===t:case"dva1"===t:return"dovi-avc";case"dav1"===t:return"dovi-av1";case"dvc1"===t:case"dvi1"===t:return"dovi-vvc"}return t}function Or(t){for(var e=[],n=(t=g(t.split(","))).next();!n.done;n=t.next())n=Nr(n.value),e.push(n[0]);return e.sort().join(",")}function Pr(t){return t.split(";")[0]}function Dr(t){return(t=t.split(/ *; */)).shift(),(t=t.find((function(t){return t.startsWith("codecs=")})))?t.split("=")[1].replace(/^"|"$/g,""):""}function _r(t){return"application/x-mpegurl"===t||"application/vnd.apple.mpegurl"===t}function Nr(t){var e=(t=t.split("."))[0];return t.shift(),[e,t.join(".")]}yr.PluginPriority={FALLBACK:Cr,PREFERRED_SECONDARY:xr,PREFERRED:Tr,APPLICATION:Sr},G("shaka.util.MimeUtils",Er),Er.getFullTypeWithAllCodecs=Ir,Er.getFullType=kr,(new Map).set("codecs","codecs").set("frameRate","framerate").set("bandwidth","bitrate").set("width","width").set("height","height").set("channelsCount","channels");var Ur=["audio/aac","audio/ac3","audio/ec3","audio/mpeg"];function Br(t){this.i=null,this.l=t,this.D=!1,this.m=this.A=0,this.u=1/0,this.h=this.g=null,this.F="",this.C=function(){},this.j=new Map}function jr(t,e){Hr.set(t,e)}function qr(t){return Hr.get(t)}function Fr(t){return!!Hr.has(t)||("application/cea-608"==t||"application/cea-708"==t)&&!!Ze}function Vr(t,e,n){t.F=e,(e=t.j.get(e))&&((e=e.filter((function(t){return t.endTime<=n}))).length&&t.l.append(e))}function Gr(t,e,n){e.startTime+=n,e.endTime+=n;for(var r=(e=g(e.nestedCues)).next();!r.done;r=e.next())Gr(t,r.value,n)}function zr(t){for(var e=1/0,n=-1/0,r=g(t.j.values()),i=r.next();!i.done;i=r.next())for(var a=(i=g(i.value)).next();!a.done;a=i.next())a=a.value,e=Math.min(e,a.startTime),n=Math.max(n,a.endTime);e!==1/0&&n!==-1/0&&(t.g=null==t.g?Math.max(e,t.m):Math.min(t.g,Math.max(e,t.m)),t.h=Math.max(t.h,Math.min(n,t.u)))}Br.prototype.destroy=function(){return this.l=this.i=null,this.j.clear(),Promise.resolve()},Br.prototype.remove=function(t,e){var n=this;return P((function(r){return 1==r.g?w(r,Promise.resolve(),2):t>=e?r.return():(function(t,e,n){for(var r=g(t.j.keys()),i=r.next();!i.done;i=r.next()){i=i.value;var a=t.j.get(i);a=a.filter((function(t){return t.startTime<e||t.endTime>=n})),t.j.set(i,a)}}(n,t,e),n.l&&n.l.remove(t,e)&&null!=n.g&&(e<=n.g||t>=n.h||(t<=n.g&&e>=n.h?n.g=n.h=null:t<=n.g&&e<n.h?n.g=e:t>n.g&&e>=n.h&&(n.h=t)),zr(n)),void C(r))}))},G("shaka.text.TextEngine",Br),Br.prototype.destroy=Br.prototype.destroy,Br.findParser=qr,Br.unregisterParser=function(t){Hr.delete(t)},Br.registerParser=jr;var Hr=new Map;function Kr(t){this.h=t,this.g=null}function Wr(t){this.h=t,this.g=null}function $r(t,e){return t.concat(e)}function Xr(){}function Yr(t){return null!=t}function Jr(t,e){return Promise.race([e,new Promise((function(e,n){new Wr(n).Y(t)}))])}function Zr(){}function Qr(t,e,n,r,i){function a(t){var e=String(t.width||"")+String(t.height||"")+String(Math.round(t.frameRate||0))+(t.hdr||"")+t.fastSwitching;return t.dependencyStream&&(e+=t.dependencyStream.baseOriginalId||""),t.roles&&(e+=t.roles.sort().join("_")),e}if(i.length){for(var o=t.textStreams,s=(i=g(i)).next(),u={};!s.done;u={ri:void 0},s=i.next())if(u.ri=s.value,(s=o.filter(function(t){return function(e){return!(!e.codecs.startsWith(t.ri)&&!e.mimeType.startsWith(t.ri))}}(u))).length){o=s;break}t.textStreams=o}if(o=t.variants,(e.length||n.length)&&(o=function(t,e,n){for(var r=(e=g(e)).next(),i={};!r.done;i={videoCodec:void 0},r=e.next())if(i.videoCodec=r.value,(r=t.filter(function(t){return function(e){return e.video&&e.video.codecs.startsWith(t.videoCodec)}}(i))).length){t=r;break}for(n=g(n),e=n.next(),r={};!e.done;r={audioCodec:void 0},e=n.next())if(r.audioCodec=e.value,(e=t.filter(function(t){return function(e){return e.audio&&e.audio.codecs.startsWith(t.audioCodec)}}(r))).length){t=e;break}return t}(o,e,n)),r.length){for(e=new Q,o=(n=g(o)).next();!o.done;o=n.next())o=o.value,e.push(String(o.video.width||0),o);var l=[];e.forEach((function(t,e){t=0;for(var n=[],i=(e=g(e)).next(),a={};!i.done;a={xg:void 0},i=e.next())a.xg=i.value,(i=r.filter(function(t){return function(e){return t.xg.decodingInfos[0][e]}}(a)).length)>t?(t=i,n=[a.xg]):i==t&&n.push(a.xg);l.push.apply(l,m(n))})),o=l}for(n=new Set,e=new Set,i=(o=g(o)).next();!i.done;i=o.next())(i=i.value).audio&&n.add(i.audio),i.video&&e.add(i.video);o=Array.from(n).sort((function(t,e){return t.bandwidth-e.bandwidth}));var c,d,p=[];for(n=new Map,i=(o=g(o)).next();!i.done;i=o.next()){if(i=i.value,d=void 0,d=(c=i).language+(c.channelsCount||0)+(c.audioSamplingRate||0)+c.roles.join(",")+c.label+c.groupId+c.fastSwitching,c.dependencyStream&&(d+=c.dependencyStream.baseOriginalId||""),s=d,(u=n.get(s)||[]).length){var h=u[u.length-1],f=Lr(h.codecs),v=Lr(i.codecs);f!=v||i.bandwidth&&h.bandwidth&&!(i.bandwidth>h.bandwidth)||(u.push(i),p.push(i.id))}else u.push(i),p.push(i.id);n.set(s,u)}var y={vp8:1,avc:1,"dovi-avc":.95,vp9:.9,vp09:.9,hevc:.85,"dovi-hevc":.8,"dovi-p5":.75,av01:.7,"dovi-av1":.65,vvc:.6};o=Array.from(e).sort((function(t,e){if(!t.bandwidth||!e.bandwidth||t.bandwidth==e.bandwidth){if(t.codecs&&e.codecs&&t.codecs!=e.codecs&&t.width==e.width){var n=Lr(t.codecs),r=Lr(e.codecs);if(n!=r)return(y[n]||1)-(y[r]||1)}return t.width-e.width}return t.bandwidth-e.bandwidth})),e=Ve();var A=[];for(n=new Map,i=(o=g(o)).next();!i.done;i=o.next()){if(s=a(i=i.value),(u=n.get(s)||[]).length){if(h=u[u.length-1],!e&&(f=Lr(h.codecs))!==(v=Lr(i.codecs)))continue;(f=Lr(h.codecs))!=(v=Lr(i.codecs))||i.bandwidth&&h.bandwidth&&!(i.bandwidth>h.bandwidth)||(u.push(i),A.push(i.id))}else u.push(i),A.push(i.id);n.set(s,u)}t.variants=t.variants.filter((function(t){var e=t.audio;return t=t.video,!(e&&!p.includes(e.id)||t&&!A.includes(t.id))}))}function ti(t,e,n){function r(t,e,n){return t>=e&&t<=n}var i=t.video;if(i&&i.width&&i.height){var a=i.width,o=i.height;if(o>a&&(a=(o=g([o,a])).next().value,o=o.next().value),!r(a,e.minWidth,Math.min(e.maxWidth,n.width))||!r(o,e.minHeight,Math.min(e.maxHeight,n.height))||!r(i.width*i.height,e.minPixels,e.maxPixels))return!1}return!(t&&t.video&&t.video.frameRate&&!r(t.video.frameRate,e.minFrameRate,e.maxFrameRate)||t&&t.audio&&t.audio.channelsCount&&!r(t.audio.channelsCount,e.minChannelsCount,e.maxChannelsCount)||!r(t.bandwidth,e.minBandwidth,e.maxBandwidth))}function ei(t,e,n,r){return n=void 0===n?[]:n,r=void 0===r?{}:r,P((function(i){return 1==i.g?w(i,ni(t,e,e.offlineSessionIds.length>0,n,r),2):(function(t){t.textStreams=t.textStreams.filter((function(t){return Fr(t=kr(t.mimeType,t.codecs))}))}(e),w(i,function(t){var e,n,r,i,a,o,s;return P((function(u){switch(u.g){case 1:e=[],n=g(t.imageStreams),r=n.next();case 2:if(r.done){u.B(4);break}if(i=r.value,"application/mp4"==(a=i.mimeType)&&"mjpg"==i.codecs&&(a="image/jpg"),Ei.has(a)){u.B(5);break}if(!(o=ki.get(a))){Ei.set(a,!1),u.B(5);break}return w(u,function(t){return new Promise((function(e){var n=new Image;n.src=t,"decode"in n?n.decode().then((function(){e(!0)})).catch((function(){e(!1)})):n.onload=n.onerror=function(){e(2===n.height)}}))}(o),7);case 7:s=u.h,Ei.set(a,s);case 5:Ei.get(a)&&e.push(i),r=n.next(),u.B(2);break;case 4:t.imageStreams=e,C(u)}}))}(e),0))}))}function ni(t,e,n,r,i){var a,o;return P((function(s){if(1==s.g)return Lt().Qj()&&function(t){for(var e=(new Map).set("dvav","avc3").set("dva1","avc1").set("dvhe","hev1").set("dvh1","hvc1").set("dvc1","vvc1").set("dvi1","vvi1"),n=new Set,r=(t=g(t)).next();!r.done;r=t.next())(r=r.value).video&&n.add(r.video);for(n=g(n),t=n.next();!t.done;t=n.next()){t=t.value;for(var i=(r=g(e)).next();!i.done;i=r.next()){var a=g(i.value);if(i=a.next().value,a=a.next().value,t.codecs.includes(i)){t.codecs=t.codecs.replace(i,a);break}}}}(e.variants),w(s,ai(e.variants,n,!1,r),2);a=null,t&&(o=t.g)&&(a=o.keySystem),e.variants=e.variants.filter((function(t){var e=function(t,e,n){if(!t.decodingInfos.some((function(t){return!(!t.supported||e&&(t=t.keySystemAccess)&&(n[t.keySystem]||t.keySystem)!=e)})))return!1;var r=Lt(),i="Xbox"===r.Ub();r="MOBILE"===r.Oa()&&"GECKO"===r.Ja();var a=t.video,o=a&&a.width||0,s=a&&a.height||0;return!(i&&a&&(o>1920||s>1080)&&(a.codecs.includes("avc1.")||a.codecs.includes("avc3."))||(i=a&&a.dependencyStream)&&!qe(i))&&(t=t.audio,!(r&&t&&t.encrypted&&t.codecs.toLowerCase().includes("opus")||t&&t.dependencyStream))}(t,a,i);if(!e){var n=[];t.audio&&n.push(wi(t.audio)),t.video&&n.push(wi(t.video))}return e})),C(s)}))}function ri(t,e){var n,r,i,a,o,s,u;return P((function(l){if(1==l.g){for(n=function(t,e){if(t){var n=pn(t);return n.supported=t.supported&&e.supported,n.powerEfficient=t.powerEfficient&&e.powerEfficient,n.smooth=t.smooth&&e.smooth,e.keySystemAccess&&!n.keySystemAccess&&(n.keySystemAccess=e.keySystemAccess),n}return e},r=null,i=[],a=g(e),o=a.next(),s={};!o.done;s={cache:void 0,kf:void 0},o=a.next())u=o.value,s.kf=hn(u),s.cache=Ti,s.cache.has(s.kf)?r=n(r,s.cache.get(s.kf)):i.push(ii(u).then(function(t){return function(e){for(var i=null,a=(e=g(e||[])).next();!a.done;a=e.next())i=n(i,a.value);i&&(t.cache.set(t.kf,i),r=n(r,i))}}(s)));return w(l,Promise.all(i),2)}r&&t.decodingInfos.push(r),C(l)}))}function ii(t){var e=[""];t.video&&(e=Dr(t.video.contentType).split(","));var n=[""];t.audio&&(n=Dr(t.audio.contentType).split(","));for(var r=[],i=(e=g(e)).next();!i.done;i=e.next()){i=i.value;for(var a=g(n),o=a.next(),s={};!o.done;s={ed:void 0},o=a.next())o=o.value,s.ed=dn(t),t.video&&(s.ed.video.contentType=kr(Pr(s.ed.video.contentType),i)),t.audio&&(s.ed.audio.contentType=kr(Pr(s.ed.audio.contentType),o)),r.push(new Promise(function(t){return function(e,n){("MOBILE"==Lt().Oa()?Jr(5,navigator.mediaCapabilities.decodingInfo(t.ed)):navigator.mediaCapabilities.decodingInfo(t.ed)).then((function(t){e(t)})).catch(n)}}(s)))}return Promise.all(r).catch((function(){return JSON.stringify(t),null}))}function ai(t,e,n,r){var i,a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,C,x;return P((function(T){switch(T.g){case 1:if(t.some((function(t){return t.decodingInfos.length})))return T.return();i=g(r),a=i.next(),o={};case 2:if(a.done){T.B(4);break}o.vj=a.value,s=!1,u=g(t),l=u.next();case 5:if(l.done){T.B(7);break}c=l.value,d=oi(c,e,n).filter((S=o,function(t){return((t=t[0]).keySystemConfiguration&&t.keySystemConfiguration.keySystem)===S.vj})),p=g(d),h=p.next();case 8:if(h.done){T.B(10);break}return f=h.value,w(T,ri(c,f),9);case 9:h=p.next(),T.B(8);break;case 10:c.decodingInfos.some((function(t){return t.supported}))&&(s=!0),l=u.next(),T.B(5);break;case 7:if(s)return T.return();o={vj:void 0},a=i.next(),T.B(2);break;case 4:m=g(t),v=m.next();case 12:if(v.done){T.B(0);break}y=v.value,A=oi(y,e,n).filter((function(t){return!(t=(t=t[0]).keySystemConfiguration&&t.keySystemConfiguration.keySystem)||!r.includes(t)})),b=g(A),C=b.next();case 15:if(C.done){v=m.next(),T.B(12);break}return x=C.value,w(T,ri(y,x),16);case 16:C=b.next(),T.B(15)}var S}))}function oi(t,e,n){var r=t.audio,i=t.video,a=[],o=[];if(i)for(var s=g(i.fullMimeTypes),u=s.next();!u.done;u=s.next()){var l=Dr(u=u.value);if(l.includes(",")&&!r){var c=l.split(","),d=Pr(u);l=te("video",c),d=Mr(d,c=si(c=te("audio",c),d),"audio"),o.push({contentType:d,channels:2,bitrate:t.bandwidth||1,samplerate:1,spatialRendering:!1})}if(l=ui(l),u={contentType:Mr(Pr(u),l,"video"),width:i.width||64,height:i.height||64,bitrate:i.bandwidth||t.bandwidth||1,framerate:i.frameRate||30},i.hdr)switch(i.hdr){case"PQ":u.transferFunction="pq";break;case"HLG":u.transferFunction="hlg"}i.colorGamut&&(u.colorGamut=i.colorGamut),a.push(u)}if(r)for(u=(s=g(r.fullMimeTypes)).next();!u.done;u=s.next())u=Mr(u=Pr(l=u.value),l=si(Dr(l),u),"audio"),o.push({contentType:u,channels:r.channelsCount||2,bitrate:r.bandwidth||t.bandwidth||1,samplerate:r.audioSamplingRate||1,spatialRendering:r.spatialAudio});for(s=[],0==a.length&&a.push(null),0==o.length&&o.push(null),u=(a=g(a)).next();!u.done;u=a.next())for(u=u.value,d=(l=g(o)).next();!d.done;d=l.next())d=d.value,c={type:n?"file":"media-source"},u&&(c.video=u),d&&(c.audio=d),s.push(c);if(!(o=(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[])).length)return[s];for(t=[],n=new Map,a=(o=g(o)).next();!a.done;a=o.next())a=a.value,n.get(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);for(o=e?"required":"optional",e=e?["persistent-license"]:["temporary"],u=(a=g(n.keys())).next();!u.done;u=a.next()){for(u=u.value,d=n.get(u),l=new Map,c=(d=g(d)).next();!c.done;c=d.next()){var p=(c=c.value).videoRobustness+","+c.audioRobustness;l.get(p)||l.set(p,[]),l.get(p).push(c)}for(d=(l=g(l.values())).next();!d.done;d=l.next()){d=d.value,c=[];for(var h=(p=g(s)).next();!h.done;h=p.next()){h=Object.assign({},h.value);for(var f={keySystem:u,initDataType:"cenc",persistentState:o,distinctiveIdentifier:"optional",sessionTypes:e},m=g(d),v=m.next();!v.done;v=m.next()){if((v=v.value).initData&&v.initData.length){for(var y=new Set,A=g(v.initData),b=A.next();!b.done;b=A.next())y.add(b.value.initDataType);f.initDataType=v.initData[0].initDataType}v.distinctiveIdentifierRequired&&(f.distinctiveIdentifier="required"),v.persistentStateRequired&&(f.persistentState="required"),v.sessionType&&(f.sessionTypes=[v.sessionType]),r&&(f.audio?(v.encryptionScheme&&(f.audio.encryptionScheme=f.audio.encryptionScheme||v.encryptionScheme),f.audio.robustness=f.audio.robustness||v.audioRobustness):(f.audio={robustness:v.audioRobustness},v.encryptionScheme&&(f.audio.encryptionScheme=v.encryptionScheme)),""==f.audio.robustness&&delete f.audio.robustness),i&&(f.video?(v.encryptionScheme&&(f.video.encryptionScheme=f.video.encryptionScheme||v.encryptionScheme),f.video.robustness=f.video.robustness||v.videoRobustness):(f.video={robustness:v.videoRobustness},v.encryptionScheme&&(f.video.encryptionScheme=v.encryptionScheme)),""==f.video.robustness&&delete f.video.robustness)}h.keySystemConfiguration=f,c.push(h)}t.push(c)}}return t}function si(t,e){var n=Lt();return"flac"==t.toLowerCase()?"WEBKIT"!=n.Ja()?"flac":"fLaC":"opus"===t.toLowerCase()?"WEBKIT"!=n.Ja()?"opus":"mp4"==Rr(e)?"Opus":"opus":"ac-3"==t.toLowerCase()&&n.He()?"ec-3":t}function ui(t){if(t.includes("avc1")){var e=t.split(".");if(3==e.length)return t=e.shift()+".",(t+=parseInt(e.shift(),10).toString(16))+("000"+parseInt(e.shift(),10).toString(16)).slice(-4)}else if("vp9"==t)return"vp09.00.41.08";return t}function li(t){var e=t.audio,n=t.video,r=e?e.mimeType:null,i=n?n.mimeType:null,a=e?e.codecs:null,o=n?n.codecs:null,s=e?e.groupId:null,u=[];n&&u.push(n.mimeType),e&&u.push(e.mimeType),u=u[0]||null;var l=[];e&&l.push(e.kind),n&&l.push(n.kind),l=l[0]||null;var c=new Set;if(e)for(var d=g(e.roles),p=d.next();!p.done;p=d.next())c.add(p.value);if(n)for(p=(d=g(n.roles)).next();!p.done;p=d.next())c.add(p.value);if(t={id:t.id,active:!1,type:"variant",bandwidth:t.bandwidth,language:t.language,label:null,videoLabel:null,kind:l,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:u,audioMimeType:r,videoMimeType:i,codecs:"",audioCodec:a,videoCodec:o,primary:t.primary,roles:Array.from(c),audioRoles:null,videoRoles:null,forced:!1,videoId:null,audioId:null,audioGroupId:s,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:null,originalAudioId:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:null},n&&(t.videoId=n.id,t.originalVideoId=n.originalId,t.width=n.width||null,t.height=n.height||null,t.frameRate=n.frameRate||null,t.pixelAspectRatio=n.pixelAspectRatio||null,t.videoBandwidth=n.bandwidth||null,t.hdr=n.hdr||null,t.colorGamut=n.colorGamut||null,t.videoLayout=n.videoLayout||null,t.videoRoles=n.roles,t.videoLabel=n.label,(r=n.dependencyStream)&&(t.width=r.width||t.width,t.height=r.height||t.height,t.videoCodec=r.codecs||t.videoCodec,t.videoBandwidth&&r.bandwidth&&(t.videoBandwidth+=r.bandwidth)),o.includes(","))){t.channelsCount=n.channelsCount,t.audioSamplingRate=n.audioSamplingRate,t.spatialAudio=n.spatialAudio,t.originalLanguage=n.originalLanguage,t.audioMimeType=i,i=o.split(",");try{t.videoCodec=te("video",i),t.audioCodec=te("audio",i)}catch(t){}}return e&&(t.audioId=e.id,t.originalAudioId=e.originalId,t.channelsCount=e.channelsCount,t.audioSamplingRate=e.audioSamplingRate,t.audioBandwidth=e.bandwidth||null,t.spatialAudio=e.spatialAudio,t.label=e.label,t.audioRoles=e.roles,t.accessibilityPurpose=e.accessibilityPurpose,t.originalLanguage=e.originalLanguage,i=e.dependencyStream)&&(t.audioCodec=i.codecs||t.audioCodec,t.audioBandwidth&&i.bandwidth&&(t.audioBandwidth+=i.bandwidth)),n&&!t.videoBandwidth&&(e?t.audioBandwidth&&(t.videoBandwidth=t.bandwidth-t.audioBandwidth):t.videoBandwidth=t.bandwidth),e&&!t.audioBandwidth&&(n?t.videoBandwidth&&(t.audioBandwidth=t.bandwidth-t.videoBandwidth):t.audioBandwidth=t.bandwidth),e=[],t.videoCodec&&e.push(t.videoCodec),t.audioCodec&&e.push(t.audioCodec),t.codecs=e.join(", "),t}function ci(t){return{id:t.id,active:!1,type:re,bandwidth:t.bandwidth||0,language:t.language,label:t.label,kind:t.kind||null,mimeType:t.mimeType,codecs:t.codecs||null,primary:t.primary,roles:t.roles,accessibilityPurpose:t.accessibilityPurpose,forced:t.forced,originalTextId:t.originalId,originalLanguage:t.originalLanguage}}function di(t){var e=t.width||null,n=t.height||null,r=null;t.segmentIndex&&(r=zu(t.segmentIndex));var i=t.tilesLayout;return r&&(i=r.tilesLayout||i),i&&null!=e&&(e/=Number(i.split("x")[0])),i&&null!=n&&(n/=Number(i.split("x")[1])),{id:t.id,type:"image",bandwidth:t.bandwidth||0,width:e,height:n,mimeType:t.mimeType,codecs:t.codecs||null,tilesLayout:i||null,originalImageId:t.originalId}}function pi(t){return t.__shaka_id||(t.__shaka_id=Si++),t.__shaka_id}function hi(t){var e={id:pi(t),active:"disabled"!=t.mode,type:re,bandwidth:0,language:de(t.language||"und"),label:t.label,kind:t.kind,mimeType:null,codecs:null,primary:!1,roles:[],accessibilityPurpose:null,forced:"forced"==t.kind,originalTextId:t.id,originalLanguage:t.language};return"captions"==t.kind&&(e.mimeType="unknown"),"subtitles"==t.kind&&(e.mimeType="text/vtt"),t.kind&&(e.roles=[t.kind]),e}function fi(t,e){var n=t?t.language:null;if(n={id:pi(t||e),active:t?t.enabled:e.selected,type:"variant",bandwidth:0,language:de(n||"und"),label:t?t.label:null,videoLabel:null,kind:t?t.kind:null,width:null,height:null,frameRate:null,pixelAspectRatio:null,hdr:null,colorGamut:null,videoLayout:null,mimeType:null,audioMimeType:null,videoMimeType:null,codecs:null,audioCodec:null,videoCodec:null,primary:!!t&&"main"==t.kind,roles:[],forced:!1,audioRoles:null,videoRoles:null,videoId:null,audioId:null,audioGroupId:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,tilesLayout:null,audioBandwidth:null,videoBandwidth:null,originalVideoId:e?e.id:null,originalAudioId:t?t.id:null,originalTextId:null,originalImageId:null,accessibilityPurpose:null,originalLanguage:n},t&&t.kind&&(n.roles=[t.kind],n.audioRoles=[t.kind]),t&&t.configuration&&(t.configuration.codec&&(n.audioCodec=t.configuration.codec,n.codecs=n.audioCodec),t.configuration.bitrate&&(n.audioBandwidth=t.configuration.bitrate,n.bandwidth+=n.audioBandwidth),t.configuration.sampleRate&&(n.audioSamplingRate=t.configuration.sampleRate),t.configuration.numberOfChannels&&(n.channelsCount=t.configuration.numberOfChannels)),e&&e.configuration&&(e.configuration.codec&&(n.videoCodec=e.configuration.codec,n.codecs=n.codecs?n.codecs+","+n.videoCodec:n.videoCodec),e.configuration.bitrate&&(n.videoBandwidth=e.configuration.bitrate,n.bandwidth+=n.videoBandwidth),e.configuration.framerate&&(n.frameRate=e.configuration.framerate),e.configuration.width&&(n.width=e.configuration.width),e.configuration.height&&(n.height=e.configuration.height),e.configuration.colorSpace&&e.configuration.colorSpace.transfer))switch(e.configuration.colorSpace.transfer){case"pq":n.hdr="PQ";break;case"hlg":n.hdr="HLG";break;case"bt709":n.hdr="SDR"}return n}function gi(t){return t.allowedByApplication&&t.allowedByKeySystem&&0==t.disabledUntilTime}function mi(t){return t.filter((function(t){return gi(t)}))}function vi(t,e,n,r){var i=t,a=t.filter((function(t){return t.primary}));a.length&&(i=a);var o=i.length?i[0].language:"";if(i=i.filter((function(t){return t.language==o})),e){var s=me(de(e),t.map((function(t){return t.language})));s&&(i=t.filter((function(t){return de(t.language)==s})))}if(i=i.filter((function(t){return t.forced==r})),n){if((t=yi(i,n)).length)return t}else if((t=i.filter((function(t){return 0==t.roles.length}))).length)return t;return(t=i.map((function(t){return t.roles})).reduce($r,[])).length?yi(i,t[0]):i}function yi(t,e){return t.filter((function(t){return t.roles.includes(e)}))}function Ai(t){var e=[];return t.audio&&e.push(t.audio),t.video&&e.push(t.video),e}function bi(t,e){e.length&&(e=e.filter((function(e){return Lr(t.codecs)==Lr(e.codecs)})).sort((function(t,e){return t.bandwidth&&e.bandwidth&&t.bandwidth!=e.bandwidth?t.bandwidth-e.bandwidth:(t.width||0)-(e.width||0)})),t.trickModeVideo=e[0],e.length>1&&(e=e.find((function(e){return t.width==e.width&&t.height==e.height}))))&&(t.trickModeVideo=e)}function wi(t){return"audio"==t.type?"type=audio codecs="+t.codecs+" bandwidth="+t.bandwidth+" channelsCount="+t.channelsCount+" audioSamplingRate="+t.audioSamplingRate:"video"==t.type?"type=video codecs="+t.codecs+" bandwidth="+t.bandwidth+" frameRate="+t.frameRate+" width="+t.width+" height="+t.height:"unexpected stream type"}function Ci(t,e,n){if(0==n.autoShowText)return!1;if(1==n.autoShowText)return!0;var r=de(n.preferredTextLanguage);return e=de(e.language),2==n.autoShowText?ue(e,r):3==n.autoShowText?!!t&&(t=de(t.language),ue(e,r)&&!ue(t,e)):(X("Invalid autoShowText setting!"),!1)}function xi(t){for(var e={id:0,language:"und",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:100,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},n=(t=g(t)).next();!n.done;n=t.next()){var r={id:0,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:(n=n.value)?Pr(n):"",codecs:n?Dr(n):"",encrypted:!0,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"video",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};r.fullMimeTypes.add(kr(r.mimeType,r.codecs)),n.startsWith("audio/")?(r.type="audio",e.audio=r):e.video=r}return e}Kr.prototype.Y=function(e){var n=this;this.stop();var r=!0,i=null;return this.g=function(){t.clearTimeout(i),r=!1},i=t.setTimeout((function(){r&&n.h()}),1e3*e),this},Kr.prototype.stop=function(){this.g&&(this.g(),this.g=null)},Wr.prototype.Ka=function(){return this.stop(),this.h(),this},Wr.prototype.Y=function(t){var e=this;return this.stop(),this.g=new Kr((function(){e.h()})).Y(t),this},Wr.prototype.xa=function(t){var e=this;return this.stop(),this.g=new Kr((function(){e.g.Y(t),e.h()})).Y(t),this},Wr.prototype.stop=function(){this.g&&(this.g.stop(),this.g=null)},G("shaka.util.Timer",Wr),Wr.prototype.stop=Wr.prototype.stop,Wr.prototype.tickEvery=Wr.prototype.xa,Wr.prototype.tickAfter=Wr.prototype.Y,Wr.prototype.tickNow=Wr.prototype.Ka,G("shaka.util.StreamUtils",Zr),Zr.meetsRestrictions=ti;var Ti=new Map,Si=0,Ei=(new Map).set("image/svg+xml",!0).set("image/png",!0).set("image/jpeg",!0).set("image/jpg",!0),ki=(new Map).set("image/webp","data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA").set("image/avif","data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=");function Ii(){var e=this;this.H=null,this.m=!1,this.C=new Te,this.j=new Me,navigator.connection&&navigator.connection.addEventListener&&this.j.o(navigator.connection,"change",(function(){if(e.m&&e.g.useNetworkInformation){e.C=new Te,e.g&&e.C.configure(e.g.advanced);var t=e.chooseVariant();t&&navigator.onLine&&e.H(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}})),this.A=[],this.I=1,this.J=!1,this.h=this.u=this.g=this.D=null,this.l=new Wr((function(){if(e.m&&(e.g.restrictToElementSize||e.g.restrictToScreenSize)){var t=e.chooseVariant();t&&e.H(t,e.g.clearBufferSwitch,e.g.safeMarginSwitch)}})),this.F=t,"documentPictureInPicture"in t&&this.j.o(t.documentPictureInPicture,"enter",(function(){e.F=t.documentPictureInPicture.window,e.l&&e.l.Ka(),e.j.ua(e.F,"pagehide",(function(){e.F=t,e.l&&e.l.Ka()}))})),this.G=this.i=null}function Mi(t,e){if(void 0===e||!e){if(!t.J){if(!((e=t.C).g>=e.i))return;t.J=!0,t.D-=1e3*(t.g.switchInterval-t.g.minTimeToSwitch)}if(Date.now()-t.D<1e3*t.g.switchInterval)return}e=t.chooseVariant(),t.getBandwidthEstimate(),e&&t.H(e,t.g.clearBufferSwitch,t.g.safeMarginSwitch)}function Ri(t,e,n,r,i){if(t.G){var a=t.G.Xi();a&&(n=n.filter((function(t){return!t.bandwidth||!a||t.bandwidth<=a})))}return e&&(n=n.filter((function(t){return ti(t,e,{width:i,height:r})}))),n.sort((function(t,e){return t.bandwidth-e.bandwidth}))}(i=Ii.prototype).stop=function(){this.H=null,this.m=!1,this.A=[],this.I=1,this.u=this.D=null,this.h&&(this.h.disconnect(),this.h=null),this.l&&this.l.stop(),this.G=this.i=null},i.release=function(){this.stop(),this.j.release(),this.l=null},i.init=function(t){this.H=t},i.chooseVariant=function(t){t=void 0!==t&&t;var e=1/0,n=1/0;if(this.g.restrictToScreenSize&&(n=this.g.ignoreDevicePixelRatio?1:this.F.devicePixelRatio,e=this.F.screen.height*n,n*=this.F.screen.width),this.h&&this.g.restrictToElementSize){var r=this.g.ignoreDevicePixelRatio?1:this.F.devicePixelRatio,i=this.u.clientHeight,a=this.u.clientWidth;this.i&&document.pictureInPictureElement&&document.pictureInPictureElement==this.u&&(i=this.i.height,a=this.i.width),e=Math.min(e,i*r),n=Math.min(n,a*r)}if((i=this.A.filter((function(t){return t&&!(t.audio&&t.audio.fastSwitching||t.video&&t.video.fastSwitching)}))).length||(i=this.A),r=i,t&&i.length!=this.A.length&&(r=this.A.filter((function(t){return t&&!!(t.audio&&t.audio.fastSwitching||t.video&&t.video.fastSwitching)}))),t=Ri(this,this.g.restrictions,r,1/0,1/0),e!=1/0||n!=1/0){for(t=function(t){for(var e=[],n=(t=g(t)).next();!n.done;n=t.next())(n=n.value.video)&&n.height&&n.width&&e.push({height:n.height,width:n.width});return e.sort((function(t,e){return t.width-e.width}))}(t),i=(t=g(t)).next();!i.done;i=t.next())if((i=i.value).height>=e&&i.width>=n){e=i.height,n=i.width;break}t=Ri(this,this.g.restrictions,r,e,n)}for(e=this.getBandwidthEstimate(),r.length&&!t.length&&(t=[(t=Ri(this,null,r,1/0,1/0))[0]]),n=t[0]||null,r=0;r<t.length;r++){i=t[r];var o=isNaN(this.I)?1:Math.abs(this.I);a=o*i.bandwidth/this.g.bandwidthDowngradeTarget;for(var s={bandwidth:1/0},u=r+1;u<t.length;u++)if(i.bandwidth!=t[u].bandwidth){s=t[u];break}o=o*s.bandwidth/this.g.bandwidthUpgradeTarget,e>=a&&e<=o&&(n.bandwidth!=i.bandwidth||n.bandwidth==i.bandwidth&&n.video&&i.video&&(n.video.width<i.video.width||n.video.height<i.video.height))&&(n=i)}return this.D=Date.now(),n},i.enable=function(){this.m=!0},i.disable=function(){this.m=!1},i.segmentDownloaded=function(t,e,n,r){var i=t;this.g.removeLatencyFromFirstPacketTime&&r&&1===r.packetNumber&&r.timeToFirstByte&&(i=t-r.timeToFirstByte),i>=this.g.cacheLoadThreshold&&this.C.sample(i,e),n&&null!=this.D&&this.m&&Mi(this)},i.trySuggestStreams=function(){this.m&&(this.D=Date.now(),Mi(this,!0))},i.getBandwidthEstimate=function(){var t=this.g.defaultBandwidthEstimate;return navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&(t=1e6*navigator.connection.downlink),navigator.connection&&navigator.connection.downlink&&this.g.useNetworkInformation&&this.g.preferNetworkInformationBandwidth?t:(t=this.C.getBandwidthEstimate(t),this.G?this.G.getBandwidthEstimate(t):t)},i.setVariants=function(t){return!ke(t,this.A)&&(this.A=t,!0)},i.playbackRateChanged=function(t){this.I=t},i.setMediaElement=function(e){function n(){r.l.Y(Li)}var r=this;this.u=e,this.h&&(this.h.disconnect(),this.h=null),this.u&&"ResizeObserver"in t&&(this.h=new ResizeObserver(n),this.h.observe(this.u)),this.j.o(e,"enterpictureinpicture",(function(t){t.pictureInPictureWindow&&(r.i=t.pictureInPictureWindow,r.j.o(r.i,"resize",n))})),this.j.o(e,"leavepictureinpicture",(function(){r.i&&r.j.Fa(r.i,"resize",n),r.i=null}))},i.setCmsdManager=function(t){this.G=t},i.configure=function(t){this.g=t,this.C&&this.g&&this.C.configure(this.g.advanced)},G("shaka.abr.SimpleAbrManager",Ii),Ii.prototype.configure=Ii.prototype.configure,Ii.prototype.setCmsdManager=Ii.prototype.setCmsdManager,Ii.prototype.setMediaElement=Ii.prototype.setMediaElement,Ii.prototype.playbackRateChanged=Ii.prototype.playbackRateChanged,Ii.prototype.setVariants=Ii.prototype.setVariants,Ii.prototype.getBandwidthEstimate=Ii.prototype.getBandwidthEstimate,Ii.prototype.trySuggestStreams=Ii.prototype.trySuggestStreams,Ii.prototype.segmentDownloaded=Ii.prototype.segmentDownloaded,Ii.prototype.disable=Ii.prototype.disable,Ii.prototype.enable=Ii.prototype.enable,Ii.prototype.chooseVariant=Ii.prototype.chooseVariant,Ii.prototype.init=Ii.prototype.init,Ii.prototype.release=Ii.prototype.release,Ii.prototype.stop=Ii.prototype.stop;var Li=1;function Oi(t,e){if(t===e||!t.length||!e.length)return!0;for(var n=(t=g(t)).next();!n.done;n=t.next()){if(Ni(n=n.value))return!0;for(var r=g(e),i=r.next();!i.done;i=r.next())if(i=i.value,n.keySystem===i.keySystem||Ni(i))return!0}return!1}function Pi(t,e){if(!t.length)return e;if(!e.length)return t;for(var n=[],r=(t=g(t)).next();!r.done;r=t.next()){r=r.value;for(var i=g(e),a=i.next();!a.done;a=i.next()){if(a=a.value,r.keySystem==a.keySystem){i=new Map;for(var o=g((r.initData||[]).concat(a.initData||[])),s=o.next();!s.done;s=o.next())s=s.value,i.set(s.keyId,s);i=Array.from(i.values()),o=r.keyIds&&a.keyIds?new Set([].concat(m(r.keyIds),m(a.keyIds))):r.keyIds||a.keyIds,n.push({keySystem:r.keySystem,licenseServerUri:r.licenseServerUri||a.licenseServerUri,distinctiveIdentifierRequired:r.distinctiveIdentifierRequired||a.distinctiveIdentifierRequired,persistentStateRequired:r.persistentStateRequired||a.persistentStateRequired,videoRobustness:r.videoRobustness||a.videoRobustness,audioRobustness:r.audioRobustness||a.audioRobustness,serverCertificate:r.serverCertificate||a.serverCertificate,serverCertificateUri:r.serverCertificateUri||a.serverCertificateUri,initData:i,keyIds:o});break}Ni(r)?n.push(r):Ni(a)&&n.push(a)}}return n}function Di(t){return!!t&&!!t.match(/^com\.(microsoft|chromecast)\.playready/)}function _i(t){return!!t&&!!t.match(/^com\.apple\.fps/)}function Ni(t){return!!(t=t.licenseServerUri)&&t.startsWith("data:application/json;base64,")}var Ui=new Rt((function(){return xt(new Uint8Array([0]))})),Bi=new Map;function ji(t,e){var n={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4};this.l=null==t.maxAttempts?n.maxAttempts:t.maxAttempts,this.j=null==t.baseDelay?n.baseDelay:t.baseDelay,this.u=null==t.fuzzFactor?n.fuzzFactor:t.fuzzFactor,this.m=null==t.backoffFactor?n.backoffFactor:t.backoffFactor,this.g=0,this.h=this.j,(this.i=void 0!==e&&e)&&(this.g=1)}function qi(t){var e,n;return P((function(r){if(1==r.g){if(t.g>=t.l){if(!t.i)throw new It(2,7,1010);t.g=1,t.h=t.j}return e=t.g,t.g++,0==e?r.return():(n=t.h*(1+(2*Math.random()-1)*t.u),w(r,new Promise((function(t){new Wr(t).Y(n/1e3)})),2))}t.h*=t.m,C(r)}))}function Fi(){var t,e,n=new Promise((function(n,r){t=n,e=r}));return n.resolve=t,n.reject=e,n}function Vi(t,e){this.promise=t,this.i=e,this.g=null}function Gi(t){return new Vi(Promise.reject(t),(function(){return Promise.resolve()}))}function zi(){var t=Promise.reject(new It(2,7,7001));return t.catch((function(){})),new Vi(t,(function(){return Promise.resolve()}))}function Hi(t){return new Vi(Promise.resolve(t),(function(){return Promise.resolve()}))}function Ki(t){return new Vi(t,(function(){return t.catch((function(){}))}))}function Wi(t){return new Vi(Promise.all(t.map((function(t){return t.promise}))),(function(){return Promise.all(t.map((function(t){return t.abort()})))}))}function $i(){this.g=[]}function Xi(t,e){t.g.push(e.finally((function(){Ee(t.g,e)})))}function Yi(t,e,n,r,i,a,o){tt.call(this),this.i=null,this.j=!1,this.A=new $i,this.g=new Set,this.h=new Set,this.u=t||null,this.m=e||null,this.C=n||null,this.D=r||null,this.F=i||null,this.H=a||null,this.G=o||null,this.l=new Map}function Ji(t,e,n,r){r=void 0!==r&&r,n=n||aa;var i=oa.get(t);(!i||n>=i.priority)&&oa.set(t,{priority:n,Vf:e,Xl:r})}function Zi(t,e){for(var n=g(t.g),r=n.next();!r.done;r=n.next())e.g.add(r.value);for(n=(t=g(t.h)).next();!n.done;n=t.next())e.h.add(n.value)}function Qi(t,e,n){return{uris:t,method:"GET",body:null,headers:{},allowCrossSiteCredentials:!1,retryParameters:e,licenseRequestType:null,sessionId:null,drmInfo:null,initData:null,initDataType:null,streamDataCallback:void 0===n?null:n}}function ta(t,e,n,r,i,a,o,s){t.i.forceHTTP&&(n.uris[a]=n.uris[a].replace("https://","http://")),t.i.forceHTTPS&&(n.uris[a]=n.uris[a].replace("http://","https://")),a>0&&t.H&&t.H(e,r,n.uris[a],n.uris[a-1]);var u=new at(n.uris[a]),l=u.lc,c=!1;l||(ot(u,l=(l=location.protocol).slice(0,-1)),n.uris[a]=u.toString()),l=l.toLowerCase();var d=(l=oa.get(l))?l.Vf:null;if(!d)return Gi(new It(2,1,1e3,u));var p=l.Xl;(u=t.l.get(u.Ib))&&(n.headers["common-access-token"]=u);var h,f=null,g=null,m=!1,v=!1;return Ki(qi(i)).bb((function(){if(t.j)return zi();h=Date.now();var i=0;n.requestStartTime=Date.now();var o=d(n.uris[a],n,e,(function(a,o,u){f&&f.stop(),g&&g.Y(l/1e3),t.u&&e==ia&&(i++,n.packetNumber=i,t.u(a,o,ea(r),n,r),c=!0,s.g=u)}),(function(r){v=!0,n.timeToFirstByte=Date.now()-n.requestStartTime,t.m&&t.m(r,n,e)}),{minBytesForProgressEvents:t.i.minBytesForProgressEvents});if(!p)return o;var u=n.retryParameters.connectionTimeout;u&&(f=new Wr((function(){m=!0,o.abort()}))).Y(u/1e3);var l=n.retryParameters.stallTimeout;return l&&(g=new Wr((function(){m=!0,o.abort()}))),o})).bb((function(r){f&&f.stop(),g&&g.stop(),null==r.timeMs&&(r.timeMs=Date.now()-h);var i=r.headers["common-access-token"];if(i){var a=new at(r.uri);t.l.set(a.Ib,i)}return i={response:r,Al:c},!v&&t.m&&t.m(r.headers,n,e),t.C&&t.C(n,r),i}),(function(u){if(f&&f.stop(),g&&g.stop(),t.D){var l=null,c=0;u instanceof It&&(l=u,1001==u.code&&(c=u.data[1])),t.D(n,l,c,m)}if(t.j)return zi();if(m&&(u=new It(1,1,1003,n.uris[a],e)),u instanceof It){if(7001==u.code)throw u;if(1010==u.code)throw o;if(1==u.severity){if((l=new z("retry",l=(new Map).set("error",u))).cancelable=!0,t.dispatchEvent(l),l.defaultPrevented)throw u;return a=(a+1)%n.uris.length,ta(t,e,n,r,i,a,u,s)}}throw u}))}function ea(t){if(t){var e=t.segment;if(t=t.stream,e&&t&&t.fastSwitching&&e.nd)return!1}return!0}function na(){this.g=0}function ra(t,e,n){Vi.call(this,t,e),this.h=n}Fi.prototype.resolve=function(){},Fi.prototype.reject=function(){},Vi.prototype.abort=function(){return this.g||(this.g=this.i()),this.g},Vi.prototype.finally=function(t){return this.promise.then((function(){return t(!0)}),(function(){return t(!1)})),this},Vi.prototype.bb=function(t,e){function n(n){return function(s){if(i.g&&n)a.reject(o);else{var u=n?t:e;u?r=function(t,e,n){try{var r=t(e);return r&&r.promise&&r.abort?(n.resolve(r.promise),function(){return r.abort()}):(n.resolve(r),function(){return Promise.resolve(r).then((function(){}),(function(){}))})}catch(t){return n.reject(t),function(){return Promise.resolve()}}}(u,s,a):(n?a.resolve:a.reject)(s)}}}function r(){return a.reject(o),i.abort()}var i=this,a=new Fi;a.catch((function(){}));var o=new It(2,7,7001);return this.promise.then(n(!0),n(!1)),new Vi(a,(function(){return r()}))},u.Object.defineProperties(Vi.prototype,{aborted:{configurable:!0,enumerable:!0,get:function(){return null!==this.g}}}),G("shaka.util.AbortableOperation",Vi),Vi.prototype.chain=Vi.prototype.bb,Vi.prototype.finally=Vi.prototype.finally,Vi.all=Wi,Vi.prototype.abort=Vi.prototype.abort,Vi.notAbortable=Ki,Vi.completed=Hi,Vi.aborted=zi,Vi.failed=Gi,$i.prototype.destroy=function(){for(var t=[],e=g(this.g),n=e.next();!n.done;n=e.next())(n=n.value).promise.catch((function(){})),t.push(n.abort());return this.g=[],Promise.all(t)},h(Yi,tt),(i=Yi.prototype).configure=function(t){this.i=t},i.$l=function(t){this.g.add(t)},i.Am=function(t){this.g.delete(t)},i.pk=function(){this.g.clear()},i.am=function(t){this.h.add(t)},i.Bm=function(t){this.h.delete(t)},i.qk=function(){this.h.clear()},i.Mi=function(){this.l.clear()},i.destroy=function(){return this.j=!0,this.g.clear(),this.h.clear(),this.l.clear(),tt.prototype.release.call(this),this.A.destroy()},i.request=function(t,e,n){var r=this,i=new na;if(this.j){var a=Promise.reject(new It(2,7,7001));return a.catch((function(){})),new ra(a,(function(){return Promise.resolve()}),i)}e.method=e.method||"GET",e.headers=e.headers||{},e.retryParameters=e.retryParameters?dn(e.retryParameters):{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},e.uris=dn(e.uris);var o=(a=function(t,e,n,r){function i(t){a=a.bb((function(){return n.body&&(n.body=xt(n.body)),t(e,n,r)}))}var a=Hi(void 0);t.F&&i(t.F);for(var o=(t=g(t.g)).next();!o.done;o=t.next())i(o.value);return a.bb(void 0,(function(t){if(t instanceof It&&7001==t.code)throw t;throw new It(2,1,1006,t)}))}(this,t,e,n)).bb((function(){return ta(r,t,e,n,new ji(e.retryParameters,!1),0,null,i)})),s=o.bb((function(e){return function(t,e,n,r){for(var i=Hi(void 0),a=(t=g(t.h)).next(),o={};!a.done;o={Cj:void 0},a=t.next())o.Cj=a.value,i=i.bb(function(t){return function(){var i=n.response;return i.data&&(i.data=xt(i.data)),(0,t.Cj)(e,i,r)}}(o));return i.bb((function(){return n}),(function(t){var e=2;if(t instanceof It){if(7001==t.code)throw t;e=t.severity}throw new It(e,1,1007,t)}))}(r,t,e,n)})),u=Date.now(),l=0;a.promise.then((function(){l=Date.now()-u}),(function(){}));var c=0;o.promise.then((function(){c=Date.now()}),(function(){}));var d=s.bb((function(i){var a=Date.now()-c,o=i.response;return o.timeMs+=l,o.timeMs+=a,i.Al||!r.u||o.fromCache||"HEAD"==e.method||t!=ia||r.u(o.timeMs,o.data.byteLength,ea(n),e,n),r.G&&r.G(t,o,n),o}),(function(t){throw t&&(t.severity=2),t}));return a=new ra(d.promise,(function(){return d.abort()}),i),Xi(this.A,a),a},G("shaka.net.NetworkingEngine",Yi),Yi.prototype.request=Yi.prototype.request,Yi.prototype.destroy=Yi.prototype.destroy,Yi.makeRequest=Qi,Yi.defaultRetryParameters=function(){return{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}},Yi.prototype.clearCommonAccessTokenMap=Yi.prototype.Mi,Yi.prototype.clearAllResponseFilters=Yi.prototype.qk,Yi.prototype.unregisterResponseFilter=Yi.prototype.Bm,Yi.prototype.registerResponseFilter=Yi.prototype.am,Yi.prototype.clearAllRequestFilters=Yi.prototype.pk,Yi.prototype.unregisterRequestFilter=Yi.prototype.Am,Yi.prototype.registerRequestFilter=Yi.prototype.$l,Yi.unregisterScheme=function(t){oa.delete(t)},Yi.registerScheme=Ji,Yi.prototype.configure=Yi.prototype.configure,Yi.NumBytesRemainingClass=na,h(ra,Vi),Yi.PendingRequest=ra;var ia=1;Yi.RequestType={MANIFEST:0,SEGMENT:ia,LICENSE:2,APP:3,TIMING:4,SERVER_CERTIFICATE:5,KEY:6,ADS:7,CONTENT_STEERING:8,CMCD:9},Yi.AdvancedRequestType={INIT_SEGMENT:0,MEDIA_SEGMENT:1,MEDIA_PLAYLIST:2,MASTER_PLAYLIST:3,MPD:4,MSS:5,MPD_PATCH:6,MEDIATAILOR_SESSION_INFO:7,MEDIATAILOR_TRACKING_INFO:8,MEDIATAILOR_STATIC_RESOURCE:9,MEDIATAILOR_TRACKING_EVENT:10,INTERSTITIAL_ASSET_LIST:11,INTERSTITIAL_AD_URL:12};var aa=3;Yi.PluginPriority={FALLBACK:1,PREFERRED:2,APPLICATION:aa};var oa=new Map;function sa(t){this.g=!1,this.h=new Fi,this.i=t}function ua(t,e){if(t.g){if(e instanceof It&&7003==e.code)throw e;throw new It(2,7,7003,e)}}function la(t){for(var e=new Map,n=g(Object.keys(t)),r=n.next();!r.done;r=n.next())r=r.value,e.set(r,t[r]);return e}function ca(t){var e={};return t.forEach((function(t,n){e[n]=t})),e}function da(t,e){this.h=Et(t),this.i=e==ha,this.g=0}function pa(){return new It(2,3,3e3)}sa.prototype.destroy=function(){var t=this;return this.g?this.h:(this.g=!0,this.i().then((function(){t.h.resolve()}),(function(){t.h.resolve()})))},(i=da.prototype).Pa=function(){return this.g<this.h.byteLength},i.Wa=function(){return this.g},i.getLength=function(){return this.h.byteLength},i.ba=function(){try{var t=this.h.getUint8(this.g);return this.g+=1,t}catch(t){throw pa()}},i.Ia=function(){try{var t=this.h.getUint16(this.g,this.i);return this.g+=2,t}catch(t){throw pa()}},i.$=function(){try{var t=this.h.getUint32(this.g,this.i);return this.g+=4,t}catch(t){throw pa()}},i.Rh=function(){try{var t=this.h.getInt32(this.g,this.i);return this.g+=4,t}catch(t){throw pa()}},i.Td=function(){try{if(this.i)var t=this.h.getUint32(this.g,!0),e=this.h.getUint32(this.g+4,!0);else e=this.h.getUint32(this.g,!1),t=this.h.getUint32(this.g+4,!1)}catch(t){throw pa()}if(e>2097151)throw new It(2,3,3001);return this.g+=8,4294967296*e+t},i.ac=function(t,e){if(this.g+t>this.h.byteLength)throw pa();var n=Tt(this.h,this.g,t);return this.g+=t,e?new Uint8Array(n):n},i.skip=function(t){if(this.g+t>this.h.byteLength)throw pa();this.g+=t},i.Dj=function(t){if(this.g<t)throw pa();this.g-=t},i.seek=function(t){if(t<0||t>this.h.byteLength)throw pa();this.g=t},i.od=function(){for(var t=this.g;this.Pa()&&0!=this.h.getUint8(this.g);)this.g+=1;return t=Tt(this.h,t,this.g-t),this.g+=1,Nt(t)},G("shaka.util.DataViewReader",da),da.prototype.readTerminatedString=da.prototype.od,da.prototype.seek=da.prototype.seek,da.prototype.rewind=da.prototype.Dj,da.prototype.skip=da.prototype.skip,da.prototype.readBytes=da.prototype.ac,da.prototype.readUint64=da.prototype.Td,da.prototype.readInt32=da.prototype.Rh,da.prototype.readUint32=da.prototype.$,da.prototype.readUint16=da.prototype.Ia,da.prototype.readUint8=da.prototype.ba,da.prototype.getLength=da.prototype.getLength,da.prototype.getPosition=da.prototype.Wa,da.prototype.hasMoreData=da.prototype.Pa;var ha=1;function fa(){this.i=new Map,this.h=new Map,this.g=!1}function ga(t){for(var e=Ca(t);t.reader.Pa()&&!t.parser.g;)t.parser.Qd(t.start+e,t.reader,t.partialOkay,t.stopOnPartial)}function ma(t){for(var e=Ca(t),n=t.reader.$(),r=0;r<n&&(t.parser.Qd(t.start+e,t.reader,t.partialOkay,t.stopOnPartial),!t.parser.g);r++);}function va(t){var e=Ca(t);for(t.reader.skip(78);t.reader.Pa()&&!t.parser.g;)t.parser.Qd(t.start+e,t.reader,t.partialOkay,t.stopOnPartial)}function ya(t){var e=Ca(t);t.reader.skip(8);var n=t.reader.Ia();for(t.reader.skip(6),2==n?t.reader.skip(48):t.reader.skip(12),1==n&&t.reader.skip(16);t.reader.Pa()&&!t.parser.g;)t.parser.Qd(t.start+e,t.reader,t.partialOkay,t.stopOnPartial)}function Aa(t,e){return function(n){t(n.reader.ac(n.reader.getLength()-n.reader.Wa(),e))}}function ba(t){for(var e=0,n=(t=g(t)).next();!n.done;n=t.next())e=e<<8|n.value.charCodeAt(0);return e}function wa(t){return String.fromCharCode(t>>24&255,t>>16&255,t>>8&255,255&t)}function Ca(t){return 8+(t.has64BitSize?8:0)+(null!=t.flags?4:0)}da.Endianness={BIG_ENDIAN:0,LITTLE_ENDIAN:ha},(i=fa.prototype).box=function(t,e){return t=ba(t),this.i.set(t,xa),this.h.set(t,e),this},i.X=function(t,e){return t=ba(t),this.i.set(t,Ta),this.h.set(t,e),this},i.stop=function(){this.g=!0},i.parse=function(t,e,n){for(t=new da(t,0),this.g=!1;t.Pa()&&!this.g;)this.Qd(0,t,e,n)},i.Qd=function(t,e,n,r){var i=e.Wa();if(r&&i+8>e.getLength())this.g=!0;else{var a=e.$(),o=e.$(),s=wa(o),u=!1;switch(a){case 0:a=e.getLength()-i;break;case 1:if(r&&e.Wa()+8>e.getLength())return void(this.g=!0);a=e.Td(),u=!0}var l=this.h.get(o);if(l){var c=null,d=null;if(this.i.get(o)==Ta){if(r&&e.Wa()+4>e.getLength())return void(this.g=!0);c=(d=e.$())>>>24,d&=16777215}o=i+a,n&&o>e.getLength()&&(o=e.getLength()),r&&o>e.getLength()?this.g=!0:(o-=e.Wa(),l({name:s,parser:this,partialOkay:n||!1,stopOnPartial:r||!1,version:c,flags:d,reader:e=new da(e=o>0?e.ac(o,!1):new Uint8Array(0),0),size:a,start:i+t,has64BitSize:u}))}else e.skip(Math.min(i+a-e.Wa(),e.getLength()-e.Wa()))}},G("shaka.util.Mp4Parser",fa),fa.headerSize=Ca,fa.typeToString=wa,fa.allData=Aa,fa.audioSampleEntry=ya,fa.visualSampleEntry=va,fa.sampleDescription=ma,fa.children=ga,fa.prototype.parseNext=fa.prototype.Qd,fa.prototype.parse=fa.prototype.parse,fa.prototype.stop=fa.prototype.stop,fa.prototype.fullBox=fa.prototype.X,fa.prototype.box=fa.prototype.box;var xa=0,Ta=1;function Sa(t){var e=this;this.g=[],this.h=[],this.data=[],(new fa).box("moov",ga).box("moof",ga).X("pssh",(function(t){if(!(t.version>1)){var n=Tt(t.reader.h,-12,t.size);if(e.data.push(n),n=t.reader.ac(16,!1),e.g.push(Xt(n)),t.version>0){n=t.reader.$();for(var r=0;r<n;r++){var i=t.reader.ac(16,!1);i=Xt(i),e.h.push(i)}}}})).parse(t)}function Ea(t,e,n,r){var i=t.length,a=12+e.length+4+i;r>0&&(a+=4+16*n.size);var o=new Uint8Array(a),s=Et(o),u=0;if(s.setUint32(u,a),u+=4,s.setUint32(u,1886614376),u+=4,r<1?s.setUint32(u,0):s.setUint32(u,16777216),u+=4,o.set(e,u),u+=e.length,r>0)for(s.setUint32(u,n.size),u+=4,n=(e=g(n)).next();!n.done;n=e.next())n=$t(n.value),o.set(n,u),u+=n.length;return s.setUint32(u,i),o.set(t,u+4),o}function ka(t){var e=this;this.F=t,this.j=this.C=null,this.ea=this.R=!1,this.J=0,this.g=null,this.u=new Me,this.i=new Map,this.V=[],this.D=new Map,this.K=!1,this.m=new Fi,this.h=null,this.A=function(n){2==n.severity&&e.m.reject(n),t.onError(n)},this.Z=new Map,this.aa=new Map,this.L=new Wr((function(){return function(t){var e=t.Z,n=t.aa;n.clear(),e.forEach((function(t,e){return n.set(e,t)})),(e=Array.from(n.values())).length&&e.every((function(t){return"expired"==t}))&&t.A(new It(2,6,6014)),t.F.Sf(ca(n))}(e)})),this.P=!1,this.M=[],this.W=!1,this.G=new Wr((function(){!function(t){t.i.forEach((function(e,n){var r=e.Mh,i=n.expiration;isNaN(i)&&(i=1/0),i!=r&&(t.F.onExpirationUpdated(n.sessionId,i),e.Mh=i)}))}(e)})),this.m.catch((function(){})),this.l=new sa((function(){return function(t){return P((function(e){switch(e.g){case 1:return t.u.release(),t.u=null,t.m.reject(),t.G.stop(),t.G=null,t.L.stop(),t.L=null,w(e,Fa(t),2);case 2:if(!t.j){e.B(3);break}return x(e,4),w(e,t.j.setMediaKeys(null),6);case 6:S(e,5);break;case 4:E(e);case 5:t.j=null;case 3:t.g=null,t.C=null,t.D=new Map,t.h=null,t.A=function(){},t.F=null,t.O=!1,t.I=null,C(e)}}))}(e)})),this.O=!1,this.H=this.I=null,this.S=function(){return!1}}function Ia(t,e,n,r){r=void 0===r||r,t.D=new Map;for(var i=(n=g(n)).next();!i.done;i=n.next())t.D.set(i.value,{initData:null,initDataType:null});for(i=(n=g(t.h.persistentSessionsMetadata)).next();!i.done;i=n.next())i=i.value,t.D.set(i.sessionId,{initData:i.initData,initDataType:i.initDataType});return t.P=t.D.size>0,Ma(t,e,r)}function Ma(t,e,n){var r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A,b;return P((function(C){if(1==C.g){for(Ha(t.h.clearKeys,e),r=e.some((function(t){return!!(t.video&&t.video.drmInfos.length||t.audio&&t.audio.drmInfos.length)})),i=la(t.h.servers),a=la(t.h.advanced||{}),!r&&n&&function(t,e){var n=[];for(e.forEach((function(t,e){n.push({keySystem:e,licenseServerUri:t,distinctiveIdentifierRequired:!1,persistentStateRequired:!1,audioRobustness:"",videoRobustness:"",serverCertificate:null,serverCertificateUri:"",initData:[],keyIds:new Set})})),t=g(t),e=t.next();!e.done;e=t.next())(e=e.value).video&&(e.video.drmInfos=n),e.audio&&(e.audio.drmInfos=n)}(e,i),o=new WeakSet,s=g(e),u=s.next();!u.done;u=s.next())for(l=u.value,c=Va(l),d=g(c),p=d.next();!p.done;p=d.next())h=p.value,o.has(h)||(o.add(h),za(h,i,a,t.h.keySystemsMapping));for(f=function(e,n){for(var r=[],i=(e=g(e)).next();!i.done;i=e.next()){var o,s=(i=i.value)[n]||a.has(i.keySystem)&&a.get(i.keySystem)[n]||"";if((o=""==s)&&(o=!!(o=i.keySystem)&&!!o.match(/^com\.widevine\.alpha/)),o&&("audioRobustness"==n?s=[t.h.defaultAudioRobustnessForWidevine]:"videoRobustness"==n&&(s=[t.h.defaultVideoRobustnessForWidevine])),"string"==typeof s)r.push(i);else if(Array.isArray(s))for(0===s.length&&(s=[""]),o=(s=g(s)).next();!o.done;o=s.next()){var u={};r.push(Object.assign({},i,(u[n]=o.value,u)))}}return r},m=new WeakSet,v=g(e),y=v.next();!y.done;y=v.next())(A=y.value).video&&!m.has(A.video)&&(A.video.drmInfos=f(A.video.drmInfos,"videoRobustness"),A.video.drmInfos=f(A.video.drmInfos,"audioRobustness"),m.add(A.video)),A.audio&&!m.has(A.audio)&&(A.audio.drmInfos=f(A.audio.drmInfos,"videoRobustness"),A.audio.drmInfos=f(A.audio.drmInfos,"audioRobustness"),m.add(A.audio));return w(C,ai(e,t.P,t.O,t.h.preferredKeySystems),2)}return ua(t.l),r||i.size>0?(b=Da(t,e),C.return(r?b:b.catch((function(){})))):(t.R=!0,C.return(Promise.resolve()))}))}function Ra(t){var e;return P((function(n){switch(n.g){case 1:if(t.j.mediaKeys)return n.return();if(!t.I){n.B(2);break}return w(n,t.I,3);case 3:return ua(t.l),n.return();case 2:return x(n,4),t.I=t.j.setMediaKeys(t.C),w(n,t.I,6);case 6:S(n,5);break;case 4:e=E(n),t.A(new It(2,6,6003,e.message));case 5:ua(t.l),C(n)}}))}function La(t){var e,n,r,i;return P((function(a){if(1==a.g)return t.D.size?(t.D.forEach((function(e,n){Ua(t,n,e)})),w(a,t.m,3)):a.B(2);if(2!=a.g){if((t.g&&t.g.keyIds||new Set([])).size>0&&function(t){for(var e=g(t.g&&t.g.keyIds||new Set([])),n=e.next();!n.done;n=e.next())if("usable"!==t.Z.get(n.value))return!1;return!0}(t))return a.return(t.m);t.K=!1,t.m=new Fi,t.m.catch((function(){}))}for(e=(t.g?t.g.initData:[])||[],n=g(e),r=n.next();!r.done;r=n.next())i=r.value,Oa(t,i.initDataType,i.initData);return Ga(t)&&t.m.resolve(),a.return(t.m)}))}function Oa(t,e,n){if(n.length){if(t.h.ignoreDuplicateInitData){for(var r=t.i.values(),i=(r=g(r)).next();!i.done;i=r.next())if(Ct(n,i.value.initData))return;var a=!1;if(t.D.forEach((function(t){!a&&Ct(n,t.initData)&&(a=!0)})),a)return}t.K=!0,t.i.size>0&&Ga(t)&&(t.m.resolve(),t.K=!1,t.m=new Fi,t.m.catch((function(){}))),function(t,e,n,r){try{var i=t.C.createSession(r)}catch(e){return void t.A(new It(2,6,6005,e.message))}t.u.o(i,"message",(function(e){t.j&&t.h.delayLicenseRequestUntilPlayed&&t.j.paused&&!t.W?t.M.push(e):Ba(t,e)})),t.u.o(i,"keystatuseschange",(function(e){return ja(t,e)})),t.i.set(i,{initData:n,initDataType:e,loaded:!1,Mh:1/0,Qb:null,type:r});try{n=t.h.initDataTransform(n,e,t.g)}catch(n){return e=n,n instanceof It||(e=new It(2,6,6016,n)),void t.A(e)}t.h.logLicenseExchange&&Kt(n),i.generateRequest(e,n).catch((function(e){if(!t.l.g){t.i.delete(i);var n=e.errorCode;if(n&&n.systemCode){var r=n.systemCode;r<0&&(r+=4294967296),r="0x"+r.toString(16)}t.A(new It(2,6,6006,e.message,e,r))}}))}(t,e,n,t.g.sessionType)}}function Pa(t){return t=et(t=t.i.keys(),(function(t){return t.sessionId})),Array.from(t)}function Da(e,n){var r,i,a,o,s,u;return P((function(l){switch(l.g){case 1:if(r=new Map,!(i=function(t,e,n){for(var r=g(e),i=r.next();!i.done;i=r.next())for(var a=(i=g(Va(i.value))).next();!a.done;a=i.next())a=a.value,n.has(a.keySystem)||n.set(a.keySystem,[]),n.get(a.keySystem).push(a);if(1==n.size&&n.has(""))throw new It(2,6,6e3);(r=t.h.preferredKeySystems).length||1==(i=la(t.h.servers)).size&&(r=Array.from(i.keys()));var o=(i=g(r)).next();for(a={};!o.done;a={wj:void 0},o=i.next()){a.wj=o.value;for(var s=(o=g(e)).next();!s.done;s=o.next())if(s=s.value.decodingInfos.find(function(t){return function(e){return e.supported&&null!=e.keySystemAccess&&e.keySystemAccess.keySystem==t.wj}}(a)))return s.keySystemAccess}for(i=g([!0,!1]),a=i.next();!a.done;a=i.next())for(a=a.value,o=g(e),s=o.next();!s.done;s=o.next())for(var u=(s=g(s.value.decodingInfos)).next();!u.done;u=s.next())if((u=u.value).supported&&u.keySystemAccess){var l=u.keySystemAccess.keySystem;if(!r.includes(l)){var c=n.get(l);for(!c&&t.h.keySystemsMapping[l]&&(c=n.get(t.h.keySystemsMapping[l])),c=(l=g(c)).next();!c.done;c=l.next())if(!!c.value.licenseServerUri==a)return u.keySystemAccess}}return null}(e,n,r))){if(!navigator.requestMediaKeySystemAccess)throw new It(2,6,6020);throw new It(2,6,6001)}ua(e.l),x(l,2),i.getConfiguration();var c=a=e.h.keySystemsMapping[i.keySystem]||i.keySystem,d=r.get(a),p=[],h=[],f=[],v=[],y=[],A=new Set,b=new Set;!function(e,n,r,i,a,o,s,u){for(var l=[],c=(e=g(e)).next(),d={};!c.done;d={Ta:void 0},c=e.next()){if(d.Ta=c.value,n.includes(d.Ta.encryptionScheme)||n.push(d.Ta.encryptionScheme),"org.w3.clearkey"==d.Ta.keySystem&&d.Ta.licenseServerUri.startsWith("data:application/json;base64,")?l.includes(d.Ta.licenseServerUri)||l.push(d.Ta.licenseServerUri):r.includes(d.Ta.licenseServerUri)||r.push(d.Ta.licenseServerUri),a.includes(d.Ta.serverCertificateUri)||a.push(d.Ta.serverCertificateUri),d.Ta.serverCertificate&&(i.some(function(t){return function(e){return Ct(e,t.Ta.serverCertificate)}}(d))||i.push(d.Ta.serverCertificate)),d.Ta.initData)for(var p=(c=g(d.Ta.initData)).next(),h={};!p.done;h={Ch:void 0},p=c.next())h.Ch=p.value,o.some(function(t){return function(e){var n=t.Ch;return!(!e.keyId||e.keyId!=n.keyId)||e.initDataType==n.initDataType&&Ct(e.initData,n.initData)}}(h))||o.push(h.Ch);if(d.Ta.keyIds)for(p=(c=g(d.Ta.keyIds)).next();!p.done;p=c.next())s.add(p.value);if(d.Ta.keySystemUris&&u)for(c=(d=g(d.Ta.keySystemUris)).next();!c.done;c=d.next())u.add(c.value)}if(1==l.length)r.push(l[0]);else if(l.length>0){for(n=[],i=(l=g(l)).next();!i.done;i=l.next())i=t.atob(i.value.split("data:application/json;base64,").pop()),i=JSON.parse(i),n.push.apply(n,m(i.keys));l=JSON.stringify({keys:n}),r.push("data:application/json;base64,"+t.btoa(l))}}(d,p,h,v,f,y,A,b);var C=e.P?"persistent-license":"temporary";for(c={keySystem:c,encryptionScheme:p[0],licenseServerUri:h[0],distinctiveIdentifierRequired:d[0].distinctiveIdentifierRequired,persistentStateRequired:d[0].persistentStateRequired,sessionType:d[0].sessionType||C,audioRobustness:d[0].audioRobustness||"",videoRobustness:d[0].videoRobustness||"",serverCertificate:v[0],serverCertificateUri:f[0],initData:y,keyIds:A},b.size>0&&(c.keySystemUris=b),b=(d=g(d)).next();!b.done;b=d.next())(b=b.value).distinctiveIdentifierRequired&&(c.distinctiveIdentifierRequired=b.distinctiveIdentifierRequired),b.persistentStateRequired&&(c.persistentStateRequired=b.persistentStateRequired);if(e.g=c,!e.g.licenseServerUri)throw new It(2,6,6012,e.g.keySystem);return w(l,i.createMediaKeys(),4);case 4:if(o=l.h,ua(e.l),e.C=o,""==e.h.minHdcpVersion||!("getStatusForPolicy"in e.C)){l.B(5);break}return x(l,6),w(l,e.C.getStatusForPolicy({minHdcpVersion:e.h.minHdcpVersion}),8);case 8:if("usable"!=l.h)throw new It(2,6,6018);ua(e.l),S(l,5,2);break;case 6:if((s=E(l,2))instanceof It)throw s;throw new It(2,6,6019,s.message);case 5:return e.R=!0,e.G.xa(e.h.updateExpirationTime),w(l,function(t){var e,n;return P((function(r){switch(r.g){case 1:if(!t.C||!t.g)return r.return();if(!t.g.serverCertificateUri||t.g.serverCertificate&&t.g.serverCertificate.length){r.B(2);break}return e=Qi([t.g.serverCertificateUri],t.h.retryParameters),x(r,3),w(r,t.F.Cc.request(5,e,{isPreload:t.S()}).promise,5);case 5:n=r.h,t.g.serverCertificate=Tt(n.data),S(r,4);break;case 3:throw new It(2,6,6017,E(r));case 4:if(t.l.g)return r.return();case 2:return t.g.serverCertificate&&t.g.serverCertificate.length?(x(r,6),w(r,t.C.setServerCertificate(t.g.serverCertificate),8)):r.return();case 8:S(r,0);break;case 6:throw new It(2,6,6004,E(r).message)}}))}(e),9);case 9:ua(e.l),S(l,0);break;case 2:if(u=E(l),ua(e.l,u),e.g=null,u instanceof It)throw u;throw new It(2,6,6002,u.message)}}))}function _a(t){Ga(t)&&t.m.resolve()}function Na(t,e){new Wr((function(){e.loaded=!0,_a(t)})).Y(Wa)}function Ua(t,e,n){var r,i,a,o,s,u,l;return P((function(c){switch(c.g){case 1:try{r=t.C.createSession("persistent-license")}catch(e){return i=new It(2,6,6005,e.message),t.A(i),c.return(Promise.reject(i))}return t.u.o(r,"message",(function(e){t.j&&t.h.delayLicenseRequestUntilPlayed&&t.j.paused&&!t.W?t.M.push(e):Ba(t,e)})),t.u.o(r,"keystatuseschange",(function(e){return ja(t,e)})),a={initData:n.initData,initDataType:n.initDataType,loaded:!1,Mh:1/0,Qb:null,type:"persistent-license"},t.i.set(r,a),x(c,2),w(c,r.load(e),4);case 4:return o=c.h,ua(t.l),o||(t.i.delete(r),s=t.h.persistentSessionOnlinePlayback?1:2,t.A(new It(s,6,6013)),a.loaded=!0),Na(t,a),_a(t),c.return(r);case 2:u=E(c),ua(t.l,u),t.i.delete(r),l=t.h.persistentSessionOnlinePlayback?1:2,t.A(new It(l,6,6005,u.message)),a.loaded=!0,_a(t);case 3:return c.return(Promise.resolve())}}))}function Ba(t,e){var n,r,i,a,o,s,u,l,c,d,p,h,f,m,v,y;P((function(A){switch(A.g){case 1:if(n=e.target,t.h.logLicenseExchange&&Kt(e.message),r=t.i.get(n),i=t.g.licenseServerUri,a=t.h.advanced[t.g.keySystem],"individualization-request"==e.messageType&&a&&a.individualizationServer&&(i=a.individualizationServer),(o=Qi([i],t.h.retryParameters)).body=e.message,o.method="POST",o.licenseRequestType=e.messageType,o.sessionId=n.sessionId,o.drmInfo=t.g,r&&(o.initData=r.initData,o.initDataType=r.initDataType),a&&a.headers)for(s in a.headers)o.headers[s]=a.headers[s];if("org.w3.clearkey"===t.g.keySystem){var b=o,T=t.g;try{var k=Bt(b.body);if(k){var I=JSON.parse(k);I.type||(I.type=T.sessionType,b.body=jt(JSON.stringify(I)))}}catch(t){}}if(Di(t.g.keySystem))if((b=Ut(o.body,!0,!0)).includes("PlayReadyKeyMessage")){for(k=(T=g(T=Cn(b=gn(b,"PlayReadyKeyMessage"),"HttpHeader"))).next();!k.done;k=T.next())k=Cn(I=k.value,"name")[0],I=Cn(I,"value")[0],o.headers[bn(k)]=bn(I);b=Cn(b,"Challenge")[0],o.body=Wt(bn(b))}else o.headers["Content-Type"]="text/xml; charset=utf-8";return u=Date.now(),x(A,2),c=t.F.Cc.request(2,o,{isPreload:t.S()}),t.V.push(c),w(A,c.promise,4);case 4:l=A.h,Ee(t.V,c),S(A,3);break;case 2:return d=E(A),t.l.g?A.return():(p={sessionId:n.sessionId,sessionType:r.type,initData:r.initData,initDataType:r.initDataType},h=new It(2,6,6007,d,p),1==t.i.size?(t.A(h),r&&r.Qb&&r.Qb.reject(h)):(r&&r.Qb&&r.Qb.reject(h),t.i.delete(n),Ga(t)&&(t.m.resolve(),t.L.Y(.1))),A.return());case 3:return t.l.g?A.return():(t.J+=(Date.now()-u)/1e3,t.h.logLicenseExchange&&Kt(l.data),x(A,5),w(A,n.update(l.data),7));case 7:S(A,6);break;case 5:return m=(f=E(A))&&f.message||String(f),v=new It(2,6,6008,m),t.A(v),r&&r.Qb&&r.Qb.reject(v),A.return();case 6:if(t.l.g)return A.return();y=new z("drmsessionupdate"),t.F.onEvent(y),r&&(r.Qb&&r.Qb.resolve(),Na(t,r)),C(A)}}))}function ja(t,e){e=e.target;var n=t.i.get(e),r=!1;e.keyStatuses.forEach((function(e,i){if("string"==typeof i){var a=i;i=e,e=a}if(a=Lt(),Di(t.g.keySystem)&&16==i.byteLength&&a.Xh()){var o=(a=Et(i)).getUint32(0,!0),s=a.getUint16(4,!0),u=a.getUint16(6,!0);a.setUint32(0,o,!1),a.setUint16(4,s,!1),a.setUint16(6,u,!1)}"status-pending"!=e&&(n.loaded=!0),"expired"==e&&(r=!0),i=Xt(i).slice(0,32),t.Z.set(i,e)}));var i=e.expiration-Date.now();(i<0||r&&i<1e3)&&n&&!n.Qb&&(t.i.delete(e),qa(e)),Ga(t)&&(t.m.resolve(),t.L.Y($a))}function qa(t){return P((function(e){return 1==e.g?(x(e,2),w(e,Jr(Ka,Promise.all([t.close().catch((function(){})),t.closed])),4)):2!=e.g?S(e,0):(E(e),void C(e))}))}function Fa(t){var e;return P((function(n){return e=Array.from(t.i.entries()),t.i.clear(),w(n,Promise.all(e.map((function(e){var n=(e=g(e)).next().value,r=e.next().value;return P((function(e){return 1==e.g?(x(e,2),t.ea||t.D.has(n.sessionId)||"persistent-license"!==r.type||t.h.persistentSessionOnlinePlayback?w(e,qa(n),5):w(e,n.remove(),5)):2!=e.g?S(e,0):(E(e),void C(e))}))}))),0)}))}function Va(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[])}function Ga(t){return function(t,e){for(var n=(t=g(t)).next();!n.done;n=t.next())if(!e(n.value))return!1;return!0}(t=t.i.values(),(function(t){return t.loaded}))}function za(e,n,r,i){var a=e.keySystem;!a||"org.w3.clearkey"==a&&e.licenseServerUri||(n.size&&n.get(a)&&(n=n.get(a),e.licenseServerUri=n),e.keyIds||(e.keyIds=new Set),(r=r.get(a))&&(e.distinctiveIdentifierRequired||(e.distinctiveIdentifierRequired=r.distinctiveIdentifierRequired),e.persistentStateRequired||(e.persistentStateRequired=r.persistentStateRequired),e.serverCertificate||(e.serverCertificate=r.serverCertificate),r.sessionType&&(e.sessionType=r.sessionType),e.serverCertificateUri||(e.serverCertificateUri=r.serverCertificateUri)),i[a]&&(e.keySystem=i[a]),t.cast&&t.cast.__platform__&&"com.microsoft.playready"==a&&(e.keySystem="com.chromecast.playready"))}function Ha(t,e){if(0!=(t=la(t)).size){t=Qt(t);for(var n=(e=g(e)).next();!n.done;n=e.next())(n=n.value).video&&(n.video.drmInfos=[t]),n.audio&&(n.audio.drmInfos=[t])}}(i=ka.prototype).destroy=function(){return this.l.destroy()},i.configure=function(t,e){this.h=t,e&&(this.S=e),this.G&&this.R&&this.g&&this.G.xa(this.h.updateExpirationTime)},i.cc=function(t){var e,n,r=this;return P((function(i){if(1==i.g)return r.j===t?i.return():r.C?(r.j=t,r.h.delayLicenseRequestUntilPlayed&&r.u.ua(r.j,"play",(function(){for(var t=g(r.M),e=t.next();!e.done;e=t.next())Ba(r,e.value);r.W=!0,r.M=[]})),r.j.remote?(r.u.o(r.j.remote,"connect",(function(){return Fa(r)})),r.u.o(r.j.remote,"connecting",(function(){return Fa(r)})),r.u.o(r.j.remote,"disconnect",(function(){return Fa(r)}))):"webkitCurrentPlaybackTargetIsWireless"in r.j&&r.u.o(r.j,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return Fa(r)})),r.H=r.g&&r.g.initData.find((function(t){return t.initData.length>0}))||null,e=r.g.keySystem,(n=Lt().Jh(e))||!r.H&&"com.apple.fps"===r.g.keySystem&&!r.D.size?i.B(2):w(i,Ra(r),2)):(r.u.ua(t,"encrypted",(function(){r.A(new It(2,6,6010))})),i.return());La(r).catch((function(){})),!n&&(r.H||r.D.size||r.h.parseInbandPsshEnabled)||r.u.o(r.j,"encrypted",(function(t){return function(t,e){return P((function(n){if(1==n.g)return w(n,Ra(t),2);Oa(t,e.initDataType,Tt(e.initData)),C(n)}))}(r,t)})),C(i)}))},i.nh=function(){var t=this,e=this.i.keys();return e=et(e,(function(e){var n=t.i.get(e);return{sessionId:e.sessionId,sessionType:n.type,initData:n.initData,initDataType:n.initDataType}})),Array.from(e)},i.pe=function(){for(var t=1/0,e=this.i.keys(),n=(e=g(e)).next();!n.done;n=e.next())n=n.value,isNaN(n.expiration)||(t=Math.min(t,n.expiration));return t},i.vf=function(){return ca(this.aa)};var Ka=1,Wa=5,$a=.5;function Xa(){this.g=Za,this.i=(new Map).set(Za,2).set(Ja,1),this.h=0}function Ya(t,e){var n=t.g!==e;return t.g=e,n&&e===Za&&(t.h=Date.now()),n}var Ja=0,Za=1;function Qa(t,e,n){this.g=t,this.i=e,this.h=n}function to(t,e){return P((function(n){if(1==n.g)return w(n,ei(t.h,e,t.g.drm.preferredKeySystems,t.g.drm.keySystemsMapping),2);if(t.g.streaming.dontChooseCodecs||Qr(e,t.g.preferredVideoCodecs,t.g.preferredAudioCodecs,t.g.preferredDecodingAttributes,t.g.preferredTextFormats),!e.variants.some(gi))throw new It(2,4,4032);return n.return(no(t,e))}))}function eo(t,e){var n=t.g.restrictions;t=t.i;for(var r=!1,i=(e=g(e.variants)).next();!i.done;i=e.next()){var a=(i=i.value).allowedByApplication;i.allowedByApplication=ti(i,n,t),a!=i.allowedByApplication&&(r=!0)}return r}function no(t,e){var n=eo(t,e);if(e){var r=t.h?t.h.g:null;if(r&&t.h.C){for(var i=new Set,a=g(e.variants),o=a.next();!o.done;o=a.next())(o=o.value).audio&&i.add(o.audio),o.video&&i.add(o.video);for(a=(i=g(i)).next();!a.done;a=i.next())ro(t,r.keySystem,a.value)}io(t,e)}return n}function ro(t,e,n){for(var r=(n=g(n.drmInfos)).next();!r.done;r=n.next())if((r=r.value).keySystem==e)for(var i=(r=g(r.initData||[])).next();!i.done;i=r.next())i=i.value,Oa(t.h,i.initDataType,i.initData)}function io(t,e){t=t.h?t.h.vf():{};var n=Object.keys(t);n=n.length&&"00"==n[0];for(var r=!1,i=!1,a=new Set,o=new Set,s=new Set,u=(e=g(e.variants)).next();!u.done;u=e.next())(u=u.value).audio&&s.add(u.audio),u.video&&s.add(u.video),u.allowedByApplication?u.allowedByKeySystem&&(r=!0):i=!0;for(e=(s=g(s)).next();!e.done;e=s.next())if((e=e.value).keyIds.size)for(u=(e=g(e.keyIds)).next();!u.done;u=e.next()){u=u.value;var l=t[n?"00":u];l?ao.includes(l)&&o.add(l):a.add(u)}if(!r)throw new It(2,4,4012,t={hasAppRestrictions:i,missingKeys:Array.from(a),restrictedKeyStatuses:Array.from(o)})}var ao=["output-restricted","internal-error"];function oo(){}function so(t,e){lo.set(t,e)}function uo(t,e){if(e){var n=lo.get(e.toLowerCase());if(n)return n}throw new It(2,4,4e3,t,e)}G("shaka.media.ManifestParser",oo),oo.unregisterParserByMime=function(t){lo.delete(t)},oo.registerParserByMime=so,oo.registerParserByExtension=function(){Pe("ManifestParser.registerParserByExtension","Please use an ManifestParser with registerParserByMime function.")},oo.AccessibilityPurpose={On:"visually impaired",Ym:"hard of hearing",xn:"spoken subtitles"};var lo=new Map;function co(t,e){var n=null,r=null,i=null,a=null,o=t.$();return 1&e&&(i=t.Td()),2&e&&(a=t.$()),8&e&&(n=t.$()),16&e&&(r=t.$()),{trackId:o,le:n,me:r,lk:i,Ej:a}}function po(t,e){return 1==e?{baseMediaDecodeTime:4294967296*(e=t.$())+(t=t.$())}:{baseMediaDecodeTime:t.$()}}function ho(t,e){return 1==e?(t.skip(8),t.skip(8)):(t.skip(4),t.skip(4)),e=t.$(),t.skip(4),t=t.Ia(),{timescale:e,language:String.fromCharCode(96+(t>>10))+String.fromCharCode(96+((960&t)>>5))+String.fromCharCode(96+(31&t))}}function fo(t,e,n){var r=t.$(),i=[],a=null;1&n&&(a=t.Rh()),4&n&&t.skip(4);for(var o=0;o<r;o++){var s={Zh:null,sampleSize:null,cg:null};256&n&&(s.Zh=t.$()),512&n&&(s.sampleSize=t.$()),1024&n&&t.skip(4),2048&n&&(s.cg=0==e?t.$():t.Rh()),i.push(s)}return{Un:r,Yh:i,Tg:a}}function go(t){t.skip(6),t.skip(2),t.skip(8);var e=t.Ia();return t.skip(2),t.skip(2),t.skip(2),{channelCount:e,sampleRate:t=t.Ia()+t.Ia()/65536}}function mo(t){return{codec:wa(t=t.$())}}function vo(t,e){return e=void 0!==e&&e,t=t.toString(16).toUpperCase(),e?t:("0"+t).slice(-2)}function yo(t){return(t<10?"0":"")+t}function Ao(t){this.g=t}function bo(t){for(var e=[],n=g(t.g),r=n.next();!r.done;r=n.next()){var i=e,a=i.push,o=r.value;r=Ro;var s=o.id+1,u=o.stream.width||0,l=o.stream.height||0;"audio"==o.type&&(l=u=0);var c=o.duration*o.timescale,d=Math.floor(c/(Lo+1));switch(c=Math.floor(c%(Lo+1)),s=Ro("tkhd",s=new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(m(ko(s,4)),[0,0,0,0],m(ko(d,4)),m(ko(c,4)),[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0],m(ko(u,2)),[0,0],m(ko(l,2)),[0,0]))),u=Ro,d=o.duration*o.timescale,l=Math.floor(d/(Lo+1)),d=Math.floor(d%(Lo+1)),c=(c=o.stream.language).charCodeAt(0)-96<<10|c.charCodeAt(1)-96<<5|c.charCodeAt(2)-96,l=Ro("mdhd",l=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(m(ko(o.timescale,4)),m(ko(l,4)),m(ko(d,4)),m(ko(c,2)),[0,0]))),d=o,c=new Uint8Array([]),d.type){case"video":c=Po.value();break;case"audio":c=Do.value()}d=Ro("hdlr",c);t:{switch(o.type){case"video":o=Ro("minf",Ro("vmhd",jo.value()),Go.value(),wo(o));break t;case"audio":o=Ro("minf",Ro("smhd",qo.value()),Go.value(),wo(o));break t}o=new Uint8Array([])}r=r("trak",s,o=u("mdia",l,d,o)),a.call(i,r)}for(e=Yt.apply(zt,m(e)),n=Ro,r=(a=t.g[0]).duration*a.timescale,i=Math.floor(r/(Lo+1)),r=Math.floor(r%(Lo+1)),i=Ro("mvhd",i=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3].concat(m(ko(a.timescale,4)),m(ko(i,4)),m(ko(r,4)),[0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]))),r=[],u=(t=g(t.g)).next();!u.done;u=t.next())s=(o=r).push,u=Ro("trex",u=new Uint8Array([0,0,0,0].concat(m(ko(u.value.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),s.call(o,u);if(t=Ro("mvex",t=Yt.apply(zt,m(r))),r=[],a.encrypted){for(o=(a=g(a.stream.drmInfos)).next();!o.done;o=a.next())if((o=o.value).initData)for(s=(o=g(o.initData)).next();!s.done;s=o.next())r.push(s.value.initData);a=Yt.apply(zt,m(r))}else a=new Uint8Array([]);return t=n("moov",i,e,t,a),e=Vo.value(),(n=new Uint8Array(e.byteLength+t.byteLength)).set(e),n.set(t,e.byteLength),n}function wo(t){var e=Ro,n="aac";t.codecs.includes("mp3")?n="mp3":t.codecs.includes("ac-3")?n=Lt().He()?"ec-3":"ac-3":t.codecs.includes("ec-3")?n="ec-3":t.codecs.includes("opus")&&(n="opus");var r=new Uint8Array([]);switch(t.type){case"video":if(t.codecs.includes("avc1")){if(n=t.stream.width||0,r=t.stream.height||0,t.Ya.byteLength>0)var i=Ro("avcC",t.Ya);else{i=Ro;for(var a=7,o=[],s=[],u=0,l=0,c=0,d=0;d<t.Gb.length;d++){var p=Io(t.Gb[d]);switch(31&p[0]){case 7:o.push(p),a+=p.length+2;break;case 8:s.push(p),a+=p.length+2}}for(o.length>0&&(u=o[0][1],c=o[0][2],l=o[0][3]),d=0,(a=new Uint8Array(a))[d++]=1,a[d++]=u,a[d++]=c,a[d++]=l,a[d++]=255,a[d++]=224|o.length,u=0;u<o.length;u++)a[d++]=(65280&o[u].length)>>8,a[d++]=255&o[u].length,a.set(o[u],d),d+=o[u].length;for(a[d++]=s.length,o=0;o<s.length;o++)a[d++]=(65280&s[o].length)>>8,a[d++]=255&s[o].length,a.set(s[o],d),d+=s[o].length;i=i("avcC",a)}n=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(m(ko(n,2)),m(ko(r,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),r="avc1",s=Co(t),o=new Uint8Array([]),t.encrypted&&(o=To(t.stream,t.codecs),r="encv"),r=Ro(r,n,i,s,o)}else t.codecs.includes("hvc1")&&(r=t.stream.width||0,i=t.stream.height||0,n=new Uint8Array([]),t.Ya.byteLength>0&&(n=Ro("hvcC",t.Ya)),r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].concat(m(ko(r,2)),m(ko(i,2)),[0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17])),i="hvc1",s=Co(t),o=new Uint8Array([]),t.encrypted&&(o=To(t.stream,t.codecs),i="encv"),r=Ro(i,r,n,s,o));break;case"audio":"mp3"==n?t=Ro(".mp3",xo(t)):"ac-3"==n?(n=Ro("dac3",t.Ma),r="ac-3",i=new Uint8Array([]),t.encrypted&&(i=To(t.stream,t.codecs),r="enca"),t=Ro(r,xo(t),n,i)):"ec-3"==n?(n=Ro("dec3",t.Ma),r="ec-3",i=new Uint8Array([]),t.encrypted&&(i=To(t.stream,t.codecs),r="enca"),t=Ro(r,xo(t),n,i)):"opus"==n?(n=Ro("dOps",t.Ma),r="Opus",i=new Uint8Array([]),t.encrypted&&(i=To(t.stream,t.codecs),r="enca"),t=Ro(r,xo(t),n,i)):(t.Ma.byteLength>0?n=Ro("esds",t.Ma):(n=Ro,r=t.id+1,i=t.stream.channelsCount||2,o=t.stream.audioSamplingRate||44100,u=te("audio",t.codecs.split(",")),s=(l={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12})[o],"mp4a.40.5"!==u&&"mp4a.40.29"!==u||(s=l[2*o]),o=parseInt(u.split(".").pop(),10),n=n("esds",r=new Uint8Array([0,0,0,0,3,25].concat(m(ko(r,2)),[0,4,17,64,21,0,0,0,0,0,0,0,0,0,0,0,5,2,o<<3|s>>>1,s<<7|i<<3,6,1,2])))),r="mp4a",i=new Uint8Array([]),t.encrypted&&(i=To(t.stream,t.codecs),r="enca"),t=Ro(r,xo(t),n,i)),r=t}return e("stbl",t=Ro("stsd",Fo.value(),r),Ro("stts",_o.value()),Ro("stsc",No.value()),Ro("stsz",Bo.value()),Ro("stco",Uo.value()))}function Co(t){if(!t.eb&&!t.gb)return new Uint8Array([]);var e=t.gb;return Ro("pasp",t=new Uint8Array([].concat(m(ko(t.eb,4)),m(ko(e,4)))))}function xo(t){return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.stream.channelsCount||2,0,16,0,0,0,0].concat(m(ko(t.stream.audioSamplingRate||44100,2)),[0,0]))}function To(t,e){var n=Ro;e=Ro("frma",e=new Uint8Array([].concat(m(ko(Mo(e.split(".")[0]),4)))));var r="cenc",i=t.drmInfos[0];i&&i.encryptionScheme&&(r=i.encryptionScheme),r=Ro("schm",r=new Uint8Array([0,0,0,0].concat(m(ko(Mo(r),4)),[0,1,0,0]))),i=Ro;for(var a=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=(t=g(t.drmInfos)).next();!o.done;o=t.next())if((o=o.value)&&o.keyIds&&o.keyIds.size)for(var s=(o=g(o.keyIds)).next();!s.done;s=o.next())a=Io(s.value);return n("sinf",e,r,i("schi",a=Ro("tenc",t=new Uint8Array([0,0,0,0,0,0,1,8]),a)))}function So(t){for(var e=[],n=(t=g(t.g)).next();!n.done;n=t.next()){n=n.value;var r,i=e.push,a=i.apply,o=Ro,s=new Uint8Array([0,0,0,0].concat(m(ko(n.data?n.data.sequenceNumber:0,4))));s=Ro("mfhd",s);var u=n.data?n.data.Eb:[],l=new Uint8Array(4+u.length);for(r=0;r<u.length;r++){var c=u[r].flags;l[r+4]=c.rb<<4|c.ub<<2|c.sb}var d=(u=Ro("sdtp",l)).length+32+20+8+16+8+8;l=Ro,r=Ro("tfhd",r=new Uint8Array([0,0,0,58].concat(m(ko(n.id+1,4)),[0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0]))),c=n.data?n.data.baseMediaDecodeTime:0;var p=Math.floor(c%(Lo+1));c=Ro("tfdt",c=new Uint8Array([1,0,0,0].concat(m(ko(Math.floor(c/(Lo+1)),4)),m(ko(p,4)))));var h=d,f=12+16*(p=(d=n.data?n.data.Eb:[]).length),v=new Uint8Array(f);for(h+=8+f,v.set(["video"===n.type?1:0,0,15,1].concat(m(ko(p,4)),m(ko(h,4))),0),h=0;h<p;h++){var y=d[h];f=ko(y.duration,4);var A=ko(y.size,4),b=y.flags;y=ko(y.Ab,4),v.set([].concat(m(f),m(A),[b.Cb<<2|b.rb,b.ub<<6|b.sb<<4|b.Db,61440&b.qb,15&b.qb],m(y)),12+16*h)}o=o("moof",s,u=l("traf",r,c,d=Ro("trun",v),u)),a.call(i,e,[o,Eo(n)])}return Yt.apply(zt,m(e))}function Eo(t){return t=(t.data?t.data.Eb:[]).map((function(t){return t.data})),Ro("mdat",t=Yt.apply(zt,m(t)))}function ko(t,e){var n=[];for(--e;e>=0;e--)n.push(t>>8*e&255);return n}function Io(t){for(var e=new Uint8Array(t.length/2),n=0;n<t.length/2;n+=1)e[n]=parseInt(String(t[2*n]+t[2*n+1]),16);return e}function Mo(t){for(var e=0,n=0;n<t.length;n+=1)e|=t.charCodeAt(n)<<8*(t.length-n-1);return e}function Ro(t){var e=D.apply(1,arguments),n=Oo.get(t);n||(n=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)],Oo.set(t,n));for(var r=8,i=e.length-1;i>=0;i--)r+=e[i].byteLength;for((i=new Uint8Array(r))[0]=r>>24&255,i[1]=r>>16&255,i[2]=r>>8&255,i[3]=255&r,i.set(n,4),n=0,r=8;n<e.length;n++)i.set(e[n],r),r+=e[n].byteLength;return i}G("shaka.config.CodecSwitchingStrategy",{RELOAD:"reload",SMOOTH:"smooth"});var Lo=4294967295,Oo=new Map,Po=new Rt((function(){return new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0])})),Do=new Rt((function(){return new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0])})),_o=new Rt((function(){return new Uint8Array([0,0,0,0,0,0,0,0])})),No=new Rt((function(){return new Uint8Array([0,0,0,0,0,0,0,0])})),Uo=new Rt((function(){return new Uint8Array([0,0,0,0,0,0,0,0])})),Bo=new Rt((function(){return new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0])})),jo=new Rt((function(){return new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])})),qo=new Rt((function(){return new Uint8Array([0,0,0,0,0,0,0,0])})),Fo=new Rt((function(){return new Uint8Array([0,0,0,0,0,0,0,1])})),Vo=new Rt((function(){var t=new Uint8Array([105,115,111,109]),e=new Uint8Array([97,118,99,49]);return Ro("ftyp",t,new Uint8Array([0,0,0,1]),t,e)})),Go=new Rt((function(){var t=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]);return t=Ro("dref",t),Ro("dinf",t)}));function zo(t){function e(t){o.push(t),ga(t)}var n,r,i,a,o=[];if((new fa).box("moof",e).box("traf",e).X("tfhd",(function(t){n=t,i=co(t.reader,t.flags)})).X("trun",(function(t){r=t,a=fo(t.reader,t.version,t.flags)})).parse(t),i&&2!==i.Ej){var s=n.start+Ca(n)+4+(null!==i.lk?8:0),u=Et(t);if(null!==i.Ej)u.setUint32(s,2);else{Ko(t,n.start,n.size+4);var l=u.getUint32(n.start+8);u.setUint32(n.start+8,2|l),a&&null!==a.Tg&&u.setInt32(r.start+Ca(r)+4,a.Tg+4),l=t.subarray(0,s),u=t.subarray(s),(t=new Uint8Array(t.byteLength+4)).set(l),l=[];for(var c=3;c>=0;c--)l.push(2>>8*c&255);for(t.set(new Uint8Array(l),s),t.set(u,s+4),u=(s=g(o)).next();!u.done;u=s.next())Ko(t,(u=u.value).start,u.size+4)}}return t}function Ho(t,e,n,r,i,a){var o=To(t,r.name),s=e.subarray(r.start,r.start+r.size);for((t=new Uint8Array(r.size+o.byteLength)).set(s,0),Et(t).setUint32(4,a),t.set(o,r.size),Ko(t,0,t.byteLength),a=new Uint8Array(e.byteLength+t.byteLength),r=Lt().Cf()?r.start:r.start+r.size,o=e.subarray(r),a.set(e.subarray(0,r)),a.set(t,r),a.set(o,r+t.byteLength),i=(e=g(i)).next();!i.done;i=e.next())Ko(a,(i=i.value).start,i.size+t.byteLength);return t=Et(a,n.start),n=Ca(n),e=t.getUint32(n),t.setUint32(n,e+1),a}function Ko(t,e,n){0!=(e=(t=Et(t,e)).getUint32(0))&&(1==e?(t.setUint32(8,n>>32),t.setUint32(12,4294967295&n)):t.setUint32(0,n))}function Wo(t,e,n,r,i,a,o,s){this.T=t,this.startByte=e,this.endByte=n,this.Od=void 0===r?null:r,this.timescale=void 0===i?null:i,this.h=void 0===a?null:a,this.aesKey=void 0===o?null:o,this.g=this.mimeType=this.codecs=null,this.encrypted=void 0!==s&&s}function $o(t,e){return t===e||(t&&e?t.Sc()==e.Sc()&&t.Pc()==e.Pc()&&Ie(t.T().sort(),e.T().sort())&&Ct(t.hc(),e.hc()):t==e)}function Xo(t,e,n,r,i,a,o,s,u,l,c,d,p,h,f,m){for(l=void 0===l?[]:l,h=void 0===h?Zo:h,this.startTime=t,this.j=this.endTime=e,this.D=n,this.startByte=r,this.endByte=i,this.ia=a,this.timestampOffset=o,this.appendWindowStart=s,this.appendWindowEnd=u,this.g=l,this.tilesLayout=void 0===c?"":c,this.C=void 0===d?null:d,this.h=void 0===p?null:p,this.status=h,this.preload=!1,this.l=!0,this.u=!1,this.aesKey=void 0===f?null:f,this.thumbnailSprite=null,this.i=-1,this.m=void 0!==m&&m,this.ye=this.nd=!1,e=(t=g(this.g)).next();!e.done;e=t.next())e.value.mj();this.m&&this.g.length&&this.g[this.g.length-1].lj(),this.A=this.bandwidth=this.mimeType=this.codecs=null,this.F=!1}function Yo(t){if(t.endByte)return t.endByte+1-t.startByte;if(t.bandwidth){var e=t.bandwidth*(t.endTime-t.startTime);if(!isNaN(e)&&e>0)return e}if(t.g.length>0&&t.m)for(t=(t=g(t.g)).next();!t.done;t=t.next()){Yo(t.value);break}return null}function Jo(t,e){t.ia=e;for(var n=(t=g(t.g)).next();!n.done;n=t.next())Jo(n.value,e)}Wo.prototype.Sc=function(){return this.startByte},Wo.prototype.Pc=function(){return this.endByte},Wo.prototype.Je=function(t){this.h=t},Wo.prototype.hc=function(){return this.h},G("shaka.media.InitSegmentReference",Wo),Wo.prototype.getEndByte=Wo.prototype.Pc,Wo.prototype.getStartByte=Wo.prototype.Sc,(i=Xo.prototype).T=function(){return this.D()},i.getStartTime=function(){return this.startTime},i.Mk=function(){return this.endTime},i.Sc=function(){return this.startByte},i.Pc=function(){return this.endByte},i.rl=function(){return this.tilesLayout},i.ql=function(){return this.C},i.Tc=function(){return this.status},i.Pl=function(){this.status=Qo},i.Ih=function(){this.preload=!0},i.isPreload=function(){return this.preload},i.Nd=function(){this.l=!1},i.Fl=function(){return this.l},i.mj=function(){this.nd=!0},i.Hl=function(){return this.nd},i.lj=function(){this.ye=!0},i.Gl=function(){return this.ye},i.kj=function(){this.u=!0},i.Bl=function(){return this.u},i.jg=function(t){this.thumbnailSprite=t},i.ol=function(){return this.thumbnailSprite},i.offset=function(t){this.startTime+=t,this.endTime+=t,this.j+=t;for(var e=g(this.g),n=e.next();!n.done;n=e.next())(n=n.value).startTime+=t,n.endTime+=t,n.j+=t},i.oi=function(t){null==this.h?$("Sync attempted without sync time!"):(t=this.h-t-this.startTime,Math.abs(t)>=.001&&this.offset(t))},i.Je=function(t,e){this.A=t,this.F=void 0!==e&&e},i.hc=function(t){var e=this.A;return(void 0===t||t)&&this.F&&(this.A=null),e},G("shaka.media.SegmentReference",Xo),Xo.prototype.getSegmentData=Xo.prototype.hc,Xo.prototype.setSegmentData=Xo.prototype.Je,Xo.prototype.syncAgainst=Xo.prototype.oi,Xo.prototype.offset=Xo.prototype.offset,Xo.prototype.getThumbnailSprite=Xo.prototype.ol,Xo.prototype.setThumbnailSprite=Xo.prototype.jg,Xo.prototype.hasByterangeOptimization=Xo.prototype.Bl,Xo.prototype.markAsByterangeOptimization=Xo.prototype.kj,Xo.prototype.isLastPartial=Xo.prototype.Gl,Xo.prototype.markAsLastPartial=Xo.prototype.lj,Xo.prototype.isPartial=Xo.prototype.Hl,Xo.prototype.markAsPartial=Xo.prototype.mj,Xo.prototype.isIndependent=Xo.prototype.Fl,Xo.prototype.markAsNonIndependent=Xo.prototype.Nd,Xo.prototype.isPreload=Xo.prototype.isPreload,Xo.prototype.markAsPreload=Xo.prototype.Ih,Xo.prototype.markAsUnavailable=Xo.prototype.Pl,Xo.prototype.getStatus=Xo.prototype.Tc,Xo.prototype.getTileDuration=Xo.prototype.ql,Xo.prototype.getTilesLayout=Xo.prototype.rl,Xo.prototype.getEndByte=Xo.prototype.Pc,Xo.prototype.getStartByte=Xo.prototype.Sc,Xo.prototype.getEndTime=Xo.prototype.Mk,Xo.prototype.getStartTime=Xo.prototype.getStartTime,Xo.prototype.getUris=Xo.prototype.T;var Zo=0,Qo=1;function ts(t){return 1==t.length&&t.end(0)-t.start(0)<1e-4}function es(t){return!t||ts(t)?null:1==t.length&&t.start(0)<0?0:t.length?t.start(0):null}function ns(t){return!t||ts(t)?null:t.length?t.end(t.length-1):null}function rs(t,e){return!(!t||!t.length||ts(t)||e>t.end(t.length-1))&&e>=t.start(0)}function is(t,e){if(!t||!t.length||ts(t))return 0;for(var n=0,r=(t=g(as(t))).next();!r.done;r=t.next()){var i=r.value;r=i.start,(i=i.end)>e&&(n+=i-Math.max(r,e))}return n}function as(t){if(!t)return[];for(var e=[],n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e}function os(){}function ss(t){return document.createElement(t)}function us(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ls(){var t=document.createElement("button");return t.setAttribute("type","button"),t}function cs(t,e){var n=document.createElement("source");return n.src=t,n.type=void 0===e?"":e,n}function ds(t){for(var e=!1,n=t.getElementsByTagName("source"),r=n.length-1;r>=0;--r)t.removeChild(n[r]),e=!0;return t.src&&(t.removeAttribute("src"),e=!0),e}function ps(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function hs(){return gs||(fs||(fs=new Wr((function(){gs=null}))),(gs=document.getElementsByTagName("video")[0]||document.getElementsByTagName("audio")[0])||(gs=document.createElement("video")),fs.Y(1),gs)}Xo.Status={Gm:Zo,Mn:Qo,jn:2},G("shaka.util.Dom",os),os.removeAllChildren=ps,os.clearSourceFromVideo=ds;var fs=null,gs=null;function ms(){}function vs(t,e){return e+10<=t.length&&73===t[e]&&68===t[e+1]&&51===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function ys(t,e){return e+10<=t.length&&51===t[e]&&68===t[e+1]&&73===t[e+2]&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128}function As(t,e){var n=(127&t[e])<<21;return n|=(127&t[e+1])<<14,(n|=(127&t[e+2])<<7)|127&t[e+3]}function bs(t){var e={key:t.type,description:"",data:"",mimeType:null,pictureType:null};if("APIC"===t.type){if(t.size<2||3!==t.data[0])return null;var n=t.data.subarray(1).indexOf(0);if(-1===n)return null;var r=Nt(Tt(t.data,1,n)),i=t.data[2+n],a=t.data.subarray(3+n).indexOf(0);if(-1===a)return null;var o,s=Nt(Tt(t.data,3+n,a));return o="--\x3e"===r?Nt(Tt(t.data,4+n+a)):xt(t.data.subarray(4+n+a)),e.mimeType=r,e.pictureType=i,e.description=s,e.data=o,e}return"TXXX"===t.type||"WXXX"===t.type?t.size<2||3!==t.data[0]||-1===(r=t.data.subarray(1).indexOf(0))?null:(n=Nt(Tt(t.data,1,r)),t=Nt(Tt(t.data,2+r)).replace(/\0*$/,""),e.description=n,e.data=t,e):"PRIV"===t.type?t.size<2||-1===(n=t.data.indexOf(0))?null:(n=Nt(Tt(t.data,0,n)),e.description=n,"com.apple.streaming.transportStreamTimestamp"==n?(n=t.data.subarray(n.length+1),t=1&n[3],n=(n[4]<<23)+(n[5]<<15)+(n[6]<<7)+n[7],n/=45,t&&(n+=47721858.84),e.data=n):(t=xt(t.data.subarray(n.length+1)),e.data=t),e):"T"===t.type[0]?t.size<2||3!==t.data[0]?null:(t=Nt(t.data.subarray(1)).replace(/\0*$/,""),e.data=t,e):"W"===t.type[0]?(t=Nt(t.data).replace(/\0*$/,""),e.data=t,e):t.data?(e.data=xt(t.data),e):null}function ws(t){for(var e=0,n=[];vs(t,e);){var r=As(t,e+6);for(t[e+5]>>6&1&&(e+=10),r=(e+=10)+r;e+10<r;){var i=t.subarray(e),a=As(i,4);(a=bs(i={type:String.fromCharCode(i[0],i[1],i[2],i[3]),size:a,data:i.subarray(10,10+a)}))&&n.push(a),e+=i.size+10}ys(t,e)&&(e+=10)}return n}function Cs(t,e){for(var n=e=void 0===e?0:e,r=0;vs(t,e);)t[e+5]>>6&1&&(r+=10),r+=10,r+=As(t,e+6),ys(t,e+10)&&(r+=10),e+=r;return r>0?t.subarray(n,n+r):new Uint8Array([])}function xs(t){return new Date(Date.UTC(1900,0,1,0,0,0,0)+t).getTime()}function Ts(t,e){if(this.j=t,void 0!==e&&e){e=new Uint8Array(t.byteLength);for(var n=0,r=0;r<t.byteLength;r++)r>=2&&3==t[r]&&0==t[r-1]&&0==t[r-2]||(e[n]=t[r],n++);this.j=Tt(e,0,n)}this.i=this.j.byteLength,this.g=this.h=0}function Ss(t){var e=t.j.byteLength-t.i,n=new Uint8Array(4),r=Math.min(4,t.i);0!==r&&(n.set(t.j.subarray(e,e+r)),t.h=new da(n,0).$(),t.g=8*r,t.i-=r)}function Es(t,e){if(t.g<=e){e-=t.g;var n=Math.floor(e/8);e-=8*n,t.g-=n,Ss(t)}t.h<<=e,t.g-=e}function ks(t,e){var n=Math.min(t.g,e),r=t.h>>>32-n;return t.g-=n,t.g>0?t.h<<=n:t.i>0&&Ss(t),(n=e-n)>0?r<<n|ks(t,n):r}function Is(t){var e;for(e=0;e<t.g;++e)if(0!=(t.h&2147483648>>>e))return t.h<<=e,t.g-=e,e;return Ss(t),e+Is(t)}function Ms(t){Es(t,1+Is(t))}function Rs(t){return ks(t,Is(t)+1)-1}function Ls(t){return 1&(t=Rs(t))?1+t>>>1:-1*(t>>>1)}function Os(t){return 1===ks(t,1)}function Ps(t){return ks(t,8)}function Ds(t,e){for(var n=8,r=8,i=0;i<e;i++)0!==r&&(r=(n+(r=Ls(t))+256)%256),n=0===r?n:r}function _s(t){return Ps(t),Rs(t),Rs(t)}function Ns(){this.I=null,this.J=!1,this.m=this.K=null,this.j=[],this.g=[],this.D=this.F=null,this.i=[],this.h=[],this.G=null,this.l=[],this.C=this.H=this.u=this.A=null}function Us(t,e){if(1!=(e[0]<<16|e[1]<<8|e[2]))return null;var n={data:new Uint8Array(0),packetLength:e[4]<<8|e[5],pts:null,dts:null,nalus:[]};if(n.packetLength&&n.packetLength>e.byteLength-6)return null;var r=e[7];if(192&r){var i=536870912*(14&e[9])+4194304*(255&e[10])+16384*(254&e[11])+128*(255&e[12])+(254&e[13])/2;null==t.A&&(t.A=i),n.pts=js(i,t.A),t.A=n.pts,n.dts=n.pts,64&r&&(r=536870912*(14&e[14])+4194304*(255&e[15])+16384*(254&e[16])+128*(255&e[17])+(254&e[18])/2,null==t.u&&(t.u=r),n.dts=n.pts!=i?js(r,t.u):r),t.u=n.dts}return t=e[8]+9,e.byteLength<=t?null:(n.data=e.subarray(t),n)}function Bs(t){var e=t.Jd();return e.length>1&&(t=e[0].pts,e=e[1].pts,!isNaN(e-t))?String(1/(e-t)*9e4):null}function js(t,e){var n=1;for(t>e&&(n=-1);Math.abs(e-t)>4294967296;)t+=8589934592*n;return t}function qs(t){return!(Fs(t)<0)}function Fs(t){for(var e=Math.min(1e3,t.length-564),n=0;n<e;){if(71==t[n]&&71==t[n+188]&&71==t[n+376])return n;n++}return-1}G("shaka.util.Id3Utils",ms),ms.getID3Data=Cs,ms.getID3Frames=ws,G("shaka.util.ExpGolomb",Ts),(i=Ns.prototype).clearData=function(){this.j=[],this.g=[],this.i=[],this.h=[],this.l=[]},i.gg=function(t){null!=this.C&&this.C!=t&&(this.u=this.A=null),this.C=t},i.parse=function(t){if(t.length<564)return this;for(var e=Math.max(0,Fs(t)),n=t.length-(t.length+e)%188,r=!1,i=e;i<n;i+=188)if(71==t[i]){var a=!!(64&t[i+1]),o=((31&t[i+1])<<8)+t[i+2];if((48&t[i+3])>>4>1){var s=i+5+t[i+4];if(s==i+188)continue}else s=i+4;switch(o){case 0:a&&(s+=t[s]+1),this.I=(31&t[s+10])<<8|t[s+11];break;case 17:case 8191:break;case this.I:a&&(s+=t[s]+1),o={audio:-1,video:-1,Af:-1,audioCodec:"",videoCodec:""};var u=s+3+((15&(a=t)[s+1])<<8|a[s+2])-4;for(s+=12+((15&a[s+10])<<8|a[s+11]);s<u;){var l=(31&a[s+1])<<8|a[s+2],c=(15&a[s+3])<<8|a[s+4];switch(a[s]){case 6:if(c>0)for(var d=s+5,p=c;p>2;){var h=a[d+1]+2;switch(a[d]){case 5:var f=Ft(a.subarray(d+2,d+h));-1==o.audio&&"Opus"===f?(o.audio=l,o.audioCodec="opus"):-1==o.video&&"AV01"===f&&(o.video=l,o.videoCodec="av1");break;case 106:-1==o.audio&&(o.audio=l,o.audioCodec="ac3");break;case 122:-1==o.audio&&(o.audio=l,o.audioCodec="ec3");break;case 124:-1==o.audio&&(o.audio=l,o.audioCodec="aac");break;case 127:"opus"==o.audioCodec&&(f=null,128===a[d+2]&&(f=a[d+3]),null!=f&&(this.H={channelCount:0==(15&f)?2:15&f,nk:f,sampleRate:48e3}))}d+=h,p-=h}break;case 15:-1==o.audio&&(o.audio=l,o.audioCodec="aac");break;case 17:-1==o.audio&&(o.audio=l,o.audioCodec="aac-loas");break;case 21:-1==o.Af&&(o.Af=l);break;case 27:-1==o.video&&(o.video=l,o.videoCodec="avc");break;case 3:case 4:-1==o.audio&&(o.audio=l,o.audioCodec="mp3");break;case 36:-1==o.video&&(o.video=l,o.videoCodec="hvc");break;case 129:-1==o.audio&&(o.audio=l,o.audioCodec="ac3");break;case 132:case 135:-1==o.audio&&(o.audio=l,o.audioCodec="ec3")}s+=c+5}-1!=(a=o).video&&(this.K=a.video,this.m=a.videoCodec),-1!=a.audio&&(this.F=a.audio,this.D=a.audioCodec),-1!=a.Af&&(this.G=a.Af),r&&!this.J&&(r=!1,i=e-188),this.J=!0;break;case this.K:s=t.subarray(s,i+188),a?this.j.push([s]):this.j.length&&this.j[this.j.length-1]&&this.j[this.j.length-1].push(s);break;case this.F:s=t.subarray(s,i+188),a?this.i.push([s]):this.i.length&&this.i[this.i.length-1]&&this.i[this.i.length-1].push(s);break;case this.G:s=t.subarray(s,i+188),a?this.l.push([s]):this.l.length&&this.l[this.l.length-1]&&this.l[this.l.length-1].push(s);break;default:r=!0}}return this},i.Wl=function(t){return Pe("TsParser.parseAvcNalus","Please use parseNalus function instead."),this.Oh(t,{Be:null,state:null})},i.Oh=function(t,e){var n=t.pts?t.pts/9e4:null,r=(t=t.data).byteLength,i=1;"hvc"==this.m&&(i=2);var a=e.state||0,o=a,s=0,u=[],l=-1,c=0;for(-1==a&&(l=0,c="hvc"==this.m?t[0]>>1&63:31&t[0],a=0,s=1);s<r;){var d=t[s++];a?1===a?a=d?0:2:d?1==d?(d=s-a-1,l>=0?u.push({data:t.subarray(l+i,d),fullData:t.subarray(l,d),type:c,time:n,state:null}):(a=u.length?u[u.length-1]:e.Be)&&(o&&s<=4-o&&a.state&&(a.data=a.data.subarray(0,a.data.byteLength-o),a.fullData=a.fullData.subarray(0,a.fullData.byteLength-o)),d>0&&(d=t.subarray(0,d),a.data=Yt(a.data,d),a.fullData=Yt(a.fullData,d),a.state=0)),s<r?(c="hvc"==this.m?t[s]>>1&63:31&t[s],l=s,a=0):a=-1):a=0:a=3:a=d?0:1}return l>=0&&a>=0&&u.push({data:t.subarray(l+i,r),fullData:t.subarray(l,r),type:c,time:n,state:a}),!u.length&&e.Be&&(n=u.length?u[u.length-1]:e.Be)&&(n.data=Yt(n.data,t),n.fullData=Yt(n.fullData,t)),e.state=a,u},i.getMetadata=function(){for(var t=[],e=g(this.l),n=e.next();!n.done;n=e.next())(n=Us(this,n=Yt.apply(zt,m(n.value))))&&t.push({cueTime:n.pts?n.pts/9e4:null,data:n.data,frames:ws(n.data),dts:n.dts,pts:n.pts});return t},i.Bb=function(){if(this.i.length&&!this.h.length)for(var t=g(this.i),e=t.next();!e.done;e=t.next()){var n=Yt.apply(zt,m(e.value)),r=Us(this,n);e=this.h.length?this.h[this.h.length-1]:null,r&&null!=r.pts&&null!=r.dts&&(!e||e.pts!=r.pts&&e.dts!=r.dts)?this.h.push(r):this.h.length&&(n=r?r.data:n)&&((e=this.h.pop()).data=Yt(e.data,n),this.h.push(e))}return this.h},i.Jd=function(t){if(t=void 0===t||t,this.j.length&&!this.g.length){for(var e=g(this.j),n=e.next();!n.done;n=e.next()){var r=Yt.apply(zt,m(n.value)),i=Us(this,r);n=this.g.length?this.g[this.g.length-1]:null,i&&null!=i.pts&&null!=i.dts&&(!n||n.pts!=i.pts&&n.dts!=i.dts)?this.g.push(i):this.g.length&&(r=i?i.data:r)&&((n=this.g.pop()).data=Yt(n.data,r),this.g.push(n))}if(t){for(e={Be:null,state:null},n=[],i=(r=g(this.g)).next();!i.done;i=r.next())(i=i.value).nalus=this.Oh(i,e),i.nalus.length&&(n.push(i),e.Be=i.nalus[i.nalus.length-1]);this.g=n}}return t?this.g:(t=this.g,this.g=[],t)},i.getStartTime=function(t){if("audio"==t){t=null;var e=this.Bb();return e.length&&(t=e[0],t=Math.min(t.dts,t.pts)/9e4),t}return"video"==t?(t=null,(e=this.Jd(!1)).length&&(t=e[0],t=Math.min(t.dts,t.pts)/9e4),t):null},i.oe=function(){return{audio:this.D,video:this.m}},i.zf=function(){for(var t=[],e=g(this.Jd()),n=e.next();!n.done;n=e.next())t.push.apply(t,m(n.value.nalus));return t},i.yl=function(){Pe("TsParser.getVideoResolution","Please use getVideoInfo function instead.");var t=this.wh();return{height:t.height,width:t.width}},i.wh=function(){return"hvc"==this.m?function(t){var e={height:null,width:null,codec:null,frameRate:null},n=t.zf();if(!n.length)return e;if(!(n=n.find((function(t){return 33==t.type}))))return e;var r=new Ts(n.fullData,!0);Ps(r),Ps(r),ks(r,4);var i=ks(r,3);Os(r);var a=ks(r,2),o=ks(r,1),s=ks(r,5),u=ks(r,32);n=Ps(r);for(var l=Ps(r),c=Ps(r),d=Ps(r),p=Ps(r),h=Ps(r),f=Ps(r),g=[],m=[],v=0;v<i;v++)g.push(Os(r)),m.push(Os(r));if(i>0)for(v=i;v<8;v++)ks(r,2);for(v=0;v<i;v++)g[v]&&ks(r,88),m[v]&&Ps(r);Rs(r),3==(i=Rs(r))&&ks(r,1),g=Rs(r),m=Rs(r);var y=v=0,A=0,b=0;return Os(r)&&(v+=Rs(r),y+=Rs(r),A+=Rs(r),b+=Rs(r)),e.width=String(g-(v+y)*(1===i||2===i?2:1)),e.height=String(m-(A+b)*(1===i?2:1)),r=function(t){for(var e=0,n=0;n<32;n++)e|=(t>>n&1)<<31-n;return e>>>0}(u),o=1==o?"H":"L",a="hvc1."+["","A","B","C"][a]+s,a+="."+r.toString(16).toUpperCase(),a+="."+o+f,h&&(a+="."+h.toString(16).toUpperCase()),p&&(a+="."+p.toString(16).toUpperCase()),d&&(a+="."+d.toString(16).toUpperCase()),c&&(a+="."+c.toString(16).toUpperCase()),l&&(a+="."+l.toString(16).toUpperCase()),n&&(a+="."+n.toString(16).toUpperCase()),e.codec=a,e.frameRate=Bs(t),e}(this):function(t){var e={height:null,width:null,codec:null,frameRate:null},n=t.zf();if(!n.length)return e;if(!(n=n.find((function(t){return 7==t.type}))))return e;var r=Ps(n=new Ts(n.data)),i=Ps(n),a=Ps(n);if(Ms(n),Vs.includes(r)){var o=Rs(n);if(3===o&&Es(n,1),Ms(n),Ms(n),Es(n,1),Os(n)){o=3!==o?8:12;for(var s=0;s<o;s++)Os(n)&&Ds(n,s<6?16:64)}}if(Ms(n),0===(o=Rs(n)))Rs(n);else if(1===o)for(Es(n,1),Ms(n),Ms(n),o=Rs(n),s=0;s<o;s++)Ms(n);Ms(n),Es(n,1),o=Rs(n),s=Rs(n);var u=ks(n,1);0===u&&Es(n,1),Es(n,1);var l=0,c=0,d=0,p=0;return Os(n)&&(l=Rs(n),c=Rs(n),d=Rs(n),p=Rs(n)),e.height=String((2-u)*(s+1)*16-2*d-2*p),e.width=String(16*(o+1)-2*l-2*c),e.codec="avc1."+("0"+r.toString(16).toUpperCase()).slice(-2)+("0"+i.toString(16).toUpperCase()).slice(-2)+("0"+a.toString(16).toUpperCase()).slice(-2),e.frameRate=Bs(t),e}(this)},G("shaka.util.TsParser",Ns),Ns.syncOffset=Fs,Ns.probe=qs,Ns.prototype.getVideoInfo=Ns.prototype.wh,Ns.prototype.getVideoResolution=Ns.prototype.yl,Ns.prototype.getVideoNalus=Ns.prototype.zf,Ns.prototype.getCodecs=Ns.prototype.oe,Ns.prototype.getStartTime=Ns.prototype.getStartTime,Ns.prototype.getVideoData=Ns.prototype.Jd,Ns.prototype.getAudioData=Ns.prototype.Bb,Ns.prototype.getMetadata=Ns.prototype.getMetadata,Ns.prototype.parseNalus=Ns.prototype.Oh,Ns.prototype.parseAvcNalus=Ns.prototype.Wl,Ns.prototype.parse=Ns.prototype.parse,Ns.prototype.setDiscontinuitySequence=Ns.prototype.gg,Ns.prototype.clearData=Ns.prototype.clearData,Ns.Timescale=9e4;var Vs=[100,110,122,244,44,83,86,118,128,138,139,134];function Gs(t,e,n,r,i){var a=this;this.g=t,this.O=n,this.C=r,this.Z=e,this.l=new Map,this.F=new Map,this.La=new Map,this.h=null,this.Ca=!1,this.H=i||null,this.u=new Map,this.A=new Me,this.j=new Map,this.J=null,this.L=new Fi,this.ya="",this.jb=!1,this.sa=!0,this.M=!1,this.D=this.P=null,this.i=zs(this,this.L),this.hb=this.G=!1,this.K=new sa((function(){return function(t){var e,n,r,i,a,o,s,u,l,c,d,p,h;return P((function(f){if(1==f.g){for(e=[],n=g(t.u),r=n.next();!r.done;r=n.next())for(i=r.value,a=g(i),o=a.next().value,s=a.next().value,u=s[0],l=o,t.u.set(l,s.slice(0,1)),u&&e.push(u.p.catch(Xr)),c=g(s.slice(1)),d=c.next();!d.done;d=c.next())d.value.p.reject(new It(2,7,7003,void 0));return t.h&&e.push(t.h.destroy()),w(f,Promise.all(e),2)}for(p=g(t.j.values()),h=p.next();!h.done;h=p.next())h.value.destroy();t.A&&(t.A.release(),t.A=null),t.g&&t.D&&t.g.removeChild(t.D),t.g&&t.P&&(t.g.removeChild(t.P),t.g.load(),t.g.disableRemotePlayback=!1),t.g=null,t.P=null,t.D=null,t.C=null,t.i=null,t.h=null,t.Z=null,t.l.clear(),t.La.clear(),t.j.clear(),t.J=null,t.u.clear(),t.H=null,t.W.clear(),t.O=null,C(f)}))}(a)})),this.I=!1,this.V="UNKNOWN",this.fb=this.ib=!1,this.Na=new Fi,this.m=!1,this.ra=null,this.W=new Map,this.ea=this.R=this.oa=this.S=null,this.aa=new Fi,this.g.remote&&(this.M="disconnected"!=this.g.remote.state,this.A.o(this.g.remote,"connect",(function(){a.M="disconnected"!=a.g.remote.state})),this.A.o(this.g.remote,"connecting",(function(){a.M="disconnected"!=a.g.remote.state})),this.A.o(this.g.remote,"disconnect",(function(){a.M="disconnected"!=a.g.remote.state})))}function zs(e,n){if(e.sa=!0,t.ManagedMediaSource){e.D||(e.g.disableRemotePlayback=!0);var r=new ManagedMediaSource;e.A.o(r,"startstreaming",(function(){e.sa=!0})),e.A.o(r,"endstreaming",(function(){e.sa=!1}))}else r=new MediaSource;return e.A.ua(r,"sourceopen",(function(){URL.revokeObjectURL(e.ya),n.resolve()})),e.A.ua(e.g,"playing",(function(){e.jb=!0})),e.ya=gu(r),e.C.useSourceElements?(e.g.removeAttribute("src"),e.P&&e.g.removeChild(e.P),e.D&&e.g.removeChild(e.D),e.P=cs(e.ya),e.g.appendChild(e.P),e.D&&e.g.appendChild(e.D),e.g.load()):e.g.src=e.ya,r}function Hs(t,e,n,r){"audio"==e&&r&&(r=si(r,n.mimeType));var i=kr(n.mimeType,r);if(e==re)Ws(t,i,t.I,n.external);else{var a=t.C.forceTransmux;(!Fe(i)||!t.I&&Ur.includes(i))&&(a=!0);var o=Ir(n.mimeType,r);if(a){if(a=ee("audio",(r||"").split(",")),r=ee("video",(r||"").split(",")),a&&r)return t.m=!0,Hs(t,"audio",n,a),void Hs(t,"video",n,r);(r=br(o))&&(i=r(),t.j.set(e,i),i=i.convertCodecs(e,o))}o=i+t.C.addExtraFeaturesToSourceBuffer(i),ua(t.K);try{var s=t.i.addSourceBuffer(o)}catch(e){throw new It(2,3,3015,e,"The mediaSource_ status was "+t.i.readyState+" expected 'open'",null)}t.I&&(s.mode=mu),t.A.o(s,"error",(function(){var n=t.u.get(e)[0];n.p.reject(new It(2,3,3014,t.g.error?t.g.error.code:0,n.uri))})),t.A.o(s,"updateend",(function(){return su(t,e)})),t.l.set(e,s),t.F.set(e,i),t.La.set(e,!!n.drmInfos.length)}}function Ks(t){return t.sa&&!t.M&&!t.G}function Ws(t,e,n,r){t.h||(t.h=new Br(t.Z),t.h&&(t.h.C=t.C.modifyCueCallback));var i=t.h;r=r||t.Ca,t=t.V,"application/cea-608"==e||"application/cea-708"==e?i.i=null:(i.i=Hr.get(e)(),i.i.setSequenceMode?i.i.setSequenceMode(n):Pe("Text parsers w/ setSequenceMode",'Text parsers should have a "setSequenceMode" method!'),i.i.setManifestType?i.i.setManifestType(t):Pe("Text parsers w/ setManifestType",'Text parsers should have a "setManifestType" method!'),i.D=r)}function $s(t){return!t.G&&(!t.i||"ended"==t.i.readyState)}function Xs(t){return!t.G&&(!t.i||"closed"==t.i.readyState)}function Ys(t,e){return t.l.size?e==re?t.h.g:es(Zs(t,e)):null}function Js(t,e){return t.l.size?e==re?t.h.h:ns(Zs(t,e)):null}function Zs(t,e){if(t.G||t.M)return null;try{return t.l.get(e).buffered}catch(n){return t.l.has(e),null}}function Qs(t,e,n,r,i,a,o,s,u,l,c){var d,p,h,f,v,y,A,b,x,T,S,E,k,I,M,R,L,O,D;return o=void 0!==o&&o,s=void 0!==s&&s,u=void 0!==u&&u,l=void 0!==l&&l,P((function(_){switch(_.g){case 1:if(e!=(d=ie).Va){_.B(2);break}if("HLS"!=t.V){_.B(3);break}return w(_,t.Na,4);case 4:p=_.h,t.h.A=p;case 3:return w(_,function(t,e,n,r,i){var a,o,s,u,l,c,d;return P((function(p){if(1==p.g)return w(p,Promise.resolve(),2);if(!t.i||!t.l)return p.return();if(null==n||null==r)return t.i.parseInit(Tt(e)),p.return();for(a=t.D?n:t.A,o={periodStart:t.A,segmentStart:n,segmentEnd:r,vttOffset:a},s=t.i.parseMedia(Tt(e),o,i,[]),u=g(s),l=u.next();!l.done;l=u.next())c=l.value,t.C(c,i||null,o);d=s.filter((function(e){return e.startTime>=t.m&&e.startTime<t.u})),t.l.append(d),null==t.g&&(t.g=Math.max(n,t.m)),t.h=Math.min(r,t.u),C(p)}))}(t.h,n,r?r.startTime:null,r?r.endTime:null,r?r.T()[0]:null),5);case 5:return _.return();case 2:if(l||!t.m){_.B(6);break}return w(_,Qs(t,d.na,n,r,i,a,o,s,u,!0),7);case 7:return w(_,Qs(t,d.Ha,n,r,i,a,o,s,u,!0),8);case 8:return _.return();case 6:if(!t.l.has(e))return _.return();if(h=t.l.get(e).timestampOffset,f=t.F.get(e),t.j.has(e)&&(f=t.j.get(e).getOriginalMimeType()),r&&(v=function(t,e,n,r,i,a,o){o=void 0!==o&&o;var s=null,u=[],l=Tt(n);if(Ur.includes(a))(n=ws(l)).length&&r&&((o=n.find((function(t){return"com.apple.streaming.transportStreamTimestamp"===t.description})))&&"number"==typeof o.data&&(s=Math.round(o.data)/1e3),t.O.onMetadata([{cueTime:r.startTime,data:l,frames:n,dts:r.startTime,pts:r.startTime}],0,r.endTime));else if(a.includes("/mp4")&&r&&r.ia){l=new fa;var c=null!=i.emsgSchemeIdUris&&i.emsgSchemeIdUris.length>0||t.C.dispatchAllEmsgBoxes;c&&l.X("emsg",(function(e){var n=i.emsgSchemeIdUris;if(0===e.version)var a=e.reader.od(),o=e.reader.od(),s=e.reader.$(),u=e.reader.$(),l=e.reader.$(),c=e.reader.$(),d=r.startTime+u/s;else s=e.reader.$(),u=(d=e.reader.Td()/s+r.timestampOffset)-r.startTime,l=e.reader.$(),c=e.reader.$(),a=e.reader.od(),o=e.reader.od();e=e.reader.ac(e.reader.getLength()-e.reader.Wa(),!0),(n&&n.includes(a)||t.C.dispatchAllEmsgBoxes)&&("urn:mpeg:dash:event:2012"==a?t.O.Vl():(n=d+l/s,t.O.Tl({startTime:d,endTime:n,schemeIdUri:a,value:o,timescale:s,presentationTimeDelta:u,eventDuration:l,id:c,messageData:e}),("https://aomedia.org/emsg/ID3"==a||"https://developer.apple.com/streaming/emsg-id3"==a)&&(s=ws(e)).length&&t.O.onMetadata([{cueTime:d,data:e,frames:s,dts:d,pts:d}],0,n)))}));var d=r.ia.timescale;e=d&&!isNaN(d);var p=0,h=!1;e&&l.X("prft",(function(e){var n=e.reader,r=e.version;n.$(),e=1e3*(e=n.$())+n.$()/4294967296*1e3,0===r?n=n.$():(r=n.$(),n=4294967296*r+(n=n.$())),e=xs(e),n=new z("prft",n=(new Map).set("detail",{wallClockTime:e,programStartDate:new Date(e-n/d*1e3)})),t.O.onEvent(n)})).box("moof",ga).box("traf",ga).X("tfdt",(function(t){h||(p=po(t.reader,t.version).baseMediaDecodeTime/d,h=!0,c||t.parser.stop())})),(c||e)&&l.parse(n,!1,o),h&&0==r.timestampOffset&&(s=p)}else a.includes("/mp4")||a.includes("/webm")||!qs(l)||(t.W.has(e)||t.W.set(e,new Ns),(u=t.W.get(e)).clearData(),u.gg(r.i),u.parse(l),null!=(l=u.getStartTime(e))&&(s=l),u=u.getMetadata());return{timestamp:s,metadata:u}}(t,e,n,r,i,f,u),y=v.timestamp,A=v.metadata,null!=y&&(null==t.S&&e==d.Ha&&(t.S=y,t.oa=r.startTime,null!=t.R&&(b=0,t.oa==t.ea&&(b=t.S-t.R),t.aa.resolve(b))),null==t.R&&e==d.na&&(t.R=y,t.ea=r.startTime,null!=t.S&&(x=0,t.oa==t.ea&&(x=t.S-t.R),t.aa.resolve(x))),T=y,S=Ur,!t.I&&S.includes(t.F.get(e))&&(T=0),E=r.startTime-T,(Math.abs(h-E)>=.001||o||s)&&(!u||E>0||!h)&&(h=E,t.fb&&(uu(t,e,(function(){return iu(t,e)}),null),uu(t,e,(function(){return au(t,e,h)}),null))),(e==d.Ha||!t.l.has(d.Ha))&&t.Na.resolve(h)),A.length)&&t.O.onMetadata(A,h,r?r.endTime:null),a&&e==d.Ha&&(t.h||Ws(t,"application/cea-608",t.I,!1),t.J||(k=f.split(";",1)[0],t.J=new $e(k)),r?(I=t.J.Uf(n)).length&&function(t,e,n){for(var r=new Map,i=(e=g(e)).next();!i.done;i=e.next()){var a=i.value;i=a.stream,a=a.cue,r.has(i)||r.set(i,[]),Gr(t,a,n),a.startTime>=t.m&&a.startTime<t.u&&(r.get(i).push(a),i==t.F&&t.l.append([a]))}for(e=(n=g(r.keys())).next();!e.done;e=n.next())for(e=e.value,t.j.has(e)||t.j.set(e,[]),a=(i=g(r.get(e))).next();!a.done;a=i.next())a=a.value,t.j.get(e).push(a);zr(t)}(t.h,I,h):t.J.init(n,s,c)),!t.j.has(e)){_.B(9);break}return w(_,t.j.get(e).transmux(n,i,r,t.i.duration,e),10);case 10:M=_.h,ArrayBuffer.isView(M)?n=M:(null!=(R=M).init&&(L=R.init,uu(t,e,(function(){t.H&&Be(t.H,L,h,i),t.l.get(e).appendBuffer(L)}),r?r.T()[0]:null)),n=R.data);case 9:if(n=function(t,e,n,r,i){if("mp4"!=Rr(t.F.get(i)))return n;var a=null===r,o=t.La.get(i),s=t.O.Qk(),u=!1;r&&r.ia&&(u=r.ia.encrypted),r=r?r.T()[0]:null;var l=Lt();return t.C.correctEc3Enca&&a&&"audio"===i&&(n=function(t){t=Tt(t);var e=null;return(new fa).box("moov",ga).box("trak",ga).box("mdia",ga).box("minf",ga).box("stbl",ga).X("stsd",ma).box("enca",(function(t){return e=t.reader.h,ya(t)})).box("sinf",ga).box("frma",(function(t){t.parser.stop(),"ec-3"===mo(t.reader).codec&&e&&2!==e.getUint16(16)&&e.setUint16(16,2)})).parse(t),t}(n)),t.C.insertFakeEncryptionInInit&&o&&l.Ud(s,i)&&(a?n=function(t,e,n){function r(t){d.push({box:t,qj:1701733217})}function i(t){d.push({box:t,qj:1701733238})}function a(t){l=!0,t.parser.stop()}function o(t){c.push(t),ga(t)}var s,u=e=Tt(e),l=!1,c=[],d=[];if((new fa).box("moov",o).box("trak",o).box("mdia",o).box("minf",o).box("stbl",o).X("stsd",(function(t){s=t,c.push(t),ma(t)})).X("encv",a).X("enca",a).X("dvav",i).X("dva1",i).X("dvh1",i).X("dvhe",i).X("dvc1",i).X("dvi1",i).X("hev1",i).X("hvc1",i).X("avc1",i).X("avc3",i).X("ac-3",r).X("ec-3",r).X("ac-4",r).X("Opus",r).X("fLaC",r).X("mp4a",r).parse(e),l)return e;if(0==d.length||!s)throw Xt(e),new It(2,3,3019,n);d.reverse();for(var p=(n=g(d)).next();!p.done;p=n.next())p=p.value,u=Ho(t,u,s,p.box,c,p.qj);return Lt().zj()?((t=new Uint8Array(e.byteLength+u.byteLength)).set(u),t.set(e,u.byteLength),t):u}(e,n,r):!u&&l.Aj(i)&&(n=function(t){t=Tt(t);var e=[];(new fa).box("mdat",(function(t){e.push(t)})).parse(t);for(var n=[],r=0;r<e.length;r++){var i=e[r-1],a=e[r];n.push(zo(t.subarray(i?i.start+i.size:0,a.start+a.size)))}return Yt.apply(zt,m(n))}(n))),a&&l.He()&&(n=function(t){function e(t){r.push({start:t.start,size:t.size}),ga(t)}var n=Tt(t),r=[];return(new fa).box("moov",e).box("trak",e).box("mdia",e).box("minf",e).box("stbl",e).box("stsd",(function(t){r.push({start:t.start,size:t.size});for(var e=Et(n,t.start),i=0;i<t.size-3;i++){var a=e.getUint32(i);1633889587==a?e.setUint32(i,1700998451):1684103987==a&&e.setUint32(i,1684366131)}})).parse(n),n}(n)),n}(t,i,n,r,e),!r||!t.I||e==d.Va){_.B(11);break}if(!o&&!s){_.B(11);break}if(O=r.startTime,"HLS"!=t.V||t.m||e!=d.na||!t.l.has(d.Ha)){_.B(13);break}return w(_,t.aa,14);case 14:D=_.h,Math.abs(D)>.15&&(O-=D);case 13:uu(t,e,(function(){return iu(t,e)}),null),uu(t,e,(function(){return au(t,e,O)}),null);case 11:return w(_,uu(t,e,(function(){var r=n;t.H&&Be(t.H,r,h,i),t.l.get(e).appendBuffer(r)}),r?r.T()[0]:null),15);case 15:C(_)}}))}function tu(t,e){var n;return P((function(r){return 1==r.g?e==(n=ie).Va?t.h?w(r,t.h.remove(0,1/0),0):r.return():e===n.Ha&&t.J&&t.h?w(r,t.h.remove(0,1/0),4):r.B(4):6!=r.g?w(r,uu(t,e,(function(){return ru(t,e,0,t.i.duration)}),null),6):t.m?w(r,uu(t,n.na,(function(){return ru(t,n.na,0,t.i.duration)}),null),0):r.B(0)}))}function eu(t,e,n,r,i,a,o,s,u){var l,c;return P((function(d){return 1==d.g?e==(l=ie).Va?(a||(t.h.A=n),function(t,e,n){t.m=e,t.u=n}(t.h,r,i),d.return()):(c=[],w(d,function(t,e,n,r,i){var a,o,s,u,l,c;return P((function(d){return 1==d.g?(a=ie,o=fu(t,e,n,r,i),s=o.type,u=o.qc,l=o.Pf,(c=i.get(a.na))&&(t.m=c.isAudioMuxedInVideo),s==vu?(t.j.has(e)&&!u?(t.j.get(e).destroy(),t.j.delete(e)):!t.j.has(e)&&u?t.j.set(e,u):u&&(t.j.has(e)&&t.j.get(e).transmux!==u.transmux?(t.j.get(e).destroy(),t.j.set(e,u)):u.destroy()),d.return(!1)):s==Au?w(d,function(t,e,n,r){return uu(t,e,(function(){if(e!==re){if(t.F.get(e),Ve()){t.j.has(e)&&(t.j.get(e).destroy(),t.j.delete(e)),r&&t.j.set(e,r);var i=n+t.C.addExtraFeaturesToSourceBuffer(n);t.l.get(e).changeType(i),t.F.set(e,n)}su(t,e)}}),null)}(t,e,l,u),3):s!=yu?d.B(3):(u&&u.destroy(),w(d,pu(t,i),3))):d.return(!0)}))}(t,e,o,s,u),2)):(d.h||(c.push(uu(t,e,(function(){return iu(t,e)}),null)),t.m&&c.push(uu(t,l.na,(function(){return iu(t,l.na)}),null))),a||(c.push(uu(t,e,(function(){return au(t,e,n)}),null)),t.m&&c.push(uu(t,l.na,(function(){return au(t,l.na,n)}),null))),0==r&&i==1/0||(c.push(uu(t,e,(function(){return ou(t,e,r,i)}),null)),t.m&&c.push(uu(t,l.na,(function(){return ou(t,l.na,r,i)}),null))),c.length?w(d,Promise.all(c),0):d.B(0))}))}function nu(t){P((function(e){return t.K.g||t.g.error||t.M||t.G||$s(t)||Xs(t)?e.return():w(e,lu(t,(function(){$s(t)||Xs(t)||t.i.clearLiveSeekableRange()})),0)}))}function ru(t,e,n,r){r<=n?su(t,e):t.l.get(e).remove(n,r)}function iu(t,e){var n=t.l.get(e),r=n.appendWindowStart,i=n.appendWindowEnd;n.abort(),n.appendWindowStart=r,n.appendWindowEnd=i,su(t,e)}function au(t,e,n){n<0&&(n+=.001),t.l.get(e).timestampOffset=n,su(t,e)}function ou(t,e,n,r){var i=t.l.get(e);i.appendWindowEnd===r&&i.appendWindowStart===n||(i.appendWindowStart=0,i.appendWindowEnd=r,i.appendWindowStart=n),su(t,e)}function su(t,e){if(t.G||t.K.g){var n=t.u.get(e);n&&n.length&&((n=n[0])&&n.p&&n.p.resolve(),t.u.set(e,[]))}else(n=t.u.get(e)[0])&&(n.p.resolve(),cu(t,e))}function uu(t,e,n,r){return ua(t.K),n={start:n,p:new Fi,uri:r},t.u.get(e).push(n),1==t.u.get(e).length&&du(t,e),n.p}function lu(t,e){var n,r,i,a,o,s,u,l,c,d,p;return P((function(h){switch(h.g){case 1:for(ua(t.K),n=[],r=Array.from(t.l.keys()),i=g(r),a=i.next(),o={};!a.done;o={ready:void 0},a=i.next())s=a.value,o.ready=new Fi,u={start:function(t){return function(){return t.ready.resolve()}}(o),p:o.ready,uri:null},(l=t.u.get(s)).push(u),n.push(o.ready),1==l.length&&u.start();return x(h,2),w(h,Promise.all(n),4);case 4:S(h,3);break;case 2:throw E(h);case 3:return x(h,5,6),w(h,e(),6);case 6:for(k(h),c=g(r),d=c.next();!d.done;d=c.next())p=d.value,cu(t,p);I(h,0);break;case 5:throw new It(2,3,3015,E(h),t.g.error||"No error in the media element",null)}}))}function cu(t,e){t.u.get(e).shift(),du(t,e)}function du(t,e){var n=t.u.get(e)[0];if(n)try{n.start()}catch(r){"QuotaExceededError"==r.name?n.p.reject(new It(2,3,3017,e)):Ks(t)?n.p.reject(new It(2,3,3015,r,t.g.error||"No error in the media element",n.uri)):n.p.reject(new It(2,3,3024,e)),cu(t,e)}}function pu(t,e){return lu(t,(function(){return function(t,e){var n,r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,C;return P((function(x){if(1==x.g){if(t.G||t.M)return x.return();for(n=ie,t.G=!0,t.m=!1,r=t.g.currentTime,i=t.g.autoplay,t.g.paused||(t.hb=!0),t.jb&&(t.g.autoplay=!1),T(x,2),t.A.Sa(),a=g(t.j.values()),o=a.next();!o.done;o=a.next())o.value.destroy();for(s=g(t.l.values()),u=s.next();!u.done;u=s.next()){l=u.value;try{t.i.removeSourceBuffer(l)}catch(t){}}return t.j.clear(),t.l.clear(),c=t.i.duration,t.L=new Fi,t.i=zs(t,t.L),w(x,t.L,4)}if(2!=x.g){for(!isNaN(c)&&c?t.i.duration=c:!isNaN(t.ra)&&t.ra&&(t.i.duration=t.ra),d=new Fi,p=t.i.sourceBuffers,h=e.size,f=0,m=function(){++f===h&&(d.resolve(),t.A.Fa(p,"addsourcebuffer",m))},t.A.o(p,"addsourcebuffer",m),v=g(e.keys()),y=v.next();!y.done;y=v.next())A=y.value,b=e.get(A),Hs(t,A,b,b.codecs);return(C=e.get(n.na))&&C.isAudioMuxedInVideo&&(t.m=!0),t.m&&!t.u.has(n.na)&&t.u.set(n.na,[]),t.g.currentTime=r,w(x,d,2)}return k(x),t.G=!1,ua(t.K),t.A.ua(t.g,"canplaythrough",(function(){t.K.g||(t.g.autoplay=i,t.hb&&(t.hb=!1,t.g.play()))})),I(x,0)}))}(t,e)}))}function hu(t,e,n,r){var i=!1,a=ee("audio",(r||"").split(",")),o=ee("video",(r||"").split(",")),s=o;"audio"==e&&(s=a),s||(s=r),r=kr(n,s);var u=Pr(t.F.get(e)),l=t.C.forceTransmux;if(!Fe(r)||!t.I&&Ur.includes(r)?l=!0:l||n==u||(l=!Lt().lg()&&Ur.includes(n)),l&&(n=br(t=Ir(n,s)))){var c=n();a&&o&&(i=!0),r=c.convertCodecs(e,t)}return e=Lr(Dr(r)),{qc:c,zm:i,Hi:Pr(r),codec:e,mimeType:r}}function fu(t,e,n,r,i){if(e==re)return{type:vu,Pf:n,qc:null};var a=Lr(Dr(t.F.get(e))),o=Pr(t.F.get(e)),s=hu(t,e,n,r),u=s.qc,l=s.zm,c=s.Hi,d=s.codec;s=s.mimeType;var p=!0;return l&&t.F.has("audio")&&(n=hu(t,"audio",n,r),r=Lr(Dr(t.F.get("audio"))),p=Pr(t.F.get("audio")),p=r==n.codec&&p==n.Hi,n.qc&&n.qc.destroy()),a===d&&o===c&&p?{type:vu,Pf:s,qc:u}:(a=!0,(t.m&&!i.has("audio")||l&&u&&!t.j.has(e))&&(a=!1),a&&"smooth"===t.C.codecSwitchingStrategy&&Ve()?{type:Au,Pf:s,qc:u}:(u&&u.destroy(),{type:yu,Pf:s,qc:null}))}(i=Gs.prototype).destroy=function(){return this.K.destroy()},i.init=function(t,e,n,r){e=void 0!==e&&e,n=void 0===n?"UNKNOWN":n,r=void 0!==r&&r;var i,a,o,s,u,l,c=this;return P((function(d){if(1==d.g)return i=ie,w(d,c.L,2);if(3!=d.g)return $s(c)||Xs(c)?($("Expected MediaSource to be open during init(); reopening the media source."),c.L=new Fi,c.i=zs(c,c.L),w(d,c.L,3)):d.B(3);for(c.I=e,c.V=n,c.ib=r,c.fb=!c.I&&"HLS"==c.V&&!c.ib,c.W.clear(),c.S=null,c.oa=null,c.R=null,c.ea=null,c.aa=new Fi,a=g(t.keys()),o=a.next();!o.done;o=a.next())s=o.value,u=t.get(s),Hs(c,s,u,u.codecs),c.m?(c.u.set(i.na,[]),c.u.set(i.Ha,[])):c.u.set(s,[]);(l=t.get(i.na))&&l.isAudioMuxedInVideo&&(c.m=!0),C(d)}))},i.configure=function(t){this.C=t,this.h&&(this.h.C=t.modifyCueCallback)},i.Oc=function(){var t={total:this.G?[]:as(this.g.buffered),audio:as(Zs(this,"audio")),video:as(Zs(this,"video")),text:[]};if(this.h){var e=this.h.g,n=this.h.h;null!=e&&null!=n&&t.text.push({start:e,end:n})}return t},i.remove=function(t,e,n,r){var i,a,o=this;return P((function(s){return 1==s.g?(t==(i=ie).Ha&&o.J&&(o.J.remove(r),a=o.h.g||0,o.h.remove(a,n)),t==i.Va?w(s,o.h.remove(e,n),0):n>e?w(s,uu(o,t,(function(){return ru(o,t,e,n)}),null),5):s.B(0)):o.m?w(s,uu(o,i.na,(function(){return ru(o,i.na,e,n)}),null),0):s.B(0)}))},i.flush=function(t){var e,n=this;return P((function(r){return 1==r.g?t==(e=ie).Va?r.return():w(r,uu(n,t,(function(){n.g.currentTime-=.001,su(n,t)}),null),2):n.m?w(r,uu(n,e.na,(function(){var t=e.na;n.g.currentTime-=.001,su(n,t)}),null),0):r.B(0)}))},i.endOfStream=function(t){var e=this;return P((function(n){return w(n,lu(e,(function(){$s(e)||Xs(e)||(t?e.i.endOfStream(t):e.i.endOfStream())})),0)}))},i.Fb=function(t){var e=this;return P((function(n){return w(n,lu(e,(function(){if(e.C.durationReductionEmitsUpdateEnd&&t<e.i.duration)for(var n=g(e.l.keys()),r=n.next();!r.done;r=n.next()){r=r.value;var i={start:function(){},p:new Fi,uri:null};e.u.get(r).unshift(i)}e.i.duration=t,e.ra=t})),0)}))},i.getDuration=function(){return this.i.duration};var gu=t.URL.createObjectURL,mu="sequence",vu="none",yu="reset",Au="changeType";function bu(t,e,n){this.i=t,this.F=e,this.A=this.l=1/0,this.h=1,this.g=this.j=null,this.C=0,this.D=!0,this.J=!1,this.I=0,this.G=void 0===n||n,this.H=0,this.u=!1,this.m=t}function wu(t,e,n,r){var i=this;this.A=r,this.g=t,this.F=e,this.h=n,this.j=new Me,this.m=!1,this.l=0,this.D=!1,this.H=this.G=0,this.u=function(t){if(!t.h.stallEnabled)return null;var e=t.h.stallThreshold,n=t.h.stallSkip;return new xu(new Tu(t.g),e,(function(){return P((function(e){if(1==e.g)return as(t.g.buffered).length?n?(t.g.currentTime+=n,e.B(2)):w(e,t.g.play(),3):e.return();if(2!=e.g){if(!t.g)return e.return();t.g.pause(),t.g.play()}t.H++,t.A(new z("stalldetected")),C(e)}))}))}(this),this.C=!1,this.j.o(t,"waiting",(function(){return Cu(i)})),this.i=new Wr((function(){Cu(i)})).xa(this.h.gapJumpTimerTime)}function Cu(t){if(0!=t.g.readyState){if(t.g.seeking){if(!t.m)return}else t.m=!1;if(!t.g.paused||t.g.currentTime==t.l&&(t.g.autoplay||t.g.currentTime!=t.l)){var e;if(!(e=!t.u)){var n=(e=t.u).h,r=Su(n),i=n.g.currentTime,a=Date.now()/1e3;e.g==i&&e.m==r||(e.l=a,e.g=i,e.m=r,e.i=!1),(r=(i=a-e.l)>=e.u&&r&&!e.i)&&(e.j&&e.j(e.g,i),e.i=!0,e.g=n.g.currentTime),e=!r}e&&(e=t.g.currentTime,null==(r=function(t,e,n){return t&&t.length&&!ts(t)&&(t=as(t).findIndex((function(t,r,i){return t.start>e&&(0==r||i[r-1].end-e<=n)})))>=0?t:null}(n=t.g.buffered,e,t.h.gapDetectionThreshold))||0==r&&!t.C||(i=n.start(r),(a=t.h.gapPadding)&&(i=Math.ceil(100*(i+a))/100),i>=t.F.Lb()||i-e<.001||(0!=r&&n.end(r-1),function(t,e){t.D=!0,t.j.ua(t.g,"seeked",(function(){t.D=!1})),t.g.currentTime=e}(t,i),e==t.l&&(t.l=i),t.G++,t.A(new z("gapjumped")))))}}}function xu(t,e,n){this.h=t,this.m=Su(t),this.g=t.g.currentTime,this.l=Date.now()/1e3,this.i=!1,this.u=e,this.j=n}function Tu(t){var e=this;this.g=t,this.h=new Me,this.i=!1,this.h.o(this.g,"audiofocuspaused",(function(){e.i=!0})),this.h.o(this.g,"audiofocusgranted",(function(){e.i=!1})),this.h.o(this.g,"audiofocuslost",(function(){e.i=!0}))}function Su(t){if(t.g.paused||0==t.g.playbackRate||t.i||0==t.g.buffered.length)var e=!1;else t:{e=t.g.currentTime;for(var n=(t=g(as(t.g.buffered))).next();!n.done;n=t.next())if(!(e<(n=n.value).start-.1||e>n.end-.5)){e=!0;break t}e=!1}return e}function Eu(t,e,n,r){e==HTMLMediaElement.HAVE_NOTHING||t.readyState>=e?r():(e=ku.value().get(e),n.ua(t,e,r))}(i=bu.prototype).getDuration=function(){return this.l},i.Wk=function(){return this.h},i.Nj=function(t){this.i=t},i.Fb=function(t){this.l=t},i.cl=function(){return this.i},i.Kj=function(t){this.C=t},i.sd=function(t){t&&!this.D&&(this.J=!0),this.D=t},i.hg=function(t){this.A=t},i.yf=function(){return this.A},i.bi=function(t){this.F=t},i.Lk=function(){return this.F},i.tj=function(t,e){if(0!=t.length){var n=(Date.now()+this.C)/1e3;if(0!=(t=t.filter((function(t){return t.start+e<n}))).length){var r=t[t.length-1].end+e;this.Qf(t[0].start+e),this.h=t.reduce((function(t,e){return Math.max(t,e.end-e.start)}),this.h),this.g=Math.max(this.g,r),null!=this.i&&this.G&&!this.u&&(this.i=n-this.g-this.h)}}},i.Ce=function(t){if(0!=t.length){for(var e=t[0].startTime,n=t[0].endTime,r=(Date.now()+this.C)/1e3,i=(t=g(t)).next();!i.done;i=t.next())r<(i=i.value).startTime||(e=Math.min(e,i.startTime),n=Math.max(n,i.endTime),this.h=Math.max(this.h,i.endTime-i.startTime));this.Qf(e),this.g=Math.max(this.g,n),null!=this.i&&this.G&&!this.u&&(this.i=r-this.g-this.h)}},i.sj=function(t,e){this.Qf(t),e==1/0||this.U()||(this.g=Math.max(this.g,e))},i.Xk=function(){return this.g},i.Kf=function(){this.u=!0},i.Jl=function(){return this.u},i.di=function(t){this.m=t},i.Pk=function(){return this.m},i.Qf=function(t){null==this.j?this.j=t:this.J||(this.j=Math.min(this.j,t))},i.Kh=function(t){this.h=Math.max(this.h,t)},i.offset=function(t){null!=this.j&&(this.j+=t),null!=this.g&&(this.g+=t)},i.U=function(){return this.l==1/0&&!this.D},i.ld=function(){return this.l!=1/0&&!this.D},i.Mb=function(){return Math.max(this.I,this.Rc()-this.A)},i.Pj=function(t){this.I=t},i.Rc=function(){return this.U()||this.ld()?Math.min(Math.max(0,(Date.now()+this.C)/1e3-this.h-this.i)+this.H,this.l):this.g?Math.min(this.g,this.l):this.l},i.qe=function(t){var e=Math.max(this.j,this.I);return this.A==1/0?Math.ceil(1e3*e)/1e3:Math.max(e,Math.min(this.Rc()-this.A+t,this.Lb()))},i.fc=function(){return this.qe(0)},i.Lb=function(){return Math.max(0,this.Rc()-(this.U()||this.ld()?this.F:0))},i.dk=function(){return!(null==this.i||null!=this.g&&this.G)},i.Jj=function(t){this.H=t},i.Bk=function(){return this.H},G("shaka.media.PresentationTimeline",bu),bu.prototype.getAvailabilityTimeOffset=bu.prototype.Bk,bu.prototype.setAvailabilityTimeOffset=bu.prototype.Jj,bu.prototype.usingPresentationStartTime=bu.prototype.dk,bu.prototype.getSeekRangeEnd=bu.prototype.Lb,bu.prototype.getSeekRangeStart=bu.prototype.fc,bu.prototype.getSafeSeekRangeStart=bu.prototype.qe,bu.prototype.getSegmentAvailabilityEnd=bu.prototype.Rc,bu.prototype.setUserSeekStart=bu.prototype.Pj,bu.prototype.getSegmentAvailabilityStart=bu.prototype.Mb,bu.prototype.isInProgress=bu.prototype.ld,bu.prototype.isLive=bu.prototype.U,bu.prototype.offset=bu.prototype.offset,bu.prototype.notifyMaxSegmentDuration=bu.prototype.Kh,bu.prototype.notifyMinSegmentStartTime=bu.prototype.Qf,bu.prototype.getInitialProgramDateTime=bu.prototype.Pk,bu.prototype.setInitialProgramDateTime=bu.prototype.di,bu.prototype.isStartTimeLocked=bu.prototype.Jl,bu.prototype.lockStartTime=bu.prototype.Kf,bu.prototype.getMaxSegmentEndTime=bu.prototype.Xk,bu.prototype.notifyPeriodDuration=bu.prototype.sj,bu.prototype.notifySegments=bu.prototype.Ce,bu.prototype.notifyTimeRange=bu.prototype.tj,bu.prototype.getDelay=bu.prototype.Lk,bu.prototype.setDelay=bu.prototype.bi,bu.prototype.getSegmentAvailabilityDuration=bu.prototype.yf,bu.prototype.setSegmentAvailabilityDuration=bu.prototype.hg,bu.prototype.setStatic=bu.prototype.sd,bu.prototype.setClockOffset=bu.prototype.Kj,bu.prototype.getPresentationStartTime=bu.prototype.cl,bu.prototype.setDuration=bu.prototype.Fb,bu.prototype.setPresentationStartTime=bu.prototype.Nj,bu.prototype.getMaxSegmentDuration=bu.prototype.Wk,bu.prototype.getDuration=bu.prototype.getDuration,wu.prototype.release=function(){this.j&&(this.j.release(),this.j=null),null!=this.i&&(this.i.stop(),this.i=null),this.u&&(this.u.release(),this.u=null),this.g=this.F=this.A=null},wu.prototype.Tf=function(){this.C=!0,this.i&&this.i.xa(this.h.gapJumpTimerTime),Cu(this)},xu.prototype.release=function(){this.h&&this.h.release(),this.j=this.h=null},Tu.prototype.release=function(){this.h&&this.h.release(),this.h=null};var ku=new Rt((function(){return new Map([[HTMLMediaElement.HAVE_METADATA,"loadedmetadata"],[HTMLMediaElement.HAVE_CURRENT_DATA,"loadeddata"],[HTMLMediaElement.HAVE_FUTURE_DATA,"canplay"],[HTMLMediaElement.HAVE_ENOUGH_DATA,"canplaythrough"]])}));function Iu(t,e,n,r){var i=this;this.g=t,this.m=e,this.A=n,this.l=null,this.j=function(){return null==i.l&&(i.l=r()),i.l},this.u=!1,this.h=new Me,this.i=new Pu(t),Eu(this.g,HTMLMediaElement.HAVE_METADATA,this.h,(function(){Lu(i,i.j())}))}function Mu(t){return t.u?t.g.currentTime:t.j()}function Ru(t,e){t.g.readyState>0?Du(t.i,e):Eu(t.g,HTMLMediaElement.HAVE_METADATA,t.h,(function(){Lu(t,t.j())}))}function Lu(t,e){Math.abs(t.g.currentTime-e)<.001?Ou(t):(t.h.ua(t.g,"seeking",(function(){Ou(t)})),Du(t.i,t.g.currentTime&&0!=t.g.currentTime?t.g.currentTime:e))}function Ou(t){t.u=!0,t.h.o(t.g,"seeking",(function(){return t.m()})),t.A(t.g.currentTime)}function Pu(t){var e=this;this.g=t,this.m=10,this.j=this.l=this.i=0,this.h=new Wr((function(){e.i<=0||e.g.currentTime!=e.l||e.g.currentTime===e.j?e.h.stop():(e.g.currentTime=e.j,e.i--)}))}function Du(t,e){t.l=t.g.currentTime,t.j=e,t.i=t.m,t.g.currentTime=e,t.h.xa(.1)}function _u(t){this.g=t,this.i=!1,this.h=null,this.j=new Me}function Nu(t){return t.g.getStartDate&&(t=t.g.getStartDate().getTime(),!isNaN(t))?t/1e3:null}function Uu(t,e){return(t=t.g.seekable).length>0&&(e=Math.max(t.start(0),e),e=Math.min(t.end(t.length-1),e)),e}function Bu(t,e,n,r,i,a){var o=this;this.h=t,this.g=e.presentationTimeline,this.l=n,this.A=i,this.u=null,this.i=new wu(t,e.presentationTimeline,n,a),this.j=new Iu(t,(function(){t:{var t=o.i;t.m=!0,t.C=!1,t.i&&t.i.xa(t.h.gapJumpTimerTime),Cu(t);var e=Mu(o.j);if(t=Fu(o,e),!Ge()&&Math.abs(t-e)>.001){e=!1;var n=Lt().Fj();if(n){var r=Date.now()/1e3;(!o.u||o.u<r-n)&&(o.u=r,e=!0)}else e=!0;if(e){Ru(o.j,t),t=void 0;break t}}o.A(),t=void 0}return t}),(function(t){var e=o.i;e.g.seeking&&!e.m&&(e.m=!0,e.l=t),e.i&&e.i.xa(e.h.gapJumpTimerTime),Cu(e)}),(function(){return ju(o,r)})),this.m=new Wr((function(){if(0!=o.h.readyState&&!o.h.paused){var t=Mu(o.j),e=o.g.fc(),n=o.g.Lb();n-e<3&&(e=n-3),t<e&&(t=Fu(o,t),o.h.currentTime=t)}}))}function ju(t,e){return null==e?e=t.g.getDuration()<1/0?t.g.fc():t.g.Lb():e instanceof Date?e=e.getTime()/1e3-(t.g.m||t.g.i):e<0&&(e=t.g.Lb()+e),qu(t,Vu(t,e))}function qu(t,e){var n=t.g.getDuration();return e>=n?n-t.l.durationBackoff:e}function Fu(t,e){var n=t.l.rebufferingGoal,r=t.l.safeSeekOffset,i=t.g.fc(),a=t.g.Lb(),o=t.g.getDuration();a-i<3&&(i=a-3);var s=t.g.qe(n),u=t.g.qe(r);return n=t.g.qe(n+r),e>=o?qu(t,e):e>a?a-t.l.safeSeekEndOffset:e<i?t.g.U()&&t.l.returnToEndOfLiveWindowWhenOutside?a-t.l.safeSeekEndOffset:rs(t.h.buffered,u)?u:n:e>=s||rs(t.h.buffered,e)?e:n}function Vu(t,e){var n=t.g.fc();return e<n?n:e>(t=t.g.Lb())?t:e}function Gu(t){this.g=t,this.m=null,this.i=0,this.u=!1}function zu(t){return t.g[0]||null}function Hu(t,e,n){return new Gu([t=new Xo(t,t+e,(function(){return n}),0,null,null,t,t,t+e)])}function Ku(t,e,n,r){this.i=t,this.h=e,this.g=n,this.reverse=r}function Wu(){Gu.call(this,[]),this.h=[]}function $u(t){var e=this;this.g=t,this.j=!1,this.i=this.g.xf(),this.h=new Wr((function(){e.g.pj(.25*e.i)}))}function Xu(t){t.h.stop();var e=t.j?0:t.i;if(e>=0)try{return void(t.g.xf()!=e&&t.g.ei(e))}catch(t){}t.h.xa(.25),0!=t.g.xf()&&t.g.ei(0)}function Yu(t){var e=this;this.j=t,this.h=new Me,this.g=new Set,this.i=new Wr((function(){Ju(e,!1)})).Ka(),t.paused||this.i.xa(.25),this.h.o(t,"playing",(function(){e.i.Ka().xa(.25)})),this.h.o(t,"pause",(function(){e.i.stop()}))}function Ju(t,e){for(var n=t.j.currentTime,r=(t=g(t.g)).next();!r.done;r=t.next())r.value.j(n,e)}function Zu(t){tt.call(this),this.g=new Map,this.h=t}function Qu(t,e,n){return!!((t=t.h()[n])&&t.length>0&&(n=t[t.length-1].end,e>=t[0].start&&e<n))}function tl(t){var e={bandwidth:t.bandwidth||0,audioSamplingRate:null,codecs:t.codecs,contentType:t.type,frameRate:null,height:null,mimeType:t.mimeType,channelsCount:null,pixelAspectRatio:null,width:null,label:null,roles:t.roles,language:null};return"video"==t.type&&(e.frameRate=t.frameRate||null,e.height=t.height||null,e.pixelAspectRatio=t.pixelAspectRatio||null,e.width=t.width||null),"audio"==t.type&&(e.audioSamplingRate=t.audioSamplingRate,e.channelsCount=t.channelsCount,e.label=t.label||null,e.language=t.language),e}function el(t){tt.call(this),this.h=new Map,this.i=t,this.g=null}function nl(t,e){var n=e.schemeIdUri+"_"+e.id+"_"+e.startTime.toFixed(1)+"_"+e.endTime.toFixed(1);t.h.has(n)||(t.h.set(n,e),e=new z("regionadd",new Map([["region",e]])),t.dispatchEvent(e),function(t){t.g||(t.g=new Wr((function(){for(var e=t.i(),n=g(t.h),r=n.next();!r.done;r=n.next()){var i=g(r.value);r=i.next().value,(i=i.next().value).endTime<e.start&&(t.h.delete(r),r=new z("regionremove",new Map([["region",i]])),t.dispatchEvent(r))}!t.h.size&&t.g&&(t.g.stop(),t.g=null)})).xa(2))}(t))}function rl(t,e,n,r,i){this.m=t,this.i=e,this.l=n,this.g=new Map,this.j=new Map,this.h=null,this.u=r,this.A=i||function(t,e){return!(e.fastSwitching&&t.nd&&t.ye)}}function il(t,e){t.l=e;for(var n=(t=g(t.g.values())).next();!n.done;n=t.next())n.value.g=e}function al(t,e,n){if(n=void 0!==n&&n,!t.i.segmentIndex)return Promise.resolve();if(t.h||(t.h=t.i.segmentIndex.ec(e,!0,t.u)),!t.h)return Promise.resolve();for(n&&t.h.next(),e=[];t.g.size<t.m&&(n=t.h.next().value);){var r=!0;if(n.isPreload()&&null!=n.endByte&&(r=!1),2==n.Tc()&&(r=!1),n.hc(!1)&&(r=!1),r&&n.ia&&e.push(ol(t,n.ia)),r&&!t.g.has(n)&&(r=new pl(t.l),e.push(hl(r,n,t.i)),t.g.set(n,r)),!t.A(n,t.i))break}return ll(t),Promise.all(e)}function ol(t,e){if(!t.i.segmentIndex||e.hc()||Array.from(t.j.keys()).some((function(t){return $o(t,e)})))return Promise.resolve();var n=new pl(t.l),r=hl(n,e,t.i);return t.j.set(e,n),r}function sl(t,e){for(var n=(e=g(e.keys())).next();!n.done;n=e.next())(n=n.value)&&dl(t,n)}function ul(t){sl(t,t.g),sl(t,t.j),t.h=null}function ll(t){if(t.g.size)for(var e=Array.from(t.g.keys()),n=g(t.j.keys()),r=n.next(),i={};!r.done;i={Dh:void 0},r=n.next())i.Dh=r.value,e.some(function(t){return function(e){return $o(e.ia,t.Dh)}}(i))||dl(t,i.Dh)}function cl(t,e){t.m=e;for(var n=Array.from(t.g.keys());n.length>e;){var r=n.pop();r&&dl(t,r)}ll(t)}function dl(t,e){var n=t.g;e instanceof Wo&&(n=t.j),t=n.get(e),n.delete(e),t&&t.abort()}function pl(t){this.g=t,this.De=this.mi=null}function hl(t,e,n){var r=new Uint8Array(0);return t.De=t.g(e,n,(function(e){return P((function(n){if(1==n.g)return r=r.byteLength>0?Yt(r,e):e,t.mi?w(n,t.mi(r),3):n.B(0);r=new Uint8Array(0),C(n)}))})),t.De.promise.catch((function(t){return t instanceof It&&7001==t.code?Promise.resolve():Promise.reject(t)}))}function fl(t){var e=Pr(t);return{type:e.split("/")[0],mimeType:e,codecs:t=Dr(t),language:null,height:null,width:null,channelCount:null,sampleRate:null,closedCaptions:new Map,Oe:null,colorGamut:null,frameRate:null}}function gl(t,e,n){function r(t){o=t.name;var e=t.reader;e.skip(24);var n=e.Ia(),r=e.Ia();e.skip(50),h=String(n),p=String(r),t.reader.Pa()&&ga(t)}function i(t){var e=go(t.reader);f=e.channelCount,m=e.sampleRate,a(t.name)}function a(t){switch(t=t.toLowerCase()){case"avc1":case"avc3":u.push(t+".42E01E"),c=!0;break;case"hev1":case"hvc1":u.push(t+".1.6.L93.90"),c=!0;break;case"dvh1":case"dvhe":u.push(t+".05.04"),c=!0;break;case"vp09":u.push(t+".00.10.08"),c=!0;break;case"av01":u.push(t+".0.01M.08"),c=!0;break;case"mp4a":s.push("mp4a.40.2"),l=!0;break;case"ac-3":case"ec-3":case"ac-4":case"opus":case"flac":s.push(t),l=!0;break;case"apac":s.push("apac.31.00"),l=!0}}var o,s=[],u=[],l=!1,c=!1,d=null,p=null,h=null,f=null,m=null,v=null,y=null;if((new fa).box("moov",ga).box("trak",ga).box("mdia",ga).X("mdhd",(function(t){d=ho(t.reader,t.version).language})).box("minf",ga).box("stbl",ga).X("stsd",ma).box("mp4a",(function(t){var e=go(t.reader);f=e.channelCount,m=e.sampleRate,t.reader.Pa()?ga(t):a(t.name)})).box("esds",(function(t){t=t.reader;for(var e,n,r="mp4a";t.Pa();){e=t.ba();for(var i=t.ba();128&i;)i=t.ba();if(3==e)t.Ia(),128&(i=t.ba())&&t.Ia(),64&i&&t.skip(t.ba()),32&i&&t.Ia();else if(4==e)n=t.ba(),t.skip(12);else if(5==e)break}n&&(r+="."+vo(n),5==e&&t.Pa()&&(31===(n=(248&(e=t.ba()))>>3)&&t.Pa()&&(n=32+((7&e)<<3)+((224&t.ba())>>5)),r+="."+n)),s.push(r),l=!0})).box("ac-3",i).box("ec-3",i).box("ac-4",i).box("Opus",i).box("fLaC",i).box("apac",i).box("avc1",r).box("avc3",r).box("hev1",r).box("hvc1",r).box("dva1",r).box("dvav",r).box("dvh1",r).box("dvhe",r).box("vp09",r).box("av01",r).box("avcC",(function(t){var e=o||"";switch(o){case"dvav":e="avc3";break;case"dva1":e="avc1"}(t=t.reader).skip(1),t=e+"."+vo(t.ba())+vo(t.ba())+vo(t.ba()),u.push(t),c=!0})).box("hvcC",(function(t){var e=o||"";switch(o){case"dvh1":e="hvc1";break;case"dvhe":e="hev1"}var n=t.reader;n.skip(1);var r=["","A","B","C"][(t=n.ba())>>6],i=31&t,a=n.$(),s=(32&t)>>5?"H":"L";t=[n.ba(),n.ba(),n.ba(),n.ba(),n.ba(),n.ba()],n=n.ba();for(var l=0,d=0;d<32&&(l|=1&a,31!=d);d++)l<<=1,a>>=1;for(e=e+"."+r+i+"."+vo(l,!0),e+="."+s+n,r="",i=t.length;i--;)((s=t[i])||r)&&(r="."+s.toString(16).toUpperCase()+r);e+=r,u.push(e),c=!0})).box("dvcC",(function(t){var e=o||"";switch(o){case"hvc1":e="dvh1";break;case"hev1":e="dvhe";break;case"avc1":e="dva1";break;case"avc3":e="dvav";break;case"av01":e="dav1"}var n=t.reader;n.skip(2),t=n.ba(),n=n.ba(),u.push(e+"."+yo(t>>1&127)+"."+yo(t<<5&32|n>>3&31)),c=!0})).box("dvvC",(function(t){var e=o||"";switch(o){case"hvc1":e="dvh1";break;case"hev1":e="dvhe";break;case"avc1":e="dva1";break;case"avc3":e="dvav";break;case"av01":e="dav1"}var n=t.reader;n.skip(2),t=n.ba(),n=n.ba(),u.push(e+"."+yo(t>>1&127)+"."+yo(t<<5&32|n>>3&31)),c=!0})).X("vpcC",(function(t){var e=o||"",n=t.reader;t=n.ba();var r=n.ba();n=n.ba()>>4&15,u.push(e+"."+yo(t)+"."+yo(r)+"."+yo(n)),c=!0})).box("av1C",(function(t){var e=o||"";switch(o){case"dav1":e="av01"}var n=t.reader;n.skip(1);var r=(t=n.ba())>>>5,i=(64&(n=n.ba()))>>6;u.push(e+"."+r+"."+yo(31&t)+(n>>>7?"H":"M")+"."+yo(2===r&&i?(32&n)>>5?12:10:i?10:8)+"."+((16&n)>>4)+"."+((8&n)>>3)+((4&n)>>2)+(3&n)+"."+yo(1)+"."+yo(1)+"."+yo(1)+".0"),c=!0})).box("enca",ya).box("encv",va).box("sinf",ga).box("frma",(function(t){a(t=mo(t.reader).codec)})).box("colr",(function(t){u=u.map((function(e){if(e.startsWith("av01.")){var n=t.reader,r=n.Wa(),i=n.ac(4,!1),a=String.fromCharCode(i[0]);if(a+=String.fromCharCode(i[1]),a+=String.fromCharCode(i[2]),"nclx"===(a+=String.fromCharCode(i[3]))){i=n.Ia(),a=n.Ia();var o=n.Ia(),s=n.ba()>>7,u=e.split(".");10==u.length&&(u[6]=yo(i),u[7]=yo(a),u[8]=yo(o),u[9]=String(s),e=u.join("."))}n.seek(r)}return e}));var e=function(t){var e=null,n=null,r=t.ac(4,!1),i=String.fromCharCode(r[0]);if(i+=String.fromCharCode(r[1]),i+=String.fromCharCode(r[2]),"nclx"===(i+=String.fromCharCode(r[3]))){switch(t.Ia()){case 1:case 5:case 6:case 7:e="srgb";break;case 9:e="rec2020";break;case 11:case 12:e="p3"}switch(r=t.Ia(),t.Ia(),r){case 1:case 6:case 13:case 14:case 15:n="SDR";break;case 16:n="PQ";break;case 18:n="HLG"}}return{colorGamut:e,Oe:n}}(t.reader),n=e.colorGamut;v=e.Oe,y=n})).parse(t||e,!0,!0),!s.length&&!u.length)return null;var A=l&&!c,b=new Map;if(c&&!n){n=new $e("video/mp4"),t&&n.init(t);try{n.Uf(e);for(var w=g(n.zg()),C=w.next();!C.done;C=w.next()){var x=C.value;b.set(x,x)}}catch(t){}n.fe()}return{type:A?"audio":"video",mimeType:A?"audio/mp4":"video/mp4",codecs:ml(s.concat(u)).join(", "),language:d,height:p,width:h,channelCount:f,sampleRate:m,closedCaptions:b,Oe:v,colorGamut:y,frameRate:null}}function ml(t){for(var e=new Set,n=[],r=(t=g(t)).next();!r.done;r=t.next()){var i=Or(r=r.value);e.has(i)||(n.push(r),e.add(i))}return e=ne("audio",n),r=ne("video",n),t=ne(re,n),r=function(t){if(t.length<=1)return t;var e=t.find((function(t){return t.startsWith("dvav.")||t.startsWith("dva1.")||t.startsWith("dvh1.")||t.startsWith("dvhe.")||t.startsWith("dav1.")||t.startsWith("dvc1.")||t.startsWith("dvi1.")}));return e?Fe('video/mp4; codecs="'+e+'"')?[e]:t.filter((function(t){return t!=e})):t}(r),e=e.concat(r).concat(t),n.length&&!e.length?n:e}function vl(e,n,r){var i,a,o,s,u;return P((function(l){if(1==l.g)return(i=n).cryptoKey?l.B(2):w(l,i.fetchKey(),3);if(!(a=i.iv))for(a=Tt(new ArrayBuffer(16)),o=i.firstMediaSequenceNumber+r,s=a.byteLength-1;s>=0;s--)a[s]=255&o,o>>=8;return u="CBC"==n.blockCipherMode?{name:"AES-CBC",iv:a}:{name:"AES-CTR",counter:a,length:64},l.return(t.crypto.subtle.decrypt(u,i.cryptoKey,e))}))}function yl(t,e,n,r,i){return t=Qi(t,r,i),0==e&&null==n||(t.headers.Range=n?"bytes="+e+"-"+n:"bytes="+e+"-"),t}function Al(t,e){var n=this;this.g=e,this.j=t,this.i=null,this.L=new Map,this.F=1,this.C=this.u=null,this.S=0,this.h=new Map,this.M=!1,this.V=null,this.D=!1,this.l=new sa((function(){return function(t){var e,n,r,i,a,o;return P((function(s){if(1==s.g){for(t.A&&t.A.stop(),t.A=null,t.K&&t.K.stop(),t.K=null,t.G&&(t.G.release(),t.G=null),e=[],n=g(t.h.values()),r=n.next();!r.done;r=n.next())jl(i=r.value),e.push(ql(i)),i.ma&&(ul(i.ma),i.ma=null);for(a=g(t.m.values()),o=a.next();!o.done;o=a.next())ul(o.value);return w(s,Promise.all(e),2)}t.h.clear(),t.m.clear(),t.g=null,t.j=null,t.i=null,t.I=null,C(s)}))}(n)})),this.P=Date.now()/1e3,this.m=new Map,this.R={projection:null,hfov:null},this.Z=0,this.W=1/0,this.H=null,this.O=[],this.A=new Wr((function(){if(n.j&&n.g)if(n.j.presentationTimeline.U()){var t=n.j.presentationTimeline.fc(),e=n.j.presentationTimeline.Lb();e-t>1?function(t,e,n){P((function(r){return t.K.g||t.g.error||t.M||t.G||$s(t)||Xs(t)?r.return():w(r,lu(t,(function(){$s(t)||Xs(t)||t.i.setLiveSeekableRange(e,n)})),0)}))}(n.g.ha,t,e):nu(n.g.ha)}else nu(n.g.ha),n.A&&n.A.stop();else n.A&&n.A.stop()})),this.I=null,this.J=!1,this.K=new Wr((function(){var t=n.g.video;!t.ended&&n.I&&(n.J=!0,t.currentTime=n.I,n.I=null)})),this.G=new Me}function bl(t,e){for(var n=t.g.Za()<0,r=g(t.h.values()),i=r.next();!i.done;i=r.next())(i=i.value).Ba&&i.Ba.Yd(n),i.ma&&i.ma.Yd(n);for(i=(r=g(t.m.values())).next();!i.done;i=r.next())i.value.Yd(n);(n=t.h.get("video"))&&(r=n.stream)&&(e?(e=r.trickModeVideo)&&!n.Yc&&(xl(t,e,!1,0,!1),n.Yc=r):(e=n.Yc)&&(n.Yc=null,xl(t,e,!0,0,!1)))}function wl(t,e,n,r,i,a){n=void 0!==n&&n,r=void 0===r?0:r,i=void 0!==i&&i,a=void 0!==a&&a,t.u=e,t.M&&(e.video&&xl(t,e.video,n,r,i,a),e.audio&&xl(t,e.audio,n,r,i,a))}function Cl(t,e){P((function(n){if(1==n.g)return t.H=null,t.C=e,t.M?e.segmentIndex?n.B(2):w(n,e.createSegmentIndex(),2):n.return();xl(t,e,!0,0,!1),C(n)}))}function xl(t,e,n,r,i,a){var o=t.h.get(e.type);o||e.type!=re?o&&(o.Yc&&(e.trickModeVideo?(o.Yc=e,e=e.trickModeVideo):o.Yc=null),o.stream!=e||i)&&(t.m.has(e)?o.ma=t.m.get(e):o.ma&&function(t,e){e&&e!==t.i&&(ul(t),t.i=e)}(o.ma,e),e.type==re&&o.stream!=e&&(i=kr(e.mimeType,e.codecs),Ws(t.g.ha,i,t.j.sequenceMode,e.external)),!t.m.has(o.stream)&&o.stream.closeSegmentIndex&&(o.Ra?(i="("+o.type+":"+o.stream.id+")",t.L.has(i)||t.L.set(i,o.stream.closeSegmentIndex)):o.stream.closeSegmentIndex()),i=o.stream.isAudioMuxedInVideo!=e.isAudioMuxedInVideo,o.stream=e,o.Ba=null,o.Gg=!!a,e.dependencyStream?o.Nc=El(t,e.dependencyStream):o.Nc=null,zl(t),i&&(o.xb=null,o.Ac=null,o.zc=null,e.isAudioMuxedInVideo&&(e=null,"video"===o.type?e=t.h.get("audio"):"audio"===o.type&&(e=t.h.get("video")),e&&(ql(e).catch((function(){})),e.xb=null,e.Ac=null,e.zc=null,Sl(t,e),Tl(t,e).catch((function(e){t.g&&t.g.onError(e)}))))),n?o.dc?o.be=!0:o.Ra?(o.uc=!0,o.Cd=r,o.be=!0):(jl(o),Ul(t,o,!0,r).catch((function(e){t.g&&t.g.onError(e)}))):o.Ra||o.yb||Bl(t,o,0),Tl(t,o).catch((function(e){t.g&&t.g.onError(e)}))):function(t,e){var n,r,i,a,o;P((function(s){switch(s.g){case 1:return n=ie,t.S++,r=t.S,x(s,2),w(s,tu(t.g.ha,n.Va),4);case 4:S(s,3);break;case 2:i=E(s),t.g&&t.g.onError(i);case 3:a=kr(e.mimeType,e.codecs),Ws(t.g.ha,a,t.j.sequenceMode,e.external),(t.g.ha.Z.isTextVisible()||t.i.alwaysStreamText)&&t.S==r&&(o=El(t,e),t.h.set(n.Va,o),Bl(t,o,0)),C(s)}}))}(t,e)}function Tl(t,e){var n,r,i;return P((function(a){if(1==a.g)return e.$a?(n=e.stream,r=e.$a,n.segmentIndex?a.B(2):w(a,n.createSegmentIndex(),2)):a.return();if(4!=a.g)return!(i=n.dependencyStream)||i.segmentIndex?a.B(4):w(a,i.createSegmentIndex(),4);if(e.$a!=r||e.stream!=n)return a.return();var o=t.g.Qc(),s=Js(t.g.ha,e.type),u=e.stream.segmentIndex.find(e.Ua?e.Ua.endTime:o),l=null==u?null:e.stream.segmentIndex.get(u);u=l?Yo(l):null,l&&!u&&(u=(l.endTime-l.getStartTime())*(e.stream.bandwidth||t.u.bandwidth)/8),u?((l=l.ia)&&(u+=(l.endByte?l.endByte+1-l.startByte:null)||0),o=8*u/(l=t.g.getBandwidthEstimate())<(s||0)-o-t.i.rebufferingGoal||e.$a.h.g>u):o=!0,o&&e.$a.abort(),C(a)}))}function Sl(t,e){e.dc||e.uc||(e.Ra?(e.uc=!0,e.Cd=0):null==Ys(t.g.ha,e.type)?null==e.yb&&Bl(t,e,0):(jl(e),Ul(t,e,!1,0).catch((function(e){t.g&&t.g.onError(e)}))))}function El(t,e){var n={stream:e,type:e.type,Ba:null,ma:kl(t,e),Ua:null,xb:null,Jf:null,Ac:null,zc:null,Hf:null,If:null,Yc:null,endOfStream:!1,Ra:!1,yb:null,uc:!1,Cd:0,be:!1,dc:!1,rd:!0,Gg:!1,Sh:!1,se:!1,$a:null,Nc:null};return e.dependencyStream&&(n.Nc=El(t,e.dependencyStream)),n}function kl(t,e){if("video"===e.type&&t.i.disableVideoPrefetch||"audio"===e.type&&t.i.disableAudioPrefetch||e.type===re&&("application/cea-608"==e.mimeType||"application/cea-708"==e.mimeType)||e.type===re&&t.i.disableTextPrefetch)return null;if(t.m.has(e))return t.m.get(e);var n=t.h.get(e.type);return(n=n&&n.ma)&&e===n.i?n:t.i.segmentPrefetchLimit>0?new rl(t.i.segmentPrefetchLimit,e,(function(e,n,r){return Nl(e,n,r||null,t.i.retryParameters,t.g.Cc)}),t.g.Za()<0,t.g.xm):null}function Il(e,n){var r,i,a,o,s,u,l,c,d;return P((function(p){switch(p.g){case 1:if(ua(e.l),r=ie,n.Ra||null==n.yb||n.dc)return p.return();if(n.yb=null,!n.uc){p.B(2);break}return w(p,Ul(e,n,n.be,n.Cd),3);case 3:return p.return();case 2:if(function(t,e){for(var n=g(t.L.entries()),r=n.next();!r.done;r=n.next()){var i=g(r.value);r=i.next().value,i=i.next().value,r.includes(e.type)&&(i(),t.L.delete(r))}}(e,n),n.stream.segmentIndex){p.B(4);break}return i=n.stream,x(p,5),w(p,n.stream.createSegmentIndex(),7);case 7:S(p,6);break;case 5:return a=E(p),w(p,Fl(e,n,a),8);case 8:return p.return();case 6:if(i!=n.stream)return i.closeSegmentIndex&&i.closeSegmentIndex(),n.Ra||n.yb||Bl(e,n,0),p.return();case 4:if(!n.Nc){p.B(9);break}if(n.Nc.stream.segmentIndex){p.B(9);break}return x(p,11),w(p,n.Nc.stream.createSegmentIndex(),13);case 13:S(p,9);break;case 11:E(p);case 9:x(p,14),null!=(o=function(e,n){if(Dl(n))return function(t,e){var n=Js(t,"video")||0;Vr(t.h,e,n)}(e.g.ha,n.stream.originalId||""),null;if(n.type==re&&function(t){t.h&&Vr(t.h,"",0)}(e.g.ha),n.stream.isAudioMuxedInVideo&&"audio"==n.type)return null;if(n.type!=re&&Xs(e.g.ha))return Vl(e,!0),null;var r=e.i.updateIntervalSeconds/Math.max(1,Math.abs(e.g.Za()));if(!Ks(e.g.ha)&&n.type!=re)return r/2;var i=e.g.Qc();if("audio"===n.type)for(var a=g(e.m.keys()),o=a.next();!o.done;o=a.next())(o=e.m.get(o.value)).cb(i,!0),al(o,i);a=n.Ua?n.Ua.endTime:i;var s=function(t,e,n){return e==re?null==(t=t.h).h||t.h<n?0:t.h-Math.max(n,t.g):is(t=Zs(t,e),n)}(e.g.ha,n.type,i);o=Math.max(1,Math.max(e.i.rebufferingGoal,e.i.bufferingGoal)*e.F);var u=e.j.presentationTimeline.getDuration()-a,l=Js(e.g.ha,n.type);if(u<1e-6&&l)return n.endOfStream=!0,"video"==n.type&&(e=e.h.get(re))&&Dl(e)&&(e.endOfStream=!0),null;if(n.endOfStream=!1,s>=o)return r/2;if(u=!n.Ba,!(l=Ml(e,n,i,l)))return r;s=n.xb;var c=l.ia;s&&c&&$o(c,s)&&(s.g=c.g),s=!1,u&&n.Gg&&(s=!0,n.Gg=!1),u=1/0;for(var d=(c=g(c=Array.from(e.h.values()))).next();!d.done;d=c.next())Dl(d=d.value)||d.Ba&&!d.Ba.current()||(u=Math.min(u,d.Ua?d.Ua.endTime:i));return a>=u+e.j.presentationTimeline.h?r:(n.ma&&n.Ba&&!e.m.has(n.stream)&&(n.ma.cb(l.startTime+.001),al(n.ma,l.startTime).catch((function(){}))),Gl(e)&&function(t,e,n){if(e.type===re)return!1;var r=e.xb;if(!r)return!1;var i=n.ia;if(n=r.g!==i.g,"reset_to_encrypted"===t.i.crossBoundaryStrategy&&(r.encrypted||i.encrypted||(n=!1),r.encrypted&&(t.i.crossBoundaryStrategy="keep")),"RESET_ON_ENCRYPTION_CHANGE"===t.i.crossBoundaryStrategy&&r.encrypted==i.encrypted&&(n=!1),"keep"===t.i.crossBoundaryStrategy&&r.mimeType&&i.mimeType){var a=Lr(Dr(r.mimeType)),o=Lr(Dr(r.mimeType));r.mimeType==i.mimeType&&a==o&&(n=!1)}return n&&(t.J||e.rd)&&(t.J=!1,Vl(t,!0).then((function(){var e=(new Map).set("oldEncrypted",r.encrypted).set("newEncrypted",i.encrypted);t.g.onEvent(new z("boundarycrossed",e))}))),n}(e,n,l)||(function(e,n,r,i,a){var o,s,u,l,c,d,p,h,f,m,v,y,A,b,T,k;return P((function(I){switch(I.g){case 1:if(o=ie,s=n.stream,u=n.Ba,n.Ra=!0,x(I,2),2==i.Tc())throw new It(1,1,1011);return w(I,function(t,e,n,r){var i,a,o,s,u,l,c,d,p,h,f,m,v,y,A;return P((function(b){switch(b.g){case 1:if(i=ie,a=null==e.Ua,o=[],s=Math.max(0,Math.max(n.appendWindowStart,t.Z)-.1),u=Math.min(n.appendWindowEnd,t.W)+.1,l=n.codecs||e.stream.codecs,c=Or(l),d=Pr(n.mimeType||e.stream.mimeType),(p=n.timestampOffset)==e.Jf&&s==e.Ac&&u==e.zc&&c==e.Hf&&d==e.If){b.B(2);break}if(!(e.Hf&&e.If&&function(t,e,n,r,i){return(t=fu(t,e,n,r,i)).qc&&t.qc.destroy(),t.type==yu}(t.g.ha,e.type,d,l,Kl(t)))){b.B(3);break}if(h=null,e.type===i.Ha?h=t.h.get(i.na):e.type===i.na&&(h=t.h.get(i.Ha)),!h){b.B(3);break}return w(b,ql(h).catch((function(){})),5);case 5:h.xb=null,h.Ac=null,h.zc=null,Sl(t,h);case 3:return w(b,Ll(t,e,p,s,u,n,c,d),2);case 2:return $o(n.ia,e.xb)||(e.xb=n.ia,n.l&&n.ia&&(f=_l(t,e,n.ia),m=function(){var a,o,s,u,l,c,d,p,h,m,v;return P((function(y){switch(y.g){case 1:return x(y,2),w(y,f,4);case 4:return a=y.h,ua(t.l),o=null,s=new Map,u={projection:null,hfov:null},e.stream&&(l=e.stream.videoLayout)&&((c=l.split("/")).includes("PROJ-RECT")?u.projection="rect":c.includes("PROJ-EQUI")?u.projection="equi":c.includes("PROJ-HEQU")?u.projection="hequ":c.includes("PROJ-PRIM")?u.projection="prim":c.includes("PROJ-AIV")&&(u.projection="hequ")),(d=new fa).box("moov",ga).box("trak",ga).box("mdia",ga).X("mdhd",(function(t){o=ho(t.reader,t.version).timescale})).box("hdlr",(function(t){switch((t=t.reader).skip(8),t.od()){case"soun":s.set(i.na,o);break;case"vide":s.set(i.Ha,o)}o=null})),e.type!==i.Ha||u.projection||d.box("minf",ga).box("stbl",ga).X("stsd",ma).box("encv",va).box("avc1",va).box("avc3",va).box("hev1",va).box("hvc1",va).box("dvav",va).box("dva1",va).box("dvh1",va).box("dvhe",va).box("dvc1",va).box("dvi1",va).box("vexu",ga).box("proj",ga).X("prji",(function(t){t=t.reader.od(),u.projection=t})).box("hfov",(function(t){t=t.reader.$()/1e3,u.hfov=t})),d.parse(a,!0,!0),e.type===i.Ha&&function(t,e){if(t.R.projection!=e.projection||t.R.hfov!=e.hfov){if(null!=e.projection||null!=e.hfov){var n=(new Map).set("detail",e);n=new z("spatialvideoinfo",n)}else n=new z("nospatialvideoinfo");n.cancelable=!0,t.g.onEvent(n),t.R=e}}(t,u),s.has(e.type)?n.ia.timescale=s.get(e.type):null!=o&&(n.ia.timescale=o),(p=e.stream.segmentIndex)instanceof Wu&&(h=function(t,e){for(var n=(t=g(t.h)).next();!n.done;n=t.next())if(null!=(n=n.value).find(e))return n.pf();return-1}(p,n.startTime)),m=e.stream.closedCaptions&&e.stream.closedCaptions.size>0,w(y,t.g.Ii(e.type,a),5);case 5:return w(y,Qs(t.g.ha,e.type,a,null,e.stream,m,e.rd,r,!1,!1,h),6);case 6:S(y,0);break;case 2:throw v=E(y),e.xb=null,v}}))},v=n.startTime,a&&(null!=(y=Js(t.g.ha,e.type))&&(v=y)),t.g.Ul(v,n.ia),o.push(m()))),A=e.Ua?e.Ua.i:-1,n.i!=A&&o.push(function(t,e,n){var r,i;return P((function(a){return 1==a.g?e==(r=ie).Va?a.return():(e==r.Ha&&(t.Na=new Fi),!t.I||(i=Js(t,e))&&Math.abs(i-n)<.15?a.return():(uu(t,e,(function(){return iu(t,e)}),null),t.m&&uu(t,r.na,(function(){return iu(t,r.na)}),null),w(a,uu(t,e,(function(){return au(t,e,n)}),null),2))):t.m?w(a,uu(t,r.na,(function(){return au(t,r.na,n)}),null),0):a.B(0)}))}(t.g.ha,e.type,n.startTime)),w(b,Promise.all(o),0)}}))}(e,n,i,a),4);case 4:return ua(e.l),e.D?I.return():(l="video/mp4"==s.mimeType||"audio/mp4"==s.mimeType,c=t.ReadableStream,e.i.lowLatencyMode&&e.j.isLowLatency&&c&&l&&("HLS"!=e.j.type||i.u)?(p=new Uint8Array(0),f=h=!1,v=function(t){var o,u,l;return P((function(c){switch(c.g){case 1:if(h)return c.return();if(f=!0,ua(e.l),e.D)return c.return();if(x(c,2),p=Yt(p,t),o=!1,u=0,(new fa).box("mdat",(function(t){u=t.size+t.start,o=!0})).parse(p,!1,!0),!o){c.B(4);break}return l=p.subarray(0,u),p=p.subarray(u),w(c,Ol(e,n,r,s,i,l,!0,a),5);case 5:n.ma&&n.Ba&&al(n.ma,i.startTime,!0);case 4:S(c,0);break;case 2:m=E(c),C(c)}}))},w(I,_l(e,n,i,v),9)):w(I,_l(e,n,i),7));case 7:return d=I.h,ua(e.l),e.D?I.return():(ua(e.l),n.uc?(n.Ra=!1,Bl(e,n,0),I.return()):w(I,Ol(e,n,r,s,i,d,!1,a),6));case 9:if(y=I.h,m)throw m;if(f){I.B(10);break}return h=!0,ua(e.l),e.D?I.return():n.uc?(n.Ra=!1,Bl(e,n,0),I.return()):w(I,Ol(e,n,r,s,i,y,!1,a),10);case 10:n.ma&&n.Ba&&al(n.ma,i.startTime,!0);case 6:if(ua(e.l),e.D)return I.return();n.Ua=i,u.next(),n.Ra=!1,n.Sh=!1,A=e.g.ha.Oc(),b=A[n.type],JSON.stringify(b),n.uc||(T=null,n.type===o.Ha?T=e.h.get(o.na):n.type===o.na&&(T=e.h.get(o.Ha)),T&&T.type==o.na?e.g.Tf(i,n.stream,T.stream.isAudioMuxedInVideo):e.g.Tf(i,n.stream,n.stream.codecs.includes(","))),jl(n),Bl(e,n,0),S(I,0);break;case 2:if(k=E(I),ua(e.l,k),e.D)return I.return();if(n.Ra=!1,7001==k.code)n.Ra=!1,jl(n),Bl(e,n,0),I.B(0);else{if(n.type!=o.Va||!e.i.ignoreTextStreamFailures)return 3017==k.code?w(I,function(t,e,n){var r,i,a,o;return P((function(s){if(1==s.g){if(r=Array.from(t.h.values()),r.some((function(t){return t!=e&&t.Sh})))return s.B(2);if(i=0===t.i.maxDisabledTime&&1011==n.code?1:t.i.maxDisabledTime,t.g.disableStream(e.stream,i))return s.return();if(t.i.avoidEvictionOnQuotaExceededError)return Bl(t,e,4),s.return();if((a=Math.round(100*t.F))>20)t.F-=.2;else{if(!(a>4))return e.se=!0,t.D=!0,t.g.onError(n),s.return();t.F-=.04}return e.Sh=!0,o=t.g.Qc(),w(s,Pl(t,e,o),2)}Bl(t,e,4),C(s)}))}(e,n,k),0):(n.se=!0,1==k.category&&n.ma&&dl(n.ma,i),k.severity=2,w(I,Fl(e,n,k),0));e.h.delete(o.Va),I.B(0)}}}))}(e,n,i,l,s).catch((function(){})),n.Nc&&Rl(e,n.Nc,i,o)),null)}(e,n))&&(Bl(e,n,o),n.se=!1),S(p,15);break;case 14:return s=E(p),w(p,Fl(e,n,s),16);case 16:return p.return();case 15:if(n.type===r.Va)return p.return();if(u=[n],l=n.type===r.na?r.Ha:r.na,(c=e.h.get(l))&&u.push(c),!e.M||!u.every((function(t){return t.endOfStream}))){p.B(0);break}return w(p,e.g.ha.endOfStream(),18);case 18:ua(e.l),0!=(d=e.g.ha.getDuration())&&d<e.j.presentationTimeline.getDuration()&&e.j.presentationTimeline.Fb(d),C(p)}}))}function Ml(t,e,n,r){if(e.Ba)return(n=e.Ba.current())&&e.Ua&&Math.abs(e.Ua.startTime-n.startTime)<.001&&(n=e.Ba.next().value),n;if(e.Ua||r)return n=e.Ua?e.Ua.endTime:r,t=t.g.Za()<0,e.stream.segmentIndex&&(e.Ba=e.stream.segmentIndex.ec(n,!1,t)),e.Ba&&e.Ba.next().value;r=t.j.sequenceMode||Gl(t)?0:t.i.inaccurateManifestTolerance;var i=Math.max(n-r,0);t=t.g.Za()<0;var a=null;return r&&(e.stream.segmentIndex&&(e.Ba=e.stream.segmentIndex.ec(i,!1,t)),a=e.Ba&&e.Ba.next().value),a||(e.stream.segmentIndex&&(e.Ba=e.stream.segmentIndex.ec(n,!1,t)),a=e.Ba&&e.Ba.next().value),a}function Rl(t,e,n,r){var i,a,o,s,u,l,c,d,p,h;return P((function(f){switch(f.g){case 1:for(i=e.stream,s=(o=(a=i.segmentIndex)&&a.ec(n))&&o.next().value;s&&t.O.includes(s.startTime);)s=o&&o.next().value;if(!s){f.B(0);break}if(!(u=s.ia)||$o(u,e.xb)){f.B(3);break}return e.xb=u,x(f,4),w(f,_l(t,e,u),6);case 6:l=f.h;var g=t.g.ha;g.H&&Be(g.H,l,0,i),t.O=[],S(f,3);break;case 4:throw c=E(f),e.xb=null,c;case 3:if(e.Ua&&e.Ua==s){f.B(0);break}return e.Ua=s,x(f,8),w(f,_l(t,e,s),10);case 10:d=f.h,(g=t.g.ha).H&&Be(g.H,d,0,i),t.O.push(s.startTime),S(f,9);break;case 8:throw p=E(f),e.Ua=null,p;case 9:if(h=Math.max.apply(Math,[0].concat(m(t.O))),t.g.Qc()+r>h)return w(f,Rl(t,e,s.startTime,r),0);f.B(0)}}))}function Ll(t,e,n,r,i,a,o,s){var u,l,c,d,p;return P((function(h){switch(h.g){case 1:if(u=ie,l=Kl(t),x(h,2),e.Ac=r,e.zc=i,o&&(e.Hf=o),s&&(e.If=s),e.Jf=n,c=t.j.sequenceMode||"HLS"==t.j.type,d=null,e.type===u.Ha?d=t.h.get(u.na):e.type===u.na&&(d=t.h.get(u.Ha)),!(d&&d.stream&&d.stream.isAudioMuxedInVideo)){h.B(4);break}return w(h,eu(t.g.ha,d.type,n,r,i,c,d.stream.mimeType,d.stream.codecs,l),4);case 4:return w(h,eu(t.g.ha,e.type,n,r,i,c,a.mimeType||e.stream.mimeType,a.codecs||e.stream.codecs,l),6);case 6:S(h,0);break;case 2:throw p=E(h),e.Ac=null,e.zc=null,e.Hf=null,e.If=null,e.Jf=null,p}}))}function Ol(t,e,n,r,i,a,o,s){var u,l,c,d;return o=void 0!==o&&o,s=void 0!==s&&s,P((function(p){switch(p.g){case 1:return u=r.closedCaptions&&r.closedCaptions.size>0,t.i.shouldFixTimestampOffset&&(l="video/mp4"==r.mimeType||"audio/mp4"==r.mimeType,c=null,i.ia&&(c=i.ia.timescale),l&&c&&"video"===r.type&&"DASH"==t.j.type&&(new fa).box("moof",ga).box("traf",ga).X("tfdt",(function(n){var r,a,o,s,u;return P((function(l){return r=po(n.reader,n.version),(a=r.baseMediaDecodeTime)?(o=-a/c,(Number(e.Jf)||0)<o?(s=e.Ac,u=e.zc,w(l,Ll(t,e,o,s,u,i),0)):l.B(0)):l.return()}))})).parse(a,!1,o)),w(p,Pl(t,e,n),2);case 2:return ua(t.l),d=e.rd,e.rd=!1,w(p,t.g.Ii(e.type,a),3);case 3:return w(p,Qs(t.g.ha,e.type,a,i,r,u,d,s,o),4);case 4:ua(t.l),C(p)}}))}function Pl(t,e,n){var r,i,a,o,s,u,l,c,d;return P((function(p){return 1==p.g?((r=e.stream.segmentIndex)instanceof Wu&&(r.cb(t.j.presentationTimeline.Mb()),i=[],function(t,e){for(var n=(t=g(t.h)).next();!n.done;n=t.next())e(n.value)}(r,(function(t){i.push(t.pf())}))),a=Math.max(t.i.bufferBehind*t.F,t.j.presentationTimeline.h),null==(o=Ys(t.g.ha,e.type))?(t.H==e&&(t.H=null),p.return()):(s=n-o,u=t.i.evictionGoal,l=t.j.presentationTimeline.fc(),c=t.j.presentationTimeline.Lb(),d=s-a,c-l>u&&(d=Math.max(s-a,l-u-o)),d<=u?p.return():w(p,t.g.ha.remove(e.type,o,o+d,i),2))):4!=p.g?(ua(t.l),t.H?w(p,Pl(t,t.H,n),4):p.B(0)):(ua(t.l),void C(p))}))}function Dl(t){return t&&t.type==re&&("application/cea-608"==t.stream.mimeType||"application/cea-708"==t.stream.mimeType)}function _l(t,e,n,r){var i,a,o,s,u;return P((function(l){switch(l.g){case 1:if(i=n.hc())return l.return(i);if(a=null,e.ma){var c=e.ma,d=c.g;n instanceof Wo&&(d=c.j),d.has(n)?(c=d.get(n),r&&(c.mi=r),a=c.De):a=null}return a||(a=Nl(n,e.stream,r||null,t.i.retryParameters,t.g.Cc)),o=0,e.Ba&&(o=e.Ba.h),e.$a=a,w(l,a.promise,2);case 2:if(s=l.h,e.$a=null,u=s.data,!n.aesKey){l.B(3);break}return w(l,vl(u,n.aesKey,o),4);case 4:u=l.h;case 3:return l.return(u)}}))}function Nl(t,e,n,r,i,a){a=void 0!==a&&a;var o=t instanceof Xo?t:void 0,s=o?1:0;return(t=yl(t.T(),t.startByte,t.endByte,r,n)).contentType=e.type,i.request(ia,t,{type:s,stream:e,segment:o,isPreload:a})}function Ul(t,e,n,r){var i,a;return P((function(o){return 1==o.g?(e.uc=!1,e.be=!1,e.Cd=0,e.dc=!0,e.Ua=null,e.Ba=null,e.ma&&!t.m.has(e.stream)&&ul(e.ma),r?(i=t.g.Qc(),a=t.g.ha.getDuration(),w(o,t.g.ha.remove(e.type,i+r,a),3)):w(o,tu(t.g.ha,e.type),4)):3!=o.g?(ua(t.l),n?w(o,t.g.ha.flush(e.type),3):o.B(3)):(ua(t.l),e.dc=!1,e.endOfStream=!1,e.Ra||e.yb||Bl(t,e,0),void C(o))}))}function Bl(t,e,n){var r=e.type;(r!=re||t.h.has(r))&&(e.yb=new Kr((function(){var n;return P((function(r){return 1==r.g?(x(r,2),w(r,Il(t,e),4)):2!=r.g?S(r,0):(n=E(r),t.g&&t.g.onError(n),void C(r))}))})).Y(n))}function jl(t){null!=t.yb&&(t.yb.stop(),t.yb=null)}function ql(t){return P((function(e){return t.$a?w(e,t.$a.abort(),0):e.B(0)}))}function Fl(t,e,n){var r;return P((function(i){if(1==i.g)return 3024==n.code?(e.Ra=!1,jl(e),Bl(t,e,0),i.return()):w(i,qi(t.V),2);if(ua(t.l),1===n.category&&1003!=n.code){if(e.Yc)return bl(t,!1),i.return();r=0===t.i.maxDisabledTime&&1011==n.code?1:t.i.maxDisabledTime,n.handled=t.g.disableStream(e.stream,r),n.handled&&(n.severity=1)}n.handled&&1011==n.code||t.g.onError(n),n.handled||t.i.failureCallback(n),C(i)}))}function Vl(t,e){var n,r,i,a,o,s;return e=void 0!==e&&e,P((function(u){if(1==u.g){if(n=Date.now()/1e3,r=t.i.minTimeBetweenRecoveries,!e){if(!t.i.allowMediaSourceRecoveries||n-t.P<r)return u.return(!1);t.P=n}return i=ie,(a=t.h.get(i.na))&&(jl(a),a.$a&&(a.$a.abort(),a.$a=null),a.xb=null,a.Ac=null,a.zc=null,a.Ra=!1,a.uc=!1,a.Cd=0,a.be=!1,a.dc=!1,a.Ba&&a.Ba.Vh()),(o=t.h.get(i.Ha))&&(jl(o),o.$a&&(o.$a.abort(),o.$a=null),o.xb=null,o.Ac=null,o.zc=null,o.Ra=!1,o.uc=!1,o.Cd=0,o.be=!1,o.dc=!1,o.Ba&&o.Ba.Vh()),s=t.g.video.paused,w(u,pu(t.g.ha,Kl(t)),2)}return!o||o.dc||o.Ra||o.yb||Bl(t,o,0),!a||a.dc||a.Ra||a.yb||Bl(t,a,0),s||t.g.video.play(),u.return(!0)}))}function Gl(t){if("keep"!==t.i.crossBoundaryStrategy)return!0;var e=Lt();if(Ve()&&e.bd()){if(!e.lg())for(n=(e=g(t.h.keys())).next();!n.done;n=e.next())if((n=t.h.get(n.value)).type!==ie.Va&&(n=n.stream)&&n.fullMimeTypes&&n.fullMimeTypes.size>1){for(t=new Set,n=(e=g(n.fullMimeTypes)).next();!n.done;n=e.next())t.add(Rr(n.value));return t.size>1}}else for(var n=(e=g(t.h.keys())).next();!n.done;n=e.next())if((n=t.h.get(n.value)).type!==ie.Va&&(n=n.stream)&&n.fullMimeTypes&&n.fullMimeTypes.size>1)return!0;return!1}function zl(t){t.G.Sa(),Gl(t)&&(t.G.o(t.g.video,"waiting",(function(){return Hl(t)})),t.G.o(t.g.video,"timeupdate",(function(){return Hl(t)})))}function Hl(t){if(Gl(t)){t.K.stop();var e=t.g.Qc(),n=t.h.get("video")||t.h.get("audio");n&&(n=n.xb)&&null!==n.g&&((e=n.g-e)<0||e>1||(t.I=n.g+.1,t.K.Y(e)))}}function Kl(t,e){function n(e){if(e.fullMimeTypes&&e.fullMimeTypes.size>1&&t.h.has(e.type)){var n=t.h.get(e.type),r=Js(t.g.ha,n.type),i=t.g.Qc();(n=Ml(t,n,i,r))&&n.codecs&&n.mimeType&&(e.codecs=n.codecs,e.mimeType=n.mimeType)}}e=void 0!==e&&e;var r=new Map,i=t.u.audio;return i&&(n(i),r.set("audio",i)),(i=t.u.video)&&(n(i),r.set("video",i)),e&&t.C&&r.set(re,t.C),r}function Wl(){}function $l(t,e,n,r,i){var a,o=i in r,s=o?n.constructor==Object&&0==Object.keys(r).length:n.constructor==Object&&0==Object.keys(n).length,u=o||s,l=!0;for(a in e){var c=i+"."+a,d=o?r[i]:n[a];u||a in n?void 0===e[a]?void 0===d||u?delete t[a]:t[a]=dn(d):s?t[a]=e[a]:d.constructor==Object&&e[a]&&e[a].constructor==Object?(t[a]||(t[a]=dn(d)),c=$l(t[a],e[a],d,r,c),l=l&&c):typeof e[a]!=typeof d||null==e[a]||"function"!=typeof e[a]&&e[a].constructor!=d.constructor?($("Invalid config, wrong type for "+c),l=!1):"function"==typeof n[a]&&n[a].length!=e[a].length?(X("Unexpected number of arguments for "+c),t[a]=e[a]):t[a]=Array.isArray(t[a])?e[a].slice():e[a]:($("Invalid config, unrecognized key "+c),l=!1)}return l}function Xl(t,e){for(var n={},r=n,i=0,a=0;!((i=t.indexOf(".",i))<0);)0!=i&&"\\"==t[i-1]||(r[a=t.substring(a,i).replace(/\\\./g,".")]={},r=r[a],a=i+1),i+=1;return r[t.substring(a).replace(/\\\./g,".")]=e,n}function Yl(t,e){return t&&e}function Jl(t,e){function n(t){return t&&"object"==typeof t&&!Array.isArray(t)}return function t(e){for(var r=g(Object.keys(e)),i=r.next();!i.done;i=r.next())if(!(e[i=i.value]instanceof HTMLElement))if(n(e[i])&&0===Object.keys(e[i]).length)delete e[i];else{var a=e[i];Array.isArray(a)&&0===a.length||"function"==typeof e[i]?delete e[i]:n(e[i])&&(t(e[i]),0===Object.keys(e[i]).length&&delete e[i])}}(t=function t(e,r){return Object.keys(e).reduce((function(i,a){var o=e[a];return r.hasOwnProperty(a)?o instanceof HTMLElement&&r[a]instanceof HTMLElement?o.isEqualNode(r[a])||(i[a]=o):n(o)&&n(r[a])?(o=t(o,r[a]),(Object.keys(o).length>0||!n(o))&&(i[a]=o)):Array.isArray(o)&&Array.isArray(r[a])?ke(o,r[a])||(i[a]=o):Number.isNaN(o)&&Number.isNaN(r[a])||o!==r[a]&&(i[a]=o):i[a]=o,i}),{})}(t,e)),t}function Zl(){}function Ql(t){return new at(t=Bt(t)).Ib}function tc(t,e,n){function r(t){Et(a).setUint32(o,t.byteLength,!0),o+=4,a.set(Tt(t),o),o+=t.byteLength}if(!n||!n.byteLength)throw new It(2,6,6015);var i;i="string"==typeof e?qt(e,!0):e,t=qt(t=Bt(t),!0);var a=new Uint8Array(12+t.byteLength+i.byteLength+n.byteLength),o=0;return r(t),r(i),r(n),a}function ec(t,e,n){return"skd"!==e?t:(e=n.serverCertificate,tc(t,n=Bt(t).split("skd://").pop(),e))}function nc(t,e){2===t&&(t=e.drmInfo)&&_i(t.keySystem)&&(e.headers["Content-Type"]="application/octet-stream")}function rc(t,e,n){for(n=void 0===n||n,this.h=t,this.g=new Set([t]),e=(t=g(e=e||[])).next();!e.done;e=t.next())this.add(e.value,n)}function ic(t,e){if(t.mimeType!=e.mimeType)return!1;if(t=t.codecs.split(",").map((function(t){return Or(t)})),e=e.codecs.split(",").map((function(t){return Or(t)})),t.length!=e.length)return!1;t.sort(),e.sort();for(var n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function ac(t,e){if(t=new Set(t),e=new Set(e),t.delete("main"),e.delete("main"),t.size!=e.size)return!1;for(var n=(t=g(t)).next();!n.done;n=t.next())if(!e.has(n.value))return!1;return!0}function oc(){this.g=null}function sc(t,e){return t.filter((function(t){return!(t.audio&&t.audio.channelsCount&&t.audio.channelsCount>e)})).sort((function(t,e){return t.audio||e.audio?t.audio?e.audio?(e.audio.channelsCount||0)-(t.audio.channelsCount||0):1:-1:0}))}function uc(t,e){return t.filter((function(t){return!t.audio||t.audio.codecs==e}))}function lc(){}function cc(){var e=1/0,n=Lt();navigator.connection&&navigator.connection.saveData&&(e=360);var r={retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},servers:{},clearKeys:{},advanced:{},delayLicenseRequestUntilPlayed:!1,persistentSessionOnlinePlayback:!1,persistentSessionsMetadata:[],initDataTransform:function(e,n,r){return"apple"===t.shakaMediaKeysPolyfill&&"skd"==n&&(n=r.serverCertificate,e=tc(e,r=Ql(e),n)),e},logLicenseExchange:!1,updateExpirationTime:1,preferredKeySystems:[],keySystemsMapping:{},parseInbandPsshEnabled:!1,minHdcpVersion:"",ignoreDuplicateInitData:!0,defaultAudioRobustnessForWidevine:"SW_SECURE_CRYPTO",defaultVideoRobustnessForWidevine:"SW_SECURE_DECODE"},i="reload";Ve()&&n.bd()&&(i="smooth");var a={trackSelectionCallback:function(t){return P((function(e){return e.return(t)}))},downloadSizeCallback:function(t){var e;return P((function(n){return 1==n.g?navigator.storage&&navigator.storage.estimate?w(n,navigator.storage.estimate(),3):n.return(!0):(e=n.h,n.return(e.usage+t<.95*e.quota))}))},progressCallback:function(t,e){return Yl([t,e])},usePersistentLicense:!0,numberOfParallelDownloads:5},o={drm:r,manifest:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},availabilityWindowOverride:NaN,disableAudio:!1,disableVideo:!1,disableText:!1,disableThumbnails:!1,disableIFrames:!1,defaultPresentationDelay:0,segmentRelativeVttTiming:!1,raiseFatalErrorOnManifestUpdateRequestFailure:!1,continueLoadingWhenPaused:!0,ignoreSupplementalCodecs:!1,updatePeriod:-1,ignoreDrmInfo:!1,enableAudioGroups:!0,dash:{clockSyncUri:"",disableXlinkProcessing:!0,xlinkFailGracefully:!1,ignoreMinBufferTime:!1,autoCorrectDrift:!0,initialSegmentLimit:1e3,ignoreSuggestedPresentationDelay:!1,ignoreEmptyAdaptationSet:!1,ignoreMaxSegmentDuration:!1,keySystemsByURI:{"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:94ce86fb-07ff-4f43-adb8-93d2fa968ca2":"com.apple.fps","urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c":"com.huawei.wiseplay"},manifestPreprocessor:hc,manifestPreprocessorTXml:fc,sequenceMode:!1,useStreamOnceInPeriodFlattening:!1,enableFastSwitching:!0},hls:{ignoreTextStreamFailures:!1,ignoreImageStreamFailures:!1,defaultAudioCodec:"mp4a.40.2",defaultVideoCodec:"avc1.42E01E",ignoreManifestProgramDateTime:!1,ignoreManifestProgramDateTimeForTypes:[],mediaPlaylistFullMimeType:'video/mp2t; codecs="avc1.42E01E, mp4a.40.2"',liveSegmentsDelay:3,sequenceMode:n.vd(),ignoreManifestTimestampsInSegmentsMode:!1,disableCodecGuessing:!1,disableClosedCaptionsDetection:!1,allowLowLatencyByteRangeOptimization:!0,allowRangeRequestsToGuessMimeType:!1},mss:{manifestPreprocessor:hc,manifestPreprocessorTXml:fc,sequenceMode:!1,keySystemsBySystemId:{"9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","79f0049a-4098-8642-ab92-e65be0885f95":"com.microsoft.playready"}}},streaming:{retryParameters:{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},failureCallback:function(t){return Yl([t])},rebufferingGoal:0,bufferingGoal:10,bufferBehind:30,evictionGoal:1,ignoreTextStreamFailures:!1,alwaysStreamText:!1,startAtSegmentBoundary:!1,gapDetectionThreshold:.5,gapPadding:0,gapJumpTimerTime:.25,durationBackoff:1,safeSeekOffset:5,safeSeekEndOffset:0,stallEnabled:!0,stallThreshold:1,stallSkip:.1,useNativeHlsForFairPlay:!0,inaccurateManifestTolerance:2,lowLatencyMode:!0,preferNativeDash:!1,preferNativeHls:!1,updateIntervalSeconds:1,observeQualityChanges:!1,maxDisabledTime:30,segmentPrefetchLimit:1,prefetchAudioLanguages:[],disableAudioPrefetch:!1,disableTextPrefetch:!1,disableVideoPrefetch:!1,liveSync:{enabled:!1,targetLatency:.5,targetLatencyTolerance:.5,maxPlaybackRate:1.1,minPlaybackRate:.95,panicMode:!1,panicThreshold:60,dynamicTargetLatency:{enabled:!1,stabilityThreshold:60,rebufferIncrement:.5,maxAttempts:10,maxLatency:4,minLatency:1}},allowMediaSourceRecoveries:!0,minTimeBetweenRecoveries:5,vodDynamicPlaybackRate:!1,vodDynamicPlaybackRateLowBufferRate:.95,vodDynamicPlaybackRateBufferRatio:.5,preloadNextUrlWindow:30,loadTimeout:30,clearDecodingCache:!1,dontChooseCodecs:!1,shouldFixTimestampOffset:!1,avoidEvictionOnQuotaExceededError:!1,crossBoundaryStrategy:"keep",returnToEndOfLiveWindowWhenOutside:!1},networking:{forceHTTP:!1,forceHTTPS:!1,minBytesForProgressEvents:16e3},mediaSource:{codecSwitchingStrategy:i,addExtraFeaturesToSourceBuffer:function(t){return Yl([t],"")},forceTransmux:!1,insertFakeEncryptionInInit:!0,correctEc3Enca:!1,modifyCueCallback:function(t,e){return Yl([t,e])},dispatchAllEmsgBoxes:!1,useSourceElements:!0,durationReductionEmitsUpdateEnd:!0},offline:a,abrFactory:function(){return new Ii},adaptationSetCriteriaFactory:function(){return new(Function.prototype.bind.apply(oc,[null].concat(m(D.apply(0,arguments)))))},abr:{enabled:!0,useNetworkInformation:!0,defaultBandwidthEstimate:1e6,switchInterval:8,bandwidthUpgradeTarget:.85,bandwidthDowngradeTarget:.95,restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:e,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},advanced:{minTotalBytes:128e3,minBytes:16e3,fastHalfLife:2,slowHalfLife:5},restrictToElementSize:!1,restrictToScreenSize:!1,ignoreDevicePixelRatio:!1,clearBufferSwitch:!1,safeMarginSwitch:0,cacheLoadThreshold:5,minTimeToSwitch:0,preferNetworkInformationBandwidth:!1,removeLatencyFromFirstPacketTime:!0},autoShowText:3,preferredAudioLanguage:"",preferredAudioLabel:"",preferredTextLanguage:"",preferredAudioRole:"",preferredVideoRole:"",preferredTextRole:"",preferredAudioChannelCount:2,preferredVideoHdrLevel:"AUTO",preferredVideoLayout:"",preferredVideoLabel:"",preferredVideoCodecs:[],preferredAudioCodecs:[],preferredTextFormats:[],preferForcedSubs:!1,preferSpatialAudio:!1,preferredDecodingAttributes:[],restrictions:{minWidth:0,maxWidth:1/0,minHeight:0,maxHeight:1/0,minPixels:0,maxPixels:1/0,minFrameRate:0,maxFrameRate:1/0,minBandwidth:0,maxBandwidth:1/0,minChannelsCount:0,maxChannelsCount:1/0},playRangeStart:0,playRangeEnd:1/0,textDisplayer:{captionsUpdatePeriod:.25,fontScaleFactor:1},textDisplayFactory:function(){return null},cmcd:{enabled:!1,sessionId:"",contentId:"",rtpSafetyFactor:5,useHeaders:!1,includeKeys:[],version:1,targets:[]},cmsd:{enabled:!0,applyMaximumSuggestedBitrate:!0,estimatedThroughputWeightRatio:.5},lcevc:{enabled:!1,dynamicPerformanceScaling:!0,logLevel:0,drawLogo:!1,poster:!0},ads:{customPlayheadTracker:!1,skipPlayDetection:!1,supportsMultipleMediaElements:!0,disableHLSInterstitial:!1,disableDASHInterstitial:!1,allowPreloadOnDomElements:!0,allowStartInMiddleOfInterstitial:!0},ignoreHardwareResolution:!1,queue:{preloadNextUrlWindow:1/0,preloadPrevItem:!0,repeatMode:0}};return a.trackSelectionCallback=function(t){return P((function(e){return e.return(function(t,e,n){var r=n;"AUTO"==r&&(n=t.some((function(t){return!(!t.hdr||"HLG"!=t.hdr)})),r=Lt().Id(n));var i=t.filter((function(t){return!("variant"!=t.type||t.hdr&&t.hdr!=r)}));n=[];var a=me(e,i.map((function(t){return t.language})));a&&(n=i.filter((function(t){return de(t.language)==a}))),0==n.length&&(n=i.filter((function(t){return t.primary}))),0==n.length&&(i.map((function(t){return t.language})),n=i);var o=n.filter((function(t){return t.height&&t.height<=480}));for(o.length&&(o.sort((function(t,e){return e.height-t.height})),n=o.filter((function(t){return t.height==o[0].height}))),e=[],n.length&&(i=Math.floor(n.length/2),n.sort((function(t,e){return t.bandwidth-e.bandwidth})),e.push(n[i])),t=g(t),n=t.next();!n.done;n=t.next())(n=n.value).type!=re&&"image"!=n.type||e.push(n);return e}(t,o.preferredAudioLanguage,o.preferredVideoHdrLevel))}))},n.ab(o)}function dc(){return{streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}}}function pc(t,e,n){var r={".drm.keySystemsMapping":"",".drm.servers":"",".drm.clearKeys":"",".drm.advanced":{distinctiveIdentifierRequired:!1,persistentStateRequired:!1,videoRobustness:[],audioRobustness:[],sessionType:"",serverCertificate:new Uint8Array(0),serverCertificateUri:"",individualizationServer:"",headers:{}}};return $l(t,e,n||cc(),r,"")}function hc(t){return Yl([t],t)}function fc(t){return Yl([t],t)}function gc(){this.g=null,this.h=[]}function mc(t,e){var n=0;t.g&&t.g.state==e&&(n+=t.g.duration);for(var r=(t=g(t.h)).next();!r.done;r=t.next())n+=(r=r.value).state==e?r.duration:0;return n}function vc(){this.i=this.h=null,this.g=[]}function yc(t,e,n){t.i!=e&&(t.i=e,t.g.push({timestamp:Date.now()/1e3,id:e.id,type:"text",fromAdaptation:n,bandwidth:null}))}function Ac(){this.D=this.V=NaN,this.l="",this.j=this.jj=this.A=this.C=this.K=this.F=this.u=this.m=this.J=this.G=this.i=this.R=this.S=this.M=this.O=this.P=NaN,this.L=0,this.H=this.I=NaN,this.g=new gc,this.h=new vc}function bc(t,e,n){t.V=e,t.D=n}function wc(t,e){t.j=isNaN(t.j)?e:t.j+e}function Cc(t){for(var e=t.V,n=t.D,r=t.l,i=t.C,a=t.O,o=t.P,s=t.M,u=t.S,l=t.R,c=t.A,d=t.i,p=t.G,h=t.J,f=t.m,m=mc(t.g,"playing"),v=mc(t.g,"paused"),y=mc(t.g,"buffering"),A=t.u,b=t.F,w=t.K,C=t.jj,x=t.j,T=t.L,S=t.I,E=t.H,k=function(t){function e(t){return{timestamp:t.timestamp,state:t.state,duration:t.duration}}for(var n=[],r=g(t.h),i=r.next();!i.done;i=r.next())n.push(e(i.value));return t.g&&n.push(e(t.g)),n}(t.g),I=[],M=(t=g(t.h.g)).next();!M.done;M=t.next())M=M.value,I.push({timestamp:M.timestamp,id:M.id,type:M.type,fromAdaptation:M.fromAdaptation,bandwidth:M.bandwidth});return{width:e,height:n,currentCodecs:r,streamBandwidth:i,decodedFrames:a,droppedFrames:o,corruptedFrames:s,stallsDetected:u,gapsJumped:l,estimatedBandwidth:c,completionPercent:d,loadLatency:p,manifestTimeSeconds:h,drmTimeSeconds:f,playTime:m,pauseTime:v,bufferingTime:y,licenseTime:A,liveLatency:b,maxSegmentDuration:w,manifestSizeBytes:C,bytesDownloaded:x,nonFatalErrorCount:T,manifestPeriodCount:S,manifestGapCount:E,stateHistory:k,switchHistory:I}}function xc(t,e,n,r){tt.call(this),this.M=t,this.S=e,this.ya=r.networkingEngine,this.m=n,this.D=null,this.sa=0,this.La=r.Dd,this.G=r.Nl,this.Na=r.Ol,this.g=r.config,this.l=this.H=this.h=null,this.ea=!1,this.I=r.Zl,this.oa=!1,this.i=null,this.Z=!1,this.A=null,this.L=new Map,this.ra=!1,this.Ca=r.Yl,this.V=new Ac,this.aa=new Fi,this.C=new Fi,this.O=null,this.j=!1,this.W=r.kk,this.R=this.u=null,this.P=!1,this.K=[],this.J=[],this.F=!0}function Tc(t,e,n){(t=e?t.J:t.K)?t.push(n):n()}function Sc(t,e){if(t.O=e,t.P=!0,t.K)for(var n=(e=g(t.K)).next();!n.done;n=e.next())(n=n.value)();t.K=null}function Ec(t){if(t.j)throw new It(2,7,7003)}function kc(t,e){t.dispatchEvent(new z("onstatechange",(new Map).set("state",e)))}function Ic(t,e){var n,r,i;return P((function(a){switch(a.g){case 1:return!t.h||t.i?a.return():(kc(t,"drm-engine"),t.sa=Date.now()/1e3,t.i=t.La(),t.G.h=t.i,t.i.configure(t.g.drm,(function(){return t.F})),n=mi(t.h.variants),r=!0,t.h&&t.h.presentationTimeline&&(r=t.h.presentationTimeline.U()),w(a,Ia(t.i,n,t.h.offlineSessionIds,r),2));case 2:if(Ec(t),!e){a.B(3);break}return w(a,t.i.cc(e),4);case 4:Ec(t);case 3:return w(a,to(t.G,t.h),5);case 5:if(!a.h){a.B(0);break}return i=new z("trackschanged",void 0),w(a,Promise.resolve(),7);case 7:t.dispatchEvent(i),C(a)}}))}function Mc(t){if(!t.A){var e=t.g.abrFactory;t.A=e(),t.A.configure(t.g.abr)}return e=mi(t.h.variants),e=t.D.create(e),t.A.setVariants(Array.from(e.values())),t.A.chooseVariant(!0)}function Rc(t,e,n){var r,i,a,o,s;return P((function(u){return 1==u.g?(r=t.g.streaming.segmentPrefetchLimit||2,i=new rl(r,e,(function(e,n,r){return Nl(e,n,r||null,t.g.streaming.retryParameters,t.ya,t.F)}),!1),t.L.set(e.id,i),e.segmentIndex?u.B(2):w(u,e.createSegmentIndex(),2)):(a="number"==typeof t.m?t.m:0,o=e.segmentIndex.ec(a),s=null,o&&((s=o.current())||(s=o.next().value)),s||(s=zu(e.segmentIndex)),s?n?s.ia?w(u,ol(i,s.ia),0):u.B(0):w(u,al(i,s.startTime),0):u.B(0))}))}function Lc(t){function e(t){return t.video&&t.audio||t.video&&t.video.codecs.includes(",")}t.variants.some(e)&&(t.variants=t.variants.filter(e))}function Oc(t,e){tt.call(this);var n=this;this.i=t,this.l=e,this.g=new Map,this.m=[{zd:null,yd:_c,kd:function(t,e){return Pc(n,"enter",t,e)}},{zd:Dc,yd:_c,kd:function(t,e){return Pc(n,"enter",t,e)}},{zd:Nc,yd:_c,kd:function(t,e){return Pc(n,"enter",t,e)}},{zd:_c,yd:Dc,kd:function(t,e){return Pc(n,"exit",t,e)}},{zd:_c,yd:Nc,kd:function(t,e){return Pc(n,"exit",t,e)}},{zd:Dc,yd:Nc,kd:function(t,e){e?Pc(n,"skip",t,e):(Pc(n,"enter",t,e),Pc(n,"exit",t,e))}},{zd:Nc,yd:Dc,kd:function(t,e){return Pc(n,"skip",t,e)}}],this.h=new Me,this.h.o(this.i,"regionremove",(function(t){n.g.delete(t.region)}))}function Pc(t,e,n,r){e=new z(e,new Map([["region",n],["seeking",r]])),t.dispatchEvent(e)}Iu.prototype.release=function(){this.h&&(this.h.release(),this.h=null),null!=this.i&&(this.i.release(),this.i=null),this.m=function(){},this.g=null},Pu.prototype.release=function(){this.h&&(this.h.stop(),this.h=null),this.g=null},(i=_u.prototype).ready=function(){var t=this;Eu(this.g,HTMLMediaElement.HAVE_FUTURE_DATA,this.j,(function(){!function(){if(null==t.h||0==t.h&&t.g.duration!=1/0)t.i=!0;else{var e=t.g.currentTime,n=null;if("number"==typeof t.h)n=t.h;else if(t.h instanceof Date){var r=Nu(t);null!==r&&(n=t.h.getTime()/1e3-r,n=Uu(t,n))}null==n?t.i=!0:(n<0&&(n=Math.max(0,e+n)),e!=n?(t.j.ua(t.g,"seeking",(function(){t.i=!0})),t.g.currentTime=n):t.i=!0)}}()}))},i.release=function(){this.j&&(this.j.release(),this.j=null),this.g=null},i.Ag=function(t){this.h=this.i?this.h:t},i.$e=function(){var t=this.i?this.g.currentTime:this.h;return t instanceof Date&&(t=Uu(this,t=t.getTime()/1e3-(Nu(this)||0))),t||0},i.Bi=function(){return 0},i.zi=function(){return 0},i.Ai=function(){return!1},i.rj=function(){},i.fj=function(){var t=ns(this.g.buffered);return null!=t&&t>=this.g.duration-1},(i=Bu.prototype).ready=function(){this.m.xa(.25)},i.release=function(){this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.m&&(this.m.stop(),this.m=null),this.h=this.j=this.g=this.l=null,this.A=function(){}},i.Ag=function(t){Ru(this.j,ju(this,t))},i.$e=function(){var t=Mu(this.j);return this.h.readyState>0&&!this.h.paused?Vu(this,t):t},i.Bi=function(){return this.i.H},i.zi=function(){return this.i.G},i.Ai=function(){return this.i.D},i.rj=function(){this.i.Tf()},i.fj=function(){if(this.g.U()){var t=this.g.Rc(),e=ns(this.h.buffered);if(null!=e&&e>=t)return!0}return!1},(i=Gu.prototype).getNumReferences=function(){return this.g.length},i.getNumEvicted=function(){return this.i},i.release=function(){this.u||(this.g=[],this.m&&this.m.stop(),this.m=null)},i.Ql=function(){this.u=!0},i.Kb=function(t){for(var e=g(this.g),n=e.next();!n.done;n=e.next())t(n.value)},i.find=function(t){for(var e=this.g.length-1,n=e;n>=0;--n){var r=this.g[n],i=n<e?this.g[n+1].startTime:r.endTime;if(t>=r.startTime&&t<i)return n+this.i}return this.g.length&&t<this.g[0].startTime?this.i:null},i.get=function(t){return 0==this.g.length||(t-=this.i)<0||t>=this.g.length?null:this.g[t]},i.offset=function(t){if(!this.u)for(var e=g(this.g),n=e.next();!n.done;n=e.next())n.value.offset(t)},i.Mf=function(t){if(!this.u&&t.length){var e=Math.round(1e3*t[0].startTime)/1e3;this.g=this.g.filter((function(t){return Math.round(1e3*t.startTime)/1e3<e})),this.g.push.apply(this.g,m(t))}},i.Ae=function(t,e){var n=this;t=t.filter((function(t){return t.endTime>e&&(0==n.g.length||t.endTime>n.g[0].startTime)})),this.Mf(t),this.cb(e)},i.cb=function(t){if(!this.u){var e=this.g.length;this.g=this.g.filter((function(e){return e.endTime>t})),this.i+=e-this.g.length}},i.Gd=function(t,e,n){if(n=void 0!==n&&n,!this.u){for(;this.g.length&&this.g[this.g.length-1].startTime>=e;)this.g.pop();for(;this.g.length&&this.g[0].endTime<=t;)this.g.shift(),n||this.i++;0!=this.g.length&&((e=new Xo((t=this.g[this.g.length-1]).startTime,e,t.D,t.startByte,t.endByte,t.ia,t.timestampOffset,t.appendWindowStart,t.appendWindowEnd,t.g,t.tilesLayout,t.C,t.h,t.status,t.aesKey)).mimeType=t.mimeType,e.codecs=t.codecs,e.i=t.i,this.g[this.g.length-1]=e)}},i.qg=function(t,e){var n=this;this.u||(this.m&&this.m.stop(),this.m=new Wr((function(){var t=e();t?n.g.push.apply(n.g,m(t)):(n.m.stop(),n.m=null)})),this.m.xa(t))},Gu.prototype[Symbol.iterator]=function(){return this.ec(0)},Gu.prototype.ec=function(t,e,n){e=void 0!==e&&e,n=void 0!==n&&n;var r=this.find(t);if(null==r)return null;var i=this.get(r);n?r++:r--;var a=-1;if(i&&i.g.length>0)for(var o=i.g.length-1;o>=0;--o){var s=i.g[o];if(t>=s.startTime&&t<s.endTime){if(!e){for(;o&&!s.l;)o--,s=i.g[o];if(!s.l)return $("No independent partial segment found!"),null}n?r--:r++,a=o-1;break}}return new Ku(this,r,a,n)},Gu.prototype.pf=function(){return-1},G("shaka.media.SegmentIndex",Gu),Gu.forSingleSegment=Hu,Gu.prototype.getIteratorForTime=Gu.prototype.ec,Gu.prototype.updateEvery=Gu.prototype.qg,Gu.prototype.fit=Gu.prototype.Gd,Gu.prototype.evict=Gu.prototype.cb,Gu.prototype.mergeAndEvict=Gu.prototype.Ae,Gu.prototype.offset=Gu.prototype.offset,Gu.prototype.get=Gu.prototype.get,Gu.prototype.find=Gu.prototype.find,Gu.prototype.markImmutable=Gu.prototype.Ql,Gu.prototype.release=Gu.prototype.release,Gu.prototype.getNumEvicted=Gu.prototype.getNumEvicted,Gu.prototype.getNumReferences=Gu.prototype.getNumReferences,(i=Ku.prototype).Yd=function(t){this.reverse=t},i.wk=function(){return this.h},i.current=function(){var t=this.i.get(this.h);return t&&t.g.length>0&&t.m&&this.g>=t.g.length&&(this.h++,this.g=0,t=this.i.get(this.h)),t&&t.g.length>0?t.g[this.g]:t},i.next=function(){var t=this.i.get(this.h);return this.reverse?t&&t.g.length>0?(this.g--,this.g<0&&(this.h--,this.g=(t=this.i.get(this.h))&&t.g.length>0?t.g.length-1:0)):(this.h--,this.g=0):t&&t.g.length>0?(this.g++,t.m&&this.g==t.g.length&&(this.h++,this.g=0)):(this.h++,this.g=0),{value:t=this.current(),done:!t}},i.Vh=function(){var t=this.current();if(t&&t.nd&&!t.l&&(t=this.i.get(this.h))&&t.g.length>0)for(var e=t.g[this.g];e.l&&!(this.g<=0);)this.g--,e=t.g[this.g]},G("shaka.media.SegmentIterator",Ku),Ku.prototype.resetToLastIndependent=Ku.prototype.Vh,Ku.prototype.next=Ku.prototype.next,Ku.prototype.current=Ku.prototype.current,Ku.prototype.currentPosition=Ku.prototype.wk,Ku.prototype.setReverse=Ku.prototype.Yd,h(Wu,Gu),(i=Wu.prototype).clone=function(){var t=new Wu;return t.h=this.h.slice(),t.i=this.i,t},i.release=function(){this.h=[]},i.Kb=function(t){for(var e=g(this.h),n=e.next();!n.done;n=e.next())n.value.Kb(t)},i.find=function(t){for(var e=this.i,n=g(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).find(t);if(null!=i)return i+e;e+=r.getNumEvicted()+r.getNumReferences()}return null},i.get=function(t){for(var e=this.i,n=g(this.h),r=n.next();!r.done;r=n.next()){var i=(r=r.value).get(t-e);if(i)return i;i=r.getNumReferences(),e+=r.getNumEvicted()+i}return null},i.offset=function(){},i.Mf=function(){},i.cb=function(t){if(this.h.length){var e=this.h[0];e.cb(t),0==e.getNumReferences()&&(this.h.shift(),this.i+=e.getNumEvicted(),e.release(),this.cb(t))}},i.Ae=function(){},i.Gd=function(){},i.qg=function(){},G("shaka.media.MetaSegmentIndex",Wu),Wu.prototype.updateEvery=Wu.prototype.qg,Wu.prototype.fit=Wu.prototype.Gd,Wu.prototype.mergeAndEvict=Wu.prototype.Ae,Wu.prototype.evict=Wu.prototype.cb,Wu.prototype.merge=Wu.prototype.Mf,Wu.prototype.offset=Wu.prototype.offset,Wu.prototype.get=Wu.prototype.get,Wu.prototype.find=Wu.prototype.find,Wu.prototype.forEachTopLevelReference=Wu.prototype.Kb,Wu.prototype.release=Wu.prototype.release,$u.prototype.release=function(){this.set(this.jd()),this.h&&(this.h.stop(),this.h=null),this.g=null},$u.prototype.set=function(t){this.i=t,Xu(this)},$u.prototype.jd=function(){return this.g.jd()},Yu.prototype.release=function(){this.h&&(this.h.release(),this.h=null),this.i.stop();for(var t=g(this.g),e=t.next();!e.done;e=t.next())e.value.release();this.g.clear()},h(Zu,tt),Zu.prototype.release=function(){this.g.clear(),tt.prototype.release.call(this)},Zu.prototype.j=function(t){for(var e=g(this.g.values()),n=e.next();!n.done;n=e.next()){var r=(n=n.value).Sg;t:{for(var i=n.Ge,a=i.length-1;a>=0;a--){var o=i[a];if(o.position<=t){i=o.Od;break t}}i=null}a=i&&!(r===i||r&&i&&r.bandwidth==i.bandwidth&&r.audioSamplingRate==i.audioSamplingRate&&r.codecs==i.codecs&&r.contentType==i.contentType&&r.frameRate==i.frameRate&&r.height==i.height&&r.mimeType==i.mimeType&&r.channelsCount==i.channelsCount&&r.pixelAspectRatio==i.pixelAspectRatio&&r.width==i.width),o=i&&r&&i.label&&r.label&&r.label!==i.label;var s=i&&r&&i.language&&r.language&&r.language!==i.language;r=i&&r&&i.roles&&r.roles&&!Ie(r.roles,i.roles),(o||s||r)&&Qu(this,t,i.contentType)&&(n.Sg=i,r=new z("audiotrackchange",new Map([["quality",i],["position",t]])),this.dispatchEvent(r)),a&&Qu(this,t,i.contentType)&&(n.Sg=i,JSON.stringify(i),n=new z("qualitychange",new Map([["quality",i],["position",t]])),this.dispatchEvent(n))}},h(el,tt),el.prototype.release=function(){this.h.clear(),this.g&&(this.g.stop(),this.g=null),tt.prototype.release.call(this)},rl.prototype.cb=function(t,e){e=void 0!==e&&e;for(var n=g(this.g.keys()),r=n.next();!r.done;r=n.next())t>(r=r.value).endTime&&dl(this,r);e&&ll(this)},rl.prototype.Yd=function(t){this.u=t,this.h&&this.h.Yd(t)},pl.prototype.abort=function(){this.De&&this.De.abort()},G("shaka.config.CrossBoundaryStrategy",{KEEP:"keep",RESET:"reset",RESET_TO_ENCRYPTED:"reset_to_encrypted",RESET_ON_ENCRYPTION_CHANGE:"RESET_ON_ENCRYPTION_CHANGE"}),(i=Al.prototype).destroy=function(){return this.l.destroy()},i.configure=function(t){if(this.i=t,this.V=new ji({maxAttempts:Math.max(t.retryParameters.maxAttempts,2),baseDelay:t.retryParameters.baseDelay,backoffFactor:t.retryParameters.backoffFactor,fuzzFactor:t.retryParameters.fuzzFactor,timeout:0,stallTimeout:0,connectionTimeout:0},!0),t.disableAudioPrefetch){var e=this.h.get("audio");e&&e.ma&&(ul(e.ma),e.ma=null);for(var n=(e=g(this.m.keys())).next();!n.done;n=e.next())n=n.value,ul(this.m.get(n)),this.m.delete(n)}for(t.disableTextPrefetch&&(e=this.h.get(re))&&e.ma&&(ul(e.ma),e.ma=null),t.disableVideoPrefetch&&(e=this.h.get("video"))&&e.ma&&(ul(e.ma),e.ma=null),n=(e=g(this.h.keys())).next();!n.done;n=e.next())(n=this.h.get(n.value)).ma?(cl(n.ma,t.segmentPrefetchLimit),t.segmentPrefetchLimit>0||(ul(n.ma),n.ma=null)):t.segmentPrefetchLimit>0&&(n.ma=kl(this,n.stream));t.disableAudioPrefetch||function(t){for(var e=t.i.segmentPrefetchLimit,n=t.i.prefetchAudioLanguages,r=g(t.j.variants),i=r.next(),a={};!i.done;a={Sb:void 0},i=r.next())if(a.Sb=i.value,a.Sb.audio)if(t.m.has(a.Sb.audio)){if(cl(i=t.m.get(a.Sb.audio),e),!(e>0&&n.some(function(t){return function(e){return ue(t.Sb.audio.language,e)}}(a)))){var o=t.h.get(a.Sb.audio.type);i!==(o&&o.ma)&&ul(i),t.m.delete(a.Sb.audio)}}else e<=0||!n.some(function(t){return function(e){return ue(t.Sb.audio.language,e)}}(a))||!(i=kl(t,a.Sb.audio))||(a.Sb.audio.segmentIndex||a.Sb.audio.createSegmentIndex(),t.m.set(a.Sb.audio,i))}(this)},i.start=function(t){var e=this;return P((function(n){if(1==n.g)return w(n,function(t,e){var n,r,i,a,o,s,u;return P((function(l){if(1==l.g){if(!t.u)throw new It(2,5,5006);return n=Kl(t,!0),w(l,t.g.ha.init(n,t.j.sequenceMode,t.j.type,t.j.ignoreManifestTimestampsInSegmentsMode),2)}for(ua(t.l),t.updateDuration(),r=g(n.keys()),i=r.next();!i.done;i=r.next())a=i.value,o=n.get(a),t.h.has(a)||(s=El(t,o),e.has(o.id)&&(il(u=e.get(o.id),(function(e,n,r){return Nl(e,n,r||null,t.i.retryParameters,t.g.Cc)})),s.ma=u),t.h.set(a,s),Bl(t,s,0));zl(t),C(l)}))}(e,t||new Map),2);ua(e.l),e.M=!0,C(n)}))},i.rd=function(){if(this.g){for(var t=this.g.Qc(),e=g(this.h.keys()),n=e.next();!n.done;n=e.next()){var r,i=n.value;if(n=this.h.get(i),(r=!this.J)&&(r=this.g.ha,i==re?r=null!=(r=r.h).g&&null!=r.h&&(t>=r.g&&t<r.h):r=rs(r=Zs(r,i),t),r=!r),r){if(this.P=0,n.ma&&(n.ma.h=null),"audio"===n.type)for(var a=(r=g(this.m.values())).next();!a.done;a=r.next())a.value.h=null;n.Ba=null,(null!=Js(this.g.ha,i)||n.Ra)&&Sl(this,n),n.$a&&(n.$a.abort(),n.$a=null),i===re&&((i=this.g.ha).J&&i.J.fe()),n.rd=!0}!this.J||n.dc||n.Ra||n.yb||Bl(this,n,0)}Gl(this)&&Hl(this)}},i.updateDuration=function(){var t=Ge(),e=this.j.presentationTimeline.getDuration();e<1/0?(t&&(this.A&&this.A.stop(),nu(this.g.ha)),this.g.ha.Fb(e)):t?(this.A&&this.A.xa(.5),this.g.ha.Fb(1/0)):this.g.ha.Fb(4294967296)},G("shaka.util.ConfigUtils",Wl),Wl.getDifferenceFromConfigObjects=Jl,Wl.convertToConfigObject=Xl,Wl.mergeConfigObjects=$l,G("shaka.config.RepeatMode",{OFF:0,ALL:1,SINGLE:2}),G("shaka.drm.FairPlay",Zl),Zl.commonFairPlayResponse=function(t,e){if(2===t&&(t=e.originalRequest.drmInfo)&&_i(t.keySystem)){try{var n=Nt(e.data)}catch(t){return}if(t=!1,"<ckc>"===(n=n.trim()).substr(0,5)&&"</ckc>"===n.substr(-6)&&(n=n.slice(5,-6),t=!0),!t)try{var r=JSON.parse(n);r.ckc&&(n=r.ckc,t=!0),r.CkcMessage&&(n=r.CkcMessage,t=!0),r.License&&(n=r.License,t=!0)}catch(t){}t&&(e.data=xt(Wt(n)))}},Zl.muxFairPlayRequest=function(t,e){nc(t,e)},Zl.expressplayFairPlayRequest=function(t,e){if(2===t){var n=e.drmInfo;n&&_i(n.keySystem)&&nc(t,e)}},Zl.conaxFairPlayRequest=function(t,e){nc(t,e)},Zl.ezdrmFairPlayRequest=function(t,e){nc(t,e)},Zl.verimatrixFairPlayRequest=function(t,e){2===t&&(t=e.drmInfo)&&_i(t.keySystem)&&(t=Kt(t=Tt(e.body)),e.headers["Content-Type"]="application/x-www-form-urlencoded",e.body=jt("spc="+t))},Zl.muxInitDataTransform=function(t,e,n){return ec(t,e,n)},Zl.expressplayInitDataTransform=function(t,e,n){return ec(t,e,n)},Zl.conaxInitDataTransform=function(e,n,r){if("skd"!==n)return e;n=r.serverCertificate,r=Bt(e).split("skd://").pop().split("?").shift(),r=t.atob(r);var i=new ArrayBuffer(2*r.length);i=St(i);for(var a=0,o=r.length;a<o;a++)i[a]=r.charCodeAt(a);return tc(e,i,n)},Zl.ezdrmInitDataTransform=function(t,e,n){return"skd"!==e?t:(e=n.serverCertificate,tc(t,n=Bt(t).split(";").pop(),e))},Zl.verimatrixInitDataTransform=function(t,e,n){return ec(t,e,n)},Zl.initDataTransform=tc,Zl.defaultGetContentId=Ql,Zl.isFairPlaySupported=function(){var t;return P((function(e){return 1==e.g?(t={initDataTypes:["cenc","sinf","skd"],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]},x(e,2),w(e,navigator.requestMediaKeySystemAccess("com.apple.fps",[t]),4)):2!=e.g?e.return(!0):(E(e),e.return(!1))}))},rc.prototype.add=function(t,e){var n,r=this.h;if(e=void 0===e||e,!(n=!!r.audio!=!!t.audio||!!r.video!=!!t.video||r.language!=t.language)&&(n=r.audio&&t.audio)){n=r.audio;var i=t.audio;n=!(!((!n.channelsCount||!i.channelsCount||n.channelsCount>2||i.channelsCount>2)&&n.channelsCount!=i.channelsCount||n.spatialAudio!==i.spatialAudio||e&&!ic(n,i))&&ac(n.roles,i.roles)&&n.groupId===i.groupId)}return!n&&(n=r.video&&t.video)&&(r=r.video,n=t.video,n=!((!e||ic(r,n))&&ac(r.roles,n.roles))),!n&&(this.g.add(t),!0)},rc.prototype.values=function(){return this.g.values()},G("shaka.media.AdaptationSet",rc),oc.prototype.configure=function(t){this.g=t},oc.prototype.getConfiguration=function(){return this.g},oc.prototype.create=function(t){var e;if(this.g.language){var n=function(t,e){var n=me(e=de(e),t.map((function(t){return ge(t)})));return n?t.filter((function(t){return n==ge(t)})):[]}(t,this.g.language);n.length&&(e=n)}e||(e=(e=t.filter((function(t){return t.primary}))).length?e:t),(t=function(t,e){return t.filter((function(t){return!!t.audio&&(e?t.audio.roles.includes(e):0==t.audio.roles.length)}))}(e,this.g.role)).length&&(e=t),(t=function(t,e){return t.filter((function(t){return!!t.video&&(e?t.video.roles.includes(e):0==t.video.roles.length)}))}(e,this.g.videoRole)).length&&(e=t),this.g.videoLayout&&((t=function(t,e){return t.filter((function(t){return!t.video||!t.video.videoLayout||t.video.videoLayout==e}))}(e,this.g.videoLayout)).length&&(e=t)),this.g.hdrLevel&&((t=function(t,e){if("AUTO"==e){var n=t.some((function(t){return!(!t.video||!t.video.hdr||"HLG"!=t.video.hdr)}));e=Lt().Id(n)}return t.filter((function(t){return!t.video||!t.video.hdr||t.video.hdr==e}))}(e,this.g.hdrLevel)).length&&(e=t));var r=[this.g.channelCount,this.g.preferredAudioChannelCount];if((t=r.filter((function(t,e){return t&&r.indexOf(t)===e}))).length)for(n=(t=g(t)).next();!n.done;n=t.next())if((n=sc(e,n.value)).length){e=n;break}this.g.audioLabel&&((t=function(t,e){return t.filter((function(t){return!(!t.audio||!t.audio.label)&&t.audio.label.toLowerCase()==e.toLowerCase()}))}(e,this.g.audioLabel)).length&&(e=t)),this.g.videoLabel&&((t=function(t,e){return t.filter((function(t){return!(!t.video||!t.video.label)&&t.video.label.toLowerCase()==e.toLowerCase()}))}(e,this.g.videoLabel)).length&&(e=t)),(t=function(t,e){return t.filter((function(t){return!t.audio||t.audio.spatialAudio==e}))}(e,this.g.spatialAudio)).length&&(e=t);var i=[this.g.audioCodec,this.g.activeAudioCodec].concat(m(this.g.preferredAudioCodecs));if((t=i.filter((function(t,e){return t&&i.indexOf(t)===e}))).length)for(n=(t=g(t)).next();!n.done;n=t.next())if((n=uc(e,n.value)).length){e=n;break}return new rc(e[0],e,!("smooth"==this.g.codecSwitchingStrategy&&Ve()))},G("shaka.util.PlayerConfiguration",lc),lc.mergeConfigObjects=pc,lc.createDefaultForLL=dc,lc.createDefault=cc,h(xc,tt),(i=xc.prototype).getStartTime=function(){return this.m},i.hd=function(){return this.M},i.rh=function(){return this.h},i.getStats=function(){return this.V},i.al=function(){return this.u?li(this.u):null},i.$k=function(){return this.R?ci(this.R):null},i.start=function(){var e,n=this;P((function(r){switch(r.g){case 1:return w(r,Promise.resolve(),2);case 2:return x(r,3),w(r,function(t){var e,n,r,i,a;return P((function(o){switch(o.g){case 1:if(kc(t,"manifest-parser"),t.l||(t.H=uo(t.M,t.S),t.l=t.H(),t.l.configure(t.g.manifest,(function(){return t.F}))),e=Date.now()/1e3,kc(t,"manifest"),t.h){o.B(2);break}return w(o,t.l.start(t.M,t.Na),3);case 3:return t.h=o.h,Lc(t.h),w(o,function(t){var e,n,r,i,a;return P((function(o){if(t.D||(t.D=t.g.adaptationSetCriteriaFactory(),t.D.configure({language:t.g.preferredAudioLanguage,role:t.g.preferredAudioRole,videoRole:t.g.preferredVideoRole,channelCount:t.g.preferredAudioChannelCount,hdrLevel:t.g.preferredVideoHdrLevel,spatialAudio:t.g.preferSpatialAudio,videoLayout:t.g.preferredVideoLayout,audioLabel:t.g.preferredAudioLabel,videoLabel:t.g.preferredVideoLabel,codecSwitchingStrategy:t.g.mediaSource.codecSwitchingStrategy,audioCodec:"",activeAudioCodec:"",activeAudioChannelCount:0,preferredAudioCodecs:t.g.preferredAudioCodecs,preferredAudioChannelCount:t.g.preferredAudioChannelCount})),1!=t.h.variants.length&&"HLS"!=t.h.type)return o.B(0);if(!(e=Mc(t)))return o.B(0);for(n=[],r=g([e.video,e.audio]),i=r.next();!i.done;i=r.next())(a=i.value)&&!a.segmentIndex&&n.push(a.createSegmentIndex());return n.length>0?w(o,Promise.all(n),0):o.B(0)}))}(t),2);case 2:return t.aa.resolve(),n=new z("manifestparsed",void 0),w(o,Promise.resolve(),5);case 5:if(t.dispatchEvent(n),0==t.h.variants.length)throw new It(2,4,4036);if(Lc(t.h),!eo(t.G,t.h)){o.B(6);break}return r=new z("trackschanged",void 0),w(o,Promise.resolve(),7);case 7:Ec(t),t.dispatchEvent(r);case 6:i=Date.now()/1e3,a=i-e,t.V.J=a,C(o)}}))}(n),5);case 5:if(Ec(n),"webkit"===t.shakaMediaKeysPolyfill){r.B(6);break}return w(r,Ic(n),7);case 7:Ec(n);case 6:if(!n.W){r.B(8);break}return w(r,function(t){var e,n,r,i,a;return P((function(o){return!t.u&&(e=Mc(t))&&(t.u=e),t.u?(n=t.h.presentationTimeline.U(),r=[],(i=t.u).video&&r.push(Rc(t,i.video,n)),i.audio&&r.push(Rc(t,i.audio,n)),(a=vi(t.h.textStreams,t.g.preferredTextLanguage,t.g.preferredTextRole,t.g.preferForcedSubs)[0]||null)&&Ci(i.audio,a,t.g)&&(r.push(Rc(t,a,n)),t.R=a),w(o,Promise.all(r),0)):o.B(0)}))}(n),9);case 9:Ec(n);case 8:if(!n.W||!n.i){r.B(10);break}return w(r,function(t){return P((function(e){return 1==e.g?t.K?w(e,t.m,3):e.B(0):w(e,Promise.all(t.V.map((function(t){return t.promise}))),0)}))}(n.i),11);case 11:Ec(n);case 10:n.C.resolve(),S(r,0);break;case 3:(e=E(r))instanceof It&&(7001==e.code||7003==e.code)||n.C.reject(e),C(r)}}))},i.dispatchEvent=function(t){return this.O?this.O.dispatchEvent(t):tt.prototype.dispatchEvent.call(this,t)},i.onError=function(t){2===t.severity&&(this.C.reject(t),this.destroy());var e=(new Map).set("detail",t);e=new z("error",e),this.dispatchEvent(e),e.defaultPrevented&&(t.handled=!0)},i.configure=function(t,e){t=Xl(t,e),pc(this.g,t)},i.getConfiguration=function(){return dn(this.g)},i.Em=function(){return this.C},i.destroy=function(){var t,e,n=this;return P((function(r){if(1==r.g)return n.j=!0,!n.l||n.ea?r.B(2):w(r,n.l.stop(),2);if(4!=r.g)return n.A&&n.A.release(),n.I&&!n.oa&&n.I.release(),!n.i||n.Z?r.B(4):w(r,n.i.destroy(),4);if(n.L.size>0&&!n.ra)for(t=g(n.L.values()),e=t.next();!e.done;e=t.next())ul(e.value);C(r)}))},G("shaka.media.PreloadManager",xc),xc.prototype.destroy=xc.prototype.destroy,xc.prototype.waitForFinish=xc.prototype.Em,xc.prototype.getPrefetchedTextTrack=xc.prototype.$k,xc.prototype.getPrefetchedVariantTrack=xc.prototype.al,h(Oc,tt),Oc.prototype.release=function(){this.i=null,this.g.clear(),this.h.release(),this.h=null,tt.prototype.release.call(this)},Oc.prototype.j=function(t,e){if(!this.l||0!=t){this.l=!1;for(var n=g(this.i.h.values()),r=n.next();!r.done;r=n.next()){r=r.value;var i=this.g.get(r),a=t<r.startTime?Dc:t>r.endTime?Nc:_c;this.g.set(r,a);for(var o=g(this.m),s=o.next();!s.done;s=o.next())(s=s.value).zd==i&&s.yd==a&&s.kd(r,e)}}};var Dc=1,_c=2,Nc=3;function Uc(t,e,n){var r,i,a,o,s,u,l;return P((function(c){switch(c.g){case 1:return r=Bc(t),(i=jc.get(r))?c.return(i):(a=0,o=Qi([t],n),x(c,2),o.method="HEAD",w(c,e.request(a,o).promise,4));case 4:s=c.h,i=s.headers["content-type"],S(c,3);break;case 2:if(!(u=E(c))||1002!=u.code&&1001!=u.code){c.B(3);break}return o.method="GET",w(c,e.request(a,o).promise,6);case 6:l=c.h,i=l.headers["content-type"];case 3:return c.return(i?i.toLowerCase().split(";").shift():"")}}))}function Bc(t){return 1==(t=new at(t).Tb.split("/").pop().split(".")).length?"":t.pop().toLowerCase()}for(var jc=(new Map).set("mp4","video/mp4").set("m4v","video/mp4").set("m4a","audio/mp4").set("webm","video/webm").set("weba","audio/webm").set("mkv","video/webm").set("ts","video/mp2t").set("ogv","video/ogg").set("ogg","audio/ogg").set("mpg","video/mpeg").set("mpeg","video/mpeg").set("mov","video/quicktime").set("m3u8","application/x-mpegurl").set("mpd","application/dash+xml").set("ism","application/vnd.ms-sstr+xml").set("mp3","audio/mpeg").set("aac","audio/aac").set("flac","audio/flac").set("wav","audio/wav").set("sbv","text/x-subviewer").set("srt","text/srt").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml").set("lrc","application/x-subtitle-lrc").set("ssa","text/x-ssa").set("ass","text/x-ssa").set("jpeg","image/jpeg").set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif").set("html","text/html").set("htm","text/html"),qc={ach:"Lwo",ady:"Адыгэбзэ",af:"Afrikaans","af-NA":"Afrikaans (Namibia)","af-ZA":"Afrikaans (South Africa)",ak:"Tɕɥi",ar:"العربية","ar-AR":"العربية","ar-MA":"العربية","ar-SA":"العربية (السعودية)","ay-BO":"Aymar aru",az:"Azərbaycan dili","az-AZ":"Azərbaycan dili","be-BY":"Беларуская",bg:"Български","bg-BG":"Български",bn:"বাংলা","bn-IN":"বাংলা (ভারত)","bn-BD":"বাংলা(বাংলাদেশ)","bs-BA":"Bosanski",ca:"Català","ca-ES":"Català",cak:"Maya Kaqchikel","ck-US":"ᏣᎳᎩ (tsalagi)",cs:"Čeština","cs-CZ":"Čeština",cy:"Cymraeg","cy-GB":"Cymraeg",da:"Dansk","da-DK":"Dansk",de:"Deutsch","de-AT":"Deutsch (Österreich)","de-DE":"Deutsch (Deutschland)","de-CH":"Deutsch (Schweiz)",dsb:"Dolnoserbšćina",el:"Ελληνικά","el-GR":"Ελληνικά",en:"English","en-GB":"English (UK)","en-AU":"English (Australia)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-IN":"English (India)","en-PI":"English (Pirate)","en-UD":"English (Upside Down)","en-US":"English (US)","en-ZA":"English (South Africa)","en@pirate":"English (Pirate)",eo:"Esperanto","eo-EO":"Esperanto",es:"Español","es-AR":"Español (Argentine)","es-419":"Español (Latinoamérica)","es-CL":"Español (Chile)","es-CO":"Español (Colombia)","es-EC":"Español (Ecuador)","es-ES":"Español (España)","es-LA":"Español (Latinoamérica)","es-NI":"Español (Nicaragua)","es-MX":"Español (México)","es-US":"Español (Estados Unidos)","es-VE":"Español (Venezuela)",et:"eesti keel","et-EE":"Eesti (Estonia)",eu:"Euskara","eu-ES":"Euskara",fa:"فارسی","fa-IR":"فارسی","fb-LT":"Leet Speak",ff:"Fulah",fi:"Suomi","fi-FI":"Suomi","fo-FO":"Føroyskt",fr:"Français","fr-CA":"Français (Canada)","fr-FR":"Français (France)","fr-BE":"Français (Belgique)","fr-CH":"Français (Suisse)","fy-NL":"Frysk",ga:"Gaeilge","ga-IE":"Gaeilge (Gaelic)",gl:"Galego","gl-ES":"Galego","gn-PY":"Avañe'ẽ","gu-IN":"ગુજરાતી","gx-GR":"Ἑλληνική ἀρχαία",he:"עברית‏","he-IL":"עברית‏",hi:"हिन्दी","hi-IN":"हिन्दी",hr:"Hrvatski","hr-HR":"Hrvatski",hsb:"Hornjoserbšćina",ht:"Kreyòl",hu:"Magyar","hu-HU":"Magyar","hy-AM":"Հայերեն",id:"Bahasa Indonesia","id-ID":"Bahasa Indonesia",is:"Íslenska","is-IS":"Íslenska (Iceland)",it:"Italiano","it-IT":"Italiano",ja:"日本語","ja-JP":"日本語","jv-ID":"Basa Jawa","ka-GE":"ქართული","kk-KZ":"Қазақша",km:"ភាសាខ្មែរ","km-KH":"ភាសាខ្មែរ",kab:"Taqbaylit",kn:"ಕನ್ನಡ","kn-IN":"ಕನ್ನಡ (India)",ko:"한국어","ko-KR":"한국어 (韩国)",ku:"Kurdî","ku-TR":"Kurdî",la:"Latin","la-VA":"Latin",lb:"Lëtzebuergesch","li-NL":"Lèmbörgs",lt:"Lietuvių","lt-LT":"Lietuvių",lv:"Latviešu","lv-LV":"Latviešu",mai:"मैथिली, মৈথিলী","mg-MG":"Malagasy",mk:"Македонски","mk-MK":"Македонски (Македонски)",ml:"മലയാളം","ml-IN":"മലയാളം","mn-MN":"Монгол",mr:"मराठी","mr-IN":"मराठी",ms:"Bahasa Melayu","ms-MY":"Bahasa Melayu",mt:"Malti","mt-MT":"Malti",my:"ဗမာစကာ",nb:"Norsk (bokmål)","nb-NO":"Norsk (bokmål)",ne:"नेपाली","ne-NP":"नेपाली",nl:"Nederlands","nl-BE":"Nederlands (België)","nl-NL":"Nederlands (Nederland)","nn-NO":"Norsk (nynorsk)",no:"Norsk",oc:"Occitan","or-IN":"ଓଡ଼ିଆ",pa:"ਪੰਜਾਬੀ","pa-IN":"ਪੰਜਾਬੀ (ਭਾਰਤ ਨੂੰ)",pl:"Polski","pl-PL":"Polski","ps-AF":"پښتو",pt:"Português","pt-BR":"Português (Brasil)","pt-PT":"Português (Portugal)","qu-PE":"Qhichwa","rm-CH":"Rumantsch",ro:"Română","ro-RO":"Română",ru:"Русский","ru-RU":"Русский","sa-IN":"संस्कृतम्","se-NO":"Davvisámegiella","si-LK":"පළාත",sk:"Slovenčina","sk-SK":"Slovenčina (Slovakia)",sl:"Slovenščina","sl-SI":"Slovenščina","so-SO":"Soomaaliga",sq:"Shqip","sq-AL":"Shqip",sr:"Српски","sr-RS":"Српски (Serbia)",su:"Basa Sunda",sv:"Svenska","sv-SE":"Svenska",sw:"Kiswahili","sw-KE":"Kiswahili",ta:"தமிழ்","ta-IN":"தமிழ்",te:"తెలుగు","te-IN":"తెలుగు",tg:"забо́ни тоҷикӣ́","tg-TJ":"тоҷикӣ",th:"ภาษาไทย","th-TH":"ภาษาไทย (ประเทศไทย)",tl:"Filipino","tl-PH":"Filipino",tlh:"tlhIngan-Hol",tr:"Türkçe","tr-TR":"Türkçe","tt-RU":"татарча",uk:"Українська","uk-UA":"Українська",ur:"اردو","ur-PK":"اردو",uz:"O'zbek","uz-UZ":"O'zbek",vi:"Tiếng Việt","vi-VN":"Tiếng Việt","xh-ZA":"isiXhosa",yi:"ייִדיש","yi-DE":"ייִדיש (German)",zh:"中文","zh-HANS":"中文简体","zh-HANT":"中文繁體","zh-CN":"中文（中国）","zh-HK":"中文（香港）","zh-SG":"中文（新加坡）","zh-TW":"中文（台灣）","zu-ZA":"isiZulu"},Fc=g(Object.keys(qc)),Vc=Fc.next();!Vc.done;Vc=Fc.next()){var Gc=Vc.value;qc[Gc.toLowerCase()]=qc[Gc]}function zc(t,e){if(t.lineBreak)return"\n";if(t.nestedCues.length)return t.nestedCues.map((function(e){return zc(e,t)})).join("");if(!t.payload)return t.payload;var n=[],r=t.fontWeight>=pr,i=t.fontStyle==fr,a=t.textDecoration.includes(mr);return r&&n.push(["b"]),i&&n.push(["i"]),a&&n.push(["u"]),""==(i=t.color)&&e&&(i=e.color),r="",(i=Hc(i))&&(r+="."+i),""==(i=t.backgroundColor)&&e&&(i=e.backgroundColor),(e=Hc(i))&&(r+=".bg_"+e),r&&n.push(["c",r]),n.reduceRight((function(t,e){var n=g(e);return"<"+(e=n.next().value)+(void 0===(n=n.next().value)?"":n)+">"+t+"</"+e+">"}),t.payload)}function Hc(t){var e=(t=t.toLowerCase()).replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i);switch(e?t="#"+(256|parseInt(e[1],10)).toString(16).slice(1)+(256|parseInt(e[2],10)).toString(16).slice(1)+(256|parseInt(e[3],10)).toString(16).slice(1):t.startsWith("#")&&t.length>7&&(t=t.slice(0,7)),t){case"white":case"#fff":case"#ffffff":return"white";case"lime":case"#0f0":case"#00ff00":return"lime";case"cyan":case"#0ff":case"#00ffff":return"cyan";case"red":case"#f00":case"#ff0000":return"red";case"yellow":case"#ff0":case"#ffff00":return"yellow";case"magenta":case"#f0f":case"#ff00ff":return"magenta";case"blue":case"#00f":case"#0000ff":return"blue";case"black":case"#000":case"#000000":return"black"}return null}function Kc(t,e){for(var n=[],r=(t=g(Wc(t))).next();!r.done;r=t.next())if((r=r.value).isContainer)n.push.apply(n,m(Kc(r.nestedCues,r)));else{var i=r.clone();i.nestedCues=[],i.payload=zc(r,e),n.push(i)}return n}function Wc(t){for(var e=[],n=(t=g(t)).next(),r={};!n.done;r={Pg:void 0},n=t.next())r.Pg=n.value,e.some(function(t){return function(e){return $n(t.Pg,e)}}(r))||e.push(r.Pg);return e}function $c(t){function e(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return(e>>>0).toString()}if(t.startTime>=t.endTime)return null;var n=new VTTCue(t.startTime,t.endTime,t.payload);n.id=e(t.startTime.toString())+e(t.endTime.toString())+e(t.payload),n.lineAlign=t.lineAlign,n.positionAlign=t.positionAlign,t.size&&(n.size=t.size);try{n.align=t.textAlign}catch(t){}return"center"==t.textAlign&&"center"!=n.align&&(n.align="middle"),"vertical-lr"==t.writingMode?n.vertical="lr":"vertical-rl"==t.writingMode&&(n.vertical="rl"),1==t.lineInterpretation&&(n.snapToLines=!1),null!=t.line&&(n.line=t.line),null!=t.position&&(n.position=t.position),n}function Xc(t,e){var n=Kc(e),r=[];e=t.cues?Array.from(t.cues):[];for(var i=(n=g(n)).next(),a={};!i.done;a={Kd:void 0},i=n.next())a.Kd=i.value,!e.some(function(t){return function(e){return e.startTime==t.Kd.startTime&&e.endTime==t.Kd.endTime&&e.text==t.Kd.payload}}(a))&&a.Kd.payload&&(i=$c(a.Kd))&&r.push(i);for(n=(e=g(e=r.slice().sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime!=e.endTime?t.endTime-e.startTime:"line"in VTTCue.prototype?r.indexOf(e)-r.indexOf(t):r.indexOf(t)-r.indexOf(e)})))).next();!n.done;n=e.next())t.addCue(n.value)}function Yc(t,e){var n=!1;"disabled"===t.mode&&(n=!0,t.mode="hidden");for(var r=0;r<t.cues.length;){var i=t.cues[r];e(i)?t.removeCue(i):r++}n&&(t.mode="disabled")}function Jc(t){var e=this;this.i=t,this.l=new Me,this.j=null,this.h=new Map,this.g=-1,this.A=!1,this.u=null,this.D=function(){e.l.Fa(e.i,"textchanged",e.m),e.l.Fa(e.j.textTracks,"change",e.C);for(var t=g(e.h.values()),n=t.next();!n.done;n=t.next())n.value.remove();e.h.clear(),e.g=-1,e.j=null},this.m=function(){for(var t=new Map,n=e.i.yc(),r=(n=g(n)).next();!r.done;r=n.next()){if(r=r.value,e.h.has(r.id)){var i=e.h.get(r.id);r.active||"disabled"===i.track.mode||(i.track.mode="disabled"),e.h.delete(r.id)}else{(i=e.j.ownerDocument.createElement("track")).kind=Zc(r);var a=i,o=void 0;if(r.label)o=r.label;else if(r.language)if(r.language in qc)o=qc[r.language];else{var s=fe(r.language);s in qc&&(o=qc[s]+" ("+r.language+")")}o||(o=r.originalTextId,r.language&&r.language!==r.originalTextId&&(o+=" ("+r.language+")")),a.label=o,r.language in qc&&(i.srclang=r.language),i.src="data:,WEBVTT",i.track.mode="disabled",e.j.appendChild(i)}t.set(r.id,i),r.active&&(e.g=r.id)}for(r=(n=g(e.h.values())).next();!r.done;r=n.next())r.value.remove();e.g>-1&&(t.has(e.g)?"disabled"===(n=t.get(e.g).track).mode&&(n.mode=e.A?"showing":"hidden"):e.g=-1),e.h=t},this.C=function(){if(!e.u){var t=e.j;e.u=new Wr((function(){if(e.u=null,e.j===t){var n=-1,r=!1;if(e.h.has(e.g)){var i=e.h.get(e.g);"showing"===i.track.mode?(n=e.g,r=!0):"hidden"===i.track.mode&&(n=e.g)}if(!r)for(i=(r=g(e.h)).next();!i.done;i=r.next()){var a=g(i.value);if(i=a.next().value,"showing"===(a=a.next().value).track.mode){n=i;break}n<0&&"hidden"===a.track.mode&&(n=i)}for(i=(r=g(e.h)).next();!i.done;i=r.next())i=(a=g(i.value)).next().value,a=a.next().value,i!==n&&"disabled"!==a.track.mode&&(a.track.mode="disabled");e.g!==n&&(e.g=n,n>-1&&e.i.fg({id:n})),e.i.Zd(n>-1&&"showing"===e.h.get(n).track.mode)}})).Y(0)}},this.l.o(t,"loaded",(function(){return e.enableTextDisplayer()})),this.enableTextDisplayer()}function Zc(t){var e=Lt();return t.forced&&"WEBKIT"===e.Ja()?"forced":"caption"===t.kind||t.roles&&t.roles.some((function(t){return t.includes("transcribes-spoken-dialog")}))&&t.roles.some((function(t){return t.includes("describes-music-and-sound")}))?"captions":"subtitles"}function Qc(t,e){for(Pe("SimpleTextDisplayer","Please migrate to NativeTextDisplayer"),this.h=t,this.i=e,this.g=null,e=(t=g(Array.from(this.h.textTracks))).next();!e.done;e=t.next())"metadata"!==(e=e.value).kind&&"chapters"!==e.kind&&(e.mode="disabled",e.label==this.i&&(this.g=e));this.g&&(this.g.mode="hidden")}function td(t){t.h&&!t.g&&(t.g=t.h.addTextTrack("subtitles",t.i),t.g.mode="hidden")}function ed(){}function nd(e,n){var r=this;this.m=!1,this.h=[],this.j=e,this.u=n,this.D=this.A=null,this.g=ss("div"),this.g.classList.add("shaka-text-container"),this.g.style.textAlign="center",this.g.style.display="flex",this.g.style.flexDirection="column",this.g.style.alignItems="center",this.g.style.justifyContent="flex-end",this.C=new Wr((function(){r.j.paused||od(r)})),rd(this),this.l=new Map,this.i=new Me,this.i.o(document,"fullscreenchange",(function(){od(r,!0)})),this.i.o(this.j,"seeking",(function(){od(r,!0)})),this.i.o(this.j,"ratechange",(function(){rd(r)})),this.i.o(this.j,"resize",(function(){var t=r.j,e=t.videoWidth;t=t.videoHeight,r.A=e&&t?e/t:null})),this.F=null,"ResizeObserver"in t&&(this.F=new ResizeObserver((function(){od(r,!0)})),this.F.observe(this.g)),this.G=new Map}function rd(t){t.C&&(t.h.length?t.C.xa((t.D?t.D.captionsUpdatePeriod:.25)/Math.max(1,Math.abs(t.j.playbackRate))):t.C.stop())}function id(t,e){for(;null!=e;){if(e==t.g)return!0;e=e.parentElement}return!1}function ad(t,e,n,r,i){for(var a=!1,o=[],s=[],u=(e=g(e)).next();!u.done;u=e.next()){u=u.value,i.push(u);var l=t.l.get(u),c=u.startTime<=r&&u.endTime>r,d=l?l.hk:null;l&&(o.push(l.Rg),l.qd&&o.push(l.qd),c||(a=!0,t.l.delete(u),l=null)),c&&(s.push(u),l?id(t,d)||(a=!0):(sd(t,u,i),d=(l=t.l.get(u)).hk,a=!0)),u.nestedCues.length>0&&d&&ad(t,u.nestedCues,d,r,i),i.pop()}if(a){for(i=(r=g(o)).next();!i.done;i=r.next())(i=i.value).parentElement&&i.parentElement.removeChild(i);for(s.sort((function(t,e){return t.startTime!=e.startTime?t.startTime-e.startTime:t.endTime-e.endTime})),r=(s=g(s)).next();!r.done;r=s.next())(r=t.l.get(r.value)).qd?(r.qd.contains(n)&&r.qd.removeChild(n),n.appendChild(r.qd),r.qd.appendChild(r.Rg)):n.appendChild(r.Rg)}}function od(t,e){if(t.g){var n=t.j.currentTime;if(!t.m||void 0!==e&&e){for(var r=(e=g(t.G.values())).next();!r.done;r=e.next())ps(r.value);ps(t.g),t.l.clear(),t.G.clear()}t.m&&ad(t,t.h,t.g,n,[])}}function sd(t,e,n){var r=n.length>1,i=r?"span":"div";e.lineBreak&&(i="br"),e.rubyTag&&(i=e.rubyTag),r=!r&&e.nestedCues.length>0;var a=ss(i);if("br"!=i&&function(t,e,n,r,i){var a=e.style,o=0==n.nestedCues.length,s=r.length>1;a.whiteSpace="pre-wrap";var u=n.payload.replace(/\s+$/g,(function(t){return" ".repeat(t.length)}));if(a.webkitTextStrokeColor=n.textStrokeColor,a.webkitTextStrokeWidth=n.textStrokeWidth,a.color=n.color,a.direction=n.direction,a.opacity=n.opacity,a.paddingLeft=ud(n.linePadding,n,t.u),a.paddingRight=ud(n.linePadding,n,t.u),a.textCombineUpright=n.textCombineUpright,a.textShadow=n.textShadow,n.backgroundImage)a.backgroundImage="url('"+n.backgroundImage+"')",a.backgroundRepeat="no-repeat",a.backgroundSize="contain",a.backgroundPosition="center",n.backgroundColor&&(a.backgroundColor=n.backgroundColor),a.width="100%",a.height="100%";else{if(n.nestedCues.length)var l=e;else l=ss("span"),e.appendChild(l);n.border&&(l.style.border=n.border),i||((e=function(t,e){for(var n=t.length-1;n>=0;n--){var r=e(t[n]);if(r||0===r)return r}return null}(r,(function(t){return t.backgroundColor})))?l.style.backgroundColor=e:u&&(l.style.backgroundColor="rgba(0, 0, 0, 0.8)")),u&&(l.setAttribute("translate","no"),l.textContent=u)}s&&!r[r.length-1].isContainer?a.display="inline":(a.display="flex",a.flexDirection="column",a.alignItems="center","left"==n.textAlign||"start"==n.textAlign?(a.width="100%",a.alignItems="start"):"right"!=n.textAlign&&"end"!=n.textAlign||(a.width="100%",a.alignItems="end"),a.justifyContent="before"==n.displayAlign?"flex-start":"center"==n.displayAlign?"center":"flex-end");o||(a.margin="0"),a.fontFamily=n.fontFamily,a.fontWeight=n.fontWeight.toString(),a.fontStyle=n.fontStyle,a.letterSpacing=n.letterSpacing,a.fontSize=ud(n.fontSize,n,t.u,t.D?t.D.fontScaleFactor:1),null!=(r=n.line)&&((o=n.lineInterpretation)==or&&(o=1,s=16,t.A&&t.A<1&&(s=32),r=r<0?100+r/s*100:r/s*100),1==o&&(a.position="absolute",n.writingMode==ar?(a.width="100%",n.lineAlign==sr?a.top=r+"%":"end"==n.lineAlign&&(a.bottom=100-r+"%")):"vertical-lr"==n.writingMode?(a.height="100%",n.lineAlign==sr?a.left=r+"%":"end"==n.lineAlign&&(a.right=100-r+"%")):(a.height="100%",n.lineAlign==sr?a.right=r+"%":"end"==n.lineAlign&&(a.left=100-r+"%")))),a.lineHeight=n.lineHeight,"line-left"==(t=function(t){var e=t.direction,n=t.positionAlign;return t=t.textAlign,n!==Qn?n:"left"===t||"start"===t&&e===ir||"end"===t&&"rtl"===e?"line-left":"right"===t||"start"===t&&"rtl"===e||"end"===t&&e===ir?"line-right":"center"}(n))?(a.cssFloat="left",null!==n.position&&(a.position="absolute",n.writingMode==ar?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%")):"line-right"==t?(a.cssFloat="right",null!==n.position&&(a.position="absolute",n.writingMode==ar?(a.right=100-n.position+"%",a.width="auto"):a.bottom=n.position+"%")):null!==n.position&&50!=n.position&&(a.position="absolute",n.writingMode==ar?(a.left=n.position+"%",a.width="auto"):a.top=n.position+"%",n.size&&(a.transform="translateX(-50%)")),a.textAlign=n.textAlign,a.textDecoration=n.textDecoration.join(" "),a.writingMode=n.writingMode,"writingMode"in document.documentElement.style&&a.writingMode==n.writingMode||(a.webkitWritingMode=n.writingMode),n.size&&(n.writingMode==ar?a.width=n.size+"%":a.height=n.size+"%")}(t,a,e,n,r),n=null,e.region&&e.region.id){var o=e.region,s=t.A===4/3?2.5:1.9;if(n=o.id+"_"+o.width+"x"+o.height+(o.heightUnits==tn?"%":"px")+"-"+o.viewportAnchorX+"x"+o.viewportAnchorY+(o.viewportAnchorUnits==tn?"%":"px"),t.G.has(n))n=t.G.get(n);else{i=ss("span");var u=o.heightUnits==tn?"%":"px",l=o.widthUnits==tn?"%":"px",c=o.viewportAnchorUnits==tn?"%":"px";i.id="shaka-text-region---"+n,i.classList.add("shaka-text-region"),i.style.position="absolute";var d=o.height,p=o.width;2===o.heightUnits&&(d=5.33*o.height,u="%"),2===o.widthUnits&&(p=o.width*s,l="%"),i.style.height=d+u,i.style.width=p+l,2===o.viewportAnchorUnits?(s=o.viewportAnchorY/75*100,u=o.viewportAnchorX/(t.A===4/3?160:210)*100,s-=o.regionAnchorY*d/100,u-=o.regionAnchorX*p/100,i.style.top=s+"%",i.style.left=u+"%"):(i.style.top=o.viewportAnchorY-o.regionAnchorY*d/100+c,i.style.left=o.viewportAnchorX-o.regionAnchorX*p/100+c),0!==o.heightUnits&&0!==o.widthUnits&&0!==o.viewportAnchorUnits&&(o=Math.max(0,Math.min(100-(parseInt(i.style.width.slice(0,-1),10)||0),parseInt(i.style.left.slice(0,-1),10)||0)),i.style.top=Math.max(0,Math.min(100-(parseInt(i.style.height.slice(0,-1),10)||0),parseInt(i.style.top.slice(0,-1),10)||0))+"%",i.style.left=o+"%"),i.style.display="flex",i.style.flexDirection="column",i.style.alignItems="center",i.style.justifyContent="before"==e.displayAlign?"flex-start":"center"==e.displayAlign?"center":"flex-end",t.G.set(n,i),n=i}}i=a,r&&((i=ss("span")).classList.add("shaka-text-wrapper"),i.style.backgroundColor=e.backgroundColor,i.style.lineHeight="normal",a.appendChild(i)),t.l.set(e,{Rg:a,hk:i,qd:n})}function ud(t,e,n,r){r=void 0===r?1:r;var i=(i=new RegExp(/(\d*\.?\d+)([a-z]+|%+)/).exec(t))?{value:Number(i[1]),unit:i[2]}:null;if(!i)return t;switch(t=i.unit,r*=i.value,t){case"%":return r/100*n.clientHeight/e.cellResolution.rows+"px";case"c":return n.clientHeight*r/e.cellResolution.rows+"px";default:return r+t}}function ld(t,e){this.g=e,this.j=t,this.F=new Map,this.l=void 0,this.D=!1,this.J=!0,this.u=this.I=!1,this.C=this.A=void 0,this.H=0,this.K={request:!1,response:!1,event:!1},this.m={},this.i=new Me,this.G=[],this.h=null}function cd(t){if(t.G)for(var e=g(t.G),n=e.next();!n.done;n=e.next())n.value.stop();t.G=[]}function dd(t){return(t=t.g.targets)?t.filter((function(t){return t.mode===Zd&&t.enabled})):[]}function pd(t){return(t=t.g.targets)?t.filter((function(t){return t.mode===Jd&&!0===t.enabled})):[]}function hd(e){return e.g.sessionId||(e.g.sessionId=t.crypto.randomUUID()),{v:e.g.version,sf:e.l,sid:e.g.sessionId,cid:e.g.contentId,mtp:e.j.getBandwidthEstimate()/1e3}}function fd(t,e,n){if(n=void 0===n?{}:n,e=Cd(t,e=Object.assign({e:e,ts:Date.now()},n),Zd),n=t.g.targets,!(t.g.version<Pd)&&n){var r=dd(t);n=Array.from(new Set([].concat(m(Fd),m(zd))));for(var i=(r=g(r)).next();!i.done;i=r.next()){var a=vd((i=i.value).includeKeys||[],n);a.includes($d)||a.push($d),a=yd(e,a);var o=i.events||[],s=a.e,u=a.sta;s&&(!Hd.includes(s)||!("ps"!==s||u&&Kd.includes(u))||o&&o.length>0&&!o.includes(s))||md(t,a,i)}}}function gd(t,e,n){if(t.g.enabled){n=Cd(t,n,Yd);var r=Ad({mode:Yd,useHeaders:t.g.useHeaders,includeKeys:t.g.includeKeys||[]});t.m[r]||(t.m[r]={request:1,response:1}),n.sn=t.m[r].request++,function(t,e,n){if(n)t=Td(t),Object.keys(t).length&&Object.assign(e.headers,t);else{var r=xd(t);r&&(e.uris=e.uris.map((function(t){return Sd(t,r)})))}}(n=yd(n,r=vd(r=t.g.includeKeys||[],t.g.version==Pd?Array.from(new Set([].concat(m(Fd),m(Vd)))):qd)),e,t.g.useHeaders)}}function md(t,e,n,r){var i={maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4},a=n.url;if(n.useHeaders){if(e=Td(e),!Object.keys(e).length)return;r&&Object.assign(r.headers,e),r=Qi([a],i),Object.assign(r.headers,e)}else{if(!(e=xd(e)))return;a=Sd(a,e),r&&(r.uri=a),r=Qi([a],i)}t.j.Vb().request(9,r)}function vd(t,e){if(!t||0===t.length)return e;for(var n=g(t),r=n.next();!r.done;r=n.next())e.includes(r.value);return t.filter((function(t){return e.includes(t)}))}function yd(t,e){return Object.keys(t).reduce((function(n,r){return e.includes(r)&&(n[r]=t[r]),n}),{})}function Ad(t){var e=Object.keys(t).sort().reduce((function(e,n){return"enabled"!==n&&(e[n]=t[n]),e}),{});return JSON.stringify(e)}function bd(t,e){if(!(e=t.j.Oc()[e]).length)return 0;var n=t.h?t.h.currentTime:0;return(t=e.find((function(t){return t.start<=n&&t.end>=n})))?1e3*(t.end-n):0}function wd(t,e,n){var r=e.segment,i=0;r&&(i=r.endTime-r.startTime),(i={d:1e3*i,st:t.j.U()?_d:Dd}).ot=function(t){if(0===t.type)return Rd;if(t=t.stream){var e=t.type;if("video"==e)return t.codecs&&t.codecs.includes(",")?Md:Id;if("audio"==e)return kd;if("text"==e)return"application/mp4"===t.mimeType?Od:Ld}}(e);var a=i.ot===Id||i.ot===kd||i.ot===Md||i.ot===Od;if(e=e.stream){var o=t.j.Za();if(a&&(i.bl=function(t,e){if(!(e=t.j.Oc()[e]).length)return NaN;var n=t.h?t.h.currentTime:0;return(t=e.find((function(t){return t.start<=n&&t.end>=n})))?1e3*(t.end-n):NaN}(t,e.type),i.ot!==Od)){var s=bd(t,e.type);i.dl=o?s/Math.abs(o):s}if(e.bandwidth&&(i.br=e.bandwidth/1e3),e.segmentIndex&&r){if((o=e.segmentIndex.ec(r.endTime,!0,o<0))&&(o=o.next().value)&&o!=r){if(n&&!Ie(r.T(),o.T())){var u=o.T()[0];s=new URL(u);var l=new URL(n);if(s.origin!==l.origin)n=u;else{n=s.pathname.split("/").slice(1),u=l.pathname.split("/").slice(1,-1),l=Math.min(n.length,u.length);for(var c=0;c<l&&n[c]===u[c];c++)n.shift(),u.shift();for(;u.length;)u.shift(),n.unshift("..");n=n.join("/")+s.search+s.hash}i.nor=n}!o.startByte&&!o.endByte||r.startByte==o.startByte&&r.endByte==o.endByte||(n=o.startByte+"-",o.endByte&&(n+=o.endByte),i.nrr=n)}o=t.j.Za()||1,n=bd(t,e.type)||500,r=(e=e.bandwidth)?e*(r.endTime-r.startTime)/1e3/(n/o/1e3)*t.g.rtpSafetyFactor:NaN,isNaN(r)||(i.rtp=r)}}return a&&i.ot!==Od&&(i.tb=function(t,e){var n=t.j.Nb();if(!n.length)return NaN;t=n[0];for(var r=(n=g(n)).next();!r.done;r=n.next())"variant"===(r=r.value).type&&r.bandwidth>t.bandwidth&&(t=r);switch(e){case Id:return t.videoBandwidth||NaN;case kd:return t.audioBandwidth||NaN;default:return t.bandwidth}}(t,i.ot)/1e3),i}function Cd(t,e,n){Object.assign(e,hd(t)),e.pr=t.j.Za();var r=e.ot===Id||e.ot===Md;return t.I&&r&&(e.bs=!0,e.su=!0,t.I=!1),null==e.su&&(e.su=t.J),t.j.U()&&(r=Pp(t.j),e.ltc=r||void 0),document.hidden&&(e.bg=!0),null==(r=t.C&&t.A?t.C-(t.H||t.A):void 0)||t.K[n]||(e.msd=r,t.K[n]=!0),e}function xd(t){function e(t){return 100*n(t/100)}function n(t){return Math.round(t)}for(var r,i=[],a={br:n,d:n,bl:e,dl:e,mtp:e,nor:function(t){return encodeURIComponent(t)},rtp:e,tb:n,ttfb:n,ttlb:n},o=Object.keys(t||{}).sort(),s=(o=g(o)).next();!s.done;s=o.next()){var u=t[s=s.value];if(!(r=u,Number.isNaN(r)||null==r||""===r||!1===r||"v"===s&&1===u||"pr"==s&&1===u)){var l=a[s];l&&(u=l(u));var c;c="string"===(l=typeof u)&&"ot"!==s&&"sf"!==s&&"st"!==s?s+"="+JSON.stringify(u):"boolean"===l?s:"symbol"===l?s+"="+u.description:s+"="+u,i.push(c)}}return i.join(",")}function Td(t){for(var e=Object.keys(t),n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],a={br:0,d:0,ot:0,tb:0,url:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,ltc:1,ttfb:1,ttlb:1,ts:1,rc:1,cmsdd:1,cmsds:1,sn:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,msd:2,bs:3,rtp:3,bg:3},o=(e=g(e)).next();!o.done;o=e.next())i[null!=a[o=o.value]?a[o]:1][o]=t[o];for(t=0;t<i.length;t++)(a=xd(i[t]))&&(n["CMCD-"+r[t]]=a);return n}function Sd(t,e){return!e||t.includes("offline:")?t:((t=new at(t)).g.set("CMCD",e),t.toString())}(i=Jc.prototype).configure=function(){},i.remove=function(t,e){return!!this.i&&(this.h.has(this.g)&&Yc(this.h.get(this.g).track,(function(n){return n.startTime<e&&n.endTime>t})),!0)},i.append=function(t){this.h.has(this.g)&&Xc(this.h.get(this.g).track,t)},i.destroy=function(){return this.i&&(this.j&&this.D(),this.i=null),this.l&&(this.l.release(),this.l=null),Promise.resolve()},i.isTextVisible=function(){return this.A},i.setTextVisibility=function(t){if(this.A=t,this.h.has(this.g)){var e=this.h.get(this.g).track;"disabled"!==e.mode&&(t=t?"showing":"hidden",e.mode!==t&&(e.mode=t))}else if(this.i&&3===this.i.l)if(e=Array.from(this.i.h.textTracks).filter((function(t){return["captions","subtitles","forced"].includes(t.kind)})),t){t=null;for(var n=(e=g(e)).next();!n.done;n=e.next()){if("showing"===(n=n.value).mode){t=null;break}t||"hidden"!==n.mode||(t=n)}t&&(t.mode="showing")}else for(e=(t=g(e)).next();!e.done;e=t.next())"showing"===(e=e.value).mode&&(e.mode="hidden")},i.setTextLanguage=function(){},i.enableTextDisplayer=function(){!this.j&&this.i&&2===this.i.l&&(this.j=this.i.h,this.l.ua(this.i,"unloading",this.D),this.l.o(this.i,"textchanged",this.m),this.l.o(this.j.textTracks,"change",this.C),this.m())},G("shaka.text.NativeTextDisplayer",Jc),Jc.prototype.enableTextDisplayer=Jc.prototype.enableTextDisplayer,Jc.prototype.setTextLanguage=Jc.prototype.setTextLanguage,Jc.prototype.setTextVisibility=Jc.prototype.setTextVisibility,Jc.prototype.isTextVisible=Jc.prototype.isTextVisible,Jc.prototype.destroy=Jc.prototype.destroy,Jc.prototype.append=Jc.prototype.append,Jc.prototype.remove=Jc.prototype.remove,Jc.prototype.configure=Jc.prototype.configure,(i=Qc.prototype).configure=function(){},i.remove=function(t,e){return!!this.g&&(Yc(this.g,(function(n){return n.startTime<e&&n.endTime>t})),!0)},i.append=function(t){this.g&&Xc(this.g,t)},i.destroy=function(){return this.g&&(Yc(this.g,(function(){return!0})),this.g.mode="disabled"),this.g=this.h=null,Promise.resolve()},i.isTextVisible=function(){return!!this.g&&"showing"==this.g.mode},i.setTextVisibility=function(t){t&&!this.g&&td(this),this.g&&(this.g.mode=t?"showing":"hidden")},i.setTextLanguage=function(){},i.enableTextDisplayer=function(){td(this)},G("shaka.text.SimpleTextDisplayer",Qc),Qc.prototype.enableTextDisplayer=Qc.prototype.enableTextDisplayer,Qc.prototype.setTextLanguage=Qc.prototype.setTextLanguage,Qc.prototype.setTextVisibility=Qc.prototype.setTextVisibility,Qc.prototype.isTextVisible=Qc.prototype.isTextVisible,Qc.prototype.destroy=Qc.prototype.destroy,Qc.prototype.append=Qc.prototype.append,Qc.prototype.remove=Qc.prototype.remove,Qc.prototype.configure=Qc.prototype.configure,(i=ed.prototype).configure=function(){},i.remove=function(){},i.append=function(){},i.destroy=function(){},i.isTextVisible=function(){return!1},i.setTextVisibility=function(){},i.setTextLanguage=function(){},i.enableTextDisplayer=function(){},G("shaka.text.StubTextDisplayer",ed),ed.prototype.enableTextDisplayer=ed.prototype.enableTextDisplayer,ed.prototype.setTextLanguage=ed.prototype.setTextLanguage,ed.prototype.setTextVisibility=ed.prototype.setTextVisibility,ed.prototype.isTextVisible=ed.prototype.isTextVisible,ed.prototype.destroy=ed.prototype.destroy,ed.prototype.append=ed.prototype.append,ed.prototype.remove=ed.prototype.remove,ed.prototype.configure=ed.prototype.configure,(i=nd.prototype).configure=function(t){this.D=t,rd(this),od(this,!0)},i.append=function(t){for(var e=[].concat(m(this.h)),n=(t=g(Wc(t))).next(),r={};!n.done;r={Qg:void 0},n=t.next())r.Qg=n.value,e.some(function(t){return function(e){return $n(e,t.Qg)}}(r))||this.h.push(r.Qg);this.h.length&&rd(this),od(this)},i.destroy=function(){return this.g?(this.g.parentElement&&this.u.removeChild(this.g),this.g=null,this.m=!1,this.h=[],this.C&&(this.C.stop(),this.C=null),this.l.clear(),this.i&&(this.i.release(),this.i=null),this.F&&(this.F.disconnect(),this.F=null),Promise.resolve()):Promise.resolve()},i.remove=function(t,e){if(!this.g)return!1;var n=this.h.length;return this.h=this.h.filter((function(n){return n.startTime<t||n.endTime>=e})),od(this,n>this.h.length),this.h.length||rd(this),!0},i.isTextVisible=function(){return this.m},i.setTextVisibility=function(t){(this.m=t)?(this.g.parentElement||this.u.appendChild(this.g),od(this,!0)):this.g.parentElement&&this.u.removeChild(this.g)},i.setTextLanguage=function(t){t&&"und"!=t?this.g.setAttribute("lang",t):this.g.setAttribute("lang","")},i.enableTextDisplayer=function(){},G("shaka.text.UITextDisplayer",nd),nd.prototype.enableTextDisplayer=nd.prototype.enableTextDisplayer,nd.prototype.setTextLanguage=nd.prototype.setTextLanguage,nd.prototype.setTextVisibility=nd.prototype.setTextVisibility,nd.prototype.isTextVisible=nd.prototype.isTextVisible,nd.prototype.remove=nd.prototype.remove,nd.prototype.destroy=nd.prototype.destroy,nd.prototype.append=nd.prototype.append,nd.prototype.configure=nd.prototype.configure,G("shaka.text.WebVttGenerator",(function(){})),ld.prototype.setMediaElement=function(e){this.h=e,function(e){e.i.o(e.h,"playing",(function(){e.C||(e.C=Date.now()),fd(e,"ps",{td:"p"})})),e.i.o(e.h,"volumechange",(function(){fd(e,e.h.muted?"m":"um")})),e.i.o(e.h,"play",(function(){e.A||(e.A=Date.now(),fd(e,"ps",{td:"s"}))})),e.i.o(e.h,"pause",(function(){fd(e,"ps",{td:"a"})})),e.i.o(e.j,"buffering",(function(){fd(e,"ps",{td:"w"})})),e.i.o(e.h,"seeking",(function(){return fd(e,"ps",{td:"k"})})),e.i.o(document,"fullscreenchange",(function(){fd(e,document.fullscreenElement?"pe":"pc")}));var n=e.h;(n.webkitPresentationMode||n.webkitSupportsFullscreen)&&e.i.o(n,"webkitpresentationmodechanged",(function(){n.webkitPresentationMode?fd(e,"inline"!==n.webkitPresentationMode?"pe":"pc"):n.webkitSupportsFullscreen&&fd(e,n.webkitDisplayingFullscreen?"pe":"pc")})),e.i.o(e.h,"enterpictureinpicture",(function(){fd(e,"pe")})),e.i.o(e.h,"leavepictureinpicture",(function(){fd(e,"pc")})),"documentPictureInPicture"in t&&e.i.o(t.documentPictureInPicture,"enter",(function(t){fd(e,"pe"),e.i.ua(t.window,"pagehide",(function(){fd(e,"pc")}))})),e.i.o(document,"visibilitychange",(function(){document.hidden?fd(e,"b",{bg:!0}):fd(e,"b")})),e.i.o(e.j,"complete",(function(){fd(e,"ps",{td:"e"})}))}(this)},ld.prototype.configure=function(t){this.g=t,function(t){cd(t);for(var e=dd(t),n=(e=g(e)).next();!n.done;n=e.next())if(void 0===(n=n.value.timeInterval)&&(n=Wd),n>=1){var r=new Wr((function(){return fd(t,Xd)}));r.xa(n),t.G.push(r)}}(this)};var Ed="m",kd="a",Id="v",Md="av",Rd="i",Ld="c",Od="tt",Pd=2,Dd="v",_d="l",Nd="d",Ud="ld",Bd="h",jd="lh";G("shaka.util.CmcdManager.StreamingFormat",{DASH:Nd,dn:Ud,HLS:Bd,fn:jd,wn:"s",OTHER:"o"});var qd="br bl bs cid d dl mtp nor nrr ot pr rtp sf sid st su tb v".split(" "),Fd="br ab bl tbl bs cdn cid ltc mtp pr sf sid bg sta st ts tpb tb lb tab lab pt ec msd v sn".split(" "),Vd="ab bl tbl bs cdn cid d dl ltc mtp nor ot pr rtp sf sid bg sta st su ts tpb tb lb tab lab pt ec msd v".split(" "),Gd="d dl nor ot rtp rc su ttfb ttfbb ttlb url cmsdd cmsds".split(" "),zd=["e","sta"],Hd="ps e t c b m um pe pc".split(" "),Kd="spawkrfeqd".split(""),Wd=10,$d="ts",Xd="t",Yd="request",Jd="response",Zd="event";function Qd(t){this.h=t,this.g=null}function tp(t){return!t||"false"!==t.toLowerCase()&&(/^[-0-9]/.test(t)?parseInt(t,10):t.replace(/["]+/g,""))}(i=Qd.prototype).configure=function(t){this.h=t},i.Xi=function(){return this.h.enabled&&this.h.applyMaximumSuggestedBitrate&&this.g&&this.g.has(np)?1e3*this.g.get(np):null},i.Wi=function(){return this.h.enabled&&this.g&&this.g.has(ep)?1e3*this.g.get(ep):null},i.fl=function(){return this.h.enabled&&this.g&&this.g.has(rp)?this.g.get(rp):null},i.hl=function(){return this.h.enabled&&this.g&&this.g.has(ip)?this.g.get(ip):null},i.getBandwidthEstimate=function(t){var e=this.Wi();if(!e)return t;var n=this.h.estimatedThroughputWeightRatio;return n>0&&n<=1?t*(1-n)+e*n:t},G("shaka.util.CmsdManager",Qd),Qd.prototype.getBandwidthEstimate=Qd.prototype.getBandwidthEstimate,Qd.prototype.getRoundTripTime=Qd.prototype.hl,Qd.prototype.getResponseDelay=Qd.prototype.fl,Qd.prototype.getEstimatedThroughput=Qd.prototype.Wi,Qd.prototype.getMaxBitrate=Qd.prototype.Xi;var ep="etp",np="mb",rp="rd",ip="rtt";function ap(){this.g=null,this.h=[]}function op(t,e){return P((function(n){if(1==n.g)return t.g?w(n,new Promise((function(e){return t.h.push(e)})),2):n.B(2);t.g=e,C(n)}))}function sp(e,n,r){n=void 0===n?null:n,tt.call(this);var i=this;this.l=hh,this.h=null,this.Qe=n,this.W=!1,this.bf=new Me,this.Re=new Me,this.j=new Me,this.kc=new Me,this.Hc=new Me,this.G=this.H=this.F=this.J=null,this.cf=0,this.ea=new ap,this.O=this.Z=this.V=this.i=this.Gc=this.I=this.m=this.Ne=this.R=this.Di=this.ra=this.K=this.fb=this.Ca=this.Pe=this.P=this.La=this.L=this.jb=null,this.aa=!1,this.Ve=this.u=null,this.Ue=1e9,this.Ze=[],this.Dc=new Map,this.ib=[],this.Bg=-1,this.g=Up(this),this.Dg={streaming:{inaccurateManifestTolerance:0,segmentPrefetchLimit:2,updateIntervalSeconds:.1,maxDisabledTime:1,retryParameters:{baseDelay:100}},manifest:{dash:{autoCorrectDrift:!1},retryParameters:{baseDelay:100}},drm:{retryParameters:{baseDelay:100}}},this.S=null,this.df=-1,this.Ob=null,this.sa={width:1/0,height:1/0},this.Te=new Qa(this.g,this.sa,null),this.Xe=[],this.C=null,this.M=this.g.adaptationSetCriteriaFactory(),this.M.configure({language:this.g.preferredAudioLanguage,role:this.g.preferredAudioRole,videoRole:this.g.preferredVideoRole,channelCount:0,hdrLevel:this.g.preferredVideoHdrLevel,spatialAudio:this.g.preferSpatialAudio,videoLayout:this.g.preferredVideoLayout,audioLabel:this.g.preferredAudioLabel,videoLabel:this.g.preferredVideoLabel,codecSwitchingStrategy:this.g.mediaSource.codecSwitchingStrategy,audioCodec:"",activeAudioCodec:"",activeAudioChannelCount:0,preferredAudioCodecs:this.g.preferredAudioCodecs,preferredAudioChannelCount:this.g.preferredAudioChannelCount}),this.Vd=this.g.preferredTextLanguage,this.ee=this.g.preferredTextRole,this.ce=this.g.preferForcedSubs,this.Se=[],r&&r(this),this.K=new ld(this,this.g.cmcd),this.ra=new Qd(this.g.cmsd),this.J=xp(this),this.ae=this.oa=this.ya=this.D=null,this.Fg=!1,this.Cg=[],this.Eg=new Wr((function(){return P((function(t){return 1==t.g?i.oa?w(t,i.cc(i.ae,!0),3):t.B(0):4!=t.g?w(t,i.load(i.oa),4):(i.Fg?i.ae.pause():i.ae.play(),i.oa=null,i.Fg=!1,void C(t))}))})),yh&&(this.D=yh(),this.D.configure(this.g.ads),this.Hc.o(this.D,"ad-content-pause-requested",(function(t){var e;return P((function(n){if(1==n.g)return i.Eg.stop(),i.oa?n.B(0):(i.ae=i.h,i.Fg=i.isEnded(),e=t.saveLivePosition||!1,w(n,i.Ri(!0,e),3));i.oa=n.h,C(n)}))})),this.Hc.o(this.D,"ad-content-resume-requested",(function(t){if(t=t.offset||0,i.oa){var e=i.oa;e.m&&t&&("number"==typeof e.m?e.m+=t:e.m.setTime(e.m.getTime()+1e3*t))}i.Eg.Y(.1)})),this.Hc.o(this.D,"ad-content-attach-requested",(function(){return P((function(t){return i.h||!i.ae?t.B(0):w(t,i.cc(i.ae,!0),0)}))}))),Ah&&(this.ya=Ah(this),this.ya.configure(this.g.queue)),this.bf.o(t,"online",(function(){rh(i),i.Wh()})),this.We=new Wr((function(){for(var t=Date.now()/1e3,e=!1,n=!0,r=g(i.i.variants),a=r.next();!a.done;a=r.next())(a=a.value).disabledUntilTime>0&&a.disabledUntilTime<=t&&(a.disabledUntilTime=0,e=!0),a.disabledUntilTime>0&&(n=!1);n&&i.We.stop(),e&&Hp(i,!1,void 0,!1,!1)})),this.Na=null,e&&(Pe("Player w/ mediaElement","Please migrate from initializing Player with a mediaElement; use the attach method instead."),this.cc(e,!0)),this.A=null}function up(t){null!=t.R&&(je(t.R),t.R.release(),t.R=null)}function lp(t,e){return new z(t,e)}function cp(t,e){vh.set(t,e)}function dp(){return t.Promise||X("A Promise implementation or polyfill is required"),!(!(t.Promise&&t.Uint8Array&&Array.prototype.forEach)||(navigator.userAgent||"").includes("Trident/"))&&(Lt(),!!sy()||""!=hs().canPlayType("application/x-mpegurl"))}function pp(t,e){t.dispatchEvent(lp("onstatechange",(new Map).set("state",e)))}function hp(t,e){var n;return P((function(r){return 1==r.g?(n=++t.cf,w(r,op(t.ea,e),2)):n!=t.cf?(t.ea.release(),r.return(!0)):r.return(!1)}))}function fp(t,e){var n,r,i;return e=void 0!==e&&e,P((function(a){if(1==a.g)return n=null,t.i&&t.I&&t.Gc&&t.V&&t.g?(r=t.h.currentTime,t.U()&&!e&&(r=null),w(a,mp(t,t.V,r,t.Z,t.g,!0,!1),3)):a.B(2);if(2!=a.g){n=a.h,t.Xe.push(n),t.I&&t.I.setMediaElement&&t.I.setMediaElement(null),(i=t.m?t.m.u:null)&&(n.u=i);var o=n,s=t.I,u=t.Gc;o.h=t.i,o.l=s,o.H=u,n.D=t.M,n.start(),t.i=null,t.I=null,t.Gc=null,t.u=null,t.Ve=null}return a.return(n)}))}function gp(t,e,n,r,i,a){var o,s,u;return i=void 0!==i&&i,P((function(l){return 1==l.g?r?l.B(2):w(l,vp(t,e),3):(2!=l.g&&(r=l.h),function(t,e){if(!sy(Lt()))return!0;if(e){if(""==(t.h||hs()).canPlayType(e))return!1;if(!sy(Lt())||!lo.has(e))return!0;if(_r(e))return"WEBKIT"===Lt().Ja()&&(t.g.drm.servers["com.apple.fps"]||t.g.drm.servers["com.apple.fps.1_0"])?t.g.streaming.useNativeHlsForFairPlay:t.g.streaming.preferNativeHls;if("application/dash+xml"===e||"video/vnd.mpeg.dash.mpd"===e)return t.g.streaming.preferNativeDash}return!1}(t,r)?l.return(null):(o=a||t.g,s=!1,i&&t.h&&"AUDIO"===t.h.nodeName&&(s=!0),u=mp(t,e,n,r||null,o,!i,s),u=i?u.then((function(t){return t.F=!1,t})):u.then((function(e){return t.Xe.push(e),e})),l.return(u)))}))}function mp(t,e,n,r,i,a,o){var s,u,l,c,d,p,h,f,m,v,y,A;return a=void 0===a||a,o=void 0!==o&&o,P((function(b){return 1==b.g?(s=null,u=dn(i),o&&(u.manifest.disableVideo=!0),l=function(){return s.P&&s.j?null:s},c=function(){return l()?l().getConfiguration():t.g},t.sa.width!=1/0||t.sa.height!=1/0||t.g.ignoreHardwareResolution?b.B(2):w(b,Lt().wc(),3)):(2!=b.g&&(d=b.h,t.sa.width=d.width,t.sa.height=d.height),p=new Qa(u,t.sa,null),h={networkingEngine:t.J,filter:function(t){var e;return P((function(n){return 1==n.g?w(n,to(p,t),2):4!=n.g?n.h?(e=lp("trackschanged"),w(n,Promise.resolve(),4)):n.B(0):(s.dispatchEvent(e),void C(n))}))},makeTextStreamsForClosedCaptions:function(e){return function(t,e){for(var n=new Set,r=g(e.textStreams),i=r.next();!i.done;i=r.next())"application/cea-608"!=(i=i.value).mimeType&&"application/cea-708"!=i.mimeType||n.add(i.originalId);for(r=g(e.variants),i=r.next();!i.done;i=r.next())if((i=i.value.video)&&i.closedCaptions)for(var a=g(i.closedCaptions.keys()),o=a.next();!o.done;o=a.next())if(o=o.value,!n.has(o)){var s=o.startsWith("CC")?"application/cea-608":"application/cea-708",u=new Wu,l=i.closedCaptions.get(o);s={id:t.Ue++,originalId:o,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:u,mimeType:s,codecs:"",kind:"caption",encrypted:!1,drmInfos:[],keyIds:new Set,language:l,originalLanguage:l,label:null,type:re,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:i.roles,forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set([kr(s,"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},e.textStreams.push(s),n.add(o)}}(t,e)},onTimelineRegionAdded:function(t){nl(s.I,t)},onEvent:function(t){return s.dispatchEvent(t)},onError:function(t){return s.onError(t)},isLowLatencyMode:function(){return c().streaming.lowLatencyMode},updateDuration:function(){t.m&&s.P&&t.m.updateDuration()},newDrmInfo:function(t){var e=s.i,n=e?e.g:null;n&&e.C&&ro(p,n.keySystem,t)},onManifestUpdated:function(){var e=(new Map).set("isLive",t.U());s.dispatchEvent(lp("manifestupdated",e)),Tc(s,!1,(function(){t.D&&t.D.onManifestUpdated(t.U())}))},getBandwidthEstimate:function(){return t.u.getBandwidthEstimate()},onMetadata:function(e,n,r,i){var a=e;"com.apple.hls.interstitial"!=e&&"com.apple.hls.overlay"!=e||(a="com.apple.quicktime.HLS",e={startTime:n,endTime:r,values:i},t.D&&t.D.onHLSInterstitialMetadata(t,t.h,e)),e=(i=g(i)).next();for(var o={};!e.done;o={Qh:void 0},e=i.next())o.Qh=e.value,"ID"!=o.Qh.name&&Tc(s,!1,function(e){return function(){Cp(t,n,r,a,e.Qh)}}(o))},disableStream:function(e){return t.disableStream(e,t.g.streaming.maxDisabledTime)},addFont:function(e,n){return t.addFont(e,n)}},(f=new el((function(){return t.wa()}))).addEventListener("regionadd",(function(e){var n=e.region;ah(t,"timelineregionadded",n,s),Tc(s,!1,(function(){t.D&&(t.D.onDashTimedMetadata(n),t.D.onDASHInterstitialMetadata(t,t.h,n))}))})),m=null,u.streaming.observeQualityChanges&&((m=new Zu((function(){return t.Oc()}))).addEventListener("qualitychange",(function(e){oh(t,e.quality,e.position)})),m.addEventListener("audiotrackchange",(function(e){oh(t,e.quality,e.position,!0)}))),v=!0,y={Cc:t.J,onError:function(t){return s.onError(t)},Sf:function(e){Tc(s,!0,(function(){t.F&&function(t,e){var n=lp("keystatuschanged");t.dispatchEvent(n);var r=Object.keys(e);1==r.length&&""==r[0]&&(r=["00"],e={"00":e[""]});var i=1==r.length&&"00"==r[0];if(n=!1,r.length){r=t.keySystem();for(var a=la(t.g.drm.clearKeys),o=function(n,r){n.allowedByKeySystem=!0;for(var a=(r=g(r)).next();!a.done;a=r.next())a=a.value,((a=e[i?"00":a])||t.F.H)&&(n.allowedByKeySystem=n.allowedByKeySystem&&!!a&&!ao.includes(a))},s=g(t.i.variants),u=s.next();!u.done;u=s.next())for(var l=Ai(u=u.value),c=(l=g(l)).next();!c.done;c=l.next()){c=c.value;var d=u.allowedByKeySystem;if(c.keyIds.size)if(c.drmInfos.length&&!a.size&&"HLS"==t.i.type)for(var p=g(c.drmInfos),h=p.next();!h.done;h=p.next())(h=h.value).keySystem==r&&(h.keyIds.size?o(u,h.keyIds):o(u,c.keyIds));else o(u,c.keyIds);d!=u.allowedByKeySystem&&(n=!0)}}if(n&&(Xp(t),!Gp(t)))return;(n=t.m.u)&&!n.allowedByKeySystem&&Hp(t)}(t,e)}))},onExpirationUpdated:function(t,e){var n=lp("expirationupdated");s.dispatchEvent(n),(n=s.l)&&n.onExpirationUpdated&&n.onExpirationUpdated(t,e)},onEvent:function(e){s.dispatchEvent(e),"drmsessionupdate"==e.type&&v&&(v=!1,e=Date.now()/1e3-s.sa,(t.C||s.getStats()).m=e,t.R&&je(t.R))}},A=xp(t,l),Zi(t.J,A),s=new xc(e,r,n,{config:u,Ol:h,Zl:f,Yl:m,Dd:function(){return t.Dd(y)},Nl:p,networkingEngine:A,kk:a}),b.return(s))}))}function vp(t,e){var n,r;return P((function(i){return 1==i.g?(n=t.g.manifest.retryParameters,w(i,Uc(e,t.J,n),2)):("application/x-mpegurl"==(r=i.h)&&("WEBKIT"===Lt().Ja()&&(r="application/vnd.apple.mpegurl")),"video/quicktime"==r&&("CHROMIUM"===Lt().Ja()&&(r="video/mp4")),i.return(r))}))}function yp(t,e){var n=t.g.textDisplayFactory;t.Ci!==n||void 0!==e&&e?(e=t.A,t.A=n(),t.A.configure?t.A.configure(t.g.textDisplayer):Pe("Text displayer w/ configure",'Text displayer should have a "configure" method!'),t.A.setTextLanguage||Pe("Text displayer w/ setTextLanguage",'Text displayer should have a "setTextLanguage" method!'),e?(t.A.setTextVisibility(e.isTextVisible()),e.destroy().catch((function(){}))):t.A.setTextVisibility(t.W),t.H&&function(t,e){t.Z=e,t.h&&(t.h.l=e)}(t.H,t.A),t.Ci=n,t.m&&function(t){var e=t.h.get(re);e&&xl(t,e.stream,!0,0,!0)}(t.m)):t.A&&t.A.configure&&t.A.configure(t.g.textDisplayer)}function Ap(t){var e,n,r;return P((function(i){if(1==i.g)return Lt(),pp(t,"media-source"),t.g.mediaSource.useSourceElements&&ds(t.h),yp(t),e=function(t,e,n,r,i){return new Gs(t,e,n,i,r)}(t.h,t.A,{Qk:function(){return t.keySystem()},onMetadata:function(e,n,r){for(var i=(e=g(e)).next();!i.done;i=e.next())if((i=i.value).data&&"number"==typeof i.cueTime&&i.frames){var a=i.cueTime+n,o=r;o&&a>o&&(o=a);for(var s=g(i.frames),u=s.next();!u.done;u=s.next())Cp(t,a,o,"org.id3",u.value);t.D&&t.D.onHlsTimedMetadata(i,a)}},Tl:function(e){t.fb&&nl(t.fb,{schemeIdUri:e.schemeIdUri,startTime:e.startTime,endTime:e.endTime,id:String(e.id),emsg:e})},onEvent:function(e){return t.dispatchEvent(e)},Vl:function(){t.I&&t.I.update&&t.I.update()}},t.R,t.g.mediaSource),n=t.g.manifest,r=n.segmentRelativeVttTiming,e.Ca=r,w(i,e.L,2);t.H=e,C(i)}))}function bp(t,e,n){function r(){return qp(t)}if(t.j.o(e,"playing",r),t.j.o(e,"pause",r),t.j.o(e,"ended",r),t.j.o(e,"ratechange",(function(){var e=t.h.playbackRate;0!=e&&(t.L&&(t.L.set(e),t.l==fh&&t.u.playbackRateChanged(e),jp(t,e)),e=lp("ratechange"),t.dispatchEvent(e))})),e.remote&&(t.j.o(e.remote,"connect",(function(){t.m&&"connected"==e.remote.state&&Qp(t),Xp(t)})),t.j.o(e.remote,"connecting",(function(){return Xp(t)})),t.j.o(e.remote,"disconnect",(function(){return P((function(n){if(1==n.g)return t.m&&"disconnected"==e.remote.state?w(n,Vl(t.m),3):n.B(2);2!=n.g&&Qp(t),Xp(t),C(n)}))}))),e.audioTracks&&(t.j.o(e.audioTracks,"addtrack",(function(){return Xp(t)})),t.j.o(e.audioTracks,"removetrack",(function(){return Xp(t)})),t.j.o(e.audioTracks,"change",(function(){return Xp(t)}))),e.videoTracks&&(t.j.o(e.videoTracks,"addtrack",(function(){return Xp(t)})),t.j.o(e.videoTracks,"removetrack",(function(){return Xp(t)})),t.j.o(e.videoTracks,"change",(function(){return Xp(t)}))),(e.webkitPresentationMode||e.webkitSupportsFullscreen)&&t.j.o(e,"webkitpresentationmodechanged",(function(){t.Qe&&yp(t,!0)})),e.textTracks){var i=function(){t.l===gh&&t.A instanceof Jc&&Qp(t),Xp(t)};t.j.o(e.textTracks,"addtrack",(function(e){if(e.track)switch(e=e.track,e.kind){case"metadata":!function(t,e){if("metadata"==e.kind){e.mode="hidden",t.j.o(e,"cuechange",(function(){if(e.activeCues)for(var n=g(e.activeCues),r=n.next();!r.done;r=n.next())r=r.value,Cp(t,r.startTime,r.endTime,r.type,r.value),t.D&&t.D.onCueMetadataChange(r.value);if(e.cues){n=[];for(var i=(r=g(e.cues)).next(),a={};!i.done;a={Mc:void 0},i=r.next())a.Mc=i.value,"com.apple.quicktime.HLS"==a.Mc.type&&null!=a.Mc.startTime&&((i=n.find(function(t){return function(e){return e.startTime==t.Mc.startTime&&e.endTime==t.Mc.endTime}}(a)))||(i={startTime:a.Mc.startTime,endTime:a.Mc.endTime,values:[]},n.push(i)),i.values.push(a.Mc.value));for(r=(n=g(n)).next();!r.done;r=n.next())(r=r.value).values.some((function(t){return"X-ASSET-URI"==t.key||"X-ASSET-LIST"==t.key}))&&t.D&&(r.values.push({key:"CUE",description:"",data:0!=r.startTime||t.U()?"ONCE":"ONCE,PRE",mimeType:null,pictureType:null}),t.D.onHLSInterstitialMetadata(t,t.h,r))}}));var n=new Wr((function(){for(var e=function(t){return Array.from(t.h.textTracks).filter((function(t){return"metadata"==t.kind}))}(t),n=(e=g(e)).next();!n.done;n=e.next())n.value.mode="hidden"})).Ka().Y(.5);t.Se.push((function(){n.stop()}))}}(t,e);break;case"chapters":!function(t,e){if(e&&"chapters"==e.kind){e.mode="hidden";var n=new Wr((function(){e.mode="hidden"})).Ka().Y(.5);t.Se.push((function(){n.stop()}))}}(t,e);break;default:i()}})),t.j.o(e.textTracks,"removetrack",i),t.j.o(e.textTracks,"change",i)}"none"!=e.preload&&t.j.ua(e,"loadedmetadata",(function(){t.C.G=Date.now()/1e3-n}))}function wp(t,e,n){e=(new Map).set("startTime",e.startTime).set("endTime",e.endTime).set("metadataType",e.schemeIdUri).set("payload",e.payload),t.dispatchEvent(lp(n,e))}function Cp(t,e,n,r,i){t.Ca&&((e={schemeIdUri:r,startTime:e,endTime:n||1/0,id:"",payload:i}).id=JSON.stringify(e),nl(t.Ca,e))}function xp(t,e){function n(n){e()?e().dispatchEvent(n):t.dispatchEvent(n)}function r(t){e()?Tc(e(),!0,t):t()}e||(e=function(){return null});var i=new Yi((function(e,n,i,a,o){r((function(){t.u&&t.u.segmentDownloaded(e,n,i,a,o)}))}),(function(e,i,a){n(lp("downloadheadersreceived",i=(new Map).set("headers",e).set("request",i).set("requestType",a))),r((function(){if(t.ra){var n=t.ra;if(n.h.enabled){var r=e["cmsd-static"];if(r)try{var i=new Map,a=r.split(",");for(r=0;r<a.length;r++){var o=a[r].split("=");i.set(o[0],tp(o[1]))}}catch(t){}if(i=e["cmsd-dynamic"]){t:{try{var s=new Map,u=i.split(";");for(i=1;i<u.length;i++){var l=u[i].split("=");s.set(l[0],tp(l[1]))}var c=s;break t}catch(t){c=null;break t}c=void 0}c&&(n.g=c)}}}}))}),(function(t,e){n(lp("downloadcompleted",t=(new Map).set("request",t).set("response",e)))}),(function(t,e,r,i){n(lp("downloadfailed",t=(new Map).set("request",t).set("error",e).set("httpResponseCode",r).set("aborted",i)))}),(function(e,n,i){r((function(){if(t.K){var r=t.K,a=i;if(a=void 0===a?{}:a,r.g.enabled)if("HEAD"===n.method)gd(r,n,{});else switch(e){case 0:try{if(r.g.enabled){if(a.type){t:{switch(a.type){case 4:var o=r.u?Ud:Nd;break t;case 3:case 2:o=r.u?jd:Bd;break t;case 5:o="s";break t}o=void 0}r.l=o}gd(r,n,{ot:Ed,su:!r.D})}}catch(t){Y("CMCD_MANIFEST_ERROR","Could not generate manifest CMCD data.",t)}break;case ia:try{if(r.g.enabled){var s=wd(r,a,n.uris[0]);s.ts=Date.now(),r.F.set(n,s.ts),gd(r,n,s)}}catch(t){Y("CMCD_SEGMENT_ERROR","Could not generate segment CMCD data.",t)}break;case 2:case 5:case 6:gd(r,n,{ot:"k"});break;case 4:gd(r,n,{ot:"o"})}}}))}),(function(n,r,i,a){(n=e()?e().l:t.I)&&n.banLocation&&n.banLocation(a)}),(function(n,r,i){if(r.data){var a=r.data.byteLength,o=e()?e().getStats():t.C;if(o&&(wc(o,a),0===n&&(o.jj=a)),i=void 0===i?{}:i,0!==pd(a=t.K).length)switch(n){case ia:try{var s=wd(a,i,r.uri);r.originalRequest&&null!=r.originalRequest.timeToFirstByte&&(s.ttfb=r.originalRequest.timeToFirstByte),null!=r.timeMs&&(s.ttlb=r.timeMs);var u=r.originalUri||r.uri;if(u.includes("CMCD="))try{var l=new URL(u);l.searchParams.delete("CMCD");var c=l.toString()}catch(t){c=u}else c=u;s.url=c,a.F.has(r.originalRequest)?(s.ts=a.F.get(r.originalRequest),a.F.delete(r.originalRequest)):s.ts||(s.ts=Date.now());var d=pd(a);if(0!==d.length){var p=a.g.version==Pd?Array.from(new Set([].concat(m(Fd),m(Gd)))):qd;s.rc=r.status||0;var h=Cd(a,s,Jd);r.headers&&r.headers["CMSD-Static"]&&(h.cmsds=btoa(r.headers["CMSD-Static"])),r.headers&&r.headers["CMSD-Dynamic"]&&(h.cmsdd=btoa(r.headers["CMSD-Dynamic"]));for(var f=g(d),v=f.next();!v.done;v=f.next()){var y=v.value,A=vd(y.includeKeys||[],p),b=Ad(y);a.m[b]||(a.m[b]={request:1,response:1}),h.sn=a.m[b].response++,md(a,yd(h,A),y,r)}}}catch(t){Y("CMCD_SEGMENT_ERROR","Could not generate response segment CMCD data.",t)}}}}));return i.configure(t.g.networking),i}function Tp(t,e,n){t.P=new Xa,Ya(t.P,Ja),Sp(t),Bp(t),t.La=new Wr((function(){Ep(t)})),t.g.streaming.rebufferingGoal&&t.La.xa(.25),t.j.o(e,"waiting",(function(){return Ep(t,"waiting")})),t.j.o(e,"canplaythrough",(function(){return Ep(t,"canplaythrough")})),t.j.o(e,"playing",(function(){return Ep(t,"playing")})),t.j.o(e,"seeked",(function(){return Ep(t,"seeked")})),n&&(t.j.o(e,"stalled",(function(){return Ep(t,"stalled")})),t.j.o(e,"progress",(function(){return Ep(t,"progress")})),t.j.o(e,"timeupdate",(function(){return Ep(t,"timeupdate")})))}function Sp(t){var e=t.g.streaming.rebufferingGoal;t.P.i.set(Za,Math.min(.5,e/2)).set(Ja,e)}function Ep(t,e){if(t.g.streaming.rebufferingGoal){e=!!t.H&&$s(t.H),e=t.isEnded()||e||t.G.fj();var n=is(t.h.buffered,t.h.currentTime),r=t.P,i=r.i.get(r.g);Ya(r,e||n>=i&&n>0?Za:Ja)&&Bp(t)}else if(e){switch(n=void 0,e){case"seeking":case"waiting":n=Ja;break;case"canplaythrough":case"playing":case"seeked":n=Za}void 0!==n&&Ya(t.P,n)&&Bp(t)}}function kp(t,e){if(t.Te=new Qa(t.g,t.sa,t.F),t.I){var n=dn(t.g.manifest);t.h&&"AUDIO"===t.h.nodeName&&(n.disableVideo=!0),t.I.configure(n)}if(t.F&&t.F.configure(t.g.drm),t.m){t.m.configure(t.g.streaming);try{t.l!=ph&&no(t.Te,t.i)&&Xp(t)}catch(e){ih(t,e)}t.u&&Gp(t),!(n=t.m.u)||n.allowedByApplication&&n.allowedByKeySystem||Hp(t)}if(t.J&&t.J.configure(t.g.networking),t.H&&(t.H.configure(t.g.mediaSource),t.H.Ca=t.g.manifest.segmentRelativeVttTiming),t.A&&yp(t),t.u&&(t.u.configure(t.g.abr),t.g.abr.enabled?t.u.enable():t.u.disable(),eh(t)),t.P&&Sp(t),t.La&&(t.g.streaming.rebufferingGoal?t.La.xa(.25):t.La.stop()),t.i&&uh(t.i.presentationTimeline,t.g.playRangeStart,t.g.playRangeEnd),t.D&&t.D.configure(t.g.ads),t.K&&t.K.configure(t.g.cmcd),t.ra&&t.ra.configure(t.g.cmsd),t.ya&&t.ya.configure(t.g.queue),t.l==fh&&t.M.getConfiguration){n=t.M.getConfiguration();var r=!1;e.preferredVideoHdrLevel!=t.g.preferredVideoHdrLevel&&n.hdrLevel!=t.g.preferredVideoHdrLevel&&(n.hdrLevel=t.g.preferredVideoHdrLevel,r=!0),e.preferredVideoLayout!=t.g.preferredVideoLayout&&n.videoLayout!=t.g.preferredVideoLayout&&(n.videoLayout=t.g.preferredVideoLayout,r=!0),e.preferSpatialAudio!=t.g.preferSpatialAudio&&n.spatialAudio!=t.g.preferSpatialAudio&&(n.spatialAudio=t.g.preferSpatialAudio,r=!0),e.preferredVideoRole!=t.g.preferredVideoRole&&n.videoRole!=t.g.preferredVideoRole&&(n.videoRole=t.g.preferredVideoRole,r=!0),r&&(t.M.configure(n),Hp(t))}}function Ip(t){return t&&(t=/(\d+)x(\d+)/.exec(t))?{columns:parseInt(t[1],10),rows:parseInt(t[2],10)}:null}function Mp(t,e){var n,r;return P((function(i){return 1==i.g?t.l!=fh&&t.l!=gh?i.return(null):(n=t.Ze,t.i&&(n=t.i.imageStreams),(r=n[0])?(null!=e&&(r=n.find((function(t){return t.id==e}))),r?r.segmentIndex?i.B(2):w(i,r.createSegmentIndex(),2):i.return(null)):i.return(null)):i.return(r)}))}function Rp(t,e,n,r){var i=e.width||0,a=e.height||0,o=i/r.columns,s=a/r.rows,u=r.columns*r.rows,l=t.j-t.startTime;l=t.C||l/u;var c=t.startTime,d=0,p=0;return u>1&&(p=Math.floor((n-t.startTime)/l),c=t.startTime+p*l,d=p%r.columns*o,p=Math.floor(p/r.columns)*s),r=!1,(n=t.thumbnailSprite)&&(r=!0,s=n.height,d=n.positionX,p=n.positionY,o=n.width),{segment:t,imageHeight:a,imageWidth:i,height:s,positionX:d,positionY:p,startTime:c,duration:l,uris:t.T(),startByte:t.Sc(),endByte:t.Pc(),width:o,sprite:r,mimeType:t.mimeType||e.mimeType,codecs:t.codecs||e.codecs}}function Lp(t,e){t.j.o(e,"cuechange",(function(){t.A.remove(0,Math.max(0,t.h.currentTime-t.g.streaming.bufferBehind));for(var n={periodStart:0,segmentStart:0,segmentEnd:t.h.duration,vttOffset:0},r=[],i=Array.from(e.activeCues||[]),a=(i=g(i)).next();!a.done;a=i.next()){if((a=a.value).endTime===1/0||a.endTime<a.startTime)a=null;else{var o=new Kn(a.startTime,a.endTime,a.text);o.line="number"==typeof a.line?a.line:null,a.lineAlign&&(o.lineAlign=a.lineAlign),o.lineInterpretation=a.snapToLines?or:1,o.position="number"==typeof a.position?a.position:null,a.positionAlign&&(o.positionAlign=a.positionAlign),o.size=a.size,o.textAlign=a.align,"lr"===a.vertical?o.writingMode="vertical-lr":"rl"===a.vertical&&(o.writingMode="vertical-rl"),a.region&&(o.region.id=a.region.id,o.region.height=a.region.lines,o.region.heightUnits=2,o.region.regionAnchorX=a.region.regionAnchorX,o.region.regionAnchorY=a.region.regionAnchorY,o.region.scroll=a.region.scroll,o.region.viewportAnchorX=a.region.viewportAnchorX,o.region.viewportAnchorY=a.region.viewportAnchorY,o.region.viewportAnchorUnits=tn,o.region.width=a.region.width,o.region.widthUnits=tn),Xn(o),a=o}a&&((o=t.g.mediaSource.modifyCueCallback)&&o(a,null,n),r.push(a))}t.A.append(r)})),e.mode=document.pictureInPictureElement?"showing":"hidden"}function Op(t){return Array.from(t.h.textTracks).filter((function(t){return"metadata"!=t.kind&&"chapters"!=t.kind&&"Shaka Player TextTrack"!=t.label}))}function Pp(t){if(!t.h||!t.h.currentTime)return null;var e=t.Zi();return e?Math.floor(Date.now()-(e.getTime()+1e3*t.h.currentTime)):null}function Dp(t,e){var n;return P((function(r){switch(r.g){case 1:return x(r,2),w(r,Uc(e,t.J,t.g.streaming.retryParameters),4);case 4:n=r.h,S(r,3);break;case 2:E(r);case 3:if(n)return r.return(n);throw new It(1,2,2011,e)}}))}function _p(t,e,n,r){var i,a,o;return P((function(s){if(1==s.g){i=ia,(a=Qi([e],r)).method="GET";var u=t.K;try{u.g.enabled&&gd(u,a,{ot:Ld,su:!0})}catch(t){Y("CMCD_TEXT_ERROR","Could not generate text CMCD data.",t)}return w(s,n.request(i,a).promise,2)}return o=s.h,s.return(o.data)}))}function Np(t,e,n,r){var i=qr(n);if(i)return n=i(),t={periodStart:0,segmentStart:0,segmentEnd:t.h.duration,vttOffset:0},e=Tt(e),function(t,e){function n(t){for(var n=t,r=g(e),i=r.next();!i.done;i=r.next())(i=i.value).end&&i.start<t&&(n+=i.end-i.start);return((t=Math.floor(n/3600))<10?"0":"")+t+":"+((r=Math.floor(n/60%60))<10?"0":"")+r+":"+((i=Math.floor(n%60))<10?"0":"")+i+"."+((n=Math.floor(1e3*n%1e3))<100?n<10?"00":"0":"")+n}var r=Kc(t);t="WEBVTT\n\n";for(var i=(r=g(r)).next();!i.done;i=r.next())t+=n((i=i.value).startTime)+" --\x3e "+n(i.endTime)+function(t){var e=[];switch(t.textAlign){case"left":e.push("align:left");break;case"right":e.push("align:right");break;case tr:e.push("align:middle");break;case"start":e.push("align:start");break;case"end":e.push("align:end")}switch(t.writingMode){case"vertical-lr":e.push("vertical:lr");break;case"vertical-rl":e.push("vertical:rl")}return e.length?" "+e.join(" "):""}(i)+"\n",t+=i.payload+"\n\n";return t}(e=n.parseMedia(e,t,null,[]),r);throw new It(2,2,2014,n)}function Up(t){var e=cc();return e.streaming.failureCallback=function(e){if(t.U()){var n=null;1001==e.code||1002==e.code?(n=1,t.g.streaming.lowLatencyMode&&(n=.1)):1003==e.code&&(n=.1),null!=n&&(e.severity=1,t.Wh(n))}},e.textDisplayFactory=function(){if(t.Qe){var e=t.h;e=!(e.webkitDisplayingFullscreen||e.webkitPresentationMode&&"inline"!=e.webkitPresentationMode)}else e=!1;return e?new nd(t.h,t.Qe):"track"in document.createElement("track")?new Jc(t):new ed},e}function Bp(t){var e=t.Df();if(t.C&&t.P&&t.G){if(0==t.g.streaming.rebufferingGoal){var n=t.L;n.j=!1,Xu(n)}else(n=t.L).j=e,Xu(n);if(t.K&&(n=t.K,e||n.D||(n.D=!0),n.D&&e&&(n.I=!0,fd(n,"ps",{td:"r"})),n.J=e),qp(t),n=t.g.streaming.liveSync.dynamicTargetLatency.maxAttempts,t.g.streaming.liveSync.dynamicTargetLatency.enabled&&e&&t.df<n){n=t.g.streaming.liveSync.dynamicTargetLatency.maxLatency;var r=t.g.streaming.liveSync.targetLatencyTolerance,i=t.g.streaming.liveSync.dynamicTargetLatency.rebufferIncrement;t.S&&(t.S=Math.min(t.S+ ++t.df*i,n-r))}}e=(new Map).set("buffering",e),t.dispatchEvent(lp("buffering",e))}function jp(t,e){t.kc.Sa(),t.kc.o(t.h,"timeupdate",(function(){var n=t.h.currentTime,r=t.wa(),i=t.U(),a=i?t.g.streaming.safeSeekOffset:0;e>0?(!i||e>=1)&&Math.floor(n)>=Math.floor(r.end)&&t.Bd():Math.floor(n)<=Math.floor(r.start+a)&&t.Bd()}))}function qp(t){if(t.C&&t.P){var e=t.C.g,n="playing";t.P.g==Ja?n="buffering":t.isEnded()?n="ended":t.h.paused&&(n="paused");var r=n;if(null==e.g)e.g={timestamp:Date.now()/1e3,state:r,duration:0},e=!0;else{var i=Date.now()/1e3;e.g.duration=i-e.g.timestamp,e.g.state==r?e=!1:(e.h.push(e.g),e.g={timestamp:i,state:r,duration:0},e=!0)}e&&(n=(new Map).set("newstate",n),t.dispatchEvent(lp("statechanged",n)))}}function Fp(t){var e=t.h.playbackRate,n=t.U();if(t.g.streaming.vodDynamicPlaybackRate&&!n){var r=t.g.streaming.vodDynamicPlaybackRateLowBufferRate,i=t.Vi();i<=t.g.streaming.vodDynamicPlaybackRateBufferRatio?e!=r&&t.sc(r,!1):1==i&&e!==t.L.jd()&&t.Bd()}if(n&&(n=t.wa(),Number.isFinite(n.end)&&!(t.h.currentTime<n.start||t.h.paused))){r=t.g.streaming.liveSync.targetLatencyTolerance,i=t.g.streaming.liveSync.dynamicTargetLatency.enabled;var a=t.g.streaming.liveSync.dynamicTargetLatency.stabilityThreshold;if(t.g.streaming.liveSync&&t.g.streaming.liveSync.enabled)var o=t.g.streaming.liveSync.targetLatency,s=o+r,u=Math.max(0,o-r),l=t.g.streaming.liveSync.maxPlaybackRate,c=t.g.streaming.liveSync.minPlaybackRate;else t.i&&t.i.serviceDescription&&(o=t.i.serviceDescription.targetLatency,null!=t.i.serviceDescription.targetLatency?s=t.i.serviceDescription.targetLatency+r:null!=t.i.serviceDescription.maxLatency&&(s=t.i.serviceDescription.maxLatency),null!=t.i.serviceDescription.targetLatency?u=Math.max(0,t.i.serviceDescription.targetLatency-r):null!=t.i.serviceDescription.minLatency&&(u=t.i.serviceDescription.minLatency),l=t.i.serviceDescription.maxPlaybackRate||t.g.streaming.liveSync.maxPlaybackRate,c=t.i.serviceDescription.minPlaybackRate||t.g.streaming.liveSync.minPlaybackRate);t.S||"number"!=typeof o||(t.S=o);var d=t.g.streaming.liveSync.dynamicTargetLatency.maxAttempts;i&&t.Ob&&null!==t.S&&"number"==typeof o&&t.df<d&&Date.now()-t.Ob>1e3*a&&(a=t.g.streaming.liveSync.dynamicTargetLatency.minLatency,t.S=Math.max(t.S-(o-a)/2,a+r),t.Ob=Date.now()),i&&null!==t.S&&(s=t.S+r,u=t.S-r),o=n.end-t.h.currentTime,r=0,t.l==gh&&((i=t.h.buffered).length>0&&(r=i.end(i.length-1),r=Math.max(l,r-n.end))),n=t.g.streaming.liveSync.panicMode,i=1e3*t.g.streaming.liveSync.panicThreshold,a=Date.now()-t.P.h,n&&!c&&(c=t.g.streaming.liveSync.minPlaybackRate),n&&c&&a<=i?e!=c&&t.sc(c,!1):null!=s&&l&&o-r>s?(e!=l&&t.sc(l,!1),t.Ob=null):null!=u&&c&&o-r<u?(e!=c&&t.sc(c,!1),t.Ob=null):e!==t.L.jd()&&(t.Bd(),t.Ob=Date.now())}}function Vp(t){if(t.h){var e=function(e,n){var r=void 0===r?Number.EPSILON:r;if(e===n)r=!0;else{var i=Math.abs(e-n);r=i<=r||r!==Number.EPSILON&&Math.abs(i-r)<=Number.EPSILON}return!!((r||n>e)&&t.Bg<e)&&(t.Bg=e,!0)},n=t.wa();if(n=(n=n.end-n.start)>0?t.h.currentTime/n:0,!isNaN(n)){if(e(0,n*=100))var r=lp("started");else e(25,n)?r=lp("firstquartile"):e(50,n)?r=lp("midpoint"):e(75,n)?r=lp("thirdquartile"):((e(100,n)||n>100)&&(r=lp("complete")),t.g&&t.g.playRangeEnd!=1/0&&t.isEnded()&&t.h.pause());r&&t.dispatchEvent(r)}}}function Gp(t){try{io(t.Te,t.i)}catch(e){return ih(t,e),!1}var e=mi(t.i.variants);return e=t.M.create(e),"boolean"!=typeof(t=t.u.setVariants(Array.from(e.values())))||t}function zp(t,e){return e=void 0!==e&&e,Gp(t)?t.u.chooseVariant(e):null}function Hp(t,e,n,r,i){e=void 0===e||e,n=void 0===n?0:n,r=void 0!==r&&r,i=void 0===i||i;var a=zp(t);a&&Kp(t,a,i,e,n,r)}function Kp(t,e,n,r,i,a){a=void 0!==a&&a;var o=t.m.u;if(e==o)r&&wl(t.m,e,r,i,!0);else{var s=t.C.h;if(s.h!=e&&(s.h=e,s.g.push({timestamp:Date.now()/1e3,id:e.id,type:"variant",fromAdaptation:n,bandwidth:e.bandwidth})),wl(t.m,e,r,i,a,n),r=null,o&&(r=li(o)),(o=li(e)).active=!0,t.R&&(i=t.R,e=e.video)){switch(e.dependencyStream&&(e=e.dependencyStream),a=0,s=-1,e.mimeType){case"video/webm":a=1;break;case"video/mp4":a=2}switch(t.sh()){case"DASH":s=1;break;case"HLS":s=0}i.g&&(i.g.setLevelSwitching(e.id,!0),i.g.setContainerFormat(a),i.j||i.g.setStreamingFormat(s))}n?lh(t,n=lp("adaptation",n=(new Map).set("oldTrack",r).set("newTrack",o))):Yp(t,r,o),Jp(t,r,o)}}function Wp(t,e){var n=Array.from(t.h.audioTracks).find((function(t){return t.enabled}));if(e.enabled=!0,n){e.id!==n.id&&(n.enabled=!1);var r=$p(t);Yp(t,n=fi(n,r),e=fi(e,r)),Jp(t,n,e)}}function $p(t){return t.h&&t.h.videoTracks?Array.from(t.h.videoTracks).find((function(t){return t.selected})):null}function Xp(t){lh(t,lp("trackschanged")),Zp(t)}function Yp(t,e,n){lh(t,e=lp("variantchanged",e=(new Map).set("oldTrack",e).set("newTrack",n)))}function Jp(t,e,n){var r=!1;e&&e.audioId==n.audioId&&e.audioGroupId==n.audioGroupId||(r=!0),r&&Zp(t)}function Zp(t){lh(t,lp("audiotrackschanged"))}function Qp(t){lh(t,lp("textchanged"))}function th(t){lh(t,lp("texttrackvisibility"))}function eh(t){t.g.abr.enabled||rh(t),lh(t,lp("abrstatuschanged",(new Map).set("newStatus",t.g.abr.enabled)))}function nh(t){var e=t.yc().find((function(t){return t.active}));e&&t.A&&t.A.setTextLanguage&&t.A.setTextLanguage(e.language)}function rh(t,e){if(e=void 0===e||e,t.l==fh){t.We.stop();for(var n=g(t.i.variants),r=n.next();!r.done;r=n.next())r.value.disabledUntilTime=0;e&&Gp(t)}}function ih(t,e){var n,r,i,a;return P((function(o){switch(o.g){case 1:if(t.l==ph)return o.return();if(1===e.severity&&t.C.L++,n=!0,!(t.aa&&t.i&&t.m)||3016!=e.code&&3014!=e.code&&3015!=e.code&&3024!=e.code&&3018!=e.code){o.B(2);break}return"WEBKIT"===Lt().Ja()&&3016==e.code?o.return():(x(o,3),w(o,Vl(t.m),5));case 5:r=o.h,n=!r,r&&(i=lp("mediasourcerecovered"),t.dispatchEvent(i)),S(o,2);break;case 3:E(o),n=!0;case 2:if(!n)return o.return();2===e.severity&&rh(t,!1),a=lp("error",(new Map).set("detail",e)),t.dispatchEvent(a),a.defaultPrevented&&(e.handled=!0),C(o)}}))}function ah(t,e,n,r){r=void 0===r?t:r,t=(new Map).set("detail",{schemeIdUri:n.schemeIdUri,value:n.value,startTime:n.startTime,endTime:n.endTime,id:n.id,timescale:n.timescale,eventElement:n.eventElement,eventNode:n.eventNode}),r.dispatchEvent(lp(e,t))}function oh(t,e,n,r){r=void 0!==r&&r,e=(new Map).set("mediaQuality",{bandwidth:e.bandwidth,audioSamplingRate:e.audioSamplingRate,codecs:e.codecs,contentType:e.contentType,frameRate:e.frameRate,height:e.height,mimeType:e.mimeType,channelsCount:e.channelsCount,pixelAspectRatio:e.pixelAspectRatio,width:e.width,label:e.label,roles:e.roles,language:e.language}).set("position",n),t.dispatchEvent(lp(r?"audiotrackchanged":"mediaqualitychanged",e))}function sh(t,e){if(e=void 0===e||e,!t.h.error)return e?new It(2,3,3016):null;var n=t.h.error.code;return e||1!=n?((e=t.h.error.msExtendedCode)&&(e<0&&(e+=4294967296),e=e.toString(16)),new It(2,3,3016,n,e,t.h.error.message)):null}function uh(t,e,n){e>0&&(t.U()||t.Pj(e)),n<(e=t.getDuration())&&(t.U()||t.Fb(n))}function lh(t,e){P((function(n){if(1==n.g)return w(n,Promise.resolve(),2);t.l!=ph&&t.dispatchEvent(e),C(n)}))}function ch(t){for(var e=new Set,n=(t=g(t)).next();!n.done;n=t.next())(n=n.value).language?e.add(de(n.language)):e.add("und");return e}function dh(t){for(var e=new Map,n=new Map,r=0;r<t.length;r++){var i=t[r],a="und",o=[];i.language&&(a=de(i.language)),(o="variant"==i.type?i.audioRoles:i.roles)&&o.length||(o=[""]),e.has(a)||e.set(a,new Set);for(var s=(o=g(o)).next();!s.done;s=o.next())s=s.value,e.get(a).add(s),i.label&&(n.has(a)||n.set(a,new Map),n.get(a).set(s,i.label))}var u=[];return e.forEach((function(t,e){for(var r=(t=g(t)).next();!r.done;r=t.next()){r=r.value;var i=null;n.has(e)&&n.get(e).has(r)&&(i=n.get(e).get(r)),u.push({language:e,role:r,label:i})}})),u}ap.prototype.release=function(){this.h.length>0?this.h.shift()():this.g=null},h(sp,tt),(i=sp.prototype).destroy=function(){var t,e=this;return P((function(n){switch(n.g){case 1:return e.l==ph?n.return():(up(e),t=e.detach(),e.l=ph,w(n,t,2));case 2:return w(n,e.Ug(),3);case 3:if(e.bf&&(e.bf.release(),e.bf=null),e.Re&&(e.Re.release(),e.Re=null),e.j&&(e.j.release(),e.j=null),e.kc&&(e.kc.release(),e.kc=null),e.Hc&&(e.Hc.release(),e.Hc=null),e.Ve=null,e.g=null,e.C=null,e.Qe=null,e.K=null,e.ra=null,!e.J){n.B(4);break}return w(n,e.J.destroy(),5);case 5:e.J=null;case 4:e.u&&(e.u.release(),e.u=null),e.ya&&(e.ya.destroy(),e.ya=null),tt.prototype.release.call(e),C(n)}}))},i.cc=function(t,e){e=void 0===e||e;var n,r,i,a=this;return P((function(o){switch(o.g){case 1:if(a.l==ph)throw new It(2,7,7e3);if(n=a.h&&a.h==t,!a.h||a.h==t){o.B(2);break}return w(o,a.detach(),2);case 2:return w(o,hp(a,"attach"),4);case 4:if(o.h)return o.return();if(x(o,5,6),n||(pp(a,"attach"),r=function(){var t=sh(a,!1);t&&ih(a,t)},a.Re.o(t,"error",r),a.h=t,a.K&&a.K.setMediaElement(t)),Lt(),!e||!sy()||a.H){o.B(6);break}return w(o,Ap(a),6);case 6:k(o),a.ea.release(),I(o,0);break;case 5:return i=E(o),w(o,a.detach(),10);case 10:throw i}}))},i.Fi=function(t){this.Di=t},i.detach=function(t){t=void 0!==t&&t;var e=this;return P((function(n){if(1==n.g){if(e.l==ph)throw new It(2,7,7e3);return w(n,e.tc(!1,t),2)}if(3!=n.g)return w(n,hp(e,"detach"),3);if(n.h)return n.return();try{e.h&&(e.Re.Sa(),e.h=null),pp(e,"detach"),e.D&&!t&&e.D.release()}finally{e.ea.release()}C(n)}))},i.tc=function(e,n){e=void 0===e||e,n=void 0!==n&&n;var r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A=this;return P((function(b){switch(b.g){case 1:return A.l!=ph&&(A.l=hh),w(b,hp(A,"unload"),2);case 2:return b.h?b.return():(T(b,3),A.aa=!1,pp(A,"unload"),up(A),r=A.Se.map((function(t){return t()})),A.Se=[],w(b,Promise.all(r),5));case 5:if(A.dispatchEvent(lp("unloading")),A.Pe&&(A.Pe.release(),A.Pe=null),A.Ca&&(A.Ca.release(),A.Ca=null),A.fb&&(A.fb.release(),A.fb=null),A.h&&(A.j.Sa(),A.kc.Sa()),A.We.stop(),A.jb&&(A.jb.release(),A.jb=null),A.La&&(A.La.stop(),A.La=null),!A.I){b.B(6);break}return w(b,A.I.stop(),7);case 7:A.I=null,A.Gc=null;case 6:if(A.u&&A.u.stop(),!A.m){b.B(8);break}return w(b,A.m.destroy(),9);case 9:A.m=null;case 8:if(A.L&&(A.L.release(),A.L=null),A.G&&(A.G.release(),A.G=null),"webkit"!==t.shakaMediaKeysPolyfill||!A.F){b.B(10);break}return w(b,A.F.destroy(),11);case 11:A.F=null;case 10:if(!A.H){b.B(12);break}return w(b,A.H.destroy(),13);case 13:A.H=null;case 12:if(A.D&&!n&&A.D.onAssetUnload(),A.oa&&!n&&(A.oa.destroy(),A.oa=null),n||A.Eg.stop(),A.K&&function(t){t.F.clear(),t.D=!1,t.J=!0,t.I=!1,t.u=!1,t.A=0,t.C=0,t.H=0,t.K={request:!1,response:!1,event:!1},cd(t),t.m={},t.h=null,t.i.Sa()}(A.K),A.ra&&(A.ra.g=null),!A.A){b.B(14);break}return w(b,A.A.destroy(),15);case 15:A.A=null;case 14:if(A.W=!1,A.h){for(i=g(A.Cg),a=i.next();!a.done;a=i.next())(o=a.value).src.startsWith("blob:")&&URL.revokeObjectURL(o.src),o.remove();A.Cg=[],ds(A.h)&&A.h.load()}if(!A.F){b.B(16);break}return w(b,A.F.destroy(),17);case 17:A.F=null;case 16:if(A.Na&&A.V!=A.Na.hd()&&(A.Na.j||A.Na.destroy(),A.Na=null),A.V=null,A.Z=null,A.P=null,A.i){for(s=g(A.i.variants),u=s.next();!u.done;u=s.next())for(l=u.value,c=g([l.audio,l.video]),d=c.next();!d.done;d=c.next())(p=d.value)&&p.segmentIndex&&p.segmentIndex.release();for(h=g(A.i.textStreams),f=h.next();!f.done;f=h.next())(m=f.value).segmentIndex&&m.segmentIndex.release()}for(A.g&&A.g.streaming.clearDecodingCache&&(Ti.clear(),Bi.clear()),A.i=null,A.C=new Ac,A.Ci=null,A.Ob=null,A.S=null,A.df=-1,A.Ze=[],v=g(A.Dc.values()),y=v.next();!y.done;y=v.next())y.value.stop();A.Dc.clear(),A.ib=[],A.Bg=-1,A.J&&A.J.Mi(),Bp(A);case 3:k(b),A.ea.release(),I(b,4);break;case 4:if(Lt(),e&&sy()&&!A.H&&A.h)return w(b,Ap(A),0);b.B(0)}}))},i.Dm=function(t){this.O=t},i.load=function(e,n,r){n=void 0===n?null:n;var i,a,o,s,u,l,c,d,p,h,f,m,v,y,A=this;return P((function(b){switch(b.g){case 1:if(A.l==ph)throw new It(2,7,7e3);if(i=null,a="",e instanceof xc){if(e.j)throw new It(2,7,7006);a=(i=e).hd()||""}else a=e||"";return w(b,op(A.ea,"load"),2);case 2:if(A.ea.release(),!A.h)throw new It(2,7,7002);if(!A.V){b.B(3);break}return A.V=a,w(b,A.tc(!1),3);case 3:if(o=++A.cf,s=function(){return P((function(t){if(1==t.g)return A.cf==o?t.B(0):i?w(t,i.destroy(),3):t.B(3);throw new It(2,7,7e3)}))},u=function(t,e){return P((function(n){switch(n.g){case 1:return T(n,2),w(n,op(A.ea,e),4);case 4:return w(n,s(),5);case 5:return w(n,t(),6);case 6:return w(n,s(),7);case 7:i&&A.g&&(i.g=A.g);case 2:k(n),A.ea.release(),I(n,0)}}))},x(b,5,6),null==n&&i&&(n=i.getStartTime()),A.O=n,A.aa=!1,A.dispatchEvent(lp("loading")),i){r=i.S,b.B(8);break}if(r){b.B(8);break}return w(b,u((function(){return P((function(t){if(1==t.g)return w(t,vp(A,a),2);r=t.h,C(t)}))}),"guessMimeType_"),8);case 8:if(l=!!i,i){Sc(i,A),A.C=i.getStats(),b.B(11);break}return w(b,gp(A,a,n,r,!0,A.g),12);case 12:(i=b.h)?(i.F=!1,Sc(i,A),A.C=i.getStats(),i.start(),i.C.catch((function(){}))):A.C=new Ac;case 11:return c=!i,d=Date.now()/1e3,A.C=i?i.getStats():new Ac,A.V=a,A.Z=r||null,Bp(A),p=function(){var t=A.h?A.h.buffered:null;return{start:es(t)||0,end:ns(t)||0}},A.Ca=new el(p),A.Ca.addEventListener("regionadd",(function(t){wp(A,t.region,"metadataadded")})),c?w(b,u((function(){return P((function(t){return w(t,function(t,e){var n,r,i;return P((function(a){return 1==a.g?(n=Date.now()/1e3,r=!0,t.F=t.Dd({Cc:t.J,onError:function(e){ih(t,e)},Sf:function(){},onExpirationUpdated:function(){var e=lp("expirationupdated");t.dispatchEvent(e)},onEvent:function(e){t.dispatchEvent(e),"drmsessionupdate"==e.type&&r&&(r=!1,t.C.m=Date.now()/1e3-n)}}),t.F.configure(t.g.drm),i=xi([e]),t.F.O=!0,w(a,Ia(t.F,[i],[]),2)):w(a,t.F.cc(t.h),0)}))}(A,r),0)}))}),"initializeSrcEqualsDrmInner_"),23):(A.fb=new el(p),w(b,u((function(){return P((function(t){if(1==t.g)return w(t,Promise.race([i.aa,i.C]),2);A.Gc=i.H;var e=i;e.ea=!0,A.I=e.l,A.i=i.rh(),C(t)}))}),"waitForFinish"),15));case 15:if(A.H){b.B(16);break}return w(b,u((function(){return P((function(t){return w(t,Ap(A),0)}))}),"initializeMediaSourceEngineInner_"),16);case 16:return A.i&&A.i.textStreams.length&&(A.A.enableTextDisplayer?A.A.enableTextDisplayer():Pe("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method!')),w(b,u((function(){return P((function(t){return w(t,i.C,0)}))}),"waitForFinish"),18);case 18:if(A.g=i.getConfiguration(),A.Te=i.G,A.I&&A.I.setMediaElement&&A.h&&A.I.setMediaElement(A.h),A.Pe=function(t){return t.oa=!0,t.I}(i),A.Ne=i.Ca,(h=i.D)&&(A.M=h),l&&A.h&&"AUDIO"===A.h.nodeName&&(function(t){for(var e=g(t.i.variants),n=e.next();!n.done;n=e.next())(n=n.value).video&&(n.video.closeSegmentIndex(),n.video=null),n.bandwidth=n.audio&&n.audio.bandwidth?n.audio.bandwidth:0;t.i.variants=t.i.variants.filter((function(t){return t.audio}))}(A),A.configure("manifest.disableVideo",!0)),i.i){b.B(19);break}return w(b,u((function(){return P((function(t){return w(t,Ic(i,A.h),0)}))}),"drmEngine_.init"),19);case 19:return A.F=function(t){return t.Z=!0,t.i}(i),w(b,u((function(){return P((function(t){return w(t,A.F.cc(A.h),0)}))}),"drmEngine_.attach"),21);case 21:return f=A.g.abrFactory,A.u&&A.Ve==f||(A.Ve=f,A.u&&A.u.release(),A.u=f(),"function"!=typeof A.u.setMediaElement&&(Pe("AbrManager w/o setMediaElement","Please use an AbrManager with setMediaElement function."),A.u.setMediaElement=function(){}),"function"!=typeof A.u.setCmsdManager&&(Pe("AbrManager w/o setCmsdManager","Please use an AbrManager with setCmsdManager function."),A.u.setCmsdManager=function(){}),"function"!=typeof A.u.trySuggestStreams&&(Pe("AbrManager w/o trySuggestStreams","Please use an AbrManager with trySuggestStreams function."),A.u.trySuggestStreams=function(){}),A.u.configure(A.g.abr)),m=function(t){return t.ra=!0,t.L}(i),v=i.u,w(b,u((function(){return P((function(e){return w(e,function(e,n,r,i){var a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,x,T,S,E,k,I,M,R,L,O,D,_;return P((function(N){switch(N.g){case 1:pp(e,"load"),a=e.h,e.L=new $u({xf:function(){return a.playbackRate},jd:function(){return a.defaultPlaybackRate},ei:function(t){a.playbackRate=t},pj:function(t){a.currentTime+=t}}),bp(e,a,n),"onchange"in t.screen&&e.j.o(t.screen,"change",(function(){if(e.M.getConfiguration){var t=e.M.getConfiguration();"AUTO"==t.hdrLevel?Gp(e):"AUTO"==e.g.preferredVideoHdrLevel&&e.g.abr.enabled&&(t.hdrLevel="AUTO",e.M.configure(t),Gp(e))}})),o=!1,s=g(e.i.variants);for(u=s.next();!u.done;u=s.next())l=u.value,(c=l.video&&l.video.dependencyStream)&&(o=qe(c));!function(t,e,n){n||e.lcevc.enabled?(up(t),null==t.R&&(t.R=new Ue(t.h,t.Di,e.lcevc,n),t.H&&(t.H.H=t.R))):up(t)}(e,e.g,o),e.Vd=e.g.preferredTextLanguage,e.ee=e.g.preferredTextRole,e.ce=e.g.preferForcedSubs,uh(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),e.u.init((function(t,n,r){e.i&&e.m&&t!=e.m.u&&Kp(e,t,!0,void 0!==n&&n,void 0===r?0:r)})),e.u.setMediaElement(a),e.u.setCmsdManager(e.ra),e.m=function(t){return new Al(t.i,{Qc:function(){return t.G?t.G.$e():0},getBandwidthEstimate:function(){return t.u.getBandwidthEstimate()},Za:function(){return t.Za()},video:t.h,ha:t.H,Cc:t.J,onError:function(e){return ih(t,e)},onEvent:function(e){return t.dispatchEvent(e)},Tf:function(e,n,r){var i=e.startTime,a=e.endTime,o=n.type;if(o!=re){if(t.G){t.G.rj();var s=Ys(t.H,o);!t.U()&&t.h.paused&&!t.h.seeking&&null!=s&&s>0&&t.G.$e()<s&&t.G.Ag(s)}Ep(t)}r=(new Map).set("start",i).set("end",a).set("contentType",o).set("isMuxed",r),t.dispatchEvent(lp("segmentappended",r)),t.u&&n.fastSwitching&&e.nd&&e.ye&&t.u.trySuggestStreams()},Ul:function(e,n){(n=n.Od)&&t.Ne&&function(t,e,n){var r=function(t,e){var n=t.g.get(e);return n||(n={Ge:[],Sg:null,contentType:e},t.g.set(e,n)),n}(t,e.contentType);!function(t,e){if((t=t.h()[e.contentType])&&t.length>0){var n=t[0].start,r=t[t.length-1].end,i=e.Ge;e.Ge=i.filter((function(t,e){return!(t.position<=n&&e+1<i.length&&i[e+1].position<=n||t.position>=r)}))}else e.Ge=[]}(t,r),t={Od:e,position:n},(e=(r=r.Ge).findIndex((function(t){return t.position>=n})))>=0?r.splice(e,r[e].position==n?1:0,t):r.push(t)}(t.Ne,n,e)},Ii:function(e,n){var r=t.F;if(r.h.parseInbandPsshEnabled&&!r.H&&["audio","video"].includes(e)){e=new Sa(Tt(n)),n=0;for(var i=g(e.data),a=i.next();!a.done;a=i.next())n+=a.value.length;if(0==n)r=Promise.resolve();else{for(n=new Uint8Array(n),i=0,a=(e=g(e.data)).next();!a.done;a=e.next())a=a.value,n.set(a,i),i+=a.length;Oa(r,"cenc",n),r=r.m}}else r=Promise.resolve();return r},disableStream:function(e,n){return t.disableStream(e,n)},xm:function(e,n){return!(t.g.abr.enabled&&n.fastSwitching&&e.nd&&e.ye)}})}(e),e.m.configure(e.g.streaming),e.l=fh,e.dispatchEvent(lp("streaming")),d=r;case 2:for((h=e.m.u)||d||(d=zp(e,!0)),f=[],m=g([(p=h||d).video,p.audio]),v=m.next();!v.done;v=m.next())(y=v.value)&&!y.segmentIndex&&(f.push(y.createSegmentIndex()),y.dependencyStream&&f.push(y.dependencyStream.createSegmentIndex()));if(!(f.length>0)){N.B(4);break}return w(N,Promise.all(f),4);case 4:if(!p||0!=p.disabledUntilTime){N.B(2);break}if(e.I&&e.I.onInitialVariantChosen&&e.I.onInitialVariantChosen(p),e.i.isLowLatency&&(e.g.streaming.lowLatencyMode?e.configure(e.Dg):X("Low-latency live stream detected, but low-latency streaming mode is not enabled in Shaka Player. Set streaming.lowLatencyMode configuration to true, and see https://bit.ly/3clctcj for details.")),e.K&&(function(t,e){t.u=e,t.u?t.l==Nd?t.l=Ud:t.l==Bd&&(t.l=jd):t.l==Ud?t.l=Nd:t.l==jd&&(t.l=Bd)}(e.K,e.i.isLowLatency&&e.g.streaming.lowLatencyMode),function(t,e){if(t.g&&t.g.enabled&&(fd(t,"ps",{td:"d"}),t.h&&t.h.autoplay)){var n=t.h.play();n&&n.then((function(){t.H=e})).catch((function(){t.H=0}))}}(e.K,1e3*n)),uh(e.i.presentationTimeline,e.g.playRangeStart,e.g.playRangeEnd),function(t,e,n){t.j.presentationTimeline.U()||(t.Z=e,t.W=n)}(e.m,e.g.playRangeStart,e.g.playRangeEnd),e.aa=!0,e.dispatchEvent(lp("canupdatestarttime")),A=function(t){e.G=function(t,e){return new Bu(t.h,t.i,t.g.streaming,e,(function(){t.jb&&Ju(t.jb,!t.G.Ai()),t.m&&t.m.rd(),t.P&&Ep(t,"seeking")}),(function(e){return t.dispatchEvent(e)}))}(e,t),e.jb=function(t,e){var n=t.U()||"number"==typeof e&&e>0;(e=new Oc(t.Pe,n)).addEventListener("enter",(function(e){ah(t,"timelineregionenter",e.region)})),e.addEventListener("exit",(function(e){ah(t,"timelineregionexit",e.region)})),e.addEventListener("skip",(function(e){var n=e.region;e.seeking||(ah(t,"timelineregionenter",n),ah(t,"timelineregionexit",n))}));var r=new Oc(t.Ca,n);r.addEventListener("enter",(function(e){wp(t,e.region,"metadata")})),(n=new Oc(t.fb,n)).addEventListener("enter",(function(e){e=(new Map).set("detail",e.region.emsg),t.dispatchEvent(lp("emsg",e))}));var i=new Yu(t.h);return i.g.add(e),i.g.add(r),i.g.add(n),t.Ne&&i.g.add(t.Ne),i}(e,t),Tp(e,a,!1)},e.g.streaming.startAtSegmentBoundary||(null==(b=e.O)&&e.i.startTime&&(b=e.i.startTime),A(b)),h){N.B(7);break}if(!e.g.streaming.startAtSegmentBoundary){N.B(8);break}return x=e.i.presentationTimeline,e.O instanceof Date&&(S=x.m||x.i,null!=(E=e.O.getTime()/1e3-S)&&(T=E)),null==T&&(T="number"==typeof e.O?e.O:e.h.currentTime),null==e.O&&e.i.startTime&&(T=e.i.startTime),k=x.fc(),I=x.Lb(),T<k?T=k:T>I&&(T=I),w(N,function(t,e){var n,r,i,a,o;return P((function(s){return 1==s.g?(n=t.audio,r=t.video,i=function(t,e){var n,r,i;return P((function(a){return 1==a.g?t?t.segmentIndex?a.B(2):w(a,t.createSegmentIndex(),2):a.return(null):(r=(n=t.segmentIndex.ec(e))?n.next().value:null)?(i=r.startTime,a.return(i)):a.return(null)}))},w(s,i(n,e),2)):3!=s.g?(a=s.h,w(s,i(r,e),3)):null!=(o=s.h)&&null!=a?s.return(Math.max(o,a)):null!=o?s.return(o):null!=a?s.return(a):s.return(e)}))}(d,T),9);case 9:M=N.h,A(M);case 8:Kp(e,d,!0,!1,0);case 7:return e.G.ready(),e.yc().find((function(t){return t.active}))||((R=vi(e.i.textStreams,e.Vd,e.ee,e.ce)[0]||null)&&yc(e.C.h,R,!0),d&&(R?(Ci(d.audio,R,e.g)&&(e.W=!0),e.W&&e.A.setTextVisibility(!0)):(e.W=!1,e.A.setTextVisibility(!1)),th(e)),R&&(e.g.streaming.alwaysStreamText||e.Wc())&&(Cl(e.m,R),nh(e))),w(N,e.m.start(i),10);case 10:e.g.abr.enabled&&(e.u.enable(),eh(e)),Xp(e),e.i.variants.some((function(t){return t.primary})),((L=e.U())&&(e.g.streaming.liveSync&&e.g.streaming.liveSync.enabled||e.i.serviceDescription||e.g.streaming.liveSync.panicMode)||e.g.streaming.vodDynamicPlaybackRate)&&(O=function(){return Fp(e)},e.j.o(a,"timeupdate",O)),L||(D=function(){return Vp(e)},e.j.o(a,"timeupdate",D),Vp(e),e.i.nextUrl&&(e.g.streaming.preloadNextUrlWindow>0&&(_=function(){var t;return P((function(n){if(1==n.g)return t=e.wa().end-e.h.currentTime,!isNaN(t)&&t<=e.g.streaming.preloadNextUrlWindow?(e.j.Fa(a,"timeupdate",_),w(n,e.preload(e.i.nextUrl),4)):n.B(0);e.Na=n.h,C(n)}))},e.j.o(a,"timeupdate",_)),e.j.o(a,"ended",(function(){e.load(e.Na||e.i.nextUrl)})))),e.D&&e.D.onManifestUpdated(L),C(N)}}))}(A,d,v,m),0)}))}),"loadInner_"),22);case 22:!function(t){if(t.J)for(var e=g(t.J),n=e.next();!n.done;n=e.next())(n=n.value)();t.J=null}(i),A.Z&&Lt().kg()&&_r(A.Z)&&function(e,n,r){e.g&&t.ManagedMediaSource&&e.i&&e.C.useSourceElements&&(e.D&&e.g.removeChild(e.D),e.D=cs(n,r),e.g.appendChild(e.D),e.g.disableRemotePlayback=!1)}(A.H,A.V,A.Z),b.B(14);break;case 23:return w(b,u((function(){return P((function(t){return w(t,function(t,e,n){var r,i,a,o,s,u,l,c,d,p,h,f;return P((function(m){switch(m.g){case 1:if(pp(t,"src-equals"),r=t.h,t.G=new _u(r),i=!1,t.Se.push((function(){i=!0})),t.dispatchEvent(lp("canupdatestarttime")),null!=t.O&&t.G.Ag(t.O),t.jb=function(t,e){(e=new Oc(t.Ca,e instanceof Date||e>0)).addEventListener("enter",(function(e){wp(t,e.region,"metadata")}));var n=new Yu(t.h);return n.g.add(e),n}(t,t.O||0),t.L=new $u({xf:function(){return r.playbackRate},jd:function(){return r.defaultPlaybackRate},ei:function(t){r.playbackRate=t},pj:function(t){r.currentTime+=t}}),Tp(t,r,!0),r.textTracks&&(yp(t),a=function(e){if(!(t.A instanceof Jc)){var n=Op(t).find((function(t){return"disabled"!==t.mode}));n&&(n.mode=e?"showing":"hidden"),t.A instanceof Qc&&(n=function(t){return Array.from(t.h.textTracks).find((function(t){return"Shaka Player TextTrack"==t.label}))}(t))&&(n.mode=!e&&t.A.isTextVisible()?"showing":"hidden")}},t.j.o(r,"enterpictureinpicture",(function(){return a(!0)})),t.j.o(r,"leavepictureinpicture",(function(){return a(!1)})),r.remote?(t.j.o(r.remote,"connect",(function(){return a(!1)})),t.j.o(r.remote,"connecting",(function(){return a(!1)})),t.j.o(r.remote,"disconnect",(function(){return a(!1)}))):"webkitCurrentPlaybackTargetIsWireless"in r&&t.j.o(r,"webkitcurrentplaybacktargetiswirelesschanged",(function(){return a(!1)})),((o=r).webkitPresentationMode||o.webkitSupportsFullscreen)&&t.j.o(o,"webkitpresentationmodechanged",(function(){o.webkitPresentationMode?a("inline"!==o.webkitPresentationMode):o.webkitSupportsFullscreen&&a(o.webkitDisplayingFullscreen)}))),bp(t,r,e),!(s=function(t,e,n){try{if(!t.g.enabled)return e;var r=hd(t);t:{switch(n.toLowerCase()){case"audio/mp4":case"audio/webm":case"audio/ogg":case"audio/mpeg":case"audio/aac":case"audio/flac":case"audio/wav":var i=kd;break t;case"video/webm":case"video/mp4":case"video/mpeg":case"video/mp2t":i=Md;break t;case"application/x-mpegurl":case"application/vnd.apple.mpegurl":case"application/dash+xml":case"video/vnd.mpeg.dash.mpd":case"application/vnd.ms-sstr+xml":i=Ed;break t}i=void 0}return r.ot=i,r.su=!0,Sd(e,xd(r))}catch(t){return Y("CMCD_SRC_ERROR","Could not generate src CMCD data.",t),e}}(t.K,t.V,n)).includes("#t=")&&(t.g.playRangeStart>0||isFinite(t.g.playRangeEnd))&&(s+="#t=",t.g.playRangeStart>0&&(s+=t.g.playRangeStart),isFinite(t.g.playRangeEnd)&&(s+=","+t.g.playRangeEnd)),!t.H){m.B(2);break}return w(m,t.H.destroy(),3);case 3:t.H=null;case 2:return ds(r),r.src=s,"TV"==(u=Lt()).Oa()&&r.load(),"none"!=r.preload&&!r.autoplay&&_r(n)&&"WEBKIT"===u.Ja()&&r.load(),t.l=gh,t.dispatchEvent(lp("streaming")),l=new Fi,Eu(r,HTMLMediaElement.HAVE_METADATA,t.j,(function(){t.G.ready(),t.Z&&_r(t.Z)||l.resolve()})),c=function(){return new Promise((function(e){var n=new Wr(e);t.j.o(r.textTracks,"change",(function(){return n.Y(.5)})),n.Y(.5)}))},Eu(r,HTMLMediaElement.HAVE_CURRENT_DATA,t.j,(function(){var e,n,r,a,o;return P((function(s){if(1==s.g)return w(s,c(),2);if(i)return s.return();if(function(t){var e=t.g.preferredAudioLanguage;""!=e&&t.Gj(e,t.g.preferredAudioRole)}(t),(e=Op(t)).some((function(t){return"showing"===t.mode}))&&(t.W=!0,t.A.setTextVisibility(!0)),!(t.A instanceof Jc))for(e.length&&(t.A.enableTextDisplayer?t.A.enableTextDisplayer():Pe("Text displayer w/ enableTextDisplayer",'Text displayer should have a "enableTextDisplayer" method')),n=!1,r=g(e),a=r.next();!a.done;a=r.next())"disabled"!==(o=a.value).mode&&(n?(o.mode="disabled",X("Found more than one enabled text track, disabling it",o)):(Lp(t,o),n=!0));!function(t){var e=t.g.preferredTextLanguage;""!=e&&t.$h(e,t.g.preferredTextRole,t.g.preferForcedSubs)}(t),t.Z&&_r(t.Z)&&l.resolve(),C(s)}))})),r.error?l.reject(sh(t)):"none"==r.preload&&(X('With <video preload="none">, the browser will not load anything until play() is called. We are unable to measure load latency in a meaningful way, and we cannot provide track info yet. Please do not use preload="none" with Shaka Player.'),l.resolve()),t.j.ua(r,"error",(function(){l.reject(sh(t))})),w(m,Jr(t.g.streaming.loadTimeout,l),4);case 4:((d=t.U())&&(t.g.streaming.liveSync&&t.g.streaming.liveSync.enabled||t.g.streaming.liveSync.panicMode)||t.g.streaming.vodDynamicPlaybackRate)&&(p=function(){return Fp(t)},t.j.o(r,"timeupdate",p)),d||(h=function(){return Vp(t)},t.j.o(r,"timeupdate",h),Vp(t)),t.D&&(t.D.onManifestUpdated(d),d&&(f=t.wa().end,t.j.o(r,"progress",(function(){var e=t.wa().end;f!=e&&(t.D.onManifestUpdated(t.U()),f=e)})))),t.aa=!0,C(m)}}))}(A,d,r),0)}))}),"srcEqualsInner_"),14);case 14:A.dispatchEvent(lp("loaded"));case 6:if(k(b),!i){b.B(25);break}return w(b,i.destroy(),25);case 25:A.Na=null,I(b,0);break;case 5:if(!(y=E(b))||7e3==y.code){b.B(27);break}return w(b,A.tc(!1),27);case 27:throw y}}))},i.ck=function(t,e){t=void 0===t||t,e=void 0!==e&&e;var n,r=this;return P((function(i){return 1==i.g?w(i,fp(r),2):3!=i.g?(n=i.h,w(i,r.tc(t,e),3)):i.return(n)}))},i.Ri=function(t,e){t=void 0!==t&&t,e=void 0!==e&&e;var n,r=this;return P((function(i){return 1==i.g?w(i,fp(r,e),2):3!=i.g?(n=i.h,w(i,r.detach(t),3)):i.return(n)}))},i.preload=function(t,e,n,r){e=void 0===e?null:e;var i,a,o=this;return P((function(s){return 1==s.g?(pc(i=Up(o),r||o.g,Up(o)),w(s,gp(o,t,e,n,!1,i),2)):((a=s.h)?a.start():ih(o,new It(2,7,7005)),s.return(a))}))},i.Ug=function(){var t,e,n,r,i=this;return P((function(a){for(t=[],e=g(i.Xe),n=e.next();!n.done;n=e.next())(r=n.value).j||t.push(r.destroy());return i.Xe=[],w(a,Promise.all(t),0)}))},i.dm=function(){for(var t=this.ea;t.g;)t.release()},i.Dd=function(t){return new ka(t)},i.configure=function(t,e){var n=this.getConfiguration();if(2==arguments.length&&"string"==typeof t&&(t=Xl(t,e)),"preferredVariantRole"in t&&(Pe("preferredVariantRole configuration","Please Use preferredAudioRole instead."),t.preferredAudioRole=t.preferredVariantRole,delete t.preferredVariantRole),t.streaming&&"forceTransmuxTS"in t.streaming&&(Pe("streaming.forceTransmuxTS configuration","Please Use mediaSource.forceTransmux instead."),t.mediaSource=t.mediaSource||{},t.mediaSource.mediaSource=t.streaming.forceTransmuxTS,delete t.streaming.forceTransmuxTS),t.streaming&&"forceTransmux"in t.streaming&&(Pe("streaming.forceTransmux configuration","Please Use mediaSource.forceTransmux instead."),t.mediaSource=t.mediaSource||{},t.mediaSource.mediaSource=t.streaming.forceTransmux,delete t.streaming.forceTransmux),t.streaming&&"useNativeHlsOnSafari"in t.streaming){Pe("streaming.useNativeHlsOnSafari configuration","Please Use streaming.useNativeHlsForFairPlay or streaming.preferNativeHls instead.");var r=Lt();t.streaming.preferNativeHls=t.streaming.useNativeHlsOnSafari&&"WEBKIT"===r.Ja(),delete t.streaming.useNativeHlsOnSafari}if(t.streaming&&"boolean"==typeof t.streaming.liveSync&&(Pe("streaming.liveSync","Please Use streaming.liveSync.enabled instead."),r=t.streaming.liveSync,t.streaming.liveSync={},t.streaming.liveSync.enabled=r),t.streaming&&(!t.streaming.liveSync||!("targetLatency"in t.streaming.liveSync))&&("liveSyncMinLatency"in t.streaming||"liveSyncMaxLatency"in t.streaming)){r=t.streaming.liveSyncMinLatency||0;var i=Math.abs((t.streaming.liveSyncMaxLatency||1)-r)/2;t.streaming.liveSync=t.streaming.liveSync||{},t.streaming.liveSync.targetLatency=r+i,t.streaming.liveSync.targetLatencyTolerance=i}if(t.streaming&&"liveSyncMaxLatency"in t.streaming&&(Pe("streaming.liveSyncMaxLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete t.streaming.liveSyncMaxLatency),t.streaming&&"liveSyncMinLatency"in t.streaming&&(Pe("streaming.liveSyncMinLatency","Please Use streaming.liveSync.targetLatency and streaming.liveSync.targetLatencyTolerance instead. Or, set the values in your DASH manifest"),delete t.streaming.liveSyncMinLatency),t.streaming&&"liveSyncTargetLatency"in t.streaming&&(Pe("streaming.liveSyncTargetLatency","Please Use streaming.liveSync.targetLatency instead."),t.streaming.liveSync=t.streaming.liveSync||{},t.streaming.liveSync.targetLatency=t.streaming.liveSyncTargetLatency,delete t.streaming.liveSyncTargetLatency),t.streaming&&"liveSyncTargetLatencyTolerance"in t.streaming&&(Pe("streaming.liveSyncTargetLatencyTolerance","Please Use streaming.liveSync.targetLatencyTolerance instead."),t.streaming.liveSync=t.streaming.liveSync||{},t.streaming.liveSync.targetLatencyTolerance=t.streaming.liveSyncTargetLatencyTolerance,delete t.streaming.liveSyncTargetLatencyTolerance),t.streaming&&"liveSyncPlaybackRate"in t.streaming&&(Pe("streaming.liveSyncPlaybackRate","Please Use streaming.liveSync.maxPlaybackRate instead."),t.streaming.liveSync=t.streaming.liveSync||{},t.streaming.liveSync.maxPlaybackRate=t.streaming.liveSyncPlaybackRate,delete t.streaming.liveSyncPlaybackRate),t.streaming&&"liveSyncMinPlaybackRate"in t.streaming&&(Pe("streaming.liveSyncMinPlaybackRate","Please Use streaming.liveSync.minPlaybackRate instead."),t.streaming.liveSync=t.streaming.liveSync||{},t.streaming.liveSync.minPlaybackRate=t.streaming.liveSyncMinPlaybackRate,delete t.streaming.liveSyncMinPlaybackRate),t.streaming&&"liveSyncPanicMode"in t.streaming&&(Pe("streaming.liveSyncPanicMode","Please Use streaming.liveSync.panicMode instead."),t.streaming.liveSync=t.streaming.liveSync||{},t.streaming.liveSync.panicMode=t.streaming.liveSyncPanicMode,delete t.streaming.liveSyncPanicMode),t.streaming&&"liveSyncPanicThreshold"in t.streaming&&(Pe("streaming.liveSyncPanicThreshold","Please Use streaming.liveSync.panicThreshold instead."),t.streaming.liveSync=t.streaming.liveSync||{},t.streaming.liveSync.panicThreshold=t.streaming.liveSyncPanicThreshold,delete t.streaming.liveSyncPanicThreshold),t.mediaSource&&"sourceBufferExtraFeatures"in t.mediaSource){Pe("mediaSource.sourceBufferExtraFeatures configuration","Please Use mediaSource.addExtraFeaturesToSourceBuffer() instead.");var a=t.mediaSource.sourceBufferExtraFeatures;t.mediaSource.addExtraFeaturesToSourceBuffer=function(){return a},delete t.mediaSource.sourceBufferExtraFeatures}if(t.manifest&&t.manifest.hls&&"useSafariBehaviorForLive"in t.manifest.hls&&(Pe("manifest.hls.useSafariBehaviorForLive configuration","Please Use liveSync config to keep on live Edge instead."),delete t.manifest.hls.useSafariBehaviorForLive),t.streaming&&"parsePrftBox"in t.streaming&&(Pe("streaming.parsePrftBox configuration","Now fired without needing a configuration."),delete t.streaming.parsePrftBox),t.manifest&&t.manifest.dash&&"enableAudioGroups"in t.manifest.dash&&(Pe("manifest.dash.enableAudioGroups configuration","Please Use manifest.enableAudioGroups instead."),t.manifest.enableAudioGroups=t.manifest.dash.enableAudioGroups,delete t.manifest.dash.enableAudioGroups),t.streaming&&"dispatchAllEmsgBoxes"in t.streaming&&(Pe("streaming.dispatchAllEmsgBoxes configuration","Please Use mediaSource.dispatchAllEmsgBoxes instead."),t.mediaSource=t.mediaSource||{},t.mediaSource.dispatchAllEmsgBoxes=t.streaming.dispatchAllEmsgBoxes,delete t.streaming.dispatchAllEmsgBoxes),t.streaming&&"autoLowLatencyMode"in t.streaming&&(Pe("streaming.autoLowLatencyMode configuration","Please Use streaming.lowLatencyMode instead."),t.streaming.lowLatencyMode=t.streaming.autoLowLatencyMode,delete t.streaming.autoLowLatencyMode),t.manifest&&t.manifest.dash&&"ignoreSupplementalCodecs"in t.manifest.dash&&(Pe("manifest.dash.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),t.manifest.ignoreSupplementalCodecs=t.manifest.dash.ignoreSupplementalCodecs,delete t.manifest.dash.ignoreSupplementalCodecs),t.manifest&&t.manifest.hls&&"ignoreSupplementalCodecs"in t.manifest.hls&&(Pe("manifest.hls.ignoreSupplementalCodecs configuration","Please Use manifest.ignoreSupplementalCodecs instead."),t.manifest.ignoreSupplementalCodecs=t.manifest.hls.ignoreSupplementalCodecs,delete t.manifest.hls.ignoreSupplementalCodecs),t.manifest&&t.manifest.dash&&"updatePeriod"in t.manifest.dash&&(Pe("manifest.dash.updatePeriod configuration","Please Use manifest.updatePeriod instead."),t.manifest.updatePeriod=t.manifest.dash.updatePeriod,delete t.manifest.dash.updatePeriod),t.manifest&&t.manifest.hls&&"updatePeriod"in t.manifest.hls&&(Pe("manifest.hls.updatePeriod configuration","Please Use manifest.updatePeriod instead."),t.manifest.updatePeriod=t.manifest.hls.updatePeriod,delete t.manifest.hls.updatePeriod),t.manifest&&t.manifest.dash&&"ignoreDrmInfo"in t.manifest.dash&&(Pe("manifest.dash.ignoreDrmInfo configuration","Please Use manifest.ignoreDrmInfo instead."),t.manifest.ignoreDrmInfo=t.manifest.dash.ignoreDrmInfo,delete t.manifest.dash.ignoreDrmInfo),t.drm&&t.drm.advanced){for(var o in r=!1,t.drm.advanced){var s=t.drm.advanced[o];i=s.videoRobustness,s=s.audioRobustness,"videoRobustness"in t.drm.advanced[o]&&!Array.isArray(t.drm.advanced[o].videoRobustness)&&(t.drm.advanced[o].videoRobustness=[i],r=!0),"audioRobustness"in t.drm.advanced[o]&&!Array.isArray(t.drm.advanced[o].audioRobustness)&&(t.drm.advanced[o].audioRobustness=[s],r=!0)}r&&Pe("AdvancedDrmConfiguration's videoRobustness and audioRobustness","These properties are no longer strings but array of strings, please update your usage of these properties.")}return t.streaming&&"forceHTTP"in t.streaming&&(Pe("streaming.forceHTTP configuration","Please Use networking.forceHTTP instead."),t.networking=t.networking||{},t.networking.forceHTTP=t.streaming.forceHTTP,delete t.streaming.forceHTTP),t.streaming&&"forceHTTPS"in t.streaming&&(Pe("streaming.forceHTTPS configuration","Please Use networking.forceHTTP instead."),t.networking=t.networking||{},t.networking.forceHTTPS=t.streaming.forceHTTPS,delete t.streaming.forceHTTPS),t.streaming&&"minBytesForProgressEvents"in t.streaming&&(Pe("streaming.minBytesForProgressEvents configuration","Please Use networking.minBytesForProgressEvents instead."),t.networking=t.networking||{},t.networking.minBytesForProgressEvents=t.streaming.minBytesForProgressEvents,delete t.streaming.minBytesForProgressEvents),o=pc(this.g,t,Up(this)),kp(this,n),o},i.vk=function(t){this.Dg=t},i.getConfiguration=function(){var t=Up(this);return pc(t,this.g,Up(this)),t},i.Hk=function(){return this.Dg},i.Yi=function(){return pc(Up(this),this.g,Up(this)),Jl(this.g,Up(this))},i.Vi=function(){if(this.h){var t=this.h.buffered.length;t=t?this.h.buffered.end(t-1):0;var e=this.getConfiguration().streaming.bufferingGoal;if(t>=(e=Math.min(this.h.currentTime+e,this.wa().end)))return 1;if(!(t<=this.h.currentTime)&&t<e)return(t-this.h.currentTime)/(e-this.h.currentTime)}return 0},i.Bj=function(){var t,e=this.getConfiguration();for(t in this.g)delete this.g[t];pc(this.g,Up(this),Up(this)),kp(this,e)},i.Rk=function(){return this.l},i.sh=function(){return this.i?this.i.type:null},i.Yk=function(){return this.h},i.Vb=function(){return this.J},i.hd=function(){return this.V},i.uf=function(){return this.D?this.D:null},i.wf=function(){return this.ya?this.ya:null},i.U=function(){return this.i&&!this.Ea()?this.i.presentationTimeline.U():!(!this.h||!this.h.src&&!this.Ea())&&this.h.duration==1/0},i.ld=function(){return!!this.i&&this.i.presentationTimeline.ld()},i.Ld=function(){if(this.i&&!this.Ea()){var t=this.i.variants;return!!t.length&&!t[0].video}return!(!this.h||!this.h.src&&!this.Ea())&&(this.h.videoTracks?0==this.h.videoTracks.length:0==this.h.videoHeight)},i.Gh=function(){if(this.i&&!this.Ea()){var t=this.i.variants;return!!t.length&&(!((t=t[0]).audio||!t.video)&&!t.video.codecs.includes(","))}return!(!this.h||!this.h.src&&!this.Ea()||!this.h.audioTracks)&&0==this.h.audioTracks.length},i.wa=function(){if(this.i&&!this.Ea()){if(!this.aa&&"HLS"==this.i.type)return{start:0,end:0};var t=this.i.presentationTimeline;return{start:t.fc(),end:t.Lb()}}if(this.h&&(this.h.src||this.Ea())&&(t=this.h.seekable)&&t.length){var e=this.g?this.g.playRangeStart:0;e=Math.max(t.start(0),e);var n=this.g?this.g.playRangeEnd:1/0;return{start:e,end:t=Math.min(t.end(t.length-1),n)}}return{start:0,end:0}},i.zl=function(){this.U()&&(this.h.currentTime=this.wa().end)},i.Dl=function(){return this.aa},i.keySystem=function(){var t=this.drmInfo();return t?t.keySystem:""},i.drmInfo=function(){return this.F?this.F.g:null},i.pe=function(){return this.F?this.F.pe():1/0},i.nh=function(){return this.F?this.F.nh():[]},i.vf=function(){return this.F?this.F.vf():{}},i.Df=function(){return this.P?this.P.g==Ja:!!this.V},i.Za=function(){return this.h?this.L?this.L.i:1:0},i.xi=function(t){this.l==fh&&this.m&&bl(this.m,t)},i.sc=function(t,e){e=void 0===e||e,0==t?X("A trick play rate of 0 is unsupported!"):(this.L.set(t),this.l==fh&&(this.u.playbackRateChanged(t),this.xi(e&&1!=t)),jp(this,t))},i.Bd=function(){var t=this.L.jd();this.l==gh&&this.L.set(t),this.l==fh&&(this.L.set(t),this.u.playbackRateChanged(t),this.xi(!1)),this.kc.Sa()},i.Nb=function(){if(this.i&&!this.Ea()){for(var t=this.m?this.m.u:null,e=[],n=0,r=g(this.i.variants),i=r.next();!i.done;i=r.next())if(gi(i=i.value)){var a=li(i);a.active=i==t,a.active||1==n||null==t||i.video!=t.video||i.audio!=t.audio||(a.active=!0),a.active&&n++,e.push(a)}return e}if(this.h&&this.h.audioTracks){var o=$p(this);return(t=Array.from(this.h.audioTracks)).length?t.map((function(t){return fi(t,o)})):o?[fi(null,o)]:[]}return[]},i.yc=function(){if(this.i){if(this.Ea())return[];for(var t=this.m?this.m.C:null,e=[],n=g(this.i.textStreams),r=n.next();!r.done;r=n.next()){var i=ci(r=r.value);i.active=r==t,e.push(i)}return e}return this.h&&this.h.src&&this.h.textTracks?Op(this).map((function(t){return hi(t)})):[]},i.qh=function(){var t=this.Ze;return this.i&&(t=this.i.imageStreams),t.map((function(t){return di(t)}))},i.yk=function(t){var e,n,r=this;return P((function(i){return 1==i.g?w(i,Mp(r,t),2):(e=i.h)?(n=[],e.segmentIndex.Kb((function(t){var r=Ip(t.tilesLayout||e.tilesLayout);if(r)for(var i=r.rows*r.columns,a=t.j-t.startTime,o=0;o<i;o++){var s=Rp(t,e,t.startTime+a*o/i,r);n.push(s)}})),e.closeSegmentIndex&&e.closeSegmentIndex(),i.return(n)):i.return(null)}))},i.$i=function(t,e){var n,r,i,a,o,s=this;return P((function(u){return 1==u.g?w(u,Mp(s,t),2):(n=u.h)?(n.closeSegmentIndex&&(s.Dc.has(n)||(r=new Wr((function(){n.closeSegmentIndex(),s.Dc.delete(n)})),s.Dc.set(n,r)),s.Dc.get(n).Y(5)),null==(i=n.segmentIndex.find(e))?u.return(null):(a=n.segmentIndex.get(i),(o=Ip(a.tilesLayout||n.tilesLayout))?u.return(Rp(a,n,e,o)):u.return(null))):u.return(null)}))},i.fg=function(t){var e,n=this;this.i&&this.G&&((e=n.i.textStreams.find((function(e){return e.id==t.id})))&&e!=n.m.C&&(yc(n.C.h,e,!1),Cl(n.m,e),Qp(n),nh(n),n.Vd=e.language),!this.Ea())||function(){if(n.h&&n.h.textTracks){var e=Op(n),r=e.find((function(e){return pi(e)===t.id}));if(r){if(n.A instanceof Jc)for(var i=(e=g(e)).next();!i.done;i=e.next()){var a=(i=i.value)===r?n.W?"showing":"hidden":"disabled";i.mode!==a&&(i.mode=a)}else(e=e.find((function(t){return"disabled"!==t.mode})))!==r&&(e&&(e.mode="disabled",n.j.Fa(e,"cuechange"),n.A.remove(0,1/0)),r&&Lp(n,r));Qp(n),nh(n)}}}()},i.Ie=function(t,e,n){var r=this;e=void 0!==e&&e,n=void 0===n?0:n,this.i&&this.G&&(function(){var i=r.i.variants.find((function(e){return e.id==t.id}));if(i&&gi(i)){var a=r.m.u;r.g.abr.enabled&&(a.video!=i.video||a.audio&&i.audio&&a.audio.language==i.audio.language&&a.audio.channelsCount==i.audio.channelsCount&&a.audio.label==i.audio.label)&&X("Changing tracks while abr manager is enabled will likely result in the selected track being overridden. Consider disabling abr before calling selectVariantTrack()."),r.Ea()?Kp(r,i,!1,!1,0):Kp(r,i,!1,e||!1,n||0),r.M.configure({language:i.language,role:i.audio&&i.audio.roles&&i.audio.roles[0]||"",videoRole:i.video&&i.video.roles&&i.video.roles[0]||"",channelCount:i.audio&&i.audio.channelsCount?i.audio.channelsCount:0,hdrLevel:i.video&&i.video.hdr?i.video.hdr:"",spatialAudio:!(!i.audio||!i.audio.spatialAudio)&&i.audio.spatialAudio,videoLayout:i.video&&i.video.videoLayout?i.video.videoLayout:"",audioLabel:i.audio&&i.audio.label?i.audio.label:"",videoLabel:i.video&&i.video.label?i.video.label:"",codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:i.audio&&i.audio.codecs?i.audio.codecs:"",activeAudioCodec:a.audio&&a.audio.codecs?a.audio.codecs:"",activeAudioChannelCount:a.audio&&a.audio.channelsCount?a.audio.channelsCount:0,preferredAudioCodecs:r.g.preferredAudioCodecs,preferredAudioChannelCount:r.g.preferredAudioChannelCount}),Gp(r)}}(),!this.Ea())||function(){if(t.originalAudioId&&r.h&&r.h.audioTracks)for(var e=Array.from(r.h.audioTracks),n=(e=g(e)).next();!n.done;n=e.next())if(pi(n=n.value)==t.id){Wp(r,n);break}}()},i.Hj=function(t,e){var n,r=this;(e=void 0===e?0:e,this.i&&this.G&&((n=r.M.getConfiguration()).audioCodec=t.codecs||"",n.audioLabel=t.label||"",n.channelCount=t.channelsCount||0,n.language=t.language,n.role=t.roles[0]||"",n.spatialAudio=t.spatialAudio,r.M.configure(n),Hp(r,!0,e,!1,!1),!this.Ea()))||function(){if(r.h&&r.h.audioTracks){for(var e=de(t.language),n=Array.from(r.h.audioTracks),i=null,a=(n=g(n)).next();!a.done;a=n.next()){var o=(a=a.value).language||"und";if(a.label==t.label&&de(o)==e&&a.kind==t.roles[0]){i=a;break}}i&&Wp(r,i)}}()},i.getAudioTracks=function(){if(this.i&&!this.Ea()){var t=this.Nb();if(!t.length)return[];var e=t.find((function(t){return t.active}));if(!e)return[];var n=t;if(this.l!=fh||this.Ea()||(n=t.filter((function(t){return t.originalVideoId===e.originalVideoId&&(t.audioCodec||Ur.includes(t.audioMimeType||""))}))),!n.length)return[];t=new Map;for(var r=(n=g(n)).next();!r.done;r=n.next()){var i=(r=r.value).originalAudioId;i||null==r.audioId||(i=String(r.audioId)),!i&&r.codecs.includes(",")&&r.audioCodec&&(i="muxed-in-video"),i&&(i+=[r.language,r.label,r.channelsCount,r.spatialAudio].join("_"),t.set(i,{active:r.active,language:r.language,label:r.label,mimeType:r.audioMimeType,codecs:r.audioCodec,primary:r.primary,roles:r.audioRoles||[],accessibilityPurpose:r.accessibilityPurpose,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,originalLanguage:r.originalLanguage}))}return Array.from(t.values())}return this.h&&this.h.audioTracks?Array.from(this.h.audioTracks).map((function(t){var e=t.language;return e={active:t.enabled,language:de(e||"und"),label:t.label,mimeType:null,codecs:null,primary:"main"==t.kind,roles:[],accessibilityPurpose:null,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,originalLanguage:e},t.kind&&e.roles.push(t.kind),t.configuration&&(t.configuration.codec&&(e.codecs=t.configuration.codec),t.configuration.sampleRate&&(e.audioSamplingRate=t.configuration.sampleRate),t.configuration.numberOfChannels&&(e.channelsCount=t.configuration.numberOfChannels)),e})):[]},i.Ij=function(t,e,n){e=void 0!==e&&e,n=void 0===n?0:n;var r=this.Nb();if(r.length){var i=r.find((function(t){return t.active}));i&&(r=r.find((function(e){return e.audioId===i.audioId&&(e.videoBandwidth||e.bandwidth)==t.bandwidth&&e.width==t.width&&e.height==t.height&&e.frameRate==t.frameRate&&e.pixelAspectRatio==t.pixelAspectRatio&&e.hdr==t.hdr&&e.colorGamut==t.colorGamut&&e.videoLayout==t.videoLayout&&e.videoMimeType==t.mimeType&&e.videoCodec==t.codecs&&Ie(e.videoRoles,t.roles)&&e.videoLabel==t.label})))&&!r.active&&this.Ie(r,e,n)}},i.getVideoTracks=function(){if(this.l==gh||this.Ea())return[];var t=this.Nb();if(!t.length)return[];var e=t.find((function(t){return t.active}));if(!e)return[];var n=t.filter((function(t){return t.originalAudioId===e.originalAudioId&&t.audioId===e.audioId&&t.audioGroupId===e.audioGroupId&&t.videoCodec}));if(!n.length)return[];t=new Map;for(var r=(n=g(n)).next();!r.done;r=n.next()){var i=(r=r.value).originalVideoId;i||null==r.videoId||(i=String(r.videoId)),i&&t.set(i,{active:r.active,bandwidth:r.videoBandwidth||r.bandwidth,width:r.width,height:r.height,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,colorGamut:r.colorGamut,videoLayout:r.videoLayout,mimeType:r.videoMimeType,codecs:r.videoCodec,roles:r.videoRoles||[],label:r.videoLabel})}return Array.from(t.values())},i.Ak=function(){return dh(this.Nb())},i.ll=function(){return dh(this.yc())},i.zk=function(){return Array.from(ch(this.Nb()))},i.kl=function(){return Array.from(ch(this.yc()))},i.Gj=function(t,e,n,r,i,a,o){var s=this;n=void 0===n?0:n,r=void 0===r?0:r,i=void 0===i?"":i,a=void 0!==a&&a,o=void 0===o?"":o,this.i&&this.G&&(function(){function u(t,e){return t.video||e.video?t.video&&e.video?Math.abs((t.video.height||0)-(e.video.height||0))+Math.abs((t.video.width||0)-(e.video.width||0)):1/0:0}var l=s.m.u;s.M=s.g.adaptationSetCriteriaFactory(),s.M.configure({language:t,role:e||"",videoRole:l.video&&l.video.roles&&l.video.roles[0]||"",channelCount:n||0,hdrLevel:"",spatialAudio:a||!1,videoLayout:"",audioLabel:o||"",videoLabel:"",codecSwitchingStrategy:s.g.mediaSource.codecSwitchingStrategy,audioCodec:i||"",activeAudioCodec:l.audio&&l.audio.codecs?l.audio.codecs:"",activeAudioChannelCount:l.audio&&l.audio.channelsCount?l.audio.channelsCount:0,preferredAudioCodecs:s.g.preferredAudioCodecs,preferredAudioChannelCount:s.g.preferredAudioChannelCount});for(var c=s.M.create(s.i.variants),d=null,p=(c=g(c.values())).next();!p.done;p=c.next())gi(p=p.value)&&(!d||u(d,l)>u(p,l))&&(d=p);d!=l&&(d?(l=li(d),s.Ie(l,!0,r||0)):Hp(s))}(),!this.Ea())||function(){if(s.h&&s.h.audioTracks){var n=vi(s.Nb(),t,e||"",!1)[0];n&&s.Ie(n)}}()},i.$h=function(t,e,n){var r,i=this;(n=void 0!==n&&n,this.i&&this.G&&(function(){i.Vd=t,i.ee=e||"",i.ce=n||!1;var r=vi(i.i.textStreams,i.Vd,i.ee,i.ce)[0]||null;r&&r!=i.m.C&&(yc(i.C.h,r,!1),i.g.streaming.alwaysStreamText||i.Wc())&&(Cl(i.m,r),Qp(i),nh(i))}(),!this.Ea()))||(r=vi(i.yc(),t,e||"",n||!1)[0])&&i.fg(r)},i.pm=function(t,e,n){var r=this;e=void 0===e||e,n=void 0===n?0:n,this.i&&this.G&&(function(){for(var i=null,a=g(r.i.variants),o=a.next();!o.done;o=a.next())if((o=o.value).audio.label==t){i=o;break}null!=i&&(r.M=r.g.adaptationSetCriteriaFactory(),r.M.configure({language:i.language,role:"",videoRole:"",channelCount:0,hdrLevel:"",spatialAudio:!1,videoLayout:"",videoLabel:"",audioLabel:t,codecSwitchingStrategy:r.g.mediaSource.codecSwitchingStrategy,audioCodec:"",activeAudioCodec:"",activeAudioChannelCount:0,preferredAudioCodecs:r.g.preferredAudioCodecs,preferredAudioChannelCount:r.g.preferredAudioChannelCount}),Hp(r,e,n))}(),!this.Ea())||function(){if(r.h&&r.h.audioTracks){for(var e=Array.from(r.h.audioTracks),n=null,i=(e=g(e)).next();!i.done;i=e.next())(i=i.value).label==t&&(n=i);n&&Wp(r,n)}}()},i.Wc=function(){var t=this.W;return this.A?this.A.isTextVisible():t},i.Ek=function(){return this.ib.map((function(t){return ci(t)}))},i.Dk=function(t){if(Pe("getChapters","Please use an getChaptersAsync."),!this.ib.length)return[];var e=de(t);if(!(t=this.ib.filter((function(t){return de(t.language)==e}))).length)return[];for(var n=[],r=new Set,i=(t=g(t)).next();!i.done;i=t.next())(i=i.value).segmentIndex&&i.segmentIndex.Kb((function(t){var e=t.T()[0],i=t.startTime+"-"+t.endTime+"-"+e;t={id:i,title:e,startTime:t.startTime,endTime:t.endTime},r.has(i)||(n.push(t),r.add(i))}));return n},i.oh=function(t){var e,n,r,i,a,o,s,u=this;return P((function(l){switch(l.g){case 1:if(!u.ib.length)return l.return([]);if(e=de(t),!(n=u.ib.filter((function(t){return de(t.language)==e}))).length)return l.return([]);r=[],i=new Set,a=g(n),o=a.next();case 2:if(o.done){l.B(4);break}if((s=o.value).segmentIndex){l.B(5);break}return w(l,s.createSegmentIndex(),5);case 5:s.segmentIndex.Kb((function(t){var e=t.T()[0],n=t.startTime+"-"+t.endTime+"-"+e;t={id:n,title:e,startTime:t.startTime,endTime:t.endTime},i.has(n)||(r.push(t),i.add(n))})),o=a.next(),l.B(2);break;case 4:return l.return(r)}}))},i.Zd=function(t){t=!!t,this.W!=t&&(this.W=t,this.l==fh?(this.A.setTextVisibility(t),this.g.streaming.alwaysStreamText||(t?this.m.C||(t=vi(this.i.textStreams,this.Vd,this.ee,this.ce)).length>0&&(Cl(this.m,t[0]),Qp(this),nh(this)):function(t){var e=t.h.get(re);e&&(jl(e),ql(e).catch((function(){})),t.H=t.h.get(re),t.h.delete(re),e.stream&&e.stream.closeSegmentIndex&&e.stream.closeSegmentIndex()),t.C=null}(this.m))):this.h&&this.h.src&&this.h.textTracks&&this.A.setTextVisibility(t),th(this))},i.Zk=function(){if(this.G)var t=this.G.$e();else{if(null==this.O)return new Date;if(this.O instanceof Date)return this.O;t=this.O}if(this.i&&!this.Ea()){var e=this.i.presentationTimeline;return new Date(1e3*((e.m||e.i)+t))}return this.h&&this.h.getStartDate?(e=this.h.getStartDate(),isNaN(e.getTime())?null:new Date(e.getTime()+1e3*t)):null},i.Zi=function(){if(this.i&&!this.Ea()){var t=this.i.presentationTimeline;return null===(t=t.m||t.i)?null:new Date(1e3*t)}return this.h&&this.h.getStartDate?(t=this.h.getStartDate(),isNaN(t.getTime())?null:t):null},i.yf=function(){return this.U()&&this.i?this.i.presentationTimeline.yf():null},i.Oc=function(){if(this.l==fh)return this.H.Oc();var t={total:[],audio:[],video:[],text:[]};return this.l==gh&&(t.total=as(this.h.buffered)),t},i.getBandwidthEstimate=function(){return this.u?this.u.getBandwidthEstimate():NaN},i.getStats=function(){if(this.l!=fh&&this.l!=gh)return{width:NaN,height:NaN,currentCodecs:"",streamBandwidth:NaN,decodedFrames:NaN,droppedFrames:NaN,corruptedFrames:NaN,stallsDetected:NaN,gapsJumped:NaN,estimatedBandwidth:NaN,completionPercent:NaN,loadLatency:NaN,manifestTimeSeconds:NaN,drmTimeSeconds:NaN,playTime:NaN,pauseTime:NaN,bufferingTime:NaN,licenseTime:NaN,liveLatency:NaN,maxSegmentDuration:NaN,manifestSizeBytes:NaN,bytesDownloaded:NaN,nonFatalErrorCount:NaN,manifestPeriodCount:NaN,manifestGapCount:NaN,switchHistory:[],stateHistory:[]};qp(this);var t=this.h,e=t.currentTime/t.duration;if(isNaN(e)||this.U()||function(t,e){t.i=isNaN(t.i)?e:Math.max(t.i,e)}(this.C,Math.round(100*e)),this.G&&(this.C.R=this.G.zi(),this.C.S=this.G.Bi()),t.getVideoPlaybackQuality&&(e=t.getVideoPlaybackQuality(),function(t,e,n){t.P=e,t.O=n}(this.C,Number(e.droppedVideoFrames),Number(e.totalVideoFrames)),this.C.M=Number(e.corruptedVideoFrames)),this.C.u=this.F?function(t){return t.J?t.J:NaN}(this.F):NaN,bc(this.C,t.videoWidth||NaN,t.videoHeight||NaN),this.C.l="",this.U()&&(null!=(t=Pp(this))&&(this.C.F=t/1e3)),e=this.Nb().find((function(t){return t.active})),t=this.yc().find((function(t){return t.active})),e){if(e.bandwidth){var n=this.L?this.L.i:1,r=n*e.bandwidth;t&&t.bandwidth&&(r+=n*t.bandwidth),this.C.C=r}e.width&&e.height&&bc(this.C,e.width||NaN,e.height||NaN),e=e.codecs,t&&(e+=","+(t.codecs||t.mimeType)),e&&(this.C.l=e)}return this.l!=fh||this.Ea()||(this.i&&(this.C.I=this.i.periodCount,this.C.H=this.i.gapCount,this.i.presentationTimeline&&(this.C.K=this.i.presentationTimeline.h)),t=this.u.getBandwidthEstimate(),this.C.A=t),this.l==gh&&wc(this.C,NaN),Cc(this.C)},i.ge=function(t,e,n,r,i,a,o){o=void 0!==o&&o;var s,u,l,c,d,p,h,f,g,m,v,y=this;return P((function(A){switch(A.g){case 1:if(y.l!=fh&&y.l!=gh)throw new It(1,7,7004);if("subtitles"!=n&&"captions"!=n&&X("Using a kind value different of `subtitles` or `captions` can cause unwanted issues."),r){A.B(2);break}return w(A,Dp(y,t),3);case 3:r=A.h;case 2:if(s=[],y.D&&(s=y.D.getCuePoints()),y.l!=gh){A.B(4);break}return u=Lt(),o&&"WEBKIT"===u.Ja()&&(n="forced"),w(A,function(t,e,n,r,i,a,o){var s,u,l,c;return P((function(d){if(1==d.g)return"text/vtt"!=i||o.length?w(d,_p(t,e,t.J,t.g.streaming.retryParameters),3):d.B(2);2!=d.g&&(s=d.h,u=Np(t,s,i,o),l=new Blob([u],{type:"text/vtt"}),e=gu(l),i="text/vtt"),c=document.createElement("track");t:{var p=t.K,h=e;try{if(!p.g.enabled){var f=h;break t}var g=hd(p);g.ot=Ld,g.su=!0,f=Sd(h,xd(g));break t}catch(t){Y("CMCD_TEXT_TRACK_ERROR","Could not generate text track CMCD data.",t),f=h;break t}f=void 0}return c.src=f,c.label=a,c.kind=r,c.srclang=n,t.h.getAttribute("crossorigin")||t.h.setAttribute("crossorigin","anonymous"),t.h.appendChild(c),t.Cg.push(c),d.return(c)}))}(y,t,e,n,r,a||"",s),5);case 5:if((l=A.h).track)return Xp(y),A.return(hi(l.track));throw new It(1,2,2012);case 4:if(c=ie,d=y.wa(),p=d.end-d.start,y.i&&(p=y.i.presentationTimeline.getDuration()),p==1/0)throw new It(1,4,4033);if(!s.length){A.B(6);break}return w(A,_p(y,t,y.J,y.g.streaming.retryParameters),7);case 7:h=A.h,f=Np(y,h,r,s),g=new Blob([f],{type:"text/vtt"}),t=gu(g),r="text/vtt";case 6:if(m={id:y.Ue++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Hu(0,p,[t]),mimeType:r||"",codecs:i||"",kind:n,encrypted:!1,drmInfos:[],keyIds:new Set,language:e,originalLanguage:e,label:a||null,type:c.Va,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!!o,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([kr(r||"",i||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},v=kr(m.mimeType,m.codecs),!Fr(v))throw new It(2,2,2014,r);return y.i.textStreams.push(m),Xp(y),A.return(ci(m))}}))},i.gf=function(t,e){var n,r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,C=this;return P((function(x){switch(x.g){case 1:if(C.l!=fh&&C.l!=gh)throw new It(1,7,7004);if(e){x.B(2);break}return w(x,Dp(C,t),3);case 3:e=x.h;case 2:if("text/vtt"!=e)throw new It(1,2,2017,t);if(n=ie,r=C.wa(),i=r.end-r.start,C.i&&(i=C.i.presentationTimeline.getDuration()),i==1/0)throw new It(1,4,4045);return w(x,_p(C,t,C.J,C.g.streaming.retryParameters),4);case 4:if(a=x.h,!(o=qr(e)))throw new It(2,2,2014,e);for(s=o(),u={periodStart:0,segmentStart:0,segmentEnd:i,vttOffset:0},l=Tt(a),c=s.parseMedia(l,u,t,[]),d=[],p=g(c),h=p.next(),f={};!h.done;f={wg:void 0,Ed:void 0},h=p.next())f.Ed=h.value,f.wg=null,m=function(e){return function(){return null==e.wg&&(e.wg=Jt([t],[e.Ed.payload])),e.wg||[]}}(f),v=new Xo(f.Ed.startTime,f.Ed.endTime,m,0,null,null,0,0,1/0),f.Ed.payload.includes("#xywh")&&(4===(y=f.Ed.payload.split("#xywh=")[1].split(",")).length&&v.jg({height:parseInt(y[3],10),positionX:parseInt(y[0],10),positionY:parseInt(y[1],10),width:parseInt(y[2],10)})),d.push(v);if(A=e,!d.length){x.B(5);break}return w(x,Uc(d[0].T()[0],C.J,C.g.manifest.retryParameters),6);case 6:A=x.h;case 5:return b={id:C.Ue++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Gu(d),mimeType:A||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:n.yg,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([kr(A||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},C.l==gh?C.Ze.push(b):C.i.imageStreams.push(b),Xp(C),x.return(di(b))}}))},i.ef=function(t,e,n){var r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A=this;return P((function(b){switch(b.g){case 1:if(A.l!=fh&&A.l!=gh)throw new It(1,7,7004);if(n){b.B(2);break}return w(b,Dp(A,t),3);case 3:n=b.h;case 2:if(r=ie,i=A.wa(),a=i.end-i.start,A.i&&(a=A.i.presentationTimeline.getDuration()),a==1/0)throw new It(1,4,4054);return w(b,_p(A,t,A.J,A.g.streaming.retryParameters),4);case 4:if(o=b.h,!(s=qr(n)))throw new It(2,2,2014,n);for(u=s(),l={periodStart:0,segmentStart:0,segmentEnd:a,vttOffset:0},c=Tt(o),d=u.parseMedia(c,l,t,[]),p=[],h=g(d),f=h.next(),m={};!f.done;m={qf:void 0},f=h.next())m.qf=f.value,v=new Xo(m.qf.startTime,m.qf.endTime,function(t){return function(){return[t.qf.payload]}}(m),0,null,null,0,0,1/0),p.push(v);return y={id:A.Ue++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Gu(p),mimeType:"text/plain",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:e,originalLanguage:e,label:null,type:r.Va,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([kr("text/plain","")]),isAudioMuxedInVideo:!1,baseOriginalId:null},A.ib.push(y),Xp(A),b.return(ci(y))}}))},i.vm=function(t,e){this.sa.width=t,this.sa.height=e},i.Wh=function(t){if(this.l==fh){var e=this.m;if(t=void 0===t?.1:t,e.l.g)e=!1;else if(e.D)e=!1;else{for(var n=g(e.h.values()),r=n.next();!r.done;r=n.next())!(r=r.value).se||r.Ra||r.yb||(r.se=!1,Bl(e,r,t));e=!0}}else e=!1;return e},i.rh=function(){return X("Shaka Player's internal Manifest structure is NOT covered by semantic versioning compatibility guarantees.  It may change at any time!  Please consider filing a feature request for whatever you use getManifest() for."),this.i},i.Vk=function(){return this.Gc},i.Nk=function(){var t={video:null,audio:null,text:null};if(this.l!=fh)return t;for(var e=this.m.u,n=this.h.currentTime,r=(e=g([e.video,e.audio,this.m.C])).next();!r.done;r=e.next())if((r=r.value)&&r.segmentIndex){var i=r.segmentIndex.find(n);i={codecs:(i=r.segmentIndex.get(i)).codecs||r.codecs,mimeType:i.mimeType||r.mimeType,bandwidth:i.bandwidth||r.bandwidth},"video"==r.type?(i.width=r.width,i.height=r.height,t.video=i):"audio"==r.type?t.audio=i:r.type==re&&(t.text=i)}return t},i.ii=function(t){this.Qe=t},i.disableStream=function(t,e){if(!this.g.abr.enabled||this.l===ph||!navigator.onLine||0==e||!this.i)return!1;if(this.i.variants.some((function(e){var n=e[t.type];return!(!n||n.id===t.id||e.disabledUntilTime)&&("audio"!=t.type||t.language===n.language)}))){for(var n=!1,r=!1,i=g(this.i.variants),a=i.next();!a.done;a=i.next()){var o=(a=a.value)[t.type];o&&(o.id===t.id?(a.disabledUntilTime=Date.now()/1e3+e,n=!0):o.trickModeVideo&&o.trickModeVideo.id==t.id&&(r=!0))}return!(!n&&r)&&(this.We.xa(1),Hp(this,!1,e=this.Oc().video.reduce((function(t,e){return t+e.end-e.start}),0),!0,!1),!0)}return!1},i.addFont=function(e,n){return function(e,n){var r,i,a,o;return P((function(s){if(1==s.g)return"fonts"in document&&"FontFace"in t?w(s,document.fonts.ready,2):s.return();if(!("entries"in document.fonts))return s.return();for(r=g(function(t){for(var e=[],n=(t=t.entries()).next();!1===n.done;)e.push(n.value),n=t.next();return e}(document.fonts)),i=r.next();!i.done;i=r.next())if((a=i.value).family===e&&"swap"===a.display)return s.return();o=new FontFace(e,"url("+n+")",{display:"swap"}),document.fonts.add(o),C(s)}))}(e,n)},i.Ea=function(){return!(!this.h||!this.h.remote)&&"disconnected"!=this.h.remote.state},i.isEnded=function(){return!(this.h&&!this.h.ended)||this.aa&&!this.U()&&this.h.currentTime>=this.wa().end},G("shaka.Player",sp),sp.prototype.isEnded=sp.prototype.isEnded,sp.prototype.isRemotePlayback=sp.prototype.Ea,sp.prototype.addFont=sp.prototype.addFont,sp.prototype.setVideoContainer=sp.prototype.ii,sp.prototype.getFetchedPlaybackInfo=sp.prototype.Nk,sp.prototype.getManifestParserFactory=sp.prototype.Vk,sp.prototype.getManifest=sp.prototype.rh,sp.prototype.retryStreaming=sp.prototype.Wh,sp.prototype.setMaxHardwareResolution=sp.prototype.vm,sp.prototype.addChaptersTrack=sp.prototype.ef,sp.prototype.addThumbnailsTrack=sp.prototype.gf,sp.prototype.addTextTrackAsync=sp.prototype.ge,sp.prototype.getStats=sp.prototype.getStats,sp.prototype.getBufferedInfo=sp.prototype.Oc,sp.prototype.getSegmentAvailabilityDuration=sp.prototype.yf,sp.prototype.getPresentationStartTimeAsDate=sp.prototype.Zi,sp.prototype.getPlayheadTimeAsDate=sp.prototype.Zk,sp.prototype.setTextTrackVisibility=sp.prototype.Zd,sp.prototype.getChaptersAsync=sp.prototype.oh,sp.prototype.getChapters=sp.prototype.Dk,sp.prototype.getChaptersTracks=sp.prototype.Ek,sp.prototype.isTextTrackVisible=sp.prototype.Wc,sp.prototype.selectVariantsByLabel=sp.prototype.pm,sp.prototype.selectTextLanguage=sp.prototype.$h,sp.prototype.selectAudioLanguage=sp.prototype.Gj,sp.prototype.getTextLanguages=sp.prototype.kl,sp.prototype.getAudioLanguages=sp.prototype.zk,sp.prototype.getTextLanguagesAndRoles=sp.prototype.ll,sp.prototype.getAudioLanguagesAndRoles=sp.prototype.Ak,sp.prototype.getVideoTracks=sp.prototype.getVideoTracks,sp.prototype.selectVideoTrack=sp.prototype.Ij,sp.prototype.getAudioTracks=sp.prototype.getAudioTracks,sp.prototype.selectAudioTrack=sp.prototype.Hj,sp.prototype.selectVariantTrack=sp.prototype.Ie,sp.prototype.selectTextTrack=sp.prototype.fg,sp.prototype.getThumbnails=sp.prototype.$i,sp.prototype.getAllThumbnails=sp.prototype.yk,sp.prototype.getImageTracks=sp.prototype.qh,sp.prototype.getTextTracks=sp.prototype.yc,sp.prototype.getVariantTracks=sp.prototype.Nb,sp.prototype.cancelTrickPlay=sp.prototype.Bd,sp.prototype.trickPlay=sp.prototype.sc,sp.prototype.useTrickPlayTrackIfAvailable=sp.prototype.xi,sp.prototype.getPlaybackRate=sp.prototype.Za,sp.prototype.isBuffering=sp.prototype.Df,sp.prototype.getKeyStatuses=sp.prototype.vf,sp.prototype.getActiveSessionsMetadata=sp.prototype.nh,sp.prototype.getExpiration=sp.prototype.pe,sp.prototype.drmInfo=sp.prototype.drmInfo,sp.prototype.keySystem=sp.prototype.keySystem,sp.prototype.isFullyLoaded=sp.prototype.Dl,sp.prototype.goToLive=sp.prototype.zl,sp.prototype.seekRange=sp.prototype.wa,sp.prototype.isVideoOnly=sp.prototype.Gh,sp.prototype.isAudioOnly=sp.prototype.Ld,sp.prototype.isInProgress=sp.prototype.ld,sp.prototype.isLive=sp.prototype.U,sp.prototype.getQueueManager=sp.prototype.wf,sp.prototype.getAdManager=sp.prototype.uf,sp.prototype.getAssetUri=sp.prototype.hd,sp.prototype.getNetworkingEngine=sp.prototype.Vb,sp.prototype.getMediaElement=sp.prototype.Yk,sp.prototype.getManifestType=sp.prototype.sh,sp.prototype.getLoadMode=sp.prototype.Rk,sp.prototype.resetConfiguration=sp.prototype.Bj,sp.prototype.getBufferFullness=sp.prototype.Vi,sp.prototype.getNonDefaultConfiguration=sp.prototype.Yi,sp.prototype.getConfigurationForLowLatency=sp.prototype.Hk,sp.prototype.getConfiguration=sp.prototype.getConfiguration,sp.prototype.configurationForLowLatency=sp.prototype.vk,sp.prototype.configure=sp.prototype.configure,sp.prototype.releaseAllMutexes=sp.prototype.dm,sp.prototype.destroyAllPreloads=sp.prototype.Ug,sp.prototype.preload=sp.prototype.preload,sp.prototype.detachAndSavePreload=sp.prototype.Ri,sp.prototype.unloadAndSavePreload=sp.prototype.ck,sp.prototype.load=sp.prototype.load,sp.prototype.updateStartTime=sp.prototype.Dm,sp.prototype.unload=sp.prototype.tc,sp.prototype.detach=sp.prototype.detach,sp.prototype.attachCanvas=sp.prototype.Fi,sp.prototype.attach=sp.prototype.cc,sp.probeSupport=function(e){var n,r,i,a,o;return e=void 0===e||e,P((function(s){switch(s.g){case 1:if(n={},!e){s.B(2);break}return w(s,function(){var e,n,r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,T,k,I,M,R,L,O,D,_,N;return P((function(U){if(1==U.g){if(e="org.w3.clearkey com.widevine.alpha com.widevine.alpha.experiment com.microsoft.playready com.microsoft.playready.hardware com.microsoft.playready.recommendation com.microsoft.playready.recommendation.3000 com.microsoft.playready.recommendation.3000.clearlead com.chromecast.playready com.apple.fps.1_0 com.apple.fps com.huawei.wiseplay".split(" "),!(t.MediaKeys&&t.navigator&&t.navigator.requestMediaKeySystemAccess&&t.MediaKeySystemAccess&&t.MediaKeySystemAccess.prototype.getConfiguration)){for(n={},r=g(e),i=r.next();!i.done;i=r.next())a=i.value,n[a]=null;return U.return(n)}for(o="1.0 1.1 1.2 1.3 1.4 2.0 2.1 2.2 2.3".split(" "),u={"com.widevine.alpha":s=["SW_SECURE_CRYPTO","SW_SECURE_DECODE","HW_SECURE_CRYPTO","HW_SECURE_DECODE","HW_SECURE_ALL"],"com.widevine.alpha.experiment":s,"com.microsoft.playready.recommendation":["150","2000","3000"]},l={videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'},{contentType:'video/webm; codecs="vp8"'}],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"'},{contentType:'audio/webm; codecs="opus"'}],initDataTypes:["cenc","sinf","skd","keyids"]},c=[null,"cenc","cbcs"],d=new Map,p=Lt(),h=function(t,e,n){var r,i,a,s,u,l,c,h,f,m,v,y;return P((function(A){switch(A.g){case 1:return x(A,2),w(A,e.createMediaKeys(),5);case 5:r=A.h;case 4:S(A,3);break;case 2:return E(A),A.return();case 3:if(a=!!(i=e.getConfiguration().sessionTypes)&&i.includes("persistent-license"),p.oj()&&(a=!1),s=e.getConfiguration().videoCapabilities,u=e.getConfiguration().audioCapabilities,l={persistentState:a,encryptionSchemes:[],videoRobustnessLevels:[],audioRobustnessLevels:[],minHdcpVersions:[]},d.get(t)?l=d.get(t):d.set(t,l),(c=s[0].encryptionScheme)&&!l.encryptionSchemes.includes(c)&&l.encryptionSchemes.push(c),(h=s[0].robustness)&&!l.videoRobustnessLevels.includes(h)&&l.videoRobustnessLevels.push(h),(f=u[0].robustness)&&!l.audioRobustnessLevels.includes(f)&&l.audioRobustnessLevels.push(f),!n||!("getStatusForPolicy"in r)){A.B(0);break}m=g(o),v=m.next();case 7:if(v.done){A.B(0);break}if(y=v.value,l.minHdcpVersions.includes(y)){A.B(8);break}return w(A,r.getStatusForPolicy({minHdcpVersion:y}),10);case 10:if("usable"!=A.h){A.B(0);break}l.minHdcpVersions.includes(y)||l.minHdcpVersions.push(y);case 8:v=m.next(),A.B(7)}}))},f=function(t,e,n,r,i){var a,o,s,u,c,d,p,f,m,v;return i=void 0!==i&&i,P((function(y){switch(y.g){case 1:for(x(y,2),a=dn(l),o=g(a.videoCapabilities),s=o.next();!s.done;s=o.next())(u=s.value).encryptionScheme=e,u.robustness=n;for(c=g(a.audioCapabilities),d=c.next();!d.done;d=c.next())(p=d.value).encryptionScheme=e,p.robustness=r;return(f=dn(a)).persistentState="required",f.sessionTypes=["persistent-license"],m=[f,a],"MOBILE"==Lt().Oa()?w(y,Jr(5,navigator.requestMediaKeySystemAccess(t,m)),7):w(y,navigator.requestMediaKeySystemAccess(t,m),6);case 6:v=y.h,y.B(5);break;case 7:v=y.h;case 5:return w(y,h(t,v,i),8);case 8:S(y,0);break;case 2:E(y),C(y)}}))},m=g(e),v=m.next();!v.done;v=m.next())y=v.value,d.set(y,null);for(A=function(t){return"WEBKIT"!==Lt().Ja()||"org.w3.clearkey"!==t},b=[],T=g(e),k=T.next();!k.done;k=T.next())if(I=k.value,A(I)){for(M=!0,R=g(c),L=R.next();!L.done;L=R.next())O=L.value,b.push(f(I,O,"","",M)),M=!1;for(D=g(u[I]||[]),_=D.next();!_.done;_=D.next())N=_.value,b.push(f(I,null,N,"")),b.push(f(I,null,"",N))}return w(U,Promise.all(b),2)}return U.return(ca(d))}))}(),3);case 3:n=s.h;case 2:return r=function(){var t={};if(Lt(),sy())for(var e=g(lo.keys()),n=e.next();!n.done;n=e.next())t[n.value]=!0;for(n=(e=g(["application/dash+xml","application/x-mpegurl","application/vnd.apple.mpegurl","application/vnd.ms-sstr+xml"])).next();!n.done;n=e.next())t[n=n.value]=sy()?lo.has(n):""!=hs().canPlayType(n);return t}(),i=function(){var t='video/mp4; codecs="avc1.42E01E",video/mp4; codecs="avc3.42E01E",video/mp4; codecs="hev1.1.6.L93.90",video/mp4; codecs="hvc1.1.6.L93.90",video/mp4; codecs="hev1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.4.L153.B0"; eotf="smpte2084",video/mp4; codecs="hvc1.2.20000000.L153.B0",video/mp4; codecs="hvc1.2.4.L120.b0",video/mp4; codecs="hvc1.2.4.L123.b0",video/mp4; codecs="vp9",video/mp4; codecs="vp09.00.10.08",video/mp4; codecs="av01.0.01M.08",video/mp4; codecs="dvh1.05.01",video/mp4; codecs="dvh1.08.01",video/mp4; codecs="dav1.10.01",video/mp4; codecs="dvh1.20.01",audio/mp4; codecs="mp4a.40.2",audio/mp4; codecs="ac-3",audio/mp4; codecs="ec-3",audio/mp4; codecs="ac-4.02.01.01",audio/mp4; codecs="opus",audio/mp4; codecs="flac",audio/mp4; codecs="dtsc",audio/mp4; codecs="dtse",audio/mp4; codecs="dtsx",audio/mp4; codecs="apac.31.00",video/webm; codecs="vp8",video/webm; codecs="vp9",video/webm; codecs="vp09.00.10.08",audio/webm; codecs="vorbis",audio/webm; codecs="opus",video/mp2t; codecs="avc1.42E01E",video/mp2t; codecs="avc3.42E01E",video/mp2t; codecs="hvc1.1.6.L93.90",video/mp2t; codecs="mp4a.40.2",video/mp2t; codecs="ac-3",video/mp2t; codecs="ec-3",text/vtt,application/mp4; codecs="wvtt",application/ttml+xml,application/mp4; codecs="stpp"'.split(",").concat(m(Ur)),e={};Lt();for(var n=(t=g(t)).next();!n.done;n=t.next()){if(Fr(n=n.value))e[n]=!0;else if(sy()){var r=Pr(n);r=kr(r,si(Dr(n),r)),e[n]=Fe(r)||!!br(r)}else e[n]=""!=hs().canPlayType(n);e[r=n.split(";")[0]]=e[r]||e[n]}return e}(),w(s,Lt().wc(),4);case 4:return a=s.h,o={manifest:r,media:i,drm:n,hardwareResolution:a},vh.forEach((function(t,e){o[e]=t()})),s.return(o)}}))},sp.isBrowserSupported=dp,sp.setQueueManagerFactory=function(t){Ah=t},sp.setAdManagerFactory=function(t){yh=t},sp.registerSupportPlugin=cp,sp.prototype.destroy=sp.prototype.destroy;var ph=0,hh=1,fh=2,gh=3;sp.LoadMode={DESTROYED:ph,NOT_LOADED:hh,MEDIA_SOURCE:fh,SRC_EQUALS:gh},sp.version="v4.16.2";var mh=["4","16"];Ne=new function(t){this.g=t,this.i=De,this.h=_e}(new Oe(Number(mh[0]),Number(mh[1])));var vh=new Map,yh=null,Ah=null;function bh(){this.g=[],this.i=this.m=this.l=this.j=this.h=0}function wh(t){return t.g.length?t.g.reduce((function(t,e){return t+e}),0)/t.g.length:0}function Ch(t,e,n){var r=this;this.g=t,this.h=e,this.m=n,this.i=!1,this.j=this.h.getVolume(),this.l=new Me,this.l.o(this.h,google.ima.AdEvent.Type.PAUSED,(function(){r.i=!0})),this.l.o(this.h,google.ima.AdEvent.Type.RESUMED,(function(){r.i=!1}))}function xh(){}function Th(t,e){for(var n=[],r=(t=g(An(t,"Ad"))).next();!r.done;r=t.next())if((r=xn(r.value,"InLine"))&&(r=xn(r,"Creatives")))for(var i=(r=g(An(r,"Creative"))).next();!i.done;i=r.next()){var a=xn(i=i.value,"Linear");if(a&&Sh(n,e,a),i=xn(i,"NonLinearAds"))for(var o=(i=g(i=An(i,"NonLinear"))).next();!o.done;o=i.next())t:{a=n;var s=e,u=o.value,l=xn(u,"StaticResource");if(l)o=l.attributes.creativeType;else{if(!(l=xn(u,"HTMLResource")))break t;o="text/html"}if(l=wn(l)){"text/html"===o&&(l="data:text/html;charset=UTF-8,"+encodeURIComponent(l));var c=Sn(u,"width",On)||Sn(u,"expandedWidth",On),d=Sn(u,"height",On)||Sn(u,"expandedHeight",On);if(c||d){var p=null,h=xn(u,"NonLinearClickThrough");h&&(h=wn(h))&&(p=h),h=null,(u=u.attributes.minSuggestedDuration)&&(h=un(u)),u=0,null!=s&&(u=s),a.push({id:null,groupId:null,startTime:u,endTime:null,uri:l,mimeType:o,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:h,once:!0,pre:null==s,post:s==1/0,timelineRange:!1,loop:!1,overlay:{viewport:{x:0,y:0},topLeft:{x:0,y:0},size:{x:c||0,y:d||0}},displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:p})}}}}return n}function Sh(t,e,n){var r=0;null!=e&&(r=e);var i=null;n.attributes.skipoffset&&(i=un(n.attributes.skipoffset),isNaN(i)&&(i=null));var a=xn(n,"MediaFiles");if(a){var o=null;for((n=xn(n,"VideoClicks"))&&(n=xn(n,"ClickThrough"))&&(n=wn(n))&&(o=n),a=n=An(a,"MediaFile"),(n=n.filter((function(t){return"streaming"==t.attributes.delivery}))).length&&(a=n),n=(a=g(a=a.sort((function(t,e){return(parseInt(e.attributes.height,10)||0)-(parseInt(t.attributes.height,10)||0)})))).next();!n.done;n=a.next())if(!(n=n.value).attributes.apiFramework){var s=wn(n);if(s){t.push({id:null,groupId:null,startTime:r,endTime:null,uri:s,mimeType:n.attributes.type||null,isSkippable:null!=i,skipOffset:i,skipFor:null,canJump:!1,resumeOffset:0,playoutLimit:null,once:!0,pre:null==e,post:e==1/0,timelineRange:!1,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:o});break}}}}function Eh(e,n,r,i,a){var o=this;this.A=e,this.i=n,this.G=!1,this.C=this.u=null,this.H=NaN,this.l=a,this.j=null,this.h=new Me,google.ima.settings.setLocale(r),google.ima.settings.setDisableCustomPlaybackForIOS10Plus(!0),this.F=new google.ima.AdDisplayContainer(this.A,this.i),this.F.initialize(),this.m=new google.ima.AdsLoader(this.F),this.m.getSettings().setPlayerType("shaka-player"),this.m.getSettings().setPlayerVersion("v4.16.2"),this.g=null,this.D=i||new google.ima.AdsRenderingSettings,this.h.o(this.m,google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(e){!function(e,n){if(e.l(new z("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-e.H))),e.u.customPlayheadTracker){var r={currentTime:e.i.currentTime};e.g=n.getAdsManager(r,e.D),e.i.muted?e.g.setVolume(0):e.g.setVolume(e.i.volume),e.h.o(e.i,"timeupdate",(function(){e.i.duration&&(r.currentTime=e.i.currentTime)})),e.h.o(e.i,"volumechange",(function(){e.j&&(e.j.setVolume(e.i.volume),e.i.muted&&e.j.setMuted(!0))}))}else e.g=n.getAdsManager(e.i,e.D);e.l(new z("ima-ad-manager-loaded",(new Map).set("imaAdManager",e.g)));var i=e.g.getCuePoints();if(i.length){n=[];for(var a=(i=g(i)).next();!a.done;a=i.next())n.push({start:a.value,end:null});e.l(new z("ad-cue-points-changed",(new Map).set("cuepoints",n)))}!function(t){function e(e,n){e=(new Map).set("originalEvent",e),t.l(new z(n,e))}t.h.o(t.g,google.ima.AdErrorEvent.Type.AD_ERROR,(function(e){kh(t,e)})),t.h.o(t.g,google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,(function(e){Ih(t,e)})),t.h.o(t.g,google.ima.AdEvent.Type.STARTED,(function(e){Ih(t,e)})),t.h.o(t.g,google.ima.AdEvent.Type.FIRST_QUARTILE,(function(t){e(t,"ad-first-quartile")})),t.h.o(t.g,google.ima.AdEvent.Type.MIDPOINT,(function(t){e(t,"ad-midpoint")})),t.h.o(t.g,google.ima.AdEvent.Type.THIRD_QUARTILE,(function(t){e(t,"ad-third-quartile")})),t.h.o(t.g,google.ima.AdEvent.Type.COMPLETE,(function(t){e(t,"ad-complete")})),t.h.o(t.g,google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,(function(e){Mh(t,e)})),t.h.o(t.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(e){Mh(t,e)})),t.h.o(t.g,google.ima.AdEvent.Type.SKIPPED,(function(t){e(t,"ad-skipped")})),t.h.o(t.g,google.ima.AdEvent.Type.VOLUME_CHANGED,(function(t){e(t,"ad-volume-changed")})),t.h.o(t.g,google.ima.AdEvent.Type.VOLUME_MUTED,(function(t){e(t,"ad-muted")})),t.h.o(t.g,google.ima.AdEvent.Type.PAUSED,(function(n){t.j&&(t.j.i=!0,e(n,"ad-paused"))})),t.h.o(t.g,google.ima.AdEvent.Type.RESUMED,(function(n){t.j&&(t.j.i=!1,e(n,"ad-resumed"))})),t.h.o(t.g,google.ima.AdEvent.Type.SKIPPABLE_STATE_CHANGED,(function(n){t.j&&e(n,"ad-skip-state-changed")})),t.h.o(t.g,google.ima.AdEvent.Type.CLICK,(function(t){e(t,"ad-clicked")})),t.h.o(t.g,google.ima.AdEvent.Type.AD_PROGRESS,(function(t){e(t,"ad-progress")})),t.h.o(t.g,google.ima.AdEvent.Type.AD_BUFFERING,(function(t){e(t,"ad-buffering")})),t.h.o(t.g,google.ima.AdEvent.Type.IMPRESSION,(function(t){e(t,"ad-impression")})),t.h.o(t.g,google.ima.AdEvent.Type.DURATION_CHANGE,(function(t){e(t,"ad-duration-changed")})),t.h.o(t.g,google.ima.AdEvent.Type.USER_CLOSE,(function(t){e(t,"ad-closed")})),t.h.o(t.g,google.ima.AdEvent.Type.LOADED,(function(t){e(t,"ad-loaded")})),t.h.o(t.g,google.ima.AdEvent.Type.ALL_ADS_COMPLETED,(function(t){e(t,"all-ads-completed")})),t.h.o(t.g,google.ima.AdEvent.Type.LINEAR_CHANGED,(function(t){e(t,"ad-linear-changed")})),t.h.o(t.g,google.ima.AdEvent.Type.AD_METADATA,(function(t){e(t,"ad-metadata")})),t.h.o(t.g,google.ima.AdEvent.Type.LOG,(function(t){e(t,"ad-recoverable-error")})),t.h.o(t.g,google.ima.AdEvent.Type.AD_BREAK_READY,(function(t){e(t,"ad-break-ready")})),t.h.o(t.g,google.ima.AdEvent.Type.INTERACTION,(function(t){e(t,"ad-interaction")}))}(e);try{e.g.init(e.i.offsetWidth,e.i.offsetHeight),e.h.o(e.i,"loadeddata",(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight)})),"ResizeObserver"in t?(e.C=new ResizeObserver((function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight)})),e.C.observe(e.i)):e.h.o(document,"fullscreenchange",(function(){e.g.resize(e.i.offsetWidth,e.i.offsetHeight)})),e.G||e.u.skipPlayDetection?e.g.start():e.h.ua(e.i,"play",(function(){e.G=!0,e.g.start()}))}catch(t){Mh(e,null)}}(o,e)})),this.h.o(this.m,google.ima.AdErrorEvent.Type.AD_ERROR,(function(t){kh(o,t)})),this.h.o(this.i,"ended",(function(){o.m.contentComplete()})),this.h.ua(this.i,"play",(function(){o.G=!0}))}function kh(t,e){e.getError(),e=(new Map).set("originalEvent",e),t.l(new z("ad-error",e)),Mh(t,null),t.l(new z("ad-cue-points-changed",(new Map).set("cuepoints",[])))}function Ih(t,e){var n=e.getAd();n?(t.j=new Ch(n,t.g,t.i),e.type!=google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED||t.u.supportsMultipleMediaElements||t.l(new z("ad-content-pause-requested")),e=(new Map).set("ad",t.j).set("sdkAdObject",n).set("originalEvent",e),t.l(new z("ad-started",e)),t.j.isLinear()&&(t.A.setAttribute("ad-active","true"),t.u.customPlayheadTracker||t.i.pause(),t.i.muted?((e=t.j).j=t.i.volume,e.h.setVolume(0)):t.j.setVolume(t.i.volume))):X("The IMA SDK fired a "+e.type+" event with no associated ad. Unable to play ad!")}function Mh(t,e){e&&e.type==google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED&&!t.u.supportsMultipleMediaElements&&t.l(new z("ad-content-resume-requested")),t.l(new z("ad-stopped",(new Map).set("originalEvent",e))),t.j&&t.j.isLinear()&&(t.A.removeAttribute("ad-active"),t.u.customPlayheadTracker||t.i.ended||t.i.play())}function Rh(t,e,n,r,i,a){this.g=t,this.h=e,this.j=(this.i=e.isSkippable)?e.skipOffset||0:e.skipOffset,this.l=e.skipFor,this.C=n,this.u=r,this.m=i,this.A=a,this.D=e.overlay}function Lh(t,e,n){this.g=t,this.j=e,this.h=n,this.i=null==t.overlay}function Oh(t,e,n,r){var i=this;this.M=null,this.u=t,this.F=e,this.g=n,this.H=null,this.C=!0,this.h=this.g,this.i=r,this.S=new Set,this.I=new Set,this.G=new Map,this.L=new Map,this.j=new sp,Vh(this),this.J=new Me,this.l=new Me,this.K=!1,this.Z=this.A=this.D=this.m=null,this.aa=!1,this.P=-1,this.W=function(){if(!i.K&&i.m&&!i.F.Ea()){i.m=i.g.currentTime;var t=Uh(i);t&&Bh(i,t,1,1,Date.now())}},this.V=function(){if(!(i.K||i.m||i.F.Ea())){i.m=i.g.currentTime;var t=Uh(i,!0);t||(t=Uh(i)),t&&Bh(i,t,1,1,Date.now())}},this.ea=function(){if(!i.K&&i.m&&!i.F.Ea()){var t=i.g.currentTime;i.D&&!i.D.pre&&!i.D.post&&t<(i.D.endTime||i.D.startTime)&&(i.D=null)}},this.R=new Wr(this.W),this.O=new Wr((function(){var t,e,n,r,a,o,s,u,l,c,d;return P((function(p){switch(p.g){case 1:if(!i.I.size||null==i.m){p.B(0);break}if((t=i.F.l)==ph||t==hh)return p.return();e=!1,n=Array.from(i.I),r=i.F.wa(),a=g(n),o=a.next();case 3:if(o.done){p.B(5);break}if((s=o.value)==i.D){p.B(4);break}if(u=s.endTime||s.startTime,!(r.start-u>=1)){(l=s.startTime-i.m)>0&&l<=10&&(!i.G.has(s)&&zh(s)&&i.G.set(s,i.j.preload(s.uri,null,s.mimeType||void 0)),Kh(i,s)),p.B(4);break}if(!i.G.has(s)){p.B(7);break}return w(p,i.G.get(s),8);case 8:(c=p.h)&&c.destroy(),i.G.delete(s);case 7:Wh(i,s),d=JSON.stringify(s),i.S.has(d)&&i.S.delete(d),i.I.delete(s),Ph(i),s.overlay||(e=!0);case 4:o=a.next(),p.B(3);break;case 5:e&&Fh(i),C(p)}}))})),this.configure(this.F.getConfiguration().ads)}function Ph(t){t.aa&&!t.I.size&&(t.J.Fa(t.g,"playing",t.V),t.J.Fa(t.g,"timeupdate",t.V),t.J.Fa(t.g,"seeked",t.ea),t.J.Fa(t.g,"ended",t.W),-1!=t.P&&(t.g.cancelVideoFrameCallback(t.P),t.P=-1),t.R&&t.R.stop(),t.O&&t.O.stop(),t.aa=!1)}function Dh(t){if(t.u&&t.M&&!t.K){var e=t.M.supportsMultipleMediaElements,n=t.g;(n.webkitPresentationMode&&"inline"!==n.webkitPresentationMode||n.webkitDisplayingFullscreen)&&(e=!1),t.C==e&&(t.C=!e,t.C?(t.h=t.g,t.H&&(t.H.parentElement&&t.u.removeChild(t.H),t.H=null)):(t.H||((e=document.createElement(t.g.tagName)).autoplay=!0,e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.width="100%",e.style.height="100%",e.style.display="none",e.setAttribute("playsinline",""),t.H=e),t.h=t.H))}else t.C=!0}function _h(t,e){var n;P((function(r){if(1==r.g)return Vh(t),n=[],e&&e.values.find((function(t){return"X-OVERLAY-ID"==t.key}))?(n=function(t){var e=[];if(!t)return e;var n=t.values.find((function(t){return"X-ASSET-URI"==t.key}));if(!n)return e;if(!(n=n.data))return e;var r=null,i=t.values.find((function(t){return"X-OVERLAY-ID"==t.key}));i&&(r=i.data),i=null==r?Math.floor(10*t.startTime)/10:t.startTime;var a=t.endTime;t.endTime&&t.endTime!=1/0&&"number"==typeof t.endTime&&(a=null==r?Math.floor(10*t.endTime)/10:t.endTime);var o=!1,s=!1,u=!1,l=t.values.find((function(t){return"CUE"==t.key}));l&&(u=l.data,o=u.includes("ONCE"),s=u.includes("PRE"),u=u.includes("POST")),l=null;var c=t.values.find((function(t){return"X-ASSET-MIMETYPE"==t.key}));c&&(l=c.data),c=!1;var d=t.values.find((function(t){return"X-LOOP"==t.key}));d&&(c="YES"==d.data),d=1;var p=t.values.find((function(t){return"X-DEPTH"==t.key}));p&&(d=parseFloat(p.data),isNaN(d)&&(d=1)),p=null;var h=t.values.find((function(t){return"X-BACKGROUND"==t.key}));h&&(p=h.data),h=1920;var f=1080,g=t.values.find((function(t){return"X-VIEWPORT"==t.key}));if(g){if(2!=(f=g.data.split("x")).length)return e;h=parseFloat(f[0]),f=parseFloat(f[1])}if(h={viewport:{x:h,y:f},topLeft:{x:0,y:0},size:{x:h,y:f}},f=t.values.find((function(t){return"X-OVERLAY-POSITION"==t.key}))){if(2!=(f=f.data.split("x")).length)return e;h.topLeft.x=parseFloat(f[0]),h.topLeft.y=parseFloat(f[1])}if(f=t.values.find((function(t){return"X-OVERLAY-SIZE"==t.key}))){if(2!=(f=f.data.split("x")).length)return e;h.size.x=parseFloat(f[0]),h.size.y=parseFloat(f[1])}if(f=null,(g=t.values.find((function(t){return"X-SQUEEZECURRENT"==t.key})))&&(f=parseFloat(g.data),isNaN(f)&&(f=1),f={viewport:{x:1920,y:1080},topLeft:{x:0,y:0},size:{x:1920*f,y:1080*f}},t=t.values.find((function(t){return"X-SQUEEZECURRENT-POSITION"==t.key})))){if(2!=(t=t.data.split("x")).length)return e;f.topLeft.x=parseFloat(t[0]),f.topLeft.y=parseFloat(t[1])}return e.push({id:r,groupId:null,startTime:i,endTime:a,uri:n,mimeType:l,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:o,pre:s,post:u,timelineRange:!0,loop:c,overlay:h,displayOnBackground:-1==d,currentVideo:f,background:p,clickThroughUrl:null}),e}(e),r.B(2)):w(r,function(t,e){var n,r,i,a,o,s,u,l,c,d,p,h,f,g,m,v,y,A,b,C,T,k,I,M,R,L,O,D,_,N,U,B,j,q,F,V,G,z,H,K,W;return P((function(P){switch(P.g){case 1:if(n=[],!e)return P.return(n);if(r=e.values.find((function(t){return"X-ASSET-URI"==t.key})),i=e.values.find((function(t){return"X-ASSET-LIST"==t.key})),!r&&!i)return P.return(n);if(a=null,(o=e.values.find((function(t){return"ID"==t.key})))&&(a=o.data),s=null==a?Math.floor(10*e.startTime)/10:e.startTime,(u=e.endTime)&&e.endTime!=1/0&&"number"==typeof e.endTime&&(u=null==a?Math.floor(10*e.endTime)/10:e.endTime),l=e.values.find((function(t){return"X-RESTRICT"==t.key})),d=c=!0,l&&l.data&&(p=l.data,c=!p.includes("SKIP"),d=!p.includes("JUMP")),h=c?0:null,(f=e.values.find((function(t){return"X-ENABLE-SKIP-AFTER"==t.key})))&&(g=f.data,h=parseFloat(g),isNaN(h)&&(h=c?0:null)),m=null,(v=e.values.find((function(t){return"X-ENABLE-SKIP-FOR"==t.key})))&&(y=v.data,m=parseFloat(y),isNaN(h)&&(m=null)),A=null,(b=e.values.find((function(t){return"X-RESUME-OFFSET"==t.key})))&&(C=b.data,A=parseFloat(C),isNaN(A)&&(A=null)),T=null,(k=e.values.find((function(t){return"X-PLAYOUT-LIMIT"==t.key})))&&(I=k.data,T=parseFloat(I),isNaN(T)&&(T=null)),L=R=M=!1,(O=e.values.find((function(t){return"CUE"==t.key})))&&(D=O.data,M=D.includes("ONCE"),R=D.includes("PRE"),L=D.includes("POST")),_=!1,(N=e.values.find((function(t){return"X-TIMELINE-OCCUPIES"==t.key})))?(U=N.data,_=U.includes("RANGE")):!b&&t.F.U()&&(_=!R&&!L),r){if(!(B=r.data))return P.return(n);n.push({id:a,groupId:null,startTime:s,endTime:u,uri:B,mimeType:null,isSkippable:c,skipOffset:h,skipFor:m,canJump:d,resumeOffset:A,playoutLimit:T,once:M,pre:R,post:L,timelineRange:_,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:null}),P.B(2);break}if(!i){P.B(2);break}return(j=i.data)?(x(P,4),w(P,Gh(t,j,{type:11}),6)):P.return(n);case 6:for(q=P.h,F=Nt(q),V=JSON.parse(F),(G=V["SKIP-CONTROL"])&&("number"==typeof(z=G["ENABLE-SKIP-AFTER"])&&(h=parseFloat(z),isNaN(z)&&(h=c?0:null)),"number"==typeof(H=G["ENABLE-SKIP-FOR"])&&(m=parseFloat(H),isNaN(H)&&(m=null))),K=0;K<V.ASSETS.length;K++)(W=V.ASSETS[K]).URI&&n.push({id:a+"_shaka_asset_"+K,groupId:a,startTime:s,endTime:u,uri:W.URI,mimeType:null,isSkippable:c,skipOffset:h,skipFor:m,canJump:d,resumeOffset:A,playoutLimit:T,once:M,pre:R,post:L,timelineRange:_,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:null});S(P,2);break;case 4:E(P);case 2:return P.return(n)}}))}(t,e),3);2!=r.g&&(n=r.h),n.length?Nh(t,n):X("Unsupported HLS interstitial",e),C(r)}))}function Nh(t,e){var n,r,i,a,o,s,u,l;P((function(c){switch(c.g){case 1:n=!1,r=g(e),i=r.next();case 2:if(i.done){c.B(4);break}if(!(a=i.value).uri){X("Missing URL in interstitial",a),c.B(3);break}if(a.mimeType){c.B(5);break}return x(c,6),o=t.j.Vb(),w(c,Uc(a.uri,o,t.F.getConfiguration().streaming.retryParameters),8);case 8:a.mimeType=c.h,S(c,5);break;case 6:E(c);case 5:if(s=a.id||JSON.stringify(a),t.S.has(s)){c.B(3);break}a.loop&&!a.overlay&&X("Loop is only supported in overlay interstitials",a),a.overlay||(n=!0),t.S.add(s),t.I.add(a),u=!1,a.pre&&null==t.m?u=!0:0!=a.startTime||a.canJump?null!=t.m&&((l=a.startTime-t.m)>0&&l<=10&&(u=!0)):u=!0,u&&(!t.G.has(a)&&zh(a)&&t.G.set(a,t.j.preload(a.uri,null,a.mimeType||void 0)),Kh(t,a));case 3:i=r.next(),c.B(2);break;case 4:n&&Fh(t),function(t){if(!t.aa&&t.I.size){if(t.J.o(t.g,"playing",t.V),t.J.o(t.g,"timeupdate",t.V),t.J.o(t.g,"seeked",t.ea),t.J.o(t.g,"ended",t.W),"requestVideoFrameCallback"in t.g&&!Hh()){var e=t.g,n=function(){-1!=t.P&&(t.W(),-1!=t.P&&(t.P=e.requestVideoFrameCallback(n)))};t.P=e.requestVideoFrameCallback(n)}else t.R.xa(.025);t.O&&t.O.xa(1),t.aa=!0}}(t),C(c)}}))}function Uh(t,e,n){e=void 0!==e&&e,n=void 0===n?null:n;var r=0,i=null;if(t.I.size&&null!=t.m){var a=t.g.ended,o=Array.from(t.I).sort((function(t,e){return e.startTime-t.startTime})),s=o;for(s=e?o.filter((function(t){return t.pre})):a?o.filter((function(t){return t.post})):o.filter((function(t){return!t.pre&&!t.post})),s=(o=g(s)).next();!s.done;s=o.next()){s=s.value;var u=!1;if(e)u=s.pre;else if(a)u=s.post;else if(!s.pre&&!s.post){var l=t.m-Math.round(1e3*s.startTime)/1e3,c=1;t.M.allowStartInMiddleOfInterstitial&&s.endTime&&s.endTime!=1/0&&(c=s.endTime-s.startTime),(l>0||0==l&&0==t.m)&&(l<=c||!s.canJump)&&(u=!(null==n&&t.D&&!t.D.pre&&!t.D.post&&t.D.startTime>=s.startTime))}u&&(!t.D||s.startTime>=t.D.startTime)&&(r==(n||0)?i=s:i&&!s.canJump&&Math.round(1e3*s.startTime)/1e3-Math.round(1e3*i.startTime)/1e3>.001&&(i=s,r=0),r++)}}return i}function Bh(e,n,r,i,a,o){o=void 0===o?0:o,e.D=n,Dh(e),e.C||!e.u||e.h.parentElement||e.u.appendChild(e.h),1==i&&1==r&&(r=Array.from(e.I).filter((function(t){return n.pre?t.pre==n.pre:n.post?t.post==n.post:Math.abs(t.startTime-n.startTime)<.001})).length),n.once&&(o++,e.I.delete(n),Ph(e),n.overlay||Fh(e)),n.mimeType&&(n.mimeType.startsWith("image/")||"text/html"===n.mimeType)?n.overlay?function(e,n,r,i,a){function o(){e.A&&(e.A.stop(),e.A=null),e.u.removeChild(l),qh(e,n),e.i(new z("ad-stopped")),e.l.Sa();var t=Uh(e,n.pre,i-a);t?Bh(e,t,r,++i,Date.now(),a):e.K=!1}e.K=!0;var s=n.overlay,u="text/html"==n.mimeType?"iframe":"img",l=document.createElement(u);l.style.objectFit="contain",l.style.position="absolute",l.style.border="none",jh(e,n),e.i(new z("ad-started",(new Map).set("ad",new Lh(n,r,i)))),"iframe"==u?l.src=n.uri:(l.src=n.uri,l.onerror=function(t){e.i(new z("ad-error",(new Map).set("originalEvent",t))),o()});var c=s.viewport,d=s.topLeft;s=s.size,0==c.x&&0==c.y?(l.width=n.overlay.size.x,l.height=n.overlay.size.y,l.style.bottom="10%",l.style.left="0",l.style.right="0",l.style.width="100%",n.overlay.size.y||"iframe"!=u||(l.style.height="auto")):(l.style.height=s.y/c.y*100+"%",l.style.left=d.x/c.x*100+"%",l.style.top=d.y/c.y*100+"%",l.style.width=s.x/c.x*100+"%"),e.u.appendChild(l);var p=Date.now();e.A&&e.A.stop(),e.A=new Wr((function(){n.playoutLimit&&(Date.now()-p)/1e3>n.playoutLimit||n.endTime&&e.g.currentTime>n.endTime?(e.i(new z("ad-complete")),o()):e.g.currentTime<n.startTime&&(e.i(new z("ad-skipped")),o())})),n.playoutLimit&&!n.endTime?e.A.Y(n.playoutLimit):n.endTime&&e.A.xa(.025),e.l.o(e.g,"seeked",(function(){var t=e.g.currentTime;(t<n.startTime||n.endTime&&t>n.endTime)&&(e.A&&e.A.stop(),e.i(new z("ad-skipped")),o())})),n.clickThroughUrl&&e.l.o(l,"click",(function(){n.clickThroughUrl&&t.open(n.clickThroughUrl,"_blank")}))}(e,n,r,i,o):X("Unsupported interstitial",n):e.C&&n.overlay?X("Unsupported interstitial",n):function(e,n,r,i,a,o){var s,u,l,c,d,p,h,f,g,m,v,y,A,b,T,k,I,M,R,L,O;P((function(D){switch(D.g){case 1:if(s=Date.now(),e.K=!0,u=!1,l=function(){if(!e.C&&!n.overlay&&null==n.resumeOffset)if(n.timelineRange&&n.endTime&&n.endTime!=1/0)e.g.currentTime!=n.endTime&&(e.g.currentTime=n.endTime);else{var t=Date.now();e.g.currentTime+=(t-a)/1e3,a=t}},c=function(t){var s,u;return P((function(c){if(1==c.g){if(l(),s=Uh(e,n.pre,i-o),t&&n.groupId)for(;s&&s.groupId==n.groupId;)i++,s=Uh(e,n.pre,i-o);return e.A&&(!n.groupId||s&&s.groupId!=n.groupId)&&(e.A.stop(),e.A=null),qh(e,n),s&&!s.overlay?c.B(2):(n.post&&(e.m=null,e.D=null),e.C?w(c,e.j.detach(),4):w(c,e.j.tc(),4))}2!=c.g&&(e.C&&(null==(u=n.resumeOffset)&&(u=n.timelineRange&&n.endTime&&n.endTime!=1/0?n.endTime-(e.m||0):(Date.now()-a)/1e3),e.i(new z("ad-content-resume-requested",(new Map).set("offset",u)))),e.i(new z("ad-stopped")),e.l.Sa(),e.K=!1,e.C?Fh(e):(e.h.style.display="none",l(),e.g.ended||e.g.play())),Dh(e),s&&(e.i(new z("ad-stopped")),e.l.Sa(),Bh(e,s,r,++i,a,o)),C(c)}))},d=function(t){return P((function(n){return u?n.return():(u=!0,e.i(new z("ad-error",(new Map).set("originalEvent",t))),w(n,c(!1),0))}))},p=function(){return P((function(t){if(1==t.g)return u?t.return():(u=!0,w(t,c(!1),2));e.i(new z("ad-complete")),C(t)}))},e.Z=function(){return P((function(t){return u?t.return():(u=!0,e.i(new z("ad-skipped")),w(t,c(!0),0))}))},h=new Rh(e.h,n,e.Z,r,i,!e.C),e.C||(h.setMuted(e.g.muted),h.setVolume(e.g.volume)),e.i(new z("ad-started",(new Map).set("ad",h))),(f=h.canSkipNow())&&e.i(new z("ad-skip-state-changed")),e.l.ua(e.j,"error",d),e.l.o(e.h,"timeupdate",(function(){if(e.h.duration){var t=h.canSkipNow();f!=t&&h.getRemainingTime()>0&&h.getDuration()>0&&e.i(new z("ad-skip-state-changed")),f=t,!e.C&&!n.overlay&&null==n.resumeOffset&&n.timelineRange&&n.endTime&&n.endTime!=1/0&&e.g.currentTime!=n.endTime&&e.F.wa().end>=n.endTime&&(e.g.currentTime=n.endTime)}})),e.l.ua(e.j,"firstquartile",(function(){l(),e.i(new z("ad-first-quartile"))})),e.l.ua(e.j,"midpoint",(function(){l(),e.i(new z("ad-midpoint"))})),e.l.ua(e.j,"thirdquartile",(function(){l(),e.i(new z("ad-third-quartile"))})),e.l.ua(e.j,"complete",p),e.l.o(e.h,"play",(function(){e.i(new z("ad-resumed"))})),e.l.o(e.h,"pause",(function(){var t=e.j.getConfiguration();e.h.currentTime>=t.playRangeEnd?p():e.i(new z("ad-paused"))})),e.l.o(e.h,"volumechange",(function(){e.h.muted?e.i(new z("ad-muted")):e.i(new z("ad-volume-changed"))})),n.clickThroughUrl&&(g=e.u||e.h,e.l.o(g,"click",(function(){n.clickThroughUrl&&(h.isPaused()||h.pause(),t.open(n.clickThroughUrl,"_blank"))}))),!e.C||1!=i){D.B(2);break}return e.i(new z("ad-content-pause-requested",(new Map).set("saveLivePosition",!0))),m=new Fi,v=function(t){return P((function(n){if(1==n.g)return"detach"!=t.state?n.B(0):Hh()?w(n,new Promise((function(t){return new Wr(t).Y(.1)})),3):n.B(3);m.resolve(),e.l.Fa(e.F,"onstatechange",v),C(n)}))},e.l.o(e.F,"onstatechange",v),w(D,m,2);case 2:return jh(e,n),e.C||(e.h.style.display="",n.overlay?(e.h.loop=n.loop,y=n.overlay.viewport,A=n.overlay.topLeft,b=n.overlay.size,e.h.style.height=b.y/y.y*100+"%",e.h.style.left=A.x/y.x*100+"%",e.h.style.top=A.y/y.y*100+"%",e.h.style.width=b.x/y.x*100+"%"):(e.g.pause(),null!=n.resumeOffset&&0!=n.resumeOffset&&(e.g.currentTime+=n.resumeOffset),e.h.loop=!1,e.h.style.height="100%",e.h.style.left="0",e.h.style.top="0",e.h.style.width="100%")),x(D,4),Vh(e),n.startTime&&n.endTime&&n.endTime!=1/0&&n.startTime!=n.endTime&&((T=n.endTime-n.startTime)>0&&e.j.configure("playRangeEnd",T)),n.playoutLimit&&!e.A&&(e.A=new Wr((function(){e.Z()})).Y(n.playoutLimit),e.j.configure("playRangeEnd",n.playoutLimit)),w(D,e.j.cc(e.h),6);case 6:return k=null,e.M.allowStartInMiddleOfInterstitial&&null!=e.m&&(I=e.m-n.startTime,Math.abs(I)>.25&&(k=I)),e.G.has(n)?w(D,e.G.get(n),10):w(D,e.j.load(n.uri,k,n.mimeType||void 0),8);case 10:return M=D.h,e.G.delete(n),w(D,M?e.j.load(M):e.j.load(n.uri,k,n.mimeType||void 0),8);case 8:n.overlay&&e.g.paused?e.h.pause():e.h.play(),R=(Date.now()-s)/1e3,e.i(new z("ads-loaded",(new Map).set("loadTime",R))),e.C&&e.g.play(),n.overlay&&(n.pre||n.post||e.F.U()&&!(n.startTime>0)||(L=function(){var t=e.g.currentTime-n.startTime;Math.abs(t-e.h.currentTime)>.1&&(e.h.currentTime=t)},e.l.ua(e.h,"playing",L),e.l.o(e.g,"seeking",L)),e.l.o(e.g,"seeked",(function(){var t=e.g.currentTime;(t<n.startTime||n.endTime&&t>n.endTime)&&e.Z()}))),S(D,0);break;case 4:if(O=E(D),!e.K)return D.return();d(O),C(D)}}))}(e,n,r,i,a,o)}function jh(t,e){if(e.displayOnBackground&&(t.g.style.zIndex="1"),null!=e.currentVideo){var n=e.currentVideo;t.g.style.transformOrigin="top left";var r=!0,i=[],a=n.topLeft.x/n.viewport.x*100;a>0&&a<=100&&(i.push("translateX("+a+"%)"),r=!1),(a=n.topLeft.y/n.viewport.y*100)>0&&a<=100&&(i.push("translateY("+a+"%)"),r=!1),(a=n.size.x/n.viewport.x)<1&&i.push("scaleX("+a+")"),n=n.size.y/n.viewport.y,a<1&&i.push("scaleY("+n+")"),i.length&&(t.g.style.transform=i.join(" ")),r&&(t.g.style.transition="transform 250ms")}t.u&&(e.clickThroughUrl?(t.u.setAttribute("ad-active","true"),t.u.style.pointerEvents=""):t.u.style.pointerEvents="none",e.background&&(t.u.style.background=e.background)),t.H&&(t.H.style.background=e.overlay?"":"rgb(0, 0, 0)")}function qh(t,e){e&&!e.displayOnBackground||(t.g.style.zIndex=""),e&&null==e.currentVideo||(t.g.style.transformOrigin="",t.g.style.transition="",t.g.style.transform=""),t.u&&(t.u.removeAttribute("ad-active"),t.u.style.pointerEvents="",!e||e.background)&&(t.u.style.background=""),t.H&&(t.H.style.background="")}function Fh(t){for(var e=[],n=g(t.I),r=n.next(),i={};!r.done;i={Jc:void 0},r=n.next())(r=r.value).overlay||(i.Jc={start:r.startTime,end:null},r.pre?(i.Jc.start=0,i.Jc.end=null):r.post?(i.Jc.start=-1,i.Jc.end=null):r.timelineRange&&(i.Jc.end=r.endTime),e.find(function(t){return function(e){return t.Jc.start==e.start&&t.Jc.end==e.end}}(i))||e.push(i.Jc));t.i(new z("ad-cue-points-changed",(new Map).set("cuepoints",e)))}function Vh(t){t.j.configure(t.F.Yi()),t.j.configure("ads.disableHLSInterstitial",!0),t.j.configure("ads.disableDASHInterstitial",!0),t.j.configure("playRangeEnd",1/0),Zi(t.F.Vb(),t.j.Vb())}function Gh(t,e,n){var r,i;return P((function(a){return 1==a.g?(r=Qi([e],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),w(a,t.F.Vb().request(7,r,n).promise,2)):(i=a.h,a.return(i.data))}))}function zh(t){return!(t=t.mimeType)||!t.startsWith("image/")&&"text/html"!==t}function Hh(){var t=Lt().Oa();return"TV"==t||"CONSOLE"==t||"CAST"==t}function Kh(t,e){if(!(t.L.has(e)||t.M&&!t.M.allowPreloadOnDomElements)){var n=function(t){var e=document.createElement("link");return e.rel="preload",e.href=t,e.as="image",document.head.appendChild(e),e},r=[];if(e.background){var i=e.background.match(/url\(('|")?([^'"()]+)('|")\)?/);i&&r.push(n(i[2]))}e.mimeType&&e.mimeType.startsWith("image/")&&r.push(n(e.uri)),t.L.set(e,r)}}function Wh(t,e){if(t.L.has(e)){for(var n=t.L.get(e),r=(n=g(n)).next();!r.done;r=n.next())(r=r.value).parentNode.removeChild(r);t.L.delete(e)}}function $h(t,e,n,r,i){this.h=t,this.j=un(this.h.skipOffset),this.g=i,this.i=e,this.l=n,this.u=r,this.m=!1}function Xh(t,e,n,r){this.D=t,this.K=e,this.h=n,this.l=null,this.P=NaN,this.i=r,this.J=!1,this.C=null,this.j=[],this.M=[],this.L=this.F=this.g=null,this.G=new Map,this.m=[],this.A=[],this.H="",this.O=!0,this.I="",this.u=new Me}function Yh(t,e){var n,r,i,a,o,s,u,l;P((function(c){return 1==c.g?e.staticResource?(n=Jh(e),t.G.get(n)?c.return():(r={type:9},i=Qi([e.staticResource],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=t.K.request(7,i,r),x(c,2),t.G.set(n,[]),w(c,a.promise,4))):c.return():2!=c.g?(o=c.h,s=Nt(o.data),u=JSON.parse(s),l=u.apps,t.G.set(n,l),S(c,0)):(E(c),t.G.delete(n),void C(c))}))}function Jh(t){return[t.adId,t.adParameters,t.adSystem,t.adTitle,t.creativeAdId,t.creativeId,t.creativeSequence,t.height,t.width,t.staticResource].join("")}function Zh(t){var e=t.h.currentTime;if(0!=e&&null==t.C){for(var n,r,i=g(t.j),a=i.next();!a.done;a=i.next())for(var o=g((a=a.value).ads),s=o.next();!s.done;s=o.next())if(s=s.value,r){if(s.startTimeInSeconds<e&&s.startTimeInSeconds>r.startTimeInSeconds+r.durationInSeconds){r=s,n=a;break}}else s.startTimeInSeconds<e&&(r=s,n=a);n&&r&&!t.M.includes(r.adId)&&(t.C=e,t.h.currentTime=n.startTimeInSeconds)}}function Qh(t){if(t.h.duration&&(t.g||t.j.length)){var e=t.h.currentTime,n=!1;if(t.g){n=!0;var r=t.F,i=r.startTimeInSeconds+.5*r.durationInSeconds,a=r.startTimeInSeconds+.75*r.durationInSeconds;e>=r.startTimeInSeconds+.25*r.durationInSeconds&&!t.A.includes("firstQuartile")?(t.A.push("firstQuartile"),nf(t,"firstQuartile")):e>=i&&!t.A.includes("midpoint")?(t.A.push("midpoint"),nf(t,"midpoint")):e>=a&&!t.A.includes("thirdQuartile")&&(t.A.push("thirdQuartile"),nf(t,"thirdQuartile")),r=t.g.getRemainingTime(),i=t.g.getDuration(),t.g.canSkipNow()&&r>0&&i>0&&nf(t,"skipStateChanged"),i>0&&(r<=0||r>i)&&tf(t)}if(!t.g||!t.g.isLinear()){t:for(r=g(t.j),i=r.next();!i.done&&(i=i.value,!t.g||!t.g.isLinear());i=r.next())for(a=0;a<i.ads.length;a++){var o=i.ads[a],s=o.startTimeInSeconds+o.durationInSeconds;if(o.startTimeInSeconds<=e&&s>e){if(t.M.includes(o.adId)){if(t.h.ended)continue;t.h.currentTime=s;break t}tf(t),t.L=i,t.g=new $h(o,a+1,i.ads.length,!0,t.h),t.F=o,0===a&&nf(t,"breakStart"),ef(t);break}}if(!t.g)for(i=(r=g(t.j)).next();!i.done&&(i=i.value,!t.g);i=r.next())for(a=0;a<i.nonLinearAdsList.length;a++)if((o=i.nonLinearAdsList[a]).nonLinearAdList.length){s=i.startTimeInSeconds;var u=t.G.get(Jh(o.nonLinearAdList[0]));if(s<=e&&u&&u.length){tf(t),s=t;for(var l=(u=g(u)).next();!l.done;l=u.next())if((l=l.value).data.source.length){var c=document.createElement("img");c.src=l.data.source[0].url,c.style.top=(l.placeholder.top||0)+"%",c.style.height=100-(l.placeholder.top||0)+"%",c.style.left=(l.placeholder.left||0)+"%",c.style.maxWidth=100-(l.placeholder.left||0)+"%",c.style.objectFit="contain",c.style.position="absolute",s.D.appendChild(c)}t.L=i,t.g=new $h(o,a+1,i.ads.length,!1,t.h),t.F=o,0===a&&nf(t,"breakStart"),ef(t);break}}n&&!t.g&&(e=t.h.currentTime,t.C&&t.C>e&&(t.h.currentTime=t.C),t.C=null)}}}function tf(t){if(t.g){for(;t.D.lastChild;)t.D.removeChild(t.D.firstChild);t.J||t.M.push(t.F.adId);var e=t.g.m;nf(t,void 0!==e&&e?"skip":"complete");for(var n=(e=g(t.m)).next();!n.done;n=e.next())n=n.value,t.u.Fa(n.target,n.type,n.listener);t.m=[],t.A=[],(e=t.g.getPositionInSequence())===(n=t.g.getSequenceLength())&&nf(t,"breakEnd"),t.g=null,t.F=null,t.L=null}}function ef(t){var e=!1;t.h.paused?e=!0:(nf(t,"impression"),nf(t,"start")),t.m.push({target:t.h,type:"volumechange",listener:function(){t.h.muted&&nf(t,"mute")}}),t.m.push({target:t.h,type:"volumechange",listener:function(){t.h.muted||nf(t,"unmute")}}),t.m.push({target:t.h,type:"play",listener:function(){e?(nf(t,"impression"),nf(t,"start"),e=!1):nf(t,"resume")}}),t.m.push({target:t.h,type:"pause",listener:function(){nf(t,"pause")}});for(var n=g(t.m),r=n.next();!r.done;r=n.next())r=r.value,t.u.o(r.target,r.type,r.listener)}function nf(t,e){var n=t.F.trackingEvents.find((function(t){return t.eventType==e}));if(n||(n=t.L.adBreakTrackingEvents.find((function(t){return t.eventType==e}))),n)for(var r={type:10},i=(n=g(n.beaconUrls)).next();!i.done;i=n.next())(i=i.value)&&""!=i&&((i=Qi([i],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",t.K.request(7,i,r));switch(e){case"impression":t.i(new z("ad-impression"));break;case"start":t.i(new z("ad-started",(new Map).set("ad",t.g)));break;case"mute":t.i(new z("ad-muted"));break;case"unmute":t.i(new z("ad-volume-changed"));break;case"resume":t.i(new z("ad-resumed"));break;case"pause":t.i(new z("ad-paused"));break;case"firstQuartile":t.i(new z("ad-first-quartile"));break;case"midpoint":t.i(new z("ad-midpoint"));break;case"thirdQuartile":t.i(new z("ad-third-quartile"));break;case"complete":t.i(new z("ad-complete")),t.i(new z("ad-stopped"));break;case"skip":t.i(new z("ad-skipped")),t.i(new z("ad-stopped"));break;case"breakStart":t.D.setAttribute("ad-active","true");break;case"breakEnd":t.D.removeAttribute("ad-active");break;case"skipStateChanged":t.i(new z("ad-skip-state-changed"))}}function rf(t,e){this.g=t,this.i=null,this.h=e}function af(t,e,n,r){var i=this;this.A=t,this.l=e,this.j=null,this.G=NaN,this.i=r,this.H=!1,this.C=this.m=this.u=null,this.D="",this.F=[],this.h=new Me,(t=new google.ima.dai.api.UiSettings).setLocale(n),this.g=new google.ima.dai.api.StreamManager(this.l,this.A,t),this.i(new z("ima-stream-manager-loaded",(new Map).set("imaStreamManager",this.g))),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.LOADED,(function(t){!function(t,e){t.i(new z("ads-loaded",(new Map).set("loadTime",Date.now()/1e3-t.G))),e=e.getStreamData().url,t.j.resolve(e),t.j=null,t.H||t.h.o(t.l,"seeked",(function(){var e=t.l.currentTime;if(0!=e){t.g.streamTimeForContentTime(e);var n=t.g.previousCuePointForStreamTime(e);n&&!n.played&&(t.u=e,t.l.currentTime=n.start)}}))}(i,t)})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.ERROR,(function(){i.D.length?i.j.resolve(i.D):i.j.reject("IMA Stream request returned an error and there was no backup asset uri provided."),i.j=null})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_STARTED,(function(){})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.STARTED,(function(t){t=t.getAd(),i.m=new rf(t,i.l),i.C&&(i.m.i=i.C),i.i(new z("ad-started",(new Map).set("ad",i.m))),i.A.setAttribute("ad-active","true")})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_BREAK_ENDED,(function(){i.A.removeAttribute("ad-active");var t=i.l.currentTime;i.u&&i.u>t&&(i.l.currentTime=i.u,i.u=null)})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.AD_PROGRESS,(function(t){i.C=t.getStreamData().adProgressData,i.m&&(i.m.i=i.C)})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.FIRST_QUARTILE,(function(){i.i(new z("ad-first-quartile"))})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.MIDPOINT,(function(){i.i(new z("ad-midpoint"))})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.THIRD_QUARTILE,(function(){i.i(new z("ad-third-quartile"))})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.COMPLETE,(function(){i.i(new z("ad-complete")),i.i(new z("ad-stopped")),i.A.removeAttribute("ad-active"),i.m=null})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.SKIPPED,(function(){i.i(new z("ad-skipped")),i.i(new z("ad-stopped"))})),this.h.o(this.g,google.ima.dai.api.StreamEvent.Type.CUEPOINTS_CHANGED,(function(t){var e=t.getStreamData();t=[];for(var n=(e=g(e.cuepoints)).next();!n.done;n=e.next())n=n.value,t.push({start:n.start,end:n.end});i.F=t,i.i(new z("ad-cue-points-changed",(new Map).set("cuepoints",t)))}))}function of(){tt.call(this),this.h=this.i=this.j=this.g=null,this.m=new bh,this.u=navigator.language,this.l=null}function sf(t,e){if(e&&e.type)switch(e.type){case"ads-loaded":t.m.g.push(e.loadTime);break;case"ad-started":t.m.h++;var n=e.ad;n&&!n.isLinear()&&t.m.j++;break;case"ad-complete":t.m.l++;break;case"ad-skipped":t.m.m++;break;case"ad-error":t.m.i++}t.dispatchEvent(e)}function uf(t){return JSON.stringify(t,(function(t,e){if("function"!=typeof e){if(e instanceof Event||e instanceof z){var n={};for(r in e)(t=e[r])&&"object"==typeof t?"detail"==r&&(n[r]=t):r in Event||(n[r]=t);return n}if(e instanceof Error){var r=new Set(["name","message","stack"]);for(n in e)r.add(n);for(t=(n=g(Object.getOwnPropertyNames(e))).next();!t.done;t=n.next())r.add(t.value);for(n={},t=(r=g(r)).next();!t.done;t=r.next())n[t=t.value]=e[t];e={__type__:"Error",contents:n}}else if(e instanceof TimeRanges){for(r={__type__:"TimeRanges",length:e.length,start:[],end:[]},n=(e=g(as(e))).next();!n.done;n=e.next())t=(n=n.value).end,r.start.push(n.start),r.end.push(t);e=r}else e=ArrayBuffer.isView(e)&&1===e.BYTES_PER_ELEMENT?{__type__:"Uint8Array",entries:Array.from(e)}:"number"==typeof e?isNaN(e)?"NaN":isFinite(e)?e:e<0?"-Infinity":"Infinity":e;return e}}))}function lf(t){return JSON.parse(t,(function(t,e){if("NaN"==e)var n=NaN;else if("-Infinity"==e)n=-1/0;else if("Infinity"==e)n=1/0;else if(e&&"object"==typeof e&&"TimeRanges"==e.__type__)n=function(t){return{length:t.length,start:function(e){return t.start[e]},end:function(e){return t.end[e]}}}(e);else if(e&&"object"==typeof e&&"Uint8Array"==e.__type__)n=new Uint8Array(e.entries);else if(e&&"object"==typeof e&&"Error"==e.__type__){for(n in t=e.contents,e=Error(t.message),t)e[n]=t[n];n=e}else n=e;return n}))}(i=Ch.prototype).needsSkipUI=function(){return!1},i.isClientRendering=function(){return!0},i.hasCustomClick=function(){return!0},i.isUsingAnotherMediaElement=function(){return!0},i.getDuration=function(){return this.g.getDuration()},i.getMinSuggestedDuration=function(){return this.g.getMinSuggestedDuration()},i.getRemainingTime=function(){return this.h.getRemainingTime()},i.isPaused=function(){return this.i},i.isSkippable=function(){return this.g.getSkipTimeOffset()>=0},i.getTimeUntilSkippable=function(){var t=this.g.getSkipTimeOffset();return t=this.getRemainingTime()-t,Math.max(t,0)},i.canSkipNow=function(){return this.h.getAdSkippableState()},i.skip=function(){return this.h.skip()},i.pause=function(){return this.h.pause()},i.play=function(){return this.h.resume()},i.getVolume=function(){return this.h.getVolume()},i.setVolume=function(t){return this.m.volume=t,this.h.setVolume(t)},i.isMuted=function(){return 0==this.h.getVolume()},i.isLinear=function(){return this.g.isLinear()},i.resize=function(t,e){this.h.resize(t,e)},i.setMuted=function(t){(this.m.muted=t)?(this.j=this.getVolume(),this.h.setVolume(0)):this.h.setVolume(this.j)},i.getSequenceLength=function(){var t=this.g.getAdPodInfo();return null==t?1:t.getTotalAds()},i.getPositionInSequence=function(){var t=this.g.getAdPodInfo();return null==t?1:t.getAdPosition()},i.getTitle=function(){return this.g.getTitle()},i.getDescription=function(){return this.g.getDescription()},i.getVastMediaBitrate=function(){return this.g.getVastMediaBitrate()},i.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},i.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},i.getVastAdId=function(){return""},i.getAdId=function(){return this.g.getAdId()},i.getCreativeAdId=function(){return this.g.getCreativeAdId()},i.getAdvertiserName=function(){return this.g.getAdvertiserName()},i.getMediaUrl=function(){return this.g.getMediaUrl()},i.getTimeOffset=function(){var t=this.g.getAdPodInfo();return null==t?0:t.getTimeOffset()},i.getPodIndex=function(){var t=this.g.getAdPodInfo();return null==t?0:t.getPodIndex()},i.release=function(){this.h=this.g=null},G("shaka.ads.ClientSideAd",Ch),Ch.prototype.release=Ch.prototype.release,Ch.prototype.getPodIndex=Ch.prototype.getPodIndex,Ch.prototype.getTimeOffset=Ch.prototype.getTimeOffset,Ch.prototype.getMediaUrl=Ch.prototype.getMediaUrl,Ch.prototype.getAdvertiserName=Ch.prototype.getAdvertiserName,Ch.prototype.getCreativeAdId=Ch.prototype.getCreativeAdId,Ch.prototype.getAdId=Ch.prototype.getAdId,Ch.prototype.getVastAdId=Ch.prototype.getVastAdId,Ch.prototype.getVastMediaWidth=Ch.prototype.getVastMediaWidth,Ch.prototype.getVastMediaHeight=Ch.prototype.getVastMediaHeight,Ch.prototype.getVastMediaBitrate=Ch.prototype.getVastMediaBitrate,Ch.prototype.getDescription=Ch.prototype.getDescription,Ch.prototype.getTitle=Ch.prototype.getTitle,Ch.prototype.getPositionInSequence=Ch.prototype.getPositionInSequence,Ch.prototype.getSequenceLength=Ch.prototype.getSequenceLength,Ch.prototype.setMuted=Ch.prototype.setMuted,Ch.prototype.resize=Ch.prototype.resize,Ch.prototype.isLinear=Ch.prototype.isLinear,Ch.prototype.isMuted=Ch.prototype.isMuted,Ch.prototype.setVolume=Ch.prototype.setVolume,Ch.prototype.getVolume=Ch.prototype.getVolume,Ch.prototype.play=Ch.prototype.play,Ch.prototype.pause=Ch.prototype.pause,Ch.prototype.skip=Ch.prototype.skip,Ch.prototype.canSkipNow=Ch.prototype.canSkipNow,Ch.prototype.getTimeUntilSkippable=Ch.prototype.getTimeUntilSkippable,Ch.prototype.isSkippable=Ch.prototype.isSkippable,Ch.prototype.isPaused=Ch.prototype.isPaused,Ch.prototype.getRemainingTime=Ch.prototype.getRemainingTime,Ch.prototype.getMinSuggestedDuration=Ch.prototype.getMinSuggestedDuration,Ch.prototype.getDuration=Ch.prototype.getDuration,Ch.prototype.isUsingAnotherMediaElement=Ch.prototype.isUsingAnotherMediaElement,Ch.prototype.hasCustomClick=Ch.prototype.hasCustomClick,Ch.prototype.isClientRendering=Ch.prototype.isClientRendering,Ch.prototype.needsSkipUI=Ch.prototype.needsSkipUI,G("shaka.ads.Utils",xh),xh.ADS_LOADED="ads-loaded",xh.AD_STARTED="ad-started",xh.AD_FIRST_QUARTILE="ad-first-quartile",xh.AD_MIDPOINT="ad-midpoint",xh.AD_THIRD_QUARTILE="ad-third-quartile",xh.AD_COMPLETE="ad-complete",xh.AD_STOPPED="ad-stopped",xh.AD_SKIPPED="ad-skipped",xh.AD_VOLUME_CHANGED="ad-volume-changed",xh.AD_MUTED="ad-muted",xh.AD_PAUSED="ad-paused",xh.AD_RESUMED="ad-resumed",xh.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",xh.CUEPOINTS_CHANGED="ad-cue-points-changed",xh.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",xh.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",xh.AD_CLICKED="ad-clicked",xh.AD_PROGRESS="ad-progress",xh.AD_BUFFERING="ad-buffering",xh.AD_IMPRESSION="ad-impression",xh.AD_DURATION_CHANGED="ad-duration-changed",xh.AD_CLOSED="ad-closed",xh.AD_LOADED="ad-loaded",xh.ALL_ADS_COMPLETED="all-ads-completed",xh.AD_LINEAR_CHANGED="ad-linear-changed",xh.AD_METADATA="ad-metadata",xh.AD_RECOVERABLE_ERROR="ad-recoverable-error",xh.AD_ERROR="ad-error",xh.AD_BREAK_READY="ad-break-ready",xh.AD_INTERACTION="ad-interaction",xh.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",xh.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",xh.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",Eh.prototype.configure=function(t){this.u=t},Eh.prototype.stop=function(){this.g&&this.g.stop(),this.A&&ps(this.A)},Eh.prototype.release=function(){this.stop(),this.C&&this.C.disconnect(),this.h&&this.h.release(),this.g&&this.g.destroy(),this.m.destroy(),this.F.destroy()},(i=Rh.prototype).needsSkipUI=function(){return!0},i.isClientRendering=function(){return!0},i.hasCustomClick=function(){return null!=this.h.clickThroughUrl},i.isUsingAnotherMediaElement=function(){return this.A},i.getDuration=function(){var t=this.g.duration;return isNaN(t)?-1:t},i.getMinSuggestedDuration=function(){return this.getDuration()},i.getRemainingTime=function(){var t=this.g.duration;return isNaN(t)?-1:t-this.g.currentTime},i.isPaused=function(){return this.g.paused},i.isSkippable=function(){return this.i&&null!=this.l?this.getDuration()-this.getRemainingTime()<this.j+this.l:this.i},i.getTimeUntilSkippable=function(){if(this.isSkippable()){var t=this.getRemainingTime()+this.j-this.getDuration();return Math.max(t,0)}return Math.max(this.getRemainingTime(),0)},i.canSkipNow=function(){return this.i&&0==this.getTimeUntilSkippable()},i.skip=function(){this.canSkipNow()&&this.C()},i.pause=function(){return this.g.pause()},i.play=function(){return this.g.play()},i.getVolume=function(){return this.g.volume},i.setVolume=function(t){this.g.volume=t},i.isMuted=function(){return this.g.muted},i.isLinear=function(){return null==this.D},i.resize=function(){},i.setMuted=function(t){this.g.muted=t},i.getSequenceLength=function(){return this.u},i.getPositionInSequence=function(){return this.m},i.getTitle=function(){return""},i.getDescription=function(){return""},i.getVastMediaBitrate=function(){return 0},i.getVastMediaHeight=function(){return 0},i.getVastMediaWidth=function(){return 0},i.getVastAdId=function(){return""},i.getAdId=function(){return this.h.id||""},i.getCreativeAdId=function(){return""},i.getAdvertiserName=function(){return""},i.getMediaUrl=function(){return this.h.uri},i.getTimeOffset=function(){return 0},i.getPodIndex=function(){return 0},i.release=function(){this.g=null},G("shaka.ads.InterstitialAd",Rh),Rh.prototype.release=Rh.prototype.release,Rh.prototype.getPodIndex=Rh.prototype.getPodIndex,Rh.prototype.getTimeOffset=Rh.prototype.getTimeOffset,Rh.prototype.getMediaUrl=Rh.prototype.getMediaUrl,Rh.prototype.getAdvertiserName=Rh.prototype.getAdvertiserName,Rh.prototype.getCreativeAdId=Rh.prototype.getCreativeAdId,Rh.prototype.getAdId=Rh.prototype.getAdId,Rh.prototype.getVastAdId=Rh.prototype.getVastAdId,Rh.prototype.getVastMediaWidth=Rh.prototype.getVastMediaWidth,Rh.prototype.getVastMediaHeight=Rh.prototype.getVastMediaHeight,Rh.prototype.getVastMediaBitrate=Rh.prototype.getVastMediaBitrate,Rh.prototype.getDescription=Rh.prototype.getDescription,Rh.prototype.getTitle=Rh.prototype.getTitle,Rh.prototype.getPositionInSequence=Rh.prototype.getPositionInSequence,Rh.prototype.getSequenceLength=Rh.prototype.getSequenceLength,Rh.prototype.setMuted=Rh.prototype.setMuted,Rh.prototype.resize=Rh.prototype.resize,Rh.prototype.isLinear=Rh.prototype.isLinear,Rh.prototype.isMuted=Rh.prototype.isMuted,Rh.prototype.setVolume=Rh.prototype.setVolume,Rh.prototype.getVolume=Rh.prototype.getVolume,Rh.prototype.play=Rh.prototype.play,Rh.prototype.pause=Rh.prototype.pause,Rh.prototype.skip=Rh.prototype.skip,Rh.prototype.canSkipNow=Rh.prototype.canSkipNow,Rh.prototype.getTimeUntilSkippable=Rh.prototype.getTimeUntilSkippable,Rh.prototype.isSkippable=Rh.prototype.isSkippable,Rh.prototype.isPaused=Rh.prototype.isPaused,Rh.prototype.getRemainingTime=Rh.prototype.getRemainingTime,Rh.prototype.getMinSuggestedDuration=Rh.prototype.getMinSuggestedDuration,Rh.prototype.getDuration=Rh.prototype.getDuration,Rh.prototype.isUsingAnotherMediaElement=Rh.prototype.isUsingAnotherMediaElement,Rh.prototype.hasCustomClick=Rh.prototype.hasCustomClick,Rh.prototype.isClientRendering=Rh.prototype.isClientRendering,Rh.prototype.needsSkipUI=Rh.prototype.needsSkipUI,(i=Lh.prototype).needsSkipUI=function(){return!0},i.isClientRendering=function(){return!0},i.hasCustomClick=function(){return null!=this.g.clickThroughUrl},i.isUsingAnotherMediaElement=function(){return!1},i.getDuration=function(){return-1},i.getMinSuggestedDuration=function(){return this.getDuration()},i.getRemainingTime=function(){return-1},i.isPaused=function(){return!1},i.isSkippable=function(){return!1},i.getTimeUntilSkippable=function(){return 0},i.canSkipNow=function(){return!1},i.skip=function(){},i.pause=function(){},i.play=function(){},i.getVolume=function(){return 1},i.setVolume=function(){},i.isMuted=function(){return!1},i.isLinear=function(){return this.i},i.resize=function(){},i.setMuted=function(){},i.getSequenceLength=function(){return this.j},i.getPositionInSequence=function(){return this.h},i.getTitle=function(){return""},i.getDescription=function(){return""},i.getVastMediaBitrate=function(){return 0},i.getVastMediaHeight=function(){return 0},i.getVastMediaWidth=function(){return 0},i.getVastAdId=function(){return""},i.getAdId=function(){return this.g.id||""},i.getCreativeAdId=function(){return""},i.getAdvertiserName=function(){return""},i.getMediaUrl=function(){return this.g.uri},i.getTimeOffset=function(){return 0},i.getPodIndex=function(){return 0},i.release=function(){},G("shaka.ads.InterstitialStaticAd",Lh),Lh.prototype.release=Lh.prototype.release,Lh.prototype.getPodIndex=Lh.prototype.getPodIndex,Lh.prototype.getTimeOffset=Lh.prototype.getTimeOffset,Lh.prototype.getMediaUrl=Lh.prototype.getMediaUrl,Lh.prototype.getAdvertiserName=Lh.prototype.getAdvertiserName,Lh.prototype.getCreativeAdId=Lh.prototype.getCreativeAdId,Lh.prototype.getAdId=Lh.prototype.getAdId,Lh.prototype.getVastAdId=Lh.prototype.getVastAdId,Lh.prototype.getVastMediaWidth=Lh.prototype.getVastMediaWidth,Lh.prototype.getVastMediaHeight=Lh.prototype.getVastMediaHeight,Lh.prototype.getVastMediaBitrate=Lh.prototype.getVastMediaBitrate,Lh.prototype.getDescription=Lh.prototype.getDescription,Lh.prototype.getTitle=Lh.prototype.getTitle,Lh.prototype.getPositionInSequence=Lh.prototype.getPositionInSequence,Lh.prototype.getSequenceLength=Lh.prototype.getSequenceLength,Lh.prototype.setMuted=Lh.prototype.setMuted,Lh.prototype.resize=Lh.prototype.resize,Lh.prototype.isLinear=Lh.prototype.isLinear,Lh.prototype.isMuted=Lh.prototype.isMuted,Lh.prototype.setVolume=Lh.prototype.setVolume,Lh.prototype.getVolume=Lh.prototype.getVolume,Lh.prototype.play=Lh.prototype.play,Lh.prototype.pause=Lh.prototype.pause,Lh.prototype.skip=Lh.prototype.skip,Lh.prototype.canSkipNow=Lh.prototype.canSkipNow,Lh.prototype.getTimeUntilSkippable=Lh.prototype.getTimeUntilSkippable,Lh.prototype.isSkippable=Lh.prototype.isSkippable,Lh.prototype.isPaused=Lh.prototype.isPaused,Lh.prototype.getRemainingTime=Lh.prototype.getRemainingTime,Lh.prototype.getMinSuggestedDuration=Lh.prototype.getMinSuggestedDuration,Lh.prototype.getDuration=Lh.prototype.getDuration,Lh.prototype.isUsingAnotherMediaElement=Lh.prototype.isUsingAnotherMediaElement,Lh.prototype.hasCustomClick=Lh.prototype.hasCustomClick,Lh.prototype.isClientRendering=Lh.prototype.isClientRendering,Lh.prototype.needsSkipUI=Lh.prototype.needsSkipUI,(i=Oh.prototype).configure=function(t){this.M=t,Dh(this)},i.stop=function(){if(this.l&&this.l.Sa(),this.S.clear(),this.I.clear(),this.j.Ug(),this.G.size)for(var t=Array.from(this.G.values()),e=(t=g(t)).next();!e.done;e=t.next())(e=e.value)&&e.then((function(t){t&&t.destroy()}));if(this.G.clear(),this.L.size)for(e=(t=g(t=Array.from(this.L.keys()))).next();!e.done;e=t.next())Wh(this,e.value);this.L.clear(),this.j.detach(),this.K=!1,this.D=this.m=null,this.C=!0,this.h=this.g,this.H=null,qh(this),Ph(this),this.u&&ps(this.u),this.A&&(this.A.stop(),this.A=null)},i.release=function(){this.stop(),this.J&&this.J.release(),this.l&&this.l.release(),this.R&&(this.R.stop(),this.R=null),this.O&&(this.O.stop(),this.O=null),this.j.destroy()},i.Wb=function(){return this.j},i.addAdUrlInterstitial=function(t){var e,n,r,i,a,o,s,u,l,c=this;return P((function(d){if(1==d.g)return w(d,Gh(c,t,e={type:12}),2);if(3!=d.g){if(n=d.h,!(r=fn(n,"VAST,vmap:VMAP")))throw new It(2,10,10007);if(i=[],"VAST"==r.tagName)return i=Th(r,c.m),d.B(3);if("vmap:VMAP"!=r.tagName)return d.B(3);for(a=function(t){var n,r;return P((function(a){if(1==a.g)return w(a,Gh(c,t.uri,e),2);if(n=a.h,!(r=fn(n,"VAST")))throw new It(2,10,10007);i.push.apply(i,m(Th(r,t.time))),C(a)}))},o=[],s=g(function(t){for(var e=[],n=(t=g(An(t,"vmap:AdBreak"))).next();!n.done;n=t.next()){var r=n.value,i=r.attributes.timeOffset;i&&(n=null,n="start"==i?null:"end"==i?1/0:un(i),(r=xn(r,"vmap:AdSource"))&&(r=xn(r,"vmap:AdTagURI"))&&(r=bn(r))&&e.push({time:n,uri:r}))}return e}(r)),u=s.next();!u.done;u=s.next())l=u.value,o.push(a(l));return o.length?w(d,Promise.all(o),3):d.B(3)}Nh(c,i),C(d)}))},(i=$h.prototype).needsSkipUI=function(){return!0},i.isClientRendering=function(){return!1},i.hasCustomClick=function(){return!1},i.isUsingAnotherMediaElement=function(){return!1},i.getDuration=function(){return this.h.durationInSeconds},i.getMinSuggestedDuration=function(){return this.getDuration()},i.getRemainingTime=function(){return this.h.startTimeInSeconds+this.h.durationInSeconds-this.g.currentTime},i.isPaused=function(){return this.g.paused},i.isSkippable=function(){return"number"==typeof this.j},i.getTimeUntilSkippable=function(){if("number"!=typeof this.j)return this.getRemainingTime();var t=this.getRemainingTime()+this.j-this.getDuration();return Math.max(t,0)},i.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},i.skip=function(){this.m=!0,this.g.currentTime+=this.getRemainingTime()},i.pause=function(){return this.g.pause()},i.play=function(){return this.g.play()},i.getVolume=function(){return this.g.volume},i.setVolume=function(t){this.g.volume=t},i.isMuted=function(){return this.g.muted},i.isLinear=function(){return this.u},i.resize=function(){},i.setMuted=function(t){this.g.muted=t},i.getSequenceLength=function(){return this.l?this.l:1},i.getPositionInSequence=function(){return this.i?this.i:1},i.getTitle=function(){return this.h.adTitle},i.getDescription=function(){return""},i.getVastMediaBitrate=function(){return 0},i.getVastMediaHeight=function(){return 0},i.getVastMediaWidth=function(){return 0},i.getVastAdId=function(){return this.h.vastAdId||""},i.getAdId=function(){return this.h.adId},i.getCreativeAdId=function(){return this.h.creativeId},i.getAdvertiserName=function(){return""},i.getMediaUrl=function(){return null},i.getTimeOffset=function(){return 0},i.getPodIndex=function(){return 0},i.release=function(){this.l=this.i=this.g=this.h=null},G("shaka.ads.MediaTailorAd",$h),$h.prototype.release=$h.prototype.release,$h.prototype.getPodIndex=$h.prototype.getPodIndex,$h.prototype.getTimeOffset=$h.prototype.getTimeOffset,$h.prototype.getMediaUrl=$h.prototype.getMediaUrl,$h.prototype.getAdvertiserName=$h.prototype.getAdvertiserName,$h.prototype.getCreativeAdId=$h.prototype.getCreativeAdId,$h.prototype.getAdId=$h.prototype.getAdId,$h.prototype.getVastAdId=$h.prototype.getVastAdId,$h.prototype.getVastMediaWidth=$h.prototype.getVastMediaWidth,$h.prototype.getVastMediaHeight=$h.prototype.getVastMediaHeight,$h.prototype.getVastMediaBitrate=$h.prototype.getVastMediaBitrate,$h.prototype.getDescription=$h.prototype.getDescription,$h.prototype.getTitle=$h.prototype.getTitle,$h.prototype.getPositionInSequence=$h.prototype.getPositionInSequence,$h.prototype.getSequenceLength=$h.prototype.getSequenceLength,$h.prototype.setMuted=$h.prototype.setMuted,$h.prototype.resize=$h.prototype.resize,$h.prototype.isLinear=$h.prototype.isLinear,$h.prototype.isMuted=$h.prototype.isMuted,$h.prototype.setVolume=$h.prototype.setVolume,$h.prototype.getVolume=$h.prototype.getVolume,$h.prototype.play=$h.prototype.play,$h.prototype.pause=$h.prototype.pause,$h.prototype.skip=$h.prototype.skip,$h.prototype.canSkipNow=$h.prototype.canSkipNow,$h.prototype.getTimeUntilSkippable=$h.prototype.getTimeUntilSkippable,$h.prototype.isSkippable=$h.prototype.isSkippable,$h.prototype.isPaused=$h.prototype.isPaused,$h.prototype.getRemainingTime=$h.prototype.getRemainingTime,$h.prototype.getMinSuggestedDuration=$h.prototype.getMinSuggestedDuration,$h.prototype.getDuration=$h.prototype.getDuration,$h.prototype.isUsingAnotherMediaElement=$h.prototype.isUsingAnotherMediaElement,$h.prototype.hasCustomClick=$h.prototype.hasCustomClick,$h.prototype.isClientRendering=$h.prototype.isClientRendering,$h.prototype.needsSkipUI=$h.prototype.needsSkipUI,Xh.prototype.stop=function(){for(var t=g(this.m),e=t.next();!e.done;e=t.next())e=e.value,this.u.Fa(e.target,e.type,e.listener);tf(this),this.m=[],this.A=[],this.H="",this.O=!0,this.I="",this.C=null,this.j=[],this.M=[],this.G.clear()},Xh.prototype.release=function(){this.stop(),this.u&&this.u.release()},Xh.prototype.onManifestUpdated=function(t){this.J=t,""!=this.H&&(function(t,e,n){var r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A;P((function(b){if(1==b.g)return r={type:8},i=Qi([e],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4}),a=t.K.request(7,i,r),x(b,2),w(b,a.promise,4);if(2!=b.g){if(o=b.h,s=[],u=Nt(o.data),(l=JSON.parse(u)).avails.length>0){if(JSON.stringify(t.j)!=JSON.stringify(l.avails)){for(t.j=l.avails,c=g(t.j),d=c.next();!d.done;d=c.next())for(p=d.value,h=g(p.nonLinearAdsList),f=h.next();!f.done;f=h.next())for(m=f.value,v=g(m.nonLinearAdList),y=v.next();!y.done;y=v.next())A=y.value,Yh(t,A);s=t.getCuePoints(),t.i(new z("ad-cue-points-changed",(new Map).set("cuepoints",s)))}}else t.j.length&&t.i(new z("ad-cue-points-changed",(new Map).set("cuepoints",s))),tf(t),t.j=[];return n&&(t.J||s.length>0)&&function(t){Qh(t),t.J||(Zh(t),t.u.o(t.h,"seeked",(function(){Zh(t)})),t.u.o(t.h,"ended",(function(){tf(t)}))),t.u.o(t.h,"timeupdate",(function(){Qh(t)}))}(t),S(b,0)}E(b),C(b)}))}(this,this.H,this.O),this.O=!1)},Xh.prototype.getCuePoints=function(){for(var t=[],e=g(this.j),n=e.next();!n.done;n=e.next())for(var r=(n=g(n.value.ads)).next();!r.done;r=n.next())r=r.value,t.push({start:r.startTimeInSeconds,end:r.startTimeInSeconds+r.durationInSeconds});return t},(i=rf.prototype).needsSkipUI=function(){return!0},i.isClientRendering=function(){return!1},i.hasCustomClick=function(){return!0},i.isUsingAnotherMediaElement=function(){return!1},i.getDuration=function(){return this.i?this.i.duration:-1},i.getMinSuggestedDuration=function(){return this.getDuration()},i.getRemainingTime=function(){return this.i?this.i.duration-this.i.currentTime:-1},i.isPaused=function(){return this.h.paused},i.isSkippable=function(){return this.g.isSkippable()},i.getTimeUntilSkippable=function(){var t=this.g.getSkipTimeOffset();return t=this.getRemainingTime()-t,Math.max(t,0)},i.canSkipNow=function(){return 0==this.getTimeUntilSkippable()},i.skip=function(){this.h.currentTime+=this.getRemainingTime()},i.pause=function(){return this.h.pause()},i.play=function(){return this.h.play()},i.getVolume=function(){return this.h.volume},i.setVolume=function(t){this.h.volume=t},i.isMuted=function(){return this.h.muted},i.isLinear=function(){return!0},i.resize=function(){},i.setMuted=function(t){this.h.muted=t},i.getSequenceLength=function(){var t=this.g.getAdPodInfo();return null==t?1:t.getTotalAds()},i.getPositionInSequence=function(){var t=this.g.getAdPodInfo();return null==t?1:t.getAdPosition()},i.getTitle=function(){return this.g.getTitle()},i.getDescription=function(){return this.g.getDescription()},i.getVastMediaBitrate=function(){return 0},i.getVastMediaHeight=function(){return this.g.getVastMediaHeight()},i.getVastMediaWidth=function(){return this.g.getVastMediaWidth()},i.getVastAdId=function(){return""},i.getAdId=function(){return this.g.getAdId()},i.getCreativeAdId=function(){return this.g.getCreativeAdId()},i.getAdvertiserName=function(){return this.g.getAdvertiserName()},i.getMediaUrl=function(){return null},i.getTimeOffset=function(){var t=this.g.getAdPodInfo();return null==t?0:t.getTimeOffset()},i.getPodIndex=function(){var t=this.g.getAdPodInfo();return null==t?0:t.getPodIndex()},i.release=function(){this.h=this.i=this.g=null},G("shaka.ads.ServerSideAd",rf),rf.prototype.release=rf.prototype.release,rf.prototype.getPodIndex=rf.prototype.getPodIndex,rf.prototype.getTimeOffset=rf.prototype.getTimeOffset,rf.prototype.getMediaUrl=rf.prototype.getMediaUrl,rf.prototype.getAdvertiserName=rf.prototype.getAdvertiserName,rf.prototype.getCreativeAdId=rf.prototype.getCreativeAdId,rf.prototype.getAdId=rf.prototype.getAdId,rf.prototype.getVastAdId=rf.prototype.getVastAdId,rf.prototype.getVastMediaWidth=rf.prototype.getVastMediaWidth,rf.prototype.getVastMediaHeight=rf.prototype.getVastMediaHeight,rf.prototype.getVastMediaBitrate=rf.prototype.getVastMediaBitrate,rf.prototype.getDescription=rf.prototype.getDescription,rf.prototype.getTitle=rf.prototype.getTitle,rf.prototype.getPositionInSequence=rf.prototype.getPositionInSequence,rf.prototype.getSequenceLength=rf.prototype.getSequenceLength,rf.prototype.setMuted=rf.prototype.setMuted,rf.prototype.resize=rf.prototype.resize,rf.prototype.isLinear=rf.prototype.isLinear,rf.prototype.isMuted=rf.prototype.isMuted,rf.prototype.setVolume=rf.prototype.setVolume,rf.prototype.getVolume=rf.prototype.getVolume,rf.prototype.play=rf.prototype.play,rf.prototype.pause=rf.prototype.pause,rf.prototype.skip=rf.prototype.skip,rf.prototype.canSkipNow=rf.prototype.canSkipNow,rf.prototype.getTimeUntilSkippable=rf.prototype.getTimeUntilSkippable,rf.prototype.isSkippable=rf.prototype.isSkippable,rf.prototype.isPaused=rf.prototype.isPaused,rf.prototype.getRemainingTime=rf.prototype.getRemainingTime,rf.prototype.getMinSuggestedDuration=rf.prototype.getMinSuggestedDuration,rf.prototype.getDuration=rf.prototype.getDuration,rf.prototype.isUsingAnotherMediaElement=rf.prototype.isUsingAnotherMediaElement,rf.prototype.hasCustomClick=rf.prototype.hasCustomClick,rf.prototype.isClientRendering=rf.prototype.isClientRendering,rf.prototype.needsSkipUI=rf.prototype.needsSkipUI,(i=af.prototype).configure=function(){},i.stop=function(){this.D="",this.u=null,this.F=[]},i.release=function(){this.stop(),this.h&&this.h.release()},i.onCueMetadataChange=function(t){if(t.key&&t.data){var e={};e[t.key]=t.data,this.g.onTimedMetadata(e)}},i.getCuePoints=function(){return this.F},h(of,tt),(i=of.prototype).setLocale=function(t){this.u=t},i.configure=function(t){this.l=t,this.g&&this.g.configure(this.l),this.j&&this.j.configure(this.l),this.h&&this.h.configure(this.l)},i.initInterstitial=function(t,e,n){var r=this;this.g&&this.g.release(),this.g=new Oh(t,e,n,(function(t){return sf(r,t)})),this.g.configure(this.l)},i.initClientSide=function(e,n,r){var i=this;if(!t.google||!google.ima||!google.ima.AdsLoader)throw new It(2,10,1e4);this.j&&this.j.release(),this.j=new Eh(e,n,this.u,r,(function(t){return sf(i,t)})),this.j.configure(this.l)},i.release=function(){this.g&&(this.g.release(),this.g=null),this.j&&(this.j.release(),this.j=null),this.i&&(this.i.release(),this.i=null),this.h&&(this.h.release(),this.h=null),tt.prototype.release.call(this)},i.onAssetUnload=function(){this.g&&this.g.stop(),this.j&&this.j.stop(),this.i&&this.i.stop(),this.h&&this.h.stop(),this.dispatchEvent(new z("ad-stopped")),this.dispatchEvent(new z("ad-content-attach-requested")),this.m=new bh},i.requestClientSideAds=function(t){if(!this.j)throw new It(1,10,10001);var e=this.j;e.g&&e.g.destroy(),e.m&&e.m.contentComplete(),e.H=Date.now()/1e3,e.m.requestAds(t)},i.updateClientSideAdsRenderingSettings=function(t){if(!this.j)throw new It(1,10,10001);var e=this.j;e.D=t,e.g&&e.g.updateAdsRenderingSettings(e.D)},i.initMediaTailor=function(t,e,n){var r=this;this.i&&this.i.release(),this.i=new Xh(t,e,n,(function(t){return sf(r,t)}))},i.requestMediaTailorStream=function(t,e,n){if(!this.i)throw new It(1,10,10005);var r=this.i;return n=void 0===n?"":n,r.l?t=Promise.reject(new It(1,10,10004)):(r.l=new Fi,function(t,e,n){var r,i,a,o,s,u,l,c,d,p,h,f;P((function(g){if(1==g.g)return r={type:7},(i=Qi([e],{maxAttempts:2,baseDelay:1e3,backoffFactor:2,fuzzFactor:.5,timeout:3e4,stallTimeout:5e3,connectionTimeout:1e4})).method="POST",n&&(a=JSON.stringify(n),i.body=jt(a)),o=t.K.request(7,i,r),x(g,2),w(g,o.promise,4);if(2!=g.g){if(s=g.h,u=Nt(s.data),!(l=JSON.parse(u)).manifestUrl||!l.trackingUrl)throw Error("Insufficient data from MediaTailor.");return c=new at(e),d=new at(l.trackingUrl),t.H=c.resolve(d).toString(),p=Date.now()/1e3,h=p-t.P,t.i(new z("ads-loaded",(new Map).set("loadTime",h))),f=new at(l.manifestUrl),t.l.resolve(c.resolve(f).toString()),t.l=null,S(g,0)}if(E(g),!t.I.length)return t.l.reject("MediaTailor request returned an error and there was no backup asset uri provided."),t.l=null,g.return();t.l.resolve(t.I),t.l=null,C(g)}))}(r,t,e),r.I=n||"",r.P=Date.now()/1e3,t=r.l),t},i.addMediaTailorTrackingUrl=function(t){if(!this.i)throw new It(1,10,10005);var e=this.i;e.H=t,e.i(new z("ads-loaded",(new Map).set("loadTime",0)))},i.initServerSide=function(e,n){var r=this;if(!t.google||!google.ima||!google.ima.dai)throw new It(2,10,10002);this.h&&this.h.release(),this.h=new af(e,n,this.u,(function(t){return sf(r,t)})),this.h.configure(this.l)},i.requestServerSideStream=function(t,e){if(e=void 0===e?"":e,!this.h)throw new It(1,10,10003);t.adTagParameters||(t.adTagParameters={});var n=t.adTagParameters;return(n.mpt||n.mpv)&&X('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),t.adTagParameters.mpt="shaka-player",t.adTagParameters.mpv="v4.16.2",(n=this.h).j?t=Promise.reject(new It(1,10,10004)):(t instanceof google.ima.dai.api.LiveStreamRequest&&(n.H=!0),n.j=new Fi,n.g.requestStream(t),n.D=e||"",n.G=Date.now()/1e3,t=n.j),t},i.replaceServerSideAdTagParameters=function(t){if(!this.h)throw new It(1,10,10003);(t.mpt||t.mpv)&&X('You have attempted to set "mpt" and/or "mpv" parameters of the ad tag. Please note that those parameters are used for Shaka adoption tracking and will be overridden.'),t.mpt="Shaka Player",t.mpv="v4.16.2",this.h.g.replaceAdTagParameters(t)},i.getServerSideCuePoints=function(){return Pe("AdManager.getServerSideCuePoints","Please use getCuePoints function."),this.getCuePoints()},i.getCuePoints=function(){var t=[];return this.h&&(t=t.concat(this.h.getCuePoints())),this.i&&(t=t.concat(this.i.getCuePoints())),t},i.getStats=function(){var t=this.m;return{loadTimes:t.g,averageLoadTime:wh(t),started:t.h,overlayAds:t.j,playedCompletely:t.l,skipped:t.m,errors:t.i}},i.onManifestUpdated=function(t){this.i&&this.i.onManifestUpdated(t)},i.onDashTimedMetadata=function(t){this.h&&"urn:google:dai:2018"==t.schemeIdUri&&this.h.g.processMetadata(t.schemeIdUri,t.eventNode?t.eventNode.attributes.messageData:null,t.startTime)},i.onHlsTimedMetadata=function(t,e){this.h&&this.h.g.processMetadata("ID3",t.data,e)},i.onCueMetadataChange=function(t){this.h&&this.h.onCueMetadataChange(t)},i.onHLSInterstitialMetadata=function(t,e,n){this.l&&this.l.disableHLSInterstitial||(this.g||this.initInterstitial(null,t,e),this.g&&_h(this.g,n))},i.onDASHInterstitialMetadata=function(t,e,n){if(!this.l||!this.l.disableDASHInterstitial){var r=n.schemeIdUri;if("urn:mpeg:dash:event:alternativeMPD:insert:2025"==r||"urn:mpeg:dash:event:alternativeMPD:replace:2025"==r){if(this.g||this.initInterstitial(null,t,e),this.g&&(t=this.g,e="urn:mpeg:dash:event:alternativeMPD:replace:2025"==n.schemeIdUri,r="urn:mpeg:dash:event:alternativeMPD:insert:2025"==n.schemeIdUri,e||r)){for(var i,a=n.startTime,o=n.endTime,s=null,u=0,l=g(n.eventNode.children),c=l.next();!c.done;c=l.next())if("AlternativeMPD"==(c=c.value).tagName){if(c=c.attributes.uri){i=c;break}}else if("InsertPresentation"==c.tagName||"ReplacePresentation"==c.tagName){var d=c.attributes.url;if(d){i=Vt(d),(l=Sn(c,"maxDuration",On))&&(s=l/n.timescale),(l=Sn(c,"returnOffset",On))&&(u=l/n.timescale),e&&u&&(o=a+u);break}}i&&Nh(t,[{id:n.id,groupId:null,startTime:a,endTime:o,uri:i,mimeType:null,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:r?u:null,playoutLimit:s,once:!1,pre:!1,post:!1,timelineRange:e&&!r,loop:!1,overlay:null,displayOnBackground:!1,currentVideo:null,background:null,clickThroughUrl:null}])}}else("urn:mpeg:dash:event:2012"==r||"urn:scte:dash:scte214-events"==r)&&n.eventNode&&xn(n.eventNode,"OverlayEvent")&&(this.g||this.initInterstitial(null,t,e),this.g&&function(t,e){var n=xn(e.eventNode,"OverlayEvent"),r=n.attributes.uri,i=n.attributes.mimeType,a="true"==n.attributes.loop,o=Sn(n,"z",On);if(r&&0!=o){var s=null,u=xn(n,"Background");if(u){var l=u.attributes.uri;s=l?"center / contain no-repeat url('"+l+"')":wn(u)}u=1920,l=1080;var c=xn(n,"Viewport");if(c){if(null==(u=Sn(c,"x",On)))return;if(null==(l=Sn(c,"y",On)))return}var d={viewport:{x:u,y:l},topLeft:{x:0,y:0},size:{x:u,y:l}},p=xn(n,"Overlay");if(c&&p){var h=xn(p,"TopLeft"),f=xn(p,"Size");if(h&&f){if(null==(p=Sn(h,"x",On)))return;if(null==(h=Sn(h,"y",On)))return;var g=Sn(f,"x",On);if(null==g)return;if(null==(f=Sn(f,"y",On)))return;d.topLeft.x=p,d.topLeft.y=h,d.size.x=g,d.size.y=f}}if(p=null,n=xn(n,"Squeeze"),c&&n&&(f=xn(n,"TopLeft"),n=xn(n,"Size"),f&&n)){if(null==(c=Sn(f,"x",On)))return;if(null==(p=Sn(f,"y",On)))return;if(null==(f=Sn(n,"x",On)))return;if(null==(n=Sn(n,"y",On)))return;p={viewport:{x:u,y:l},topLeft:{x:c,y:p},size:{x:f,y:n}}}Nh(t,[{id:e.id,groupId:null,startTime:e.startTime,endTime:e.endTime,uri:r,mimeType:i,isSkippable:!1,skipOffset:null,skipFor:null,canJump:!0,resumeOffset:null,playoutLimit:null,once:!1,pre:!1,post:!1,timelineRange:!0,loop:a,overlay:d,displayOnBackground:-1==o,currentVideo:p,background:s,clickThroughUrl:null}])}}(this.g,n))}},i.addCustomInterstitial=function(t){if(!this.g)throw new It(1,10,10006);Nh(this.g,[t])},i.addAdUrlInterstitial=function(t){if(!this.g)throw new It(1,10,10006);return this.g.addAdUrlInterstitial(t)},i.getInterstitialPlayer=function(){if(!this.g)throw new It(1,10,10006);return this.g.Wb()},G("shaka.ads.AdManager",of),of.prototype.getInterstitialPlayer=of.prototype.getInterstitialPlayer,of.prototype.addAdUrlInterstitial=of.prototype.addAdUrlInterstitial,of.prototype.addCustomInterstitial=of.prototype.addCustomInterstitial,of.prototype.onDASHInterstitialMetadata=of.prototype.onDASHInterstitialMetadata,of.prototype.onHLSInterstitialMetadata=of.prototype.onHLSInterstitialMetadata,of.prototype.onCueMetadataChange=of.prototype.onCueMetadataChange,of.prototype.onHlsTimedMetadata=of.prototype.onHlsTimedMetadata,of.prototype.onDashTimedMetadata=of.prototype.onDashTimedMetadata,of.prototype.onManifestUpdated=of.prototype.onManifestUpdated,of.prototype.getStats=of.prototype.getStats,of.prototype.getCuePoints=of.prototype.getCuePoints,of.prototype.getServerSideCuePoints=of.prototype.getServerSideCuePoints,of.prototype.replaceServerSideAdTagParameters=of.prototype.replaceServerSideAdTagParameters,of.prototype.requestServerSideStream=of.prototype.requestServerSideStream,of.prototype.initServerSide=of.prototype.initServerSide,of.prototype.addMediaTailorTrackingUrl=of.prototype.addMediaTailorTrackingUrl,of.prototype.requestMediaTailorStream=of.prototype.requestMediaTailorStream,of.prototype.initMediaTailor=of.prototype.initMediaTailor,of.prototype.updateClientSideAdsRenderingSettings=of.prototype.updateClientSideAdsRenderingSettings,of.prototype.requestClientSideAds=of.prototype.requestClientSideAds,of.prototype.onAssetUnload=of.prototype.onAssetUnload,of.prototype.release=of.prototype.release,of.prototype.initClientSide=of.prototype.initClientSide,of.prototype.initInterstitial=of.prototype.initInterstitial,of.prototype.configure=of.prototype.configure,of.prototype.setLocale=of.prototype.setLocale,of.ADS_LOADED="ads-loaded",of.AD_STARTED="ad-started",of.AD_FIRST_QUARTILE="ad-first-quartile",of.AD_MIDPOINT="ad-midpoint",of.AD_THIRD_QUARTILE="ad-third-quartile",of.AD_COMPLETE="ad-complete",of.AD_STOPPED="ad-stopped",of.AD_SKIPPED="ad-skipped",of.AD_VOLUME_CHANGED="ad-volume-changed",of.AD_MUTED="ad-muted",of.AD_PAUSED="ad-paused",of.AD_RESUMED="ad-resumed",of.AD_SKIP_STATE_CHANGED="ad-skip-state-changed",of.CUEPOINTS_CHANGED="ad-cue-points-changed",of.IMA_AD_MANAGER_LOADED="ima-ad-manager-loaded",of.IMA_STREAM_MANAGER_LOADED="ima-stream-manager-loaded",of.AD_CLICKED="ad-clicked",of.AD_PROGRESS="ad-progress",of.AD_BUFFERING="ad-buffering",of.AD_IMPRESSION="ad-impression",of.AD_DURATION_CHANGED="ad-duration-changed",of.AD_CLOSED="ad-closed",of.AD_LOADED="ad-loaded",of.ALL_ADS_COMPLETED="all-ads-completed",of.AD_LINEAR_CHANGED="ad-linear-changed",of.AD_METADATA="ad-metadata",of.AD_RECOVERABLE_ERROR="ad-recoverable-error",of.AD_ERROR="ad-error",of.AD_BREAK_READY="ad-break-ready",of.AD_INTERACTION="ad-interaction",of.AD_CONTENT_PAUSE_REQUESTED="ad-content-pause-requested",of.AD_CONTENT_RESUME_REQUESTED="ad-content-resume-requested",of.AD_CONTENT_ATTACH_REQUESTED="ad-content-attach-requested",yh=function(){return new of};var cf="ended play playing pause pausing ratechange seeked seeking timeupdate volumechange".split(" "),df="buffered currentTime duration ended loop muted paused playbackRate seeking videoHeight videoWidth volume".split(" "),pf=["loop","playbackRate"],hf=["pause","play"],ff=(new Map).set("getAssetUri",2).set("getAudioLanguages",4).set("getAudioLanguagesAndRoles",4).set("getBufferFullness",1).set("getBufferedInfo",2).set("getExpiration",2).set("getKeyStatuses",2).set("getPlaybackRate",2).set("getTextLanguages",4).set("getTextLanguagesAndRoles",4).set("isAudioOnly",10).set("isBuffering",1).set("isInProgress",1).set("isLive",10).set("isTextTrackVisible",1).set("isVideoOnly",10).set("keySystem",10).set("seekRange",1).set("getLoadMode",10).set("getManifestType",10).set("isFullyLoaded",1).set("isEnded",1).set("getBandwidthEstimate",1),gf=(new Map).set("getConfiguration",4).set("getConfigurationForLowLatency",4).set("getStats",5).set("getAudioTracks",2).set("getChaptersTracks",2).set("getImageTracks",2).set("getVideoTracks",2).set("getTextTracks",2).set("getVariantTracks",2),mf=(new Map).set("getPlayheadTimeAsDate",1).set("getPresentationStartTimeAsDate",20).set("getSegmentAvailabilityDuration",20),vf=[["getConfiguration","configure","getConfigurationForLowLatency","configurationForLowLatency"]],yf=[["isTextTrackVisible","setTextTrackVisibility"]],Af="cancelTrickPlay configure configurationForLowLatency getChapters resetConfiguration retryStreaming selectAudioLanguage selectAudioTrack selectTextLanguage selectTextTrack selectVariantTrack selectVariantsByLabel selectVideoTrack setTextTrackVisibility trickPlay updateStartTime goToLive useTrickPlayTrackIfAvailable".split(" "),bf="addChaptersTrack addTextTrackAsync addThumbnailsTrack getAllThumbnails getChaptersAsync getThumbnails attach attachCanvas detach load unload".split(" ");function wf(t,e,n,r,i,a,o){var s=this;this.H=t,this.K=o,this.l=new Wr(e),this.L=n,this.A=!1,this.C=r,this.G=i,this.M=a,this.i=this.m=!1,this.J="",this.u=null,this.D=function(){return Sf(s)},this.F=function(t,e){switch((t=lf(e)).type){case"event":var n=t.targetName,r=H(t.event);s.C(n,r);break;case"update":for(r in n=t.update)for(var i in t=s.g[r]||{},n[r])t[i]=n[r][i];s.A&&(s.L(),s.A=!1);break;case"asyncComplete":if(i=t.id,r=t.error,e=t.res,t=s.h.get(i),s.h.delete(i),t)if(r){for(n in i=new It(r.severity,r.category,r.code),r)i[n]=r[n];t.reject(i)}else t.resolve(e)}},this.g={video:{},player:{}},this.I=0,this.h=new Map,this.j=null,Of.add(this)}function Cf(t,e){var n=t.M();Rf=e,e.addUpdateListener(t.D),e.addMessageListener("urn:x-cast:com.google.shaka.v2",t.F),Sf(t),kf(t,{type:"init",initState:n,appData:t.u}),t.j.resolve()}function xf(t,e){var n=8003;switch(e.code){case"cancel":n=8004;break;case"timeout":n=8005;break;case"receiver_unavailable":n=8006}t.j.reject(new It(2,8,n,e))}function Tf(t){var e=Rf;e.removeUpdateListener(t.D),e.removeMessageListener("urn:x-cast:com.google.shaka.v2",t.F)}function Sf(t){var e=!!Rf&&"connected"==Rf.status;if(t.i&&!e){for(var n in t.G(),t.g)t.g[n]={};Ef(t)}t.i=e,t.J=e?Rf.receiver.friendlyName:"",t.l.Ka()}function Ef(t){if(t.h)for(var e=g(t.h.keys()),n=e.next();!n.done;n=e.next()){n=n.value;var r=t.h.get(n);t.h.delete(n),r.reject(new It(1,7,7e3))}}function kf(t,e){e=uf(e);var n=Rf;try{n.sendMessage("urn:x-cast:com.google.shaka.v2",e,(function(){}),J)}catch(r){throw e=new It(2,8,8005,r),n=new z("error",(new Map).set("detail",e)),t.C("player",n),t.Hd(),e}}(i=wf.prototype).destroy=function(){return Of.delete(this),Ef(this),Rf&&Tf(this),this.l&&(this.l.stop(),this.l=null),this.G=this.C=null,this.i=this.m=!1,this.F=this.D=this.j=this.h=this.g=this.u=null,Promise.resolve()},i.Qa=function(){return this.i},i.Yf=function(){return this.J},i.init=function(){if(this.H.length)if(t.chrome&&chrome.cast&&chrome.cast.isAvailable){this.m=!0,this.l.Ka();var e=new chrome.cast.SessionRequest(this.H,[],null,this.K,null);e=new chrome.cast.ApiConfig(e,(function(t){for(var e=g(Of),n=e.next();!n.done;n=e.next()){var r=t;(n=n.value).j=new Fi,n.A=!0,Cf(n,r)}}),(function(t){for(var e=g(Of),n=e.next();!n.done;n=e.next())n=n.value,Mf="available"==t,n.l.Ka()}),"origin_scoped"),chrome.cast.initialize(e,(function(){}),(function(){})),Mf&&this.l.Y(If),(e=Rf)&&e.status!=chrome.cast.SessionStatus.STOPPED?(this.j=new Fi,this.A=!0,Cf(this,e)):Rf=null}else t.__onGCastApiAvailable!==Pf&&(Lf=t.__onGCastApiAvailable||null,t.__onGCastApiAvailable=Pf)},i.ai=function(t){this.u=t,this.i&&kf(this,{type:"appData",appData:this.u})},i.cast=function(){var t=this;return P((function(e){if(!t.m)throw new It(1,8,8e3);if(!Mf)throw new It(1,8,8001);if(t.i)throw new It(1,8,8002);return t.j=new Fi,chrome.cast.requestSession((function(e){return Cf(t,e)}),(function(e){return xf(t,e)})),w(e,t.j,0)}))},i.Hd=function(){if(this.i){if(Ef(this),Rf){Tf(this);try{Rf.stop((function(){}),(function(){}))}catch(t){}Rf=null}Sf(this)}},i.get=function(t,e){var n=this;if("video"==t){if(hf.includes(e))return function(){return n.yj.apply(n,[t,e].concat(m(D.apply(0,arguments))))}}else if("player"==t){if(mf.has(e)&&!this.get("player","isLive")())return function(){};if(Af.includes(e))return function(){return n.yj.apply(n,[t,e].concat(m(D.apply(0,arguments))))};if(bf.includes(e))return function(){return n.fm.apply(n,[t,e].concat(m(D.apply(0,arguments))))};if(ff.has(e)||gf.has(e))return function(){return n.g[t][e]}}return this.g[t][e]},i.set=function(t,e,n){this.g[t][e]=n,kf(this,{type:"set",targetName:t,property:e,value:n})},i.yj=function(t,e){kf(this,{type:"call",targetName:t,methodName:e,args:D.apply(2,arguments)})},i.fm=function(t,e){var n=D.apply(2,arguments),r=new Fi,i=this.I.toString();this.I++,this.h.set(i,r);try{kf(this,{type:"asyncCall",targetName:t,methodName:e,args:n,id:i})}catch(t){r.reject(t)}return r};var If=.02,Mf=!1,Rf=null,Lf=null,Of=new Set;function Pf(e){if(Lf?t.__onGCastApiAvailable=Lf:delete t.__onGCastApiAvailable,Lf=null,e)for(var n=g(Of),r=n.next();!r.done;r=n.next())r.value.init();"function"==typeof t.__onGCastApiAvailable&&t.__onGCastApiAvailable(e)}function Df(e,n,r,i){i=void 0!==i&&i,tt.call(this);var a=this;this.i=e,this.h=n,this.l=this.u=this.m=this.A=this.j=null,this.I=r,this.H=i,this.F=[],this.D=[],this.C=[],this.G=new Map,this.g=null,t.chrome?(this.g=new wf(r,(function(){return Uf(a)}),(function(){return Bf(a)}),(function(t,e){return Vf(a,t,e)}),(function(){return jf(a)}),(function(){return Nf(a)}),i),function(t){t.g.init(),t.l=new Me;for(var e=g(cf),n=e.next();!n.done;n=e.next())t.l.o(t.i,n.value,(function(e){t.g.Qa()||(e=H(e),t.m.dispatchEvent(e))}));for(var r in K)t.l.o(t.h,K[r],(function(e){t.g.Qa()||t.u.dispatchEvent(e)}));for(var i in t.j={},e={},t.i)(e={xe:e.xe}).xe=i,Object.defineProperty(t.j,e.xe,{configurable:!1,enumerable:!0,get:function(e){return function(){return qf(t,e.xe)}}(e),set:function(e){return function(n){var r=e.xe;t.g.Qa()?t.g.set("video",r,n):t.i[r]=n}}(e)});t.A={},_f(t,(function(e){Object.defineProperty(t.A,e,{configurable:!1,enumerable:!0,get:function(){return Ff(t,e)}})})),function(t){var e=new Map;_f(t,(function(n,r){e.has(r)?(r=e.get(r),n.length<r.length?t.G.set(n,r):t.G.set(r,n)):e.set(r,n)}))}(t),t.m=new tt,t.m.Ye=t.j,t.u=new tt,t.u.Ye=t.A,t.l.o(t.h,"unloading",(function(){t.g&&t.g.Qa()||Gf(t)}))}(this)):(this.j=this.i,this.A=this.h)}function _f(t,e){function n(t){return"constructor"!=t&&"function"==typeof i[t]&&!a.has(t)}var r,i=t.h,a=new Set;for(r in i)n(r)&&(a.add(r),e(r,i[r]));for(t=Object.getPrototypeOf(i),r=Object.getPrototypeOf({});t&&t!=r;){for(var o=g(Object.getOwnPropertyNames(t)),s=o.next();!s.done;s=o.next())n(s=s.value)&&(a.add(s),e(s,i[s]));t=Object.getPrototypeOf(t)}}function Nf(t){var e={video:{},player:{},playerAfterLoad:{},manifest:t.h.hd(),startTime:null,addThumbnailsTrackCalls:t.F,addTextTrackAsyncCalls:t.D,addChaptersTrackCalls:t.C};t.i.pause();for(var n=g(pf),r=n.next();!r.done;r=n.next())r=r.value,e.video[r]=t.i[r];for(t.i.ended||(e.startTime=t.i.currentTime),r=(n=g(vf)).next();!r.done;r=n.next()){var i=r.value;r=i[1],i=t.h[i[0]](),e.player[r]=i}for(r=(n=g(yf)).next();!r.done;r=n.next())r=(i=r.value)[1],i=t.h[i[0]](),e.playerAfterLoad[r]=i;return e}function Uf(t){var e=new z("caststatuschanged");t.dispatchEvent(e)}function Bf(t){var e=new z(t.j.paused?"pause":"play");t.m.dispatchEvent(e)}function jf(t){for(var e=g(vf),n=e.next();!n.done;n=e.next()){var r=n.value;n=r[1],r=t.g.get("player",r[0])(),t.h[n](r)}var i=t.F,a=t.D,o=t.C;Gf(t);var s=t.g.get("player","getAssetUri")();r=t.g.get("video","ended"),e=Promise.resolve();var u,l=t.i.autoplay;n=null,r||(n=t.g.get("video","currentTime")),(r=t.g.get("player","getTextTracks")())&&r.length&&(u=r.find((function(t){return t.active})));var c=t.g.get("player","isTextTrackVisible")();s&&(t.i.autoplay=!1,e=t.h.load(s,n));var d={};for(r=(n=g(pf)).next();!r.done;r=n.next())r=r.value,d[r]=t.g.get("video",r);e.then((function(){if(t.i){for(var e=g(i),n=e.next();!n.done;n=e.next()){var r;n=n.value,(r=t.Wb()).gf.apply(r,m(n))}for(r=(e=g(a)).next();!r.done;r=e.next()){var p;r=r.value,(p=t.Wb()).ge.apply(p,m(r))}for(e=(p=g(o)).next();!e.done;e=p.next()){var h;e=e.value,(h=t.Wb()).ef.apply(h,m(e))}for(p=(h=g(pf)).next();!p.done;p=h.next())p=p.value,t.i[p]=d[p];for(p=(h=g(yf)).next();!p.done;p=h.next())p=(e=p.value)[1],e=t.g.get("player",e[0])(),t.h[p](e);t.h.Zd(c),u&&t.h.$h(u.language,u.roles,u.forced),t.i.autoplay=l,s&&t.i.play()}}),(function(e){e=new z("error",e=(new Map).set("detail",e)),t.h.dispatchEvent(e)}))}function qf(t,e){if("addEventListener"==e)return function(e,n,r){return t.m.addEventListener(e,n,r)};if("removeEventListener"==e)return function(e,n,r){return t.m.removeEventListener(e,n,r)};if(t.g.Qa()&&0==Object.keys(t.g.g.video).length){var n=t.i[e];if("function"!=typeof n)return n}return t.g.Qa()?t.g.get("video",e):("function"==typeof(e=t.i[e])&&(e=e.bind(t.i)),e)}function Ff(t,e,n){if(n=void 0!==n&&n,t.G.has(e)&&(e=t.G.get(e)),"addEventListener"==e)return function(e,n,r){return t.u.addEventListener(e,n,r)};if("removeEventListener"==e)return function(e,n,r){return t.u.removeEventListener(e,n,r)};if("getMediaElement"==e)return function(){return t.j};if("getSharedConfiguration"==e)return t.g.get("player","getConfiguration");if("getNetworkingEngine"==e)return function(){return t.h.Vb()};if("getDrmEngine"==e)return function(){return t.h.F};if("getAdManager"==e)return function(){return t.h.uf()};if("getQueueManager"==e)return function(){return t.h.wf()};if("setVideoContainer"==e)return function(e){return t.h.ii(e)};if(!n){if("addThumbnailsTrack"==e)return function(){var n=D.apply(0,arguments);return t.F.push(n),Ff(t,e,!0).apply(null,m(n))};if("addTextTrackAsync"==e)return function(){var n=D.apply(0,arguments);return t.D.push(n),Ff(t,e,!0).apply(null,m(n))};if("addChaptersTrack"==e)return function(){var n=D.apply(0,arguments);return t.C.push(n),Ff(t,e,!0).apply(null,m(n))}}if(t.g.Qa()){if("getManifest"==e||"drmInfo"==e)return function(){return X(e+"() does not work while casting!"),null};if("attach"==e||"detach"==e)return function(){return X(e+"() does not work while casting!"),Promise.resolve()};if("getChapters"==e)return function(){return X(e+"() does not work while casting!"),[]}}return t.g.Qa()&&0==Object.keys(t.g.g.video).length&&(ff.has(e)||gf.has(e))||!t.g.Qa()?t.h[e].bind(t.h):t.g.get("player",e)}function Vf(t,e,n){t.g.Qa()&&("video"==e?t.m.dispatchEvent(n):"player"==e&&("unloading"==n.type&&Gf(t),t.u.dispatchEvent(n)))}function Gf(t){t.F=[],t.D=[],t.C=[]}function zf(t,e,n,r){tt.call(this);var i=this;this.h=t,this.g=e,this.j=new Me,this.I={video:t,player:e},this.G=n||function(){},this.J=r||function(t){return t},this.i=null,this.H=!1,this.u=!0,this.m=0,this.D=!1,this.C=!0,this.A=this.l=null,this.F=new Wr((function(){$f(i)})),function(t){var e=cast.receiver.CastReceiverManager.getInstance();e.onSenderConnected=function(){return Hf(t)},e.onSenderDisconnected=function(){return Hf(t)},e.onSystemVolumeChanged=function(){var e=cast.receiver.CastReceiverManager.getInstance().getSystemVolume();e&&Zf(t,{type:"update",update:{video:{volume:e.level,muted:e.muted}}},t.l),Zf(t,{type:"event",targetName:"video",event:{type:"volumechange"}},t.l)},t.A=e.getCastMessageBus("urn:x-cast:com.google.cast.media"),t.A.onMessage=function(e){return function(t,e){var n=lf(e.data);switch(n.type){case"PLAY":t.h.play(),Qf(t);break;case"PAUSE":t.h.pause(),Qf(t);break;case"SEEK":e=n.currentTime;var r=n.resumeState;null!=e&&(t.h.currentTime=Number(e)),r&&"PLAYBACK_START"==r?(t.h.play(),Qf(t)):r&&"PLAYBACK_PAUSE"==r&&(t.h.pause(),Qf(t));break;case"STOP":t.g.tc().then((function(){t.g&&Qf(t)}));break;case"GET_STATUS":Yf(t,Number(n.requestId));break;case"VOLUME":e=(r=n.volume).level,r=r.muted;var i=t.h.volume,a=t.h.muted;null!=e&&(t.h.volume=Number(e)),null!=r&&(t.h.muted=r),i==t.h.volume&&a==t.h.muted||Qf(t);break;case"LOAD":t.m=0,t.D=!1,t.C=!1,e=n.media,r=n.currentTime,i=t.J(e.contentId),a=n.autoplay||!0,t.G(e.customData),a&&(t.h.autoplay=!0),t.g.load(i,r).then((function(){t.g&&Yf(t)})).catch((function(e){var r="LOAD_FAILED";7==e.category&&7e3==e.code&&(r="LOAD_CANCELLED"),Zf(t,{requestId:Number(n.requestId),type:r},t.A)}));break;default:Zf(t,{requestId:Number(n.requestId),type:"INVALID_REQUEST",reason:"INVALID_COMMAND"},t.A)}}(t,e)},t.l=e.getCastMessageBus("urn:x-cast:com.google.shaka.v2"),t.l.onMessage=function(e){return function(t,e){var n=lf(e.data);switch(n.type){case"init":t.m=0,t.D=!1,t.C=!0,function(t,e,n){var r,i,a,o,s,u,l,c,d,p,h,f,v,y,A,b,T,k,I;P((function(M){switch(M.g){case 1:for(r in e.player)i=e.player[r],t.g[r](i);return t.G(n),a=t.h.autoplay,e.manifest?(t.h.autoplay=!1,x(M,5),w(M,t.g.load(e.manifest,e.startTime),7)):w(M,Promise.resolve(),3);case 7:if(e.addThumbnailsTrackCalls)for(o=g(e.addThumbnailsTrackCalls),s=o.next();!s.done;s=o.next())u=s.value,t.g.gf.apply(t.g,m(u));if(e.addTextTrackAsyncCalls)for(l=g(e.addTextTrackAsyncCalls),c=l.next();!c.done;c=l.next())d=c.value,t.g.ge.apply(t.g,m(d));if(e.addChaptersTrackCalls)for(p=g(e.addChaptersTrackCalls),h=p.next();!h.done;h=p.next())f=h.value,t.g.ef.apply(t.g,m(f));S(M,3);break;case 5:return v=E(M),y=(new Map).set("detail",v),A=new z("error",y),t.g&&t.g.dispatchEvent(A),M.return();case 3:if(!t.g)return M.return();for(b in e.video)T=e.video[b],t.h[b]=T;for(k in e.playerAfterLoad)I=e.playerAfterLoad[k],t.g[k](I);t.h.autoplay=a,e.manifest&&(t.h.play(),Qf(t)),C(M)}}))}(t,n.initState,n.appData),$f(t);break;case"appData":t.G(n.appData);break;case"set":var r=n.targetName,i=n.property;if(n=n.value,"video"==r){if(e=cast.receiver.CastReceiverManager.getInstance(),"volume"==i){e.setSystemVolumeLevel(n);break}if("muted"==i){e.setSystemVolumeMuted(n);break}}t.I[r][i]=n;break;case"call":(r=t.I[n.targetName])[n.methodName].apply(r,n.args);break;case"asyncCall":r=n.targetName,i=n.methodName,"player"==r&&"load"==i&&(t.m=0,t.D=!1);var a=n.id,o=e.senderId;n=(e=t.I[r])[i].apply(e,n.args),"player"==r&&"load"==i&&(n=n.then((function(){t.C=!0}))),n.then((function(e){return Jf(t,o,a,null,e)}),(function(e){return Jf(t,o,a,e,null)}))}}(t,e)},e.start();for(var n=(e=g(cf)).next();!n.done;n=e.next())t.j.o(t.h,n.value,(function(e){return Wf(t,"video",e)}));for(var r in K)t.j.o(t.g,K[r],(function(e){return Wf(t,"player",e)}));t.j.o(t.h,"loadeddata",(function(){t.D=!0})),t.j.o(t.g,"loading",(function(){t.u=!1,Kf(t)})),t.j.o(t.h,"playing",(function(){t.u=!1,Kf(t)})),t.j.o(t.h,"pause",(function(){Kf(t)})),t.j.o(t.g,"unloading",(function(){t.u=!0,Kf(t)})),t.j.o(t.h,"ended",(function(){new Wr((function(){t.h&&t.h.ended&&(t.u=!0,Kf(t))})).Y(eg)}))}(this)}function Hf(t){t.m=0,t.C=!0,t.H=0!=cast.receiver.CastReceiverManager.getInstance().getSenders().length,Kf(t)}function Kf(t){var e;P((function(n){return 1==n.g?w(n,Promise.resolve(),2):t.g?(e=new z("caststatuschanged"),t.dispatchEvent(e),Xf(t)||Qf(t),void C(n)):n.return()}))}function Wf(t,e,n){t.g&&($f(t),Zf(t,{type:"event",targetName:e,event:n},t.l))}function $f(t){t.F.Y(tg);for(var e={video:{},player:{}},n=g(df),r=n.next();!r.done;r=n.next())r=r.value,e.video[r]=t.h[r];t.g.U()&&mf.forEach((function(n,r){t.m%n==0&&(e.player[r]=t.g[r]())})),ff.forEach((function(n,r){t.m%n==0&&(e.player[r]=t.g[r]())})),(n=cast.receiver.CastReceiverManager.getInstance().getSystemVolume())&&(e.video.volume=n.level,e.video.muted=n.muted),Zf(t,{type:"update",update:e},t.l),gf.forEach((function(e,n){t.m%e==0&&((e={player:{}}).player[n]=t.g[n](),Zf(t,{type:"update",update:e},t.l))})),t.D&&(t.m+=1),Xf(t)}function Xf(t){return!(!t.C||!t.h.duration&&!t.g.U())&&(Yf(t),t.C=!1,!0)}function Yf(t,e){var n={contentId:t.g.hd(),streamType:t.g.U()?"LIVE":"BUFFERED",contentType:""};t.g.U()||(n.duration=t.h.duration),t.i&&(n.metadata=t.i),Qf(t,void 0===e?0:e,n)}function Jf(t,e,n,r,i){t.g&&Zf(t,{type:"asyncComplete",id:n,error:r,res:i},t.l,e)}function Zf(t,e,n,r){t.H&&(t=uf(e),r?n.getCastChannel(r).send(t):n.broadcast(t))}function Qf(t,e,n){n=void 0===n?null:n;var r={mediaSessionId:0,playbackRate:t.h.playbackRate,playerState:t.u?ng:t.g.Df()?ig:t.h.paused?ag:rg,currentTime:t.h.currentTime,supportedMediaCommands:63,volume:{level:t.h.volume,muted:t.h.muted}};n&&(r.media=n),Zf(t,{requestId:void 0===e?0:e,type:"MEDIA_STATUS",status:[r]},t.A)}h(Df,tt),(i=Df.prototype).destroy=function(t){return this.g&&void 0!==t&&t&&this.g.Hd(),this.l&&(this.l.release(),this.l=null),t=[],this.h&&(t.push(this.h.destroy()),this.h=null),this.g&&(t.push(this.g.destroy()),this.g=null),this.A=this.j=this.i=null,tt.prototype.release.call(this),Promise.all(t)},i.Uc=function(){return this.j},i.Wb=function(){return this.A},i.Kg=function(){return!!this.g&&(this.g.m&&Mf)},i.Qa=function(){return!!this.g&&this.g.Qa()},i.Yf=function(){return this.g?this.g.Yf():""},i.cast=function(){var t=this;return P((function(e){return 1==e.g?t.g?w(e,t.g.cast(),2):e.return():t.h?w(e,t.h.tc(),0):e.return()}))},i.ai=function(t){this.g&&this.g.ai(t)},i.Vj=function(){var t;this.g&&((t=this.g).i&&chrome.cast.requestSession((function(e){return Cf(t,e)}),(function(e){return xf(t,e)})))},i.Hd=function(){this.g&&this.g.Hd()},i.Li=function(t,e){e=void 0!==e&&e;var n=this;return P((function(r){if(1==r.g)return t==n.I&&e==n.H?r.return():(n.I=t,n.H=e,n.g?(n.g.Hd(),w(r,n.g.destroy(),2)):r.return());n.g=null,n.g=new wf(t,(function(){return Uf(n)}),(function(){return Bf(n)}),(function(t,e){return Vf(n,t,e)}),(function(){return jf(n)}),(function(){return Nf(n)}),e),n.g.init(),C(r)}))},G("shaka.cast.CastProxy",Df),Df.prototype.changeReceiverId=Df.prototype.Li,Df.prototype.forceDisconnect=Df.prototype.Hd,Df.prototype.suggestDisconnect=Df.prototype.Vj,Df.prototype.setAppData=Df.prototype.ai,Df.prototype.cast=Df.prototype.cast,Df.prototype.receiverName=Df.prototype.Yf,Df.prototype.isCasting=Df.prototype.Qa,Df.prototype.canCast=Df.prototype.Kg,Df.prototype.getPlayer=Df.prototype.Wb,Df.prototype.getVideo=Df.prototype.Uc,Df.prototype.destroy=Df.prototype.destroy,h(zf,tt),(i=zf.prototype).isConnected=function(){return this.H},i.El=function(){return this.u},i.sm=function(t){this.i=t},i.rk=function(){this.i=null},i.tm=function(t){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.title=t},i.rm=function(t){this.i||(this.i={metadataType:cast.receiver.media.MetadataType.GENERIC}),this.i.images=[{url:t}]},i.qm=function(t){this.i||(this.i={}),this.i.artist=t,this.i.metadataType=cast.receiver.media.MetadataType.MUSIC_TRACK},i.destroy=function(){var t,e=this;return P((function(n){if(1==n.g)return e.j&&(e.j.release(),e.j=null),t=[],e.g&&(t.push(e.g.destroy()),e.g=null),e.F&&(e.F.stop(),e.F=null),e.h=null,e.I=null,e.G=null,e.H=!1,e.u=!0,e.l=null,e.A=null,tt.prototype.release.call(e),w(n,Promise.all(t),2);cast.receiver.CastReceiverManager.getInstance().stop(),C(n)}))},G("shaka.cast.CastReceiver",zf),zf.prototype.destroy=zf.prototype.destroy,zf.prototype.setContentArtist=zf.prototype.qm,zf.prototype.setContentImage=zf.prototype.rm,zf.prototype.setContentTitle=zf.prototype.tm,zf.prototype.clearContentMetadata=zf.prototype.rk,zf.prototype.setContentMetadata=zf.prototype.sm,zf.prototype.isIdle=zf.prototype.El,zf.prototype.isConnected=zf.prototype.isConnected;var tg=.5,eg=5,ng="IDLE",rg="PLAYING",ig="BUFFERING",ag="PAUSED";function og(t,e,n,r,i){if(r>=i)return null;for(var a=-1,o=-1,s=0;s<n.length;s++)if(n[s].some((function(t){return null!=t&&""!=t.g.trim()}))){a=s;break}for(s=n.length-1;s>=0;s--)if(n[s].some((function(t){return null!=t&&""!=t.g.trim()}))){o=s;break}if(-1===a||-1===o)return null;for(var u=s=!1,l="white",c="black",d=sg(r,i,s,u,l,c);a<=o;a++){for(var p=n[a],h=-1,f=-1,g=0;g<p.length;g++)if(null!=p[g]&&""!==p[g].g.trim()){h=g;break}for(g=p.length-1;g>=0;g--)if(null!=p[g]&&""!==p[g].g.trim()){f=g;break}if(-1===h||-1===f)p=ug(r,i),t.nestedCues.push(p);else{for(;h<=f;h++)if(g=p[h]){var m=g.l,v=g.i,y=g.j,A=g.h;m==s&&v==u&&y==l&&A==c||(d.payload&&t.nestedCues.push(d),d=sg(r,i,m,v,y,A),s=m,u=v,l=y,c=A),d.payload+=g.g}else d.payload+=" ";d.payload&&t.nestedCues.push(d),a!==o&&(d=ug(r,i),t.nestedCues.push(d)),d=sg(r,i,s,u,l,c)}}return t.nestedCues.length?{cue:t,stream:e}:null}function sg(t,e,n,r,i,a){return t=new Kn(t,e,""),n&&t.textDecoration.push(mr),r&&(t.fontStyle=fr),t.color=i,t.backgroundColor=a,t}function ug(t,e){return(t=new Kn(t,e,"")).lineBreak=!0,t}function lg(t,e,n,r,i){this.g=t,this.l=e,this.i=n,this.h=r,this.j=i}function cg(t,e){this.i=[],this.g=1,this.h=0,this.F=t,this.D=e,this.j=this.m=!1,this.l="white",this.u="black",this.A=this.C=null,pg(this)}function dg(t,e,n){var r="CC"+(1+(t.F<<1|t.D)),i=new Kn(e,n,"");i.lineInterpretation=1;var a=bg.get(t.g);return a&&(i.line=a),null!=t.A&&null!=t.C&&(i.position=10+Math.min(70,10*t.A)+2.5*t.C),(e=og(i,r,t.i,e,n))&&t.g+e.cue.nestedCues.length-3>15&&(a=bg.get(t.g+3-e.cue.nestedCues.length))&&(i.line=a),e}function pg(t){gg(t,0,15),t.g=1}function hg(t,e,n){if(!(n<32||n>127)){var r="";switch(e){case 0:r=mg.has(n)?mg.get(n):String.fromCharCode(n);break;case 1:r=vg.get(n);break;case 2:t.i[t.g].pop(),r=yg.get(n);break;case 3:t.i[t.g].pop(),r=Ag.get(n)}r&&t.i[t.g].push(new lg(r,t.m,t.j,t.u,t.l))}}function fg(t,e,n,r){if(!(n<0||e<0))if(e>=n)for(--r;r>=0;r--)t.i[e+r]=t.i[n+r].map((function(t){return t}));else for(var i=0;i<r;i++)t.i[e+i]=t.i[n+i].map((function(t){return t}))}function gg(t,e,n){for(var r=0;r<=n;r++)t.i[e+r]=[]}var mg=new Map([[39,"’"],[42,"á"],[92,"é"],[92,"é"],[94,"í"],[95,"ó"],[96,"ú"],[123,"ç"],[124,"÷"],[125,"Ñ"],[126,"ñ"],[127,"█"]]),vg=new Map([[48,"®"],[49,"°"],[50,"½"],[51,"¿"],[52,"™"],[53,"¢"],[54,"£"],[55,"♪"],[56,"à"],[57," "],[58,"è"],[59,"â"],[60,"ê"],[61,"î"],[62,"ô"],[63,"û"]]),yg=new Map([[32,"Á"],[33,"É"],[34,"Ó"],[35,"Ú"],[36,"Ü"],[37,"ü"],[38,"‘"],[39,"¡"],[40,"*"],[41,"'"],[42,"─"],[43,"©"],[44,"℠"],[45,"·"],[46,"“"],[47,"”"],[48,"À"],[49,"Â"],[50,"Ç"],[51,"È"],[52,"Ê"],[53,"Ë"],[54,"ë"],[55,"Î"],[56,"Ï"],[57,"ï"],[58,"Ô"],[59,"Ù"],[60,"ù"],[61,"Û"],[62,"«"],[63,"»"]]),Ag=new Map([[32,"Ã"],[33,"ã"],[34,"Í"],[35,"Ì"],[36,"ì"],[37,"Ò"],[38,"ò"],[39,"Õ"],[40,"õ"],[41,"{"],[42,"}"],[43,"\\"],[44,"^"],[45,"_"],[46,"|"],[47,"~"],[48,"Ä"],[49,"ä"],[50,"Ö"],[51,"ö"],[52,"ß"],[53,"¥"],[54,"¤"],[55,"│"],[56,"Å"],[57,"å"],[58,"Ø"],[59,"ø"],[60,"┌"],[61,"┐"],[62,"└"],[63,"┘"]]),bg=new Map([[1,10],[2,15.33],[3,20.66],[4,26],[5,31.33],[6,36.66],[7,42],[8,47.33],[9,52.66],[10,58],[11,63.33],[12,68.66],[13,74],[14,79.33],[15,84.66]]);function wg(t,e){this.h=0,this.u=new cg(t,e),this.i=new cg(t,e),this.g=this.j=new cg(t,e),this.l=0,this.m=null}function Cg(t,e,n){t.g=t.i;var r=t.g,i=null;return 3!==t.h&&4!==t.h&&(i=dg(r,t.l,n),(n=t.i).g=n.h>0?n.h:0,gg(n,0,15),(n=t.j).g=n.h>0?n.h:0,gg(n,0,15),r.g=15),t.h=3,r.h=e,i}function xg(t){t.h=1,t.g=t.j,t.g.h=0}function Tg(t){Y("Cea608DataChannel","CEA-608 text mode entered, but is unsupported"),t.g=t.u,t.h=4}var Sg="black green blue cyan red yellow magenta black".split(" "),Eg="white green blue cyan red yellow magenta white_italics".split(" ");function kg(t,e){this.J=e,this.M=t,this.K=this.l=!1,this.m=this.u=this.H=this.L=this.I=0,this.G=2,this.i=[],this.g=this.h=this.j=0,this.F=this.C=!1,this.D="white",this.A="black",Ig(this)}function Ig(t){t.i=[];for(var e=0;e<16;e++)t.i.push(Mg())}function Mg(){for(var t=[],e=0;e<42;e++)t.push(null);return t}function Rg(t,e){Lg(t)&&(t.i[t.h][t.g]=new lg(e,t.F,t.C,t.A,t.D),t.g++)}function Lg(t){var e=t.g<t.m&&t.g>=0;return t.h<t.u&&t.h>=0&&e}function Og(t,e,n){var r=new Kn(t.j,e,"");r.textAlign=0===t.G?"left":1===t.G?"right":tr;var i=r.region;switch(t.J&&(i.id+="svc"+t.J),i.id+="win"+t.M,i.height=t.u,i.width=t.m,i.heightUnits=2,i.widthUnits=2,i.viewportAnchorX=t.I,i.viewportAnchorY=t.L,i.viewportAnchorUnits=t.K?tn:2,t.H){case 0:i.regionAnchorX=0,i.regionAnchorY=0;break;case 1:i.regionAnchorX=50,i.regionAnchorY=0;break;case 2:i.regionAnchorX=100,i.regionAnchorY=0;break;case 3:i.regionAnchorX=0,i.regionAnchorY=50;break;case 4:i.regionAnchorX=50,i.regionAnchorY=50;break;case 5:i.regionAnchorX=100,i.regionAnchorY=50;break;case 6:i.regionAnchorX=0,i.regionAnchorY=100;break;case 7:i.regionAnchorX=50,i.regionAnchorY=100;break;case 8:i.regionAnchorX=100,i.regionAnchorY=100}return(n=og(r,"svc"+n,t.i,t.j,e))&&(t.j=e),n}function Pg(){this.i=[],this.h=null,this.g=0}function Dg(t,e){3===e.type?(t.g=2*(63&e.value)-1,t.h=[]):t.h&&(t.g>0&&(t.h.push(e),t.g--),0===t.g&&(t.i.push(new _g(t.h)),t.h=null,t.g=0))}function _g(t){this.g=0,this.h=t}function Ng(t){if(!t.Pa())throw new It(2,2,3e3);return t.h[t.g++]}function Ug(t){this.i=t,this.h=[null,null,null,null,null,null,null,null],this.g=null}function Bg(t,e,n,r){if(!t.g)return[];if(24==n)return n=Ng(e).value,r=Ng(e).value,n=[n,r].map((function(t){return("0"+(255&t).toString(16)).slice(-2)})).join(""),Rg(t.g,String.fromCharCode(parseInt(n,16))),[];e=t.g;var i=null;switch(n){case 8:!Lg(e)||e.g<=0&&e.h<=0||(e.g<=0?(e.g=e.m-1,e.h--):e.g--,e.i[e.h][e.g]=null);break;case 13:e.isVisible()&&(i=Og(e,r,t.i)),e.h+1>=e.u?function(t){for(var e=0,n=1;n<16;n++,e++)t.i[e]=t.i[n];for(n=0;n<1;n++,e++)t.i[e]=Mg()}(e):e.h++,e.g=0;break;case 14:e.isVisible()&&(i=Og(e,r,t.i)),e.i[e.h]=Mg(),e.g=0;break;case 12:e.isVisible()&&(i=Og(e,r,t.i)),Ig(e),e.h=0,e.g=0}return i?[i]:[]}function jg(t,e,n,r){if(n>=128&&n<=135)r=7&n,t.h[r]&&(t.g=t.h[r]);else{if(136===n){n=Ng(e).value,e=[];for(var i=(n=g(qg(t,n))).next();!i.done;i=n.next()){if((i=t.h[i.value]).isVisible()){var a=Og(i,r,t.i);a&&e.push(a)}Ig(i)}return e}if(137===n)for(n=(e=g(qg(t,e=Ng(e).value))).next();!n.done;n=e.next())(n=t.h[n.value]).isVisible()||(n.j=r),n.display();else{if(138===n){for(n=Ng(e).value,e=null,i=(n=g(qg(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()&&(e=Og(i,r,t.i)),i.l=!1;return e?[e]:[]}if(139===n){for(n=Ng(e).value,e=null,i=(n=g(qg(t,n))).next();!i.done;i=n.next())(i=t.h[i.value]).isVisible()?e=Og(i,r,t.i):i.j=r,i.l=!i.l;return e?[e]:[]}if(140===n)return Fg(t,e=Ng(e).value,r);if(143===n)return r=Fg(t,255,r),Vg(t),r;if(144===n)e.skip(1),r=Ng(e).value,t.g&&(t.g.C=(128&r)>0,t.g.F=(64&r)>0);else if(145===n)r=Ng(e).value,n=Ng(e).value,e.skip(1),t.g&&(e=Gg((48&n)>>4,(12&n)>>2,3&n),t.g.D=Gg((48&r)>>4,(12&r)>>2,3&r),t.g.A=e);else if(146===n)r=Ng(e).value,e=Ng(e).value,t.g&&((t=t.g).h=15&r,t.g=63&e);else if(151===n)e.skip(1),e.skip(1),r=Ng(e).value,e.skip(1),t.g&&(t.g.G=3&r);else if(n>=152&&n<=159){n=(15&n)-8,(i=null!==t.h[n])||((a=new kg(n,t.i)).j=r,t.h[n]=a),r=Ng(e).value,a=Ng(e).value;var o=Ng(e).value,s=Ng(e).value,u=Ng(e).value;e=Ng(e).value,i&&0==(7&e)||((e=t.h[n]).h=0,e.g=0,e.F=!1,e.C=!1,e.D="white",e.A="black"),(e=t.h[n]).l=(32&r)>0,e.L=127&a,e.I=o,e.H=(240&s)>>4,e.K=(128&a)>0,e.u=1+(15&s),e.m=1+(63&u),t.g=t.h[n]}}}return[]}function qg(t,e){for(var n=[],r=0;r<8;r++)1==(1&e)&&t.h[r]&&n.push(r),e>>=1;return n}function Fg(t,e,n){for(var r=[],i=(e=g(qg(t,e))).next();!i.done;i=e.next()){i=i.value;var a=t.h[i];a.isVisible()&&(a=Og(a,n,t.i))&&r.push(a),t.h[i]=null}return r}function Vg(t){t.g=null,t.h=[null,null,null,null,null,null,null,null]}function Gg(t,e,n){var r={0:0,1:0,2:1,3:1};return Hg[(t=r[t])<<2|(e=r[e])<<1|(n=r[n])]}kg.prototype.isVisible=function(){return this.l},kg.prototype.display=function(){this.l=!0},_g.prototype.Pa=function(){return this.g<this.h.length},_g.prototype.Wa=function(){return this.g},_g.prototype.skip=function(t){if(this.g+t>this.h.length)throw new It(2,2,3e3);this.g+=t},_g.prototype.Dj=function(t){if(this.g-t<0)throw new It(2,2,3e3);this.g-=t};var zg=new Map([[32," "],[33," "],[37,"…"],[42,"Š"],[44,"Œ"],[48,"█"],[49,"‘"],[50,"’"],[51,"“"],[52,"”"],[53,"•"],[57,"™"],[58,"š"],[60,"œ"],[61,"℠"],[63,"Ÿ"],[118,"⅛"],[119,"⅜"],[120,"⅝"],[121,"⅞"],[122,"│"],[123,"┐"],[124,"└"],[125,"─"],[126,"┘"],[127,"┌"]]),Hg="black blue green cyan red magenta yellow white".split(" ");function Kg(){this.h=[],this.g=[],this.i=new Pg,this.l=0,this.m=new Map([["CC1",new wg(0,0)],["CC2",new wg(0,1)],["CC3",new wg(1,0)],["CC4",new wg(1,1)]]),this.A=this.u=0,this.j=new Map,this.D=!0,this.C=new Set,Wg(this)}function Wg(t){t.u=0,t.A=0;for(var e=g(t.m.values()),n=e.next();!n.done;n=e.next())(n=n.value).h=0,n.g=n.j,n.m=null,pg(n.i),pg(n.j),pg(n.u);t.D=!0}function $g(t,e){var n=e.type;if(16==(112&e.Hb)){var r=e.Hb>>3&1;0===n?t.u=r:t.A=r}if(r="CC"+(1+(n<<1|(n?t.A:t.u))),n=t.m.get(r),255===e.Hb&&255===e.vc||!e.Hb&&!e.vc||!Yg(e.Hb)||!Yg(e.vc))return++t.l>=45&&Wg(t),null;t.l=0,e.Hb&=127,e.vc&=127;var i=e.Hb;if(i>=1&&i<=15||!e.Hb&&!e.vc)return null;if(i=null,16==(112&e.Hb))t:{if(t.C.add(r),r=e.Hb,t=e.vc,n.m===(r<<8|t))n.m=null;else if(n.m=r<<8|t,16==(240&r)&&64==(192&t)){e=[11,11,1,2,3,4,12,13,14,15,5,6,7,8,9,10][(7&r)<<1|t>>5&1],r="white",i=!1;var a=null,o=t>95?t-96:t-64;o<=13?r=Eg[Math.floor(o/2)]:o<=15?i=!0:a=Math.floor((o-16)/2),t=1==(1&t),4!==n.h&&(o=n.g,3===n.h&&e!==o.g&&(fg(o,n=1+e-o.h,1+o.g-o.h,o.h),gg(o,0,n-1),gg(o,e+1,15-e)),o.g=e,o.m=t,o.j=i,o.l=r,o.A=a,o.u="black")}else if(17==(247&r)&&32==(240&t))n.g.m=!1,n.g.j=!1,n.g.l="white",hg(n.g,0,32),r=!1,"white_italics"===(e=Eg[(14&t)>>1])&&(e="white",r=!0),n.g.m=1==(1&t),n.g.j=r,n.g.l=e;else if(16==(247&r)&&32==(240&t)||23==(247&r)&&45==(255&t))e="black",0==(7&r)&&(e=Sg[(14&t)>>1]),n.g.u=e;else if(17==(247&r)&&48==(240&t))hg(n.g,1,t);else if(18==(246&r)&&32==(224&t))hg(n.g,1&r?3:2,t);else{if(20==(246&r)&&32==(240&t)){switch(t=e.pts,r=null,e.vc){case 32:xg(n);break;case 33:(n=n.g).i[n.g].pop();break;case 37:r=Cg(n,2,t);break;case 38:r=Cg(n,3,t);break;case 39:r=Cg(n,4,t);break;case 40:hg(n.g,0,32);break;case 41:n.h=2,n.g=n.i,n.g.h=0,n.l=t;break;case 42:pg(n.u),Tg(n);break;case 43:Tg(n);break;case 44:e=n.i,r=null,4!==n.h&&(r=dg(e,n.l,t)),gg(e,0,15);break;case 45:e=n.g,3!==n.h?r=null:(r=dg(e,n.l,t),fg(e,(i=e.g-e.h+1)-1,i,e.h),gg(e,0,i-1),gg(e,e.g,15-e.g),n.l=t);break;case 46:gg(n.j,0,15);break;case 47:e=null,4!==n.h&&(e=dg(n.i,n.l,t)),r=n.j,n.j=n.i,n.i=r,xg(n),n.l=t,r=e}i=r;break t}(23==r||31==r)&&t>=33&&t<=35&&(n.g.C=t-32)}i=null}else t=e.vc,hg(n.g,0,e.Hb),hg(n.g,0,t);return i}function Xg(t,e){var n=[];try{for(;e.Pa();){var r=Ng(e).value,i=(224&r)>>5,a=31&r;if(7===i&&0!=a&&(i=63&Ng(e).value),0!=i){t.C.add("svc"+i),t.j.has(i)||t.j.set(i,new Ug(i));for(var o=t.j.get(i),s=e.Wa();e.Wa()-s<a;){i=o;var u=e,l=Ng(u),c=l.value,d=l.pts;if(16===c)c=c<<16|Ng(u).value;if(c>=0&&c<=31)var p=Bg(i,u,c,d);else if(c>=128&&c<=159)p=jg(i,u,c,d);else{if(c>=4096&&c<=4127)i=u,(u=255&c)>=8&&u<=15?i.skip(1):u>=16&&u<=23?i.skip(2):u>=24&&u<=31&&i.skip(3);else if(c>=4224&&c<=4255)i=u,(u=255&c)>=128&&u<=135?i.skip(4):u>=136&&u<=143&&i.skip(5);else if(c>=32&&c<=127)u=c,i.g&&Rg(i.g,127===u?"♪":String.fromCharCode(u));else if(c>=160&&c<=255)i.g&&Rg(i.g,String.fromCharCode(c));else if(c>=4128&&c<=4223){if(u=255&c,i.g)if(zg.has(u)){var h=zg.get(u);Rg(i.g,h)}else Rg(i.g,"_")}else c>=4256&&c<=4351&&i.g&&Rg(i.g,160!=(255&c)?"_":"[CC]");p=[]}n.push.apply(n,m(p))}}}}catch(t){if(!(t instanceof It&&3e3===t.code))throw t;Y("CEA708_INVALID_DATA","Buffer read out of bounds / invalid CEA-708 Data.")}return n}function Yg(t){for(var e=0;t;)e^=1&t,t>>=1;return 1===e}function Jg(t){for(var e=[],n=t,r=t=0;r<n.length;)2==t&&3==n[r]?(t=0,(n=[].concat(m(n))).splice(r,1),n=new Uint8Array(n)):0==n[r]?t++:t=0,r++;for(t=n,r=0;r<t.length;){for(n=0;255==t[r];)n+=255,r++;n+=t[r++];for(var i=0;255==t[r];)i+=255,r++;i+=t[r++],4==n&&e.push(t.subarray(r,r+i)),r+=i}return e}function Zg(){this.j=new Map,this.i=this.h=0,this.g=tm}function Qg(t,e,n,r,i,a,o,s,u){var l=0,c=a,d=s.map((function(t){return t.Yh}));for((d=[].concat.apply([],m(d))).length&&(c=d[0].sampleSize||a),e.skip(o+s[0].Tg);e.Pa();){o=e.$();var p=e.ba(),h=null;switch(h=!1,s=1,t.g){case em:h=6==(h=31&p);break;case nm:s=2,e.skip(1),h=39==(h=p>>1&63)||40==h;break;case rm:s=2,e.skip(1),h=23==(h=p>>1&63)||24==h;break;default:return}if(h)for(p=0,l<d.length&&(p=d[l].cg||0),p=(n+p)/r,h=(s=g(Jg(s=e.ac(o-s,!1)))).next();!h.done;h=s.next())u.push({packet:h.value,pts:p});else try{e.skip(o-s)}catch(t){break}0==(c-=o+4)&&(n=l<d.length?n+(d[l].Zh||i):n+i,c=++l<d.length&&d[l].sampleSize||a)}}Kg.prototype.clear=function(){this.l=0,this.h=[],this.g=[];var t=this.i;t.i=[],t.h=[],t.g=0,Wg(this);for(var e=(t=g(this.j.values())).next();!e.done;e=t.next())Vg(e.value)},Kg.prototype.extract=function(t,e){if(this.D){for(var n=g(this.m.values()),r=n.next();!r.done;r=n.next())r.value.l=e;this.D=!1}if(!((t=new da(t,0)).getLength()<8)&&181===t.ba()&&49===t.Ia()&&1195456820===t.$()&&3===t.ba()&&0!=(64&(n=t.ba())))for(n&=31,t.skip(1),r=0;r<n;r++){var i=t.ba(),a=(4&i)>>2,o=t.ba(),s=t.ba();a&&(0===(i&=3)||1===i?this.h.push({pts:e,type:i,Hb:o,vc:s,order:this.h.length}):(this.g.push({pts:e,type:i,value:o,order:this.g.length}),this.g.push({pts:e,type:2,value:s,order:this.g.length})))}},Kg.prototype.decode=function(){function t(t,e){return t.pts-e.pts||t.order-e.order}var e=[];this.h.sort(t),this.g.sort(t);for(var n=g(this.h),r=n.next();!r.done;r=n.next())(r=$g(this,r.value))&&e.push(r);for(r=(n=g(this.g)).next();!r.done;r=n.next())Dg(this.i,r.value);for(r=(n=g(this.i.i)).next();!r.done;r=n.next())r=Xg(this,r.value),e.push.apply(e,m(r));return this.i.i=[],this.h=[],this.g=[],e},Kg.prototype.getStreams=function(){return Array.from(this.C)},G("shaka.cea.CeaDecoder",Kg),Ze=function(){return new Kg},Zg.prototype.init=function(t){function e(t){t=t.name,im.has(t)&&(n.g=im.get(t))}var n=this,r=[],i=[];if((new fa).box("moov",ga).box("mvex",ga).X("trex",(function(t){var e=t.reader;e.skip(4),e.skip(4),t=e.$(),e=e.$(),n.h=t,n.i=e})).box("trak",ga).X("tkhd",(function(t){var e=t.reader;1==(t=t.version)?(e.skip(8),e.skip(8)):(e.skip(4),e.skip(4));var n=e.$();1==t?e.skip(8):e.skip(4),e.skip(4),e.skip(8),e.skip(2),e.skip(2),e.skip(2),e.skip(2),e.skip(36),e.Ia(),e.Ia(),e.Ia(),e.Ia(),r.push(n)})).box("mdia",ga).X("mdhd",(function(t){t=ho(t.reader,t.version),i.push(t.timescale)})).box("minf",ga).box("stbl",ga).X("stsd",ma).box("avc1",e).box("avc3",e).box("dvav",e).box("dva1",e).box("hev1",e).box("hvc1",e).box("dvh1",e).box("dvhe",e).box("vvc1",e).box("vvi1",e).box("dvc1",e).box("dvi1",e).box("encv",va).box("sinf",ga).box("frma",(function(t){t=mo(t.reader).codec,im.has(t)&&(n.g=im.get(t))})).parse(t,!0,!0),!r.length||!i.length||r.length!=i.length)throw new It(2,2,2010);this.g==tm&&X("Unable to determine bitstream format for CEA parsing!"),r.forEach((function(t,e){n.j.set(t,i[e])}))},Zg.prototype.parse=function(t){var e=this;if(this.g==tm)return[];var n=[],r=0,i=[];return(new fa).box("moof",(function(t){r=t.start,i=[],ga(t)})).box("traf",(function(t){i.push({baseMediaDecodeTime:null,le:e.h,me:e.i,uj:[],timescale:9e4}),ga(t)})).X("trun",(function(t){var e=i[i.length-1];t=fo(t.reader,t.version,t.flags),e.uj.push(t)})).X("tfhd",(function(t){var n=i[i.length-1];t=co(t.reader,t.flags),n.le=t.le||e.h,n.me=t.me||e.i,t=t.trackId,e.j.has(t)&&(n.timescale=e.j.get(t))})).X("tfdt",(function(t){var e=i[i.length-1];t=po(t.reader,t.version),e.baseMediaDecodeTime=t.baseMediaDecodeTime})).box("mdat",(function(t){for(var a=r-t.start-8,o=t.reader.Wa(),s=g(i),u=s.next();!u.done;u=s.next())null===(u=u.value).baseMediaDecodeTime?X("Unable to find base media decode time for CEA captions!"):(t.reader.seek(o),Qg(e,t.reader,u.baseMediaDecodeTime,u.timescale,u.le,u.me,a,u.uj,n))})).parse(t,!1,!0),n},G("shaka.cea.Mp4CeaParser",Zg);var tm=0,em=1,nm=2,rm=3,im=(new Map).set("avc1",em).set("avc3",em).set("dvav",em).set("dva1",em).set("hev1",nm).set("hvc1",nm).set("dvh1",nm).set("dvhe",nm).set("vvc1",rm).set("vvi1",rm).set("dvc1",rm).set("dvi1",rm);function am(){this.g=null}function om(t){return(t=function(t){var e=0,n=Et(t),r=n.getUint32(e,!0);if(r!=t.byteLength)return[];t:{for(t=e+4+2,e=[];t<n.byteLength-1;){r=n.getUint16(t,!0),t+=2;var i=n.getUint16(t,!0);if(t+=2,0!=(1&i)||i+t>n.byteLength){n=[];break t}var a=Tt(n,t,i);e.push({type:r,value:a}),t+=i}n=e}return n}(t=Wt(bn(t))).filter((function(t){return t.type===um}))[0])&&(t=gn(t=Ut(t.value,!0),"WRMHEADER"))?t:null}function sm(t){try{var e=om(t);if(e)t:{for(var n=g(Cn(e,"DATA")),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.children)for(var a=g(i.children),o=a.next();!o.done;o=a.next()){var s=o.value;if("LA_URL"==s.tagName){var u=bn(s);break t}}}u=""}else u="";return u}catch(t){return""}}Xe("video/mp4",(function(){return new Zg})),am.prototype.init=function(){},am.prototype.parse=function(t){this.g?this.g.clearData():this.g=new Ns;var e=[];if(!qs(t=Tt(t)))return e;var n=(t=this.g.parse(t)).oe(),r=t.zf();switch(t=[],n.video){case"avc":t.push(6);break;case"hvc":t.push(39),t.push(40)}if(!t.length)return e;for(r=(n=g(r)).next();!r.done;r=n.next())if(r=r.value,t.includes(r.type)&&null!=r.time)for(var i=g(Jg(r.data)),a=i.next();!a.done;a=i.next())e.push({packet:a.value,pts:r.time});return e},G("shaka.cea.TsCeaParser",am),Xe("video/mp2t",(function(){return new am}));var um=1;function lm(){this.g=new Map}function cm(e,n,r,i){var a=function(t,e){for(var n=[],r=(e=g(e)).next();!r.done;r=e.next())(r=pm(t,r.value))&&n.push(r);return n}(e,n),o=null;e=[];var s=[];n=null;var u=new Set(a.map((function(t){return t.keyId})));u.delete(null);var l="cenc";if(u.size>1)throw new It(2,4,4010);if(!r){if((s=a.filter((function(t){return"urn:mpeg:dash:sea:2012"==t.Wd}))).length>1)throw new It(2,4,4050);s.length&&(n=function(e){if(!t.crypto||!t.crypto.subtle)throw X("Web Crypto API is not available to decrypt AES-128. (Web Crypto only exists in secure origins like https)"),new It(2,4,4042);var n=Tn(e.node,"urn:mpeg:dash:schema:sea:2012","SegmentEncryption");if(!n)throw new It(2,4,4051);if("urn:mpeg:dash:sea:aes128-cbc:2013"!=n.attributes.schemeIdUri)throw new It(2,4,4051);if(!(n=Tn(e.node,"urn:mpeg:dash:schema:sea:2012","CryptoPeriod")))throw new It(2,4,4051);if(e=n.attributes.IV,n=Vt(n.attributes.keyUriTemplate),!e||!n)throw new It(2,4,4051);if(16!=(e=$t(e.substr(2))).byteLength)throw new It(2,4,4048);return{Kl:n,iv:e}}(s[0])),(s=a.find((function(t){return"urn:mpeg:dash:mp4protection:2011"==t.Wd})))&&s.encryptionScheme&&(l=s.encryptionScheme),(s=a.filter((function(t){return"urn:mpeg:dash:mp4protection:2011"==t.Wd?(o=t.init||o,!1):"urn:mpeg:dash:sea:2012"!=t.Wd}))).length&&(0==(e=function(t,e,n,r,i){for(var a=[],o=(n=g(n)).next();!o.done;o=n.next()){var s=r[(o=o.value).Wd];if(s){var u;if((u=Tn(o.node,"urn:microsoft:playready","pro"))&&bn(u)){u=Wt(u=bn(u));var l=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);u=[{initData:Ea(u,l,new Set,0),initDataType:"cenc",keyId:o.keyId}]}else u=null;if(l=null,"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e"===o.Wd){l=o;var c=i;if(0==c.size)l=null;else{var d=new Uint8Array([16,119,239,236,192,178,77,2,172,227,60,30,82,226,251,75]);l=[{initData:Ea(new Uint8Array([]),d,c,1),initDataType:"cenc",keyId:l.keyId}]}}u=Zt(s,e,o.init||t||u||l),(s=hm.get(s))&&(u.licenseServerUri=s(o)),(o=Tn(o.node,"https://dashif.org/CPS","Certurl"))&&(o=bn(o))||(o=""),u.serverCertificateUri=o,a.push(u)}}return a}(o,l,s,i,u)).length&&(e=[Zt("",l,o)]))}if(a.length&&!n&&(r||!s.length))for(e=[],i=(r=g(Object.values(i))).next();!i.done;i=r.next())"org.w3.clearkey"!=(i=i.value)&&e.push(Zt(i,l,o));if(u=Array.from(u)[0]||null)for(r=(l=g(e)).next();!r.done;r=l.next())for(i=(r=g(r.value.initData)).next();!i.done;i=r.next())i.value.keyId=u;return{Pi:u,Rn:o,drmInfos:e,Hg:n,Ui:!0}}function dm(t){var e=Tn(t.node,"https://dashif.org/CPS","Laurl");if(e&&(e=bn(e)))return e;if((e=Tn(t.node,"urn:microsoft:playready","pro"))&&bn(e))return sm(e);if((t=Tn(t.node,"urn:mpeg:cenc:2013","pssh"))&&(t=bn(t))){e=Wt(t),t=8;var n=(e=Et(e)).getUint8(t);return t+=20,n>0&&(t+=4+16*e.getUint32(t)),sm(t=gn("<pro>"+(t=Ht(t=Tt(e,t+4)))+"</pro>"))}return""}function pm(t,e){var n=e.attributes.schemeIdUri,r=En(e,"urn:mpeg:cenc:2013","default_KID"),i=kn(e,"urn:mpeg:cenc:2013","pssh").map(wn),a=e.attributes.value;if(!n)return null;if(n=n.toLowerCase(),r&&(r=r.replace(/-/g,"").toLowerCase()).includes(" "))throw new It(2,4,4009);var o=[];try{o=i.map((function(e){if(!t.g.has(e)){var n=Wt(e);t.g.set(e,n)}return{initDataType:"cenc",initData:t.g.get(e),keyId:null}}))}catch(t){throw new It(2,4,4007)}return{node:e,Wd:n,keyId:r,init:o.length>0?o:null,encryptionScheme:a}}lm.prototype.release=function(){this.g.clear()};var hm=(new Map).set("com.apple.fps",(function(e){if("apple"===t.shakaMediaKeysPolyfill)throw new It(2,4,4054);return(e=Tn(e.node,"https://dashif.org/CPS","Laurl"))&&(e=bn(e))?e:""})).set("com.widevine.alpha",(function(t){var e=Tn(t.node,"https://dashif.org/CPS","Laurl");return e&&(e=bn(e))?e:(t=Tn(t.node,"urn:microsoft","laurl"))&&Vt(t.attributes.licenseUrl)||""})).set("com.microsoft.playready",dm).set("com.microsoft.playready.recommendation",dm).set("com.microsoft.playready.software",dm).set("com.microsoft.playready.hardware",dm).set("org.w3.clearkey",(function(t){var e=Tn(t.node,"https://dashif.org/CPS","Laurl");return e&&(e=bn(e))?e:(t=Tn(t.node,"http://dashif.org/guidelines/clearKey","Laurl"))&&"EME-1.0"===t.attributes.Lic_type&&t&&(t=bn(t))?t:""}));function fm(e,n,r,i,a,o){var s=(new Map).set("RepresentationID",n).set("Number",r).set("SubNumber",i).set("Bandwidth",a).set("Time",o);return e.replace(/\$(RepresentationID|Number|SubNumber|Bandwidth|Time)?(?:%0([0-9]+)([diouxX]))?\$/g,(function(e,n,r,i){if("$$"==e)return"$";var a=s.get(n);if(null==a)return e;switch("RepresentationID"==n&&r&&(r=void 0),"Time"==n&&"bigint"!=typeof a&&(Math.abs(a-Math.round(a))>=.2&&X("Calculated $Time$ values must be close to integers"),a=Math.round(a)),i){case void 0:case"d":case"i":case"u":e=a.toString();break;case"o":e=a.toString(8);break;case"x":e=a.toString(16);break;case"X":e=a.toString(16).toUpperCase();break;default:e=a.toString()}return r=t.parseInt(r,10)||1,Array(Math.max(0,r-e.length)+1).join("0")+e}))}function gm(t,e){var n=vm(t,e,"timescale"),r=1;n&&(r=Pn(n)||1);var i=(n=Pn((n=vm(t,e,"duration"))||""))?n/r:null,a=vm(t,e,"startNumber"),o=Number(vm(t,e,"presentationTimeOffset"))||0,s=Dn(a||"");if(null!=a&&null!=s||(s=1),a=null,e=ym(t,e,"SegmentTimeline")){e=An(e,"S"),a=r,t=t.qa.duration||1/0;for(var u=s,l=[],c=-o,d=0;d<e.length;++d){var p=e[d],h=e[d+1],f=Sn(p,"t",Dn),g=Sn(p,"d",Dn),m=Sn(p,"r",On);if(p=Sn(p,"k",On)||0,null!=f&&(f-=o),g){if(f=null!=f?f:c,(m=m||0)<0)if(h){if(null==(h=Sn(h,"t",Dn)))break;if(f>=h)break;m=Math.ceil((h-f)/g)-1}else{if(t==1/0)break;if(f/a>=t)break;m=Math.ceil((t*a-f)/g)-1}for(l.length>0&&f!=c&&(l[l.length-1].end=f/a),h=0;h<=m;++h)c=f+g,l.push({start:f/a,end:c/a,wi:f,Ec:p,om:l.length+u}),f=c}}a=l}return{timescale:r,pg:n,pb:i,Ke:s,Pb:o/r||0,wd:o,timeline:a}}function mm(t,e){return[e(t.N),e(t.va),e(t.Aa)].filter(Yr)}function vm(t,e,n){e=mm(t,e),t=null;for(var r=(e=g(e)).next();!r.done&&!(t=r.value.attributes[n]);r=e.next());return t}function ym(t,e,n){e=mm(t,e),t=null;for(var r=(e=g(e)).next();!r.done&&!(t=xn(r.value,n));r=e.next());return t}function Am(t,e,n,r,i,a){if(a=void 0===a?0:a,En(t,"http://www.w3.org/1999/xlink","href")){var o=function(t,e,n,r,i,a){for(var o=En(t,"http://www.w3.org/1999/xlink","href"),s=En(t,"http://www.w3.org/1999/xlink","actuate")||"onRequest",u=g(Object.keys(t.attributes)),l=u.next();!l.done;l=u.next()){var c=(l=l.value).split(":"),d=mn("http://www.w3.org/1999/xlink");c[0]==d&&delete t.attributes[l]}if(a>=5)return Gi(new It(2,4,4028));if("onLoad"!=s)return Gi(new It(2,4,4027));var p=Jt([r],[o]);return i.request(0,Qi(p,e)).bb((function(r){if(!(r=fn(r.data,t.tagName)))return Gi(new It(2,4,4001,o));for(t.children=[];r.children.length;){var s=r.children.shift();t.children.push(s)}for(var u=(s=g(Object.keys(r.attributes))).next();!u.done;u=s.next())u=u.value,t.attributes[u]=r.attributes[u];return Am(t,e,n,p[0],i,a+1)}))}(t,e,n,r,i,a);return n&&(o=o.bb(void 0,(function(){return Am(t,e,n,r,i,a)}))),o}o=[];for(var s=g(yn(t)),u=s.next(),l={};!u.done;l={ie:void 0},u=s.next())l.ie=u.value,"urn:mpeg:dash:resolve-to-zero:2013"==En(l.ie,"http://www.w3.org/1999/xlink","href")?t.children=t.children.filter(function(t){return function(e){return e!==t.ie}}(l)):"SegmentTimeline"!=l.ie.tagName&&o.push(Am(l.ie,e,n,r,i,a));return Wi(o).bb((function(){return t}))}function bm(t,e,n,r,i,a,o){var s,u=(new fa).X("sidx",(function(t){s=function(t,e,n,r,i,a,o){var s=[];o.reader.skip(4);var u=o.reader.$();if(0==u)throw new It(2,3,3005);if(0==o.version)var l=o.reader.$(),c=o.reader.$();else l=o.reader.Td(),c=o.reader.Td();o.reader.skip(2);var d=o.reader.Ia();for(t=t+o.size+c,c=0;c<d;c++){var p=o.reader.$(),h=(2147483648&p)>>>31;p&=2147483647;var f=o.reader.$();if(o.reader.skip(4),1==h)throw new It(2,3,3006);s.push(new Xo(l/u+n,(l+f)/u+n,(function(){return a}),t,t+p-1,e,n,r,i)),l+=f,t+=p}return o.parser.stop(),s}(e,r,i,a,o,n,t)}));if(t&&u.parse(t),s)return s;throw new It(2,3,3004)}function wm(t){this.h=Et(t),this.g=new da(this.h,0)}function Cm(t){var e=xm(t);if(e.length>7)throw new It(2,3,3002);for(var n=0,r=(e=g(e)).next();!r.done;r=e.next())n=256*n+r.value;e=xm(t);t:{for(var i=(r=g(Tm)).next();!i.done;i=r.next())if(Ct(e,new Uint8Array(i.value))){r=!0;break t}r=!1}if(r)e=t.h.byteLength-t.g.Wa();else{if(8==e.length&&224&e[1])throw new It(2,3,3001);for(i=r=0;i<e.length;i++){var a=e[i];r=0==i?a&(1<<8-e.length)-1:256*r+a}e=r}return e=t.g.Wa()+e<=t.h.byteLength?e:t.h.byteLength-t.g.Wa(),r=Et(t.h,t.g.Wa(),e),t.g.skip(e),new Sm(n,r)}function xm(t){var e=t.g.Wa(),n=t.g.ba();if(0==n)throw new It(2,3,3002);return n=8-Math.floor(Math.log2(n)),t.g.skip(n-1),Tt(t.h,e,n)}wm.prototype.Pa=function(){return this.g.Pa()};var Tm=[[255],[127,255],[63,255,255],[31,255,255,255],[15,255,255,255,255],[7,255,255,255,255,255],[3,255,255,255,255,255,255],[1,255,255,255,255,255,255,255]];function Sm(t,e){this.id=t,this.g=e}function Em(t){if(t.g.byteLength>8)throw new It(2,3,3002);if(8==t.g.byteLength&&224&t.g.getUint8(0))throw new It(2,3,3001);for(var e=0,n=0;n<t.g.byteLength;n++){e=256*e+t.g.getUint8(n)}return e}function km(t){var e=new wm(t.g);if(179!=(t=Cm(e)).id)throw new It(2,3,3013);if(t=Em(t),183!=(e=Cm(e)).id)throw new It(2,3,3012);e=new wm(e.g);for(var n=0;e.Pa();){var r=Cm(e);if(241==r.id){n=Em(r);break}}return{Cm:t,bm:n}}function Im(t,e,n){if(!(e=ym(t,e,"Initialization")))return null;var r=t.N.mb(),i=e.attributes.sourceURL;i&&(r=Jt(r,[Vt(i)],t.Rb())),i=0;var a=null;return(e=Sn(e,"range",Ln))&&(i=e.start,a=e.end),(n=new Wo((function(){return r}),i,a,Dm(t),null,null,n,t.va.encrypted)).codecs=t.N.codecs,n.mimeType=t.N.mimeType,t.qa&&!t.qa.Ef&&(n.g=t.qa.start+t.qa.duration),n}function Mm(t,e,n){var r=Number(vm(t,Lm,"presentationTimeOffset"))||0,i=vm(t,Lm,"timescale"),a=1;i&&(a=Pn(i)||1);var o=r/a||0,s=Im(t,Lm,n);!function(t,e){if(Pm(t,e),!Om(t))throw new It(2,4,4002)}(t,s);var u=pn(t);return{endTime:-1,timeline:-1,gd:function(){var t=ym(u,Lm,"RepresentationIndex"),n=u.N.mb();return t&&(t=Vt(t.attributes.sourceURL))&&(n=Jt(n,[t],u.Rb())),t=Om(u),Rm(u,e,s,n,t.start,t.end,o)},timescale:a}}function Rm(t,e,n,r,i,a,o){var s,u,l,c,d,p,h,f,m,v,y,A,b,C,x,T,S,E;return P((function(k){if(1==k.g)return s=t.presentationTimeline,u=!t.Jb||!t.qa.Ef,l=t.qa.start,c=t.qa.duration,d=t.N.mimeType.split("/")[1],h=null,f=[(p=e)(r,i,a,!1),"webm"==d?p(n.T(),n.startByte,n.endByte,!0):null],p=null,w(k,Promise.all(f),2);if(m=k.h,v=m[0],y=m[1]||null,null,b=l-o,C=l,x=c?l+c:1/0,"mp4"==d)var I=bm(v,i,r,n,b,C,x);else{I=v;var M=new wm(y);if(440786851!=Cm(M).id)throw new It(2,3,3008);var R=Cm(M);if(408125543!=R.id)throw new It(2,3,3009);M=R.g.byteOffset,R=new wm(R.g);for(var L=null;R.Pa();){var O=Cm(R);if(357149030==O.id){L=O;break}}if(!L)throw new It(2,3,3010);for(L=new wm(L.g),O=1e6,R=null;L.Pa();){var P=Cm(L);if(2807729==P.id)O=Em(P);else if(17545==P.id)if(4==P.g.byteLength)R=P.g.getFloat32(0);else{if(8!=P.g.byteLength)throw new It(2,3,3003);R=P.g.getFloat64(0)}}if(null==R)throw new It(2,3,3011);if(R*=L=O/1e9,475249515!=(I=Cm(new wm(I))).id)throw new It(2,3,3007);I=function(t,e,n,r,i,a,o,s,u){function l(){return i}var c=[];t=new wm(t.g);for(var d=null,p=null;t.Pa();){var h=Cm(t);if(187==h.id){var f=km(h);f&&(h=n*f.Cm,f=e+f.bm,null!=d&&c.push(new Xo(d+o,h+o,l,p,f-1,a,o,s,u)),d=h,p=f)}}return null!=d&&c.push(new Xo(d+o,r+o,l,p,null,a,o,s,u)),c}(I,M,L,R,r,n,b,C,x)}for(T=g(A=I),S=T.next();!S.done;S=T.next())(E=S.value).codecs=t.N.codecs,E.mimeType=t.N.mimeType,E.bandwidth=t.bandwidth;return s.Ce(A),h=new Gu(A),u&&h.Gd(C,x,!0),k.return(h)}))}function Lm(t){return t.Xd}function Om(t){var e=ym(t,Lm,"RepresentationIndex");return t=Ln((t=vm(t,Lm,"indexRange"))||""),e&&(t=Sn(e,"range",Ln,t)),t}function Pm(t,e){var n=t.N.mimeType.split("/")[1];if(t.N.contentType!=re&&"mp4"!=n&&"webm"!=n)throw new It(2,4,4006);if("webm"==n&&!e)throw new It(2,4,4005)}function Dm(t){var e=t.N;return{bandwidth:t.bandwidth,audioSamplingRate:e.audioSamplingRate,codecs:e.codecs,contentType:e.contentType,frameRate:e.frameRate||null,height:e.height||null,mimeType:e.mimeType,channelsCount:e.Rf,pixelAspectRatio:e.pixelAspectRatio||null,width:e.width||null,label:t.va.label||null,roles:t.roles||null,language:t.va.language||null}}function _m(t,e,n){var r=Im(t,Nm,n),i=function(t){var e=function(t){return[t.N.Ic,t.va.Ic,t.Aa.Ic].filter(Yr).map((function(t){return An(t,"SegmentURL")})).reduce((function(t,e){return t.length>0?t:e})).map((function(e){return e.attributes.indexRange&&!t.Bh&&(t.Bh=!0),{Rl:Vt(e.attributes.media),start:(e=Sn(e,"mediaRange",Ln,{start:0,end:null})).start,end:e.end}}))}(t),n=(t=gm(t,Nm)).Ke;0==n&&(n=1);var r=0;return t.pb?r=t.pb*(n-1):t.timeline&&t.timeline.length>0&&(r=t.timeline[0].start),{pb:t.pb,startTime:r,Ke:n,Pb:t.Pb,timescale:t.timescale,timeline:t.timeline,Pd:e}}(t);if(!i.pb&&!i.timeline&&i.Pd.length>1)throw new It(2,4,4002);if(!i.pb&&!t.qa.duration&&!i.timeline&&1==i.Pd.length)throw new It(2,4,4002);if(i.timeline&&0==i.timeline.length)throw new It(2,4,4002);var a=null,o=null;t.Aa.id&&t.N.id&&(o=e.get(t.Aa.id+","+t.N.id))&&(a=o.segmentIndex);var s=function(t,e,n,r,i,a,o,s,u,l){var c=r.Pd.length;r.timeline&&r.timeline.length!=r.Pd.length&&(c=Math.min(r.timeline.length,r.Pd.length));for(var d=t-r.Pb,p=e?t+e:1/0,h=[],f=r.startTime,g={},m=0;m<c;g={rg:void 0,dg:void 0},m++){g.dg=r.Pd[m];var v=f;f=void 0,f=null!=r.pb?v+r.pb:r.timeline?r.timeline[m].end:v+e,g.rg=null,(g=new Xo(t+v,t+f,function(t){return function(){return null==t.rg&&(t.rg=Jt(n(),[t.dg.Rl],l())),t.rg}}(g),g.dg.start,g.dg.end,i,d,t,p,[],"",null,null,Zo,a)).codecs=s,g.mimeType=o,g.bandwidth=u,h.push(g)}return h}(t.qa.start,t.qa.duration,t.N.mb,i,r,n,t.N.mimeType,t.N.codecs,t.bandwidth,t.Rb);return e=!a,a?a.Ae(s,t.presentationTimeline.Mb()):a=new Gu(s),t.presentationTimeline.Ce(s),t.Jb&&t.qa.Ef||a.Gd(t.qa.start,t.qa.duration?t.qa.start+t.qa.duration:1/0,e),o&&(o.segmentIndex=a),{endTime:-1,timeline:-1,gd:function(){return a&&0!=a.getNumReferences()||a.Mf(s),Promise.resolve(a)},timescale:i.timescale}}function Nm(t){return t.Ic}function Um(e,n,r,i,a,o,s,u,l,c){l||e.N.Bf||(e.N.Bf=vm(e,Bm,"initialization"));var d=e.N.Bf?function(t,e){var n=t.N.Bf;if(n||(n=vm(t,Bm,"initialization")),!n)return null;n=Vt(n);var r=t.N.originalId,i=t.bandwidth||null,a=t.N.mb,o=t.Rb;return(e=new Wo((function(){var t=fm(n,r,null,null,i,null);return Jt(a(),[t],o())}),0,null,Dm(t),null,null,e,t.va.encrypted)).codecs=t.N.codecs,e.mimeType=t.N.mimeType,t.qa&&!t.qa.Ef&&(e.g=t.qa.start+t.qa.duration),e}(e,s):null,p=function(t){var e=gm(t,Bm),n=vm(t,Bm,"media"),r=vm(t,Bm,"index"),i=vm(t,Bm,"k"),a=0;return i&&(a=parseInt(i,10)),{pg:e.pg,pb:e.pb,timescale:e.timescale,Ke:e.Ke,Pb:e.Pb,wd:e.wd,timeline:e.timeline,jc:n&&Vt(n),ve:r,mimeType:t.N.mimeType,codecs:t.N.codecs,bandwidth:t.bandwidth,Sl:a}}(e);!function(t){var e=t.ve?1:0;if(e+=t.timeline?1:0,0==(e+=t.pb?1:0))throw new It(2,4,4002);if(1!=e&&(t.ve&&(t.timeline=null),t.pg=null,t.pb=null),!t.ve&&!t.jc)throw new It(2,4,4002)}(p);var h=pn(e);if(p.ve)return Pm(e,d),{endTime:-1,timeline:-1,gd:function(){var t=fm(p.ve,h.N.originalId,null,null,h.bandwidth||null,null);return t=Jt(h.N.mb(),[t]),Rm(h,n,d,t,0,null,p.Pb)},timescale:p.timescale};if(p.pb)return i||"image"===e.va.contentType||"text"===e.va.contentType||(i=e.qa.start,c=e.Aa.id,r=e.qa.duration,c=(c=null!=c&&o.get(c)||r)?i+c:1/0,e.presentationTimeline.Kh(p.pb),e.presentationTimeline.sj(i,c)),{endTime:-1,timeline:-1,gd:function(){return function(e,n,r,i,a,o,s,u){function l(r){var a=r-y,s=a*v,l=n.pg,c=a*l;"BigInt"in t&&c>Number.MAX_SAFE_INTEGER&&(c=BigInt(a)*BigInt(l)),a=(s+=h)+v,l=Math.min(a,d());var p=[],f=n.Sl;if(f)for(var g=(l-s)/f,m={},S=0;S<f;m={Tj:void 0},S++){var E=s+g*S,k=E+g;m.Tj=S,(m=new Xo(E,k,function(t){return function(){var e=fm(A,w,r,t.Tj,b,c);return Jt(C(),[e],x())}}(m),0,null,i,T,h,d(),[],"",null,null,Zo,o)).codecs=e.N.codecs,m.mimeType=e.N.mimeType,0==u?S>0&&m.Nd():S%u!=0&&m.Nd(),p.push(m)}return(s=new Xo(s,l,(function(){if(f)return[];var t=fm(A,w,r,null,b,c);return Jt(C(),[t],x())}),0,null,i,T,h,d(),p,"",null,null,Zo,o,p.length>0)).codecs=e.N.codecs,s.mimeType=e.N.mimeType,s.bandwidth=e.bandwidth,s.j=a,s}function c(){var t=[Math.max(p.Mb(),h),Math.min(p.Rc(),d())].map((function(t){return t-h}));return t=[Math.ceil(t[0]/v),Math.ceil(t[1]/v)-1],e.N.zb&&t[1]++,t.map((function(t){return t+y}))}function d(){var t=null!=f&&a.get(f)||m;return t?h+t:1/0}var p=e.presentationTimeline,h=e.qa.start,f=e.Aa.id,m=e.qa.duration,v=n.pb,y=n.Ke,A=n.jc,b=e.bandwidth||null,w=e.N.originalId,C=e.N.mb,x=e.Rb,T=h-n.Pb,S=c();r=e.Jb?Math.max(S[0],S[1]-r+1):S[0],s=s||S[1],S=[];for(var E=r;E<=s;++E){var k=l(E);S.push(k)}var I=new Gu(S);if(S=p.Rc()<d(),E=p.U(),S||E){var M=Math.max(r,s+1);r=v,e.N.zb&&(r=.1),I.qg(r,(function(){var t=p.Mb();I.cb(t);var e=g(c());e.next(),e=e.next().value;for(var n=[];M<=e;){var r=l(M);n.push(r),M++}return t>d()&&!n.length?null:n}))}return Promise.resolve(I)}(h,p,a,d,o,s,u,e.N.eg)},timescale:p.timescale};var f=null;i=i=null,e.Aa.id&&e.N.id&&(i=e.Aa.id+","+e.N.id,i=r.get(i))&&(f=i.segmentIndex);var m=e.qa.start,v=e.qa.duration?m+e.qa.duration:1/0;if(f)qm(c=f,p,m,v,d,e.Jb),c.cb(e.presentationTimeline.Mb());else{if(r=0,l=-1,null!=e.Aa.id&&null!=e.N.id){var y=c.get(e.Aa.id);if(y)l=y.timeline;else for(y=(c=g(c.values())).next();!y.done;y=c.next()){if(y=y.value,Math.abs(p.Pb-y.endTime)<=ae&&y.Th.includes(e.N.id)){l=y.timeline;break}y.timeline>=r&&(r=y.timeline+1)}}-1==l&&(l=r),f=new jm(e.Jb,p,e.N.originalId,e.bandwidth,e.N.mb,e.Rb,m,v,d,s,e.N.eg,l)}return p.timeline&&"image"!==e.va.contentType&&"text"!==e.va.contentType&&e.presentationTimeline.tj(f.h?f.h.timeline:[],m),i&&e.Jb&&(i.segmentIndex=f),i=(i=(i=p.timeline)&&i[i.length-1])?i.end+p.Pb:-1,c=-1,f instanceof jm&&(c=f.pf()),{endTime:i,timeline:c,gd:function(){return f instanceof jm&&0==f.getNumReferences()&&qm(f,p,m,v,d,e.Jb),Promise.resolve(f)},timescale:p.timescale}}function Bm(t){return t.Zc}function jm(t,e,n,r,i,a,o,s,u,l,c,d){Gu.call(this,[]),this.F=t,this.h=e,this.H=n,this.D=r,this.G=i,this.J=a,this.j=o,this.l=s,this.A=u,this.C=l,this.I=c,this.K=d,Fm(this)}function qm(t,e,n,r,i,a){if(function(t,e){if(t.A!==e){t.A=e;for(var n=(t=g(t.g)).next();!n.done;n=t.next())(n=n.value)&&Jo(n,e)}}(t,i),t.F=a,t.h){if(t.h.wd!==e.wd&&(t.h.timeline=e.timeline,t.h.wd=e.wd,t.h.Pb=e.Pb),t.h.jc!==e.jc&&(t.h.jc=e.jc),(n=t.h.timeline).length){var o=n[n.length-1];e=e.timeline.filter((function(t){return t.end>o.end}))}else e=e.timeline.slice();e.length>0&&t.h.timeline.push.apply(t.h.timeline,m(e)),t.l!==r&&(t.l=r)}else t.h=e,t.j=n,t.l=r;Fm(t)}function Fm(t){if(t.h&&!t.u){for(var e=[],n=g(t.h.timeline),r=n.next();!r.done;r=n.next())(r=r.value).start>=t.l||r.end<=0||e.push(r);t.h.timeline=e,t.cb(t.j)}}function Vm(t,e,n,r,i,a,o,s){return t=fm(t,e,n,a,r||null,i),Jt(o(),[t],s()).map((function(t){return t.toString()}))}function Gm(t){this.u=null,this.C=t,this.H=new $i,this.i=[],this.h=null,this.m=[],this.D=null,this.G=[],this.F=300,this.l=new Map,this.j=new Map,this.g=null,this.A="UNKNOWN"}function zm(t,e){var n,r,i,a,o,s,u;return P((function(l){return 1==l.g?(n=Jt(t.i,[Hm(t,e)]),r=Qi(n,t.u.retryParameters),i=t.C.networkingEngine.request(8,r),Xi(t.H,i),x(l,2),w(l,i.promise,4)):2!=l.g?(a=l.h,o=Nt(a.data),1==(s=JSON.parse(o)).VERSION&&function(t,e,n){null!=t.g&&(t.g.stop(),t.g=null);var r=e["RELOAD-URI"]||n;t.g=new Wr((function(){zm(t,r)})),(n=e.TTL)&&(t.F=n);t.g.Y(t.F),t.m=e["PATHWAY-PRIORITY"]||[],t.G=e["PATHWAY-CLONES"]||[]}(t,s,a.uri),S(l,0)):(u=E(l))&&7001==u.code?l.return():(null!=t.g&&(t.g.stop(),t.g=null),t.g=new Wr((function(){zm(t,e)})),t.g.Y(t.F),void C(l))}))}function Hm(t,e){if(!t.m.length)return e;e=new at(e);var n=t.D||t.m[0],r=Math.round(t.C.getBandwidthEstimate()),i=e.g;return"DASH"==t.A?(i.add("_DASH_pathway",n),i.add("_DASH_throughput",String(r))):"HLS"==t.A&&(i.add("_HLS_pathway",n),i.add("_HLS_throughput",String(r))),bt(i)&&lt(e,i),e.toString()}function Km(t,e,n,r){var i=t.l.get(e);i||(i=new Map),i.set(n,r),t.l.set(e,i)}function Wm(t,e,n){n=void 0!==n&&n,e=t.l.get(e)||new Map;for(var r=[],i=g(t.m),a=i.next(),o={};!a.done;o={Rd:void 0},a=i.next())if(o.Rd=a.value,a=e.get(o.Rd))r.push({Ph:o.Rd,location:a});else if(a=t.G.find(function(t){return function(e){return e.Zm==t.Rd}}(o))){var s=e.get(a["BASE-ID"]);s&&(a["URI-REPLACEMENT"].ik?(st(s=new at(s),a["URI-REPLACEMENT"].ik),r.push({Ph:o.Rd,location:s.toString()})):r.push({Ph:o.Rd,location:s}))}for(i=Date.now(),a=(o=g(t.j.keys())).next();!a.done;a=o.next())a=a.value,i>(s=t.j.get(a))&&t.j.delete(a);if((r=r.filter((function(e){for(var n=g(t.j.keys()),r=n.next();!r.done;r=n.next())if(r.value.includes(new at(e.location).Ib))return!1;return!0}))).length&&(t.D=r[0].Ph),!(r=r.map((function(t){return t.location}))).length&&t.h)for(o=(i=g(t.h.split(","))).next();!o.done;o=i.next())(o=e.get(o.value))&&(t.D=t.h,r.push(o));if(!r.length)for(i=(e=g(e.values())).next();!i.done;i=e.next())r.push(i.value);return n?r:Jt(t.i,r)}function $m(){this.l=[],this.h=[],this.g=[],this.j=[],this.i=[],this.u=!1,this.m=new Set}function Xm(t,e){for(var n=[],r=[],i=[],a=[],o=(t=g(t)).next();!o.done;o=t.next()){var s=o.value;o=new Map(s.audioStreams.map((function(t){return[Cv(t),t]})));var u=new Map(s.videoStreams.map((function(t){return[wv(t),t]}))),l=new Map(s.textStreams.map((function(t){return[xv(t),t]})));if(s=new Map(s.imageStreams.map((function(t){return[Tv(t),t]}))),e){var c=mv(re);l.set(xv(c),c),c=mv("image"),s.set(Tv(c),c)}n.push(o),r.push(u),i.push(l),a.push(s)}return{Gi:n,fk:r,Zj:i,ej:a}}function Ym(t){var e,n,r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,C,x,T,S,E,k,I,M,R,L;return P((function(O){switch(O.g){case 1:if(e=ie,1==t.length)return O.return(t[0]);for(n=t.map((function(t){return new Map(t.filter((function(t){return t.type===e.na})).map((function(t){return[Cv(t),t]})))})),r=t.map((function(t){return new Map(t.filter((function(t){return t.type===e.Ha})).map((function(t){return[wv(t),t]})))})),i=t.map((function(t){return new Map(t.filter((function(t){return t.type===e.Va})).map((function(t){return[xv(t),t]})))})),a=t.map((function(t){return new Map(t.filter((function(t){return t.type===e.yg})).map((function(t){return[Tv(t),t]})))})),o=g(i),s=o.next();!s.done;s=o.next())u=s.value,l=gv(e.Va),u.set(xv(l),l);for(c=g(a),d=c.next();!d.done;d=c.next())p=d.value,h=gv(e.yg),p.set(Tv(h),h);return w(O,Jm(f=new $m,[],n,0,nv,iv,0),2);case 2:return m=O.h,w(O,Jm(f,[],r,0,nv,iv,0),3);case 3:return v=O.h,w(O,Jm(f,[],i,0,nv,iv,0),4);case 4:return y=O.h,w(O,Jm(f,[],a,0,nv,iv,0),5);case 5:if(A=O.h,b=0,v.length&&m.length)for(S=g(m),E=S.next();!E.done;E=S.next())for(k=E.value,I=g(v),M=I.next();!M.done;M=I.next())R=M.value,L=b++,R.variantIds.push(L),k.variantIds.push(L);else for(C=v.concat(m),x=g(C),T=x.next();!T.done;T=x.next())T.value.variantIds=[b++];return O.return(v.concat(m).concat(y).concat(A))}}))}function Jm(t,e,n,r,i,a,o){var s,u,l,c,d,p,h,f,m,v,y,A,b,C,x,T,S,E;return P((function(k){switch(k.g){case 1:for(s=[],u=0;u<n.length;u++)u>=r?s.push(new Set(n[u].values())):s.push(new Set);l=g(e),c=l.next();case 2:if(c.done){k.B(4);break}return d=c.value,w(k,function(t,e,n,r,i,a,o){return P((function(s){return 1==s.g?(av(t,n,e,o>0),e.matchedStreams?e.segmentIndex?w(s,Zm(e,r+o),2):s.B(2):s.return(!1)):(tv(e,r,i,a,o),s.return(!0))}))}(t,d,n,r,a,s,o),5);case 5:if(!k.h)throw new It(2,4,4037);c=l.next(),k.B(2);break;case 4:for(p=g(s),h=p.next();!h.done;h=p.next())for(f=h.value,m=g(f),v=m.next();!v.done;v=m.next())y=v.value,(A=Qm(t,e,y,n,i,a,s))&&e.push(A);for(b=g(s),C=b.next();!C.done;C=b.next())for(x=C.value,T=g(x),S=T.next(),E={};!S.done;E={ki:void 0},S=T.next())if(E.ki=S.value,!bv(E.ki)&&e.some(function(t){return function(e){return uv(t.ki,e)}}(E)))throw new It(2,4,4037);return k.return(e)}}))}function Zm(t,e){var n,r,i,a,o,s;return P((function(u){if(1==u.g){for(n=[],r=t.matchedStreams,i=e;i<r.length;i++)a=r[i],n.push(a.createSegmentIndex()),a.trickModeVideo&&!a.trickModeVideo.segmentIndex&&n.push(a.trickModeVideo.createSegmentIndex()),a.dependencyStream&&!a.dependencyStream.segmentIndex&&n.push(a.dependencyStream.createSegmentIndex());return w(u,Promise.all(n),2)}if(t.segmentIndex instanceof Wu)for(o=e;o<r.length;o++)(s=r[o]).segmentIndex&&t.segmentIndex.h.push(s.segmentIndex);C(u)}))}function Qm(t,e,n,r,i,a,o){if(bv(n))return null;var s=i(n);return av(t,r,s),s.createSegmentIndex&&(s.createSegmentIndex=function(){return P((function(t){return s.segmentIndex?t.B(0):(s.segmentIndex=new Wu,w(t,Zm(s,0),0))}))},s.closeSegmentIndex=function(){if(s.segmentIndex&&(s.segmentIndex.release(),s.segmentIndex=null),s.matchedStreams)for(var t=g(s.matchedStreams),n=t.next();!n.done;n=t.next()){var r;if(r=(n=n.value).segmentIndex){t:{for(var i=(r=g(e)).next();!i.done;i=r.next())if((i=i.value)!==s&&i.segmentIndex&&i.matchedStreams&&i.matchedStreams.includes(n)){r=!0;break t}r=!1}r=!r}r&&(n.segmentIndex.release(),n.segmentIndex=null)}}),s.matchedStreams&&s.matchedStreams.length?(tv(s,0,a,o,0),s):null}function tv(t,e,n,r,i){var a=t.matchedStreams;for(e+=i;e<a.length;e++){var o=a[e];n(t,o);var s=!0;if("audio"==t.type&&0==he(t.language,o.language)&&(s=!1),s&&((s=r[e-i])&&s.delete(o),o.fullMimeTypes))for(s=(o=g(o.fullMimeTypes.values())).next();!s.done;s=o.next())t.fullMimeTypes.add(s.value)}}function ev(t){var e=Object.assign({},t);return e.originalId=null,e.createSegmentIndex=function(){return Promise.resolve()},e.closeSegmentIndex=function(){},e.roles=e.roles.slice(),e.segmentIndex=null,e.emsgSchemeIdUris=[],e.keyIds=new Set(t.keyIds),e.closedCaptions=t.closedCaptions?new Map(t.closedCaptions):null,e.trickModeVideo=null,e.dependencyStream=null,e}function nv(t){var e=Object.assign({},t);return e.roles=e.roles.slice(),e.keyIds=new Set(t.keyIds),e.segments=[],e.variantIds=[],e.closedCaptions=t.closedCaptions?new Map(t.closedCaptions):null,e}function rv(t,e){function n(t,e){t||(t=[]);for(var n=(e=g(e)).next();!n.done;n=e.next())n=n.value,t.includes(n)||t.push(n);return t}t.roles=n(t.roles,e.roles),e.emsgSchemeIdUris&&(t.emsgSchemeIdUris=n(t.emsgSchemeIdUris,e.emsgSchemeIdUris));for(var r=g(e.keyIds),i=r.next();!i.done;i=r.next())t.keyIds.add(i.value);if(null==t.originalId?t.originalId=e.originalId:(r=e.originalId||"")&&!t.originalId.endsWith(r)&&(t.originalId+=","+r),r=Pi(t.drmInfos,e.drmInfos),e.drmInfos.length&&t.drmInfos.length&&!r.length)throw new It(2,4,4038);if(t.drmInfos=r,t.encrypted=t.encrypted||e.encrypted,e.closedCaptions)for(t.closedCaptions||(t.closedCaptions=new Map),i=(r=g(e.closedCaptions)).next();!i.done;i=r.next()){var a=g(i.value);i=a.next().value,a=a.next().value,t.closedCaptions.set(i,a)}t.bandwidth&&e.bandwidth&&(t.bandwidth=Math.max(t.bandwidth,e.bandwidth)),e.trickModeVideo?(t.trickModeVideo||(t.trickModeVideo=ev(e.trickModeVideo),t.trickModeVideo.matchedStreams=[],t.trickModeVideo.createSegmentIndex=function(){if(t.trickModeVideo.segmentIndex)return Promise.resolve();for(var e=new Wu,n=g(t.trickModeVideo.matchedStreams),r=n.next();!r.done;r=n.next())e.h.push(r.value.segmentIndex);return t.trickModeVideo.segmentIndex=e,Promise.resolve()}),t.trickModeVideo.matchedStreams.push(e.trickModeVideo),rv(t.trickModeVideo,e.trickModeVideo)):t.trickModeVideo&&(t.trickModeVideo.matchedStreams.push(e),rv(t.trickModeVideo,e)),e.dependencyStream?(t.dependencyStream||(t.dependencyStream=ev(e.dependencyStream),t.dependencyStream.matchedStreams=[],t.dependencyStream.createSegmentIndex=function(){if(t.dependencyStream.segmentIndex)return Promise.resolve();for(var e=new Wu,n=g(t.dependencyStream.matchedStreams),r=n.next();!r.done;r=n.next())e.h.push(r.value.segmentIndex);return t.dependencyStream.segmentIndex=e,Promise.resolve()}),t.dependencyStream.matchedStreams.push(e.dependencyStream),rv(t.dependencyStream,e.dependencyStream)):t.dependencyStream&&(t.dependencyStream.matchedStreams.push(e),rv(t.dependencyStream,e))}function iv(t,e){var n=t.roles;n||(n=[]);for(var r=g(e.roles),i=r.next();!i.done;i=r.next())i=i.value,n.includes(i)||n.push(i);for(t.roles=n,r=(n=g(e.keyIds)).next();!r.done;r=n.next())t.keyIds.add(r.value);if(t.encrypted=t.encrypted&&e.encrypted,t.segments.push.apply(t.segments,m(e.segments)),e.closedCaptions)for(t.closedCaptions||(t.closedCaptions=new Map),n=(e=g(e.closedCaptions)).next();!n.done;n=e.next())n=(r=g(n.value)).next().value,r=r.next().value,t.closedCaptions.set(n,r)}function av(t,e,n,r){r=void 0!==r&&r?n.matchedStreams:[];for(var i=(e=g(e)).next();!i.done;i=e.next()){if(!(i=ov(t,i.value,n)))return;r.push(i)}n.matchedStreams=r}function ov(t,e,n){var r={audio:Cv,video:wv,text:xv,image:Tv}[n.type],i=null,a=r(n);if(e.has(a))i=e.get(a);else{a={audio:function(t,e){return uv(t,e)},video:function(t,e){return uv(t,e)},text:lv,image:cv}[n.type];for(var o={audio:dv,video:pv,text:hv,image:fv}[n.type],s=g(e.values()),u=s.next();!u.done;u=s.next())!a(n,u=u.value)||n.fastSwitching!=u.fastSwitching||i&&!o(n,i,u)||(i=u)}return t.u&&!bv(i)&&e.delete(r(i)),i}function sv(t,e){return t.mimeType==e.mimeType&&Ev(t.codecs)===Ev(e.codecs)}function uv(t,e){return!(t.drmInfos&&!Oi(t.drmInfos,e.drmInfos))}function lv(t,e){return!e.language||t.forced===e.forced&&0!=he(t.language,e.language)&&e.kind==t.kind}function cv(){return!0}function dv(t,e,n){var r=yv(t,e,n);if(r===kv)return!0;if(r===Mv)return!1;r=he(t.language,e.language);var i=he(t.language,n.language);if(i>r)return!0;if(i<r)return!1;if(e.label!==n.label){if(t.label===e.label)return!1;if(t.label===n.label)return!0}if(t.roles.length){if(r=e.roles.filter((function(e){return t.roles.includes(e)})),(i=n.roles.filter((function(e){return t.roles.includes(e)}))).length>r.length)return!0;if(i.length<r.length)return!1;if(n.roles.length!==e.roles.length)return n.roles.length<e.roles.length}else{if(!n.roles.length&&e.roles.length)return!0;if(n.roles.length&&!e.roles.length)return!1}return!(e.primary||!n.primary)||!(e.primary&&!n.primary)&&((r=vv(t.channelsCount,e.channelsCount,n.channelsCount))==kv||r!=Mv&&((r=vv(t.audioSamplingRate,e.audioSamplingRate,n.audioSamplingRate))==kv||r!=Mv&&!(!t.bandwidth||Av(t.bandwidth,e.bandwidth,n.bandwidth)!=kv)))}function pv(t,e,n){var r=yv(t,e,n);if(r===kv)return!0;if(r===Mv)return!1;if((r=vv(t.width*t.height,e.width*e.height,n.width*n.height))==kv)return!0;if(r==Mv)return!1;if(t.frameRate){if((r=vv(t.frameRate,e.frameRate,n.frameRate))==kv)return!0;if(r==Mv)return!1}return!(!t.bandwidth||Av(t.bandwidth,e.bandwidth,n.bandwidth)!=kv)}function hv(t,e,n){var r=he(t.language,e.language),i=he(t.language,n.language);if(i>r)return!0;if(i<r)return!1;if(!e.primary&&n.primary)return!0;if(e.primary&&!n.primary)return!1;if(e.label!==n.label){if(t.label===e.label)return!1;if(t.label===n.label)return!0}if(t.roles.length){if(r=e.roles.filter((function(e){return t.roles.includes(e)})),(i=n.roles.filter((function(e){return t.roles.includes(e)}))).length>r.length)return!0;if(i.length<r.length)return!1}else{if(!n.roles.length&&e.roles.length)return!0;if(n.roles.length&&!e.roles.length)return!1}return n.mimeType==t.mimeType&&n.codecs==t.codecs&&(e.mimeType!=t.mimeType||e.codecs!=t.codecs)}function fv(t,e,n){return vv(t.width*t.height,e.width*e.height,n.width*n.height)==kv}function gv(t){return{id:0,originalId:"",groupId:null,primary:!1,type:t,mimeType:"",codecs:"",language:"",originalLanguage:null,label:null,width:null,height:null,encrypted:!1,keyIds:new Set,segments:[],variantIds:[],roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1,baseOriginalId:null}}function mv(t){return{id:0,originalId:"",groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Gu([]),mimeType:"",codecs:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"",originalLanguage:null,label:null,type:t,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}}function vv(t,e,n){if(e==t&&t!=n)return Mv;if(n==t&&t!=e)return kv;if(e>t){if(n<=t||n-t<e-t)return kv;if(n-t>e-t)return Mv}else{if(n>t)return Mv;if(t-n<t-e)return kv;if(t-n>t-e)return Mv}return Iv}function yv(t,e,n){var r=t.mimeType===e.mimeType&&t.codecs===e.codecs,i=t.mimeType===n.mimeType&&t.codecs===n.codecs;return r&&!i?Mv:!r&&i?kv:(e=sv(t,e),t=sv(t,n),e&&!t?Mv:!e&&t?kv:Iv)}function Av(t,e,n){return e=Math.abs(t-e),(t=Math.abs(t-n))<e?kv:e<t?Mv:Iv}function bv(t){switch(t.type){case re:return!t.language;case"image":return!t.tilesLayout;default:return!1}}function wv(t){return Sv([t.fastSwitching,t.width,t.frameRate,t.codecs,t.mimeType,t.label,t.roles,t.closedCaptions?Array.from(t.closedCaptions.entries()):null,t.bandwidth,t.dependencyStream?t.dependencyStream.baseOriginalId:null,Array.from(t.keyIds)])}function Cv(t){return Sv([t.fastSwitching,t.channelsCount,t.language,t.bandwidth,t.label,t.codecs,t.mimeType,t.roles,t.audioSamplingRate,t.primary,t.dependencyStream?t.dependencyStream.baseOriginalId:null,Array.from(t.keyIds)])}function xv(t){return Sv([t.language,t.label,t.codecs,t.mimeType,t.bandwidth,t.roles])}function Tv(t){return Sv([t.width,t.codecs,t.mimeType])}function Sv(t){return JSON.stringify(t)}function Ev(t){if(!Rv.has(t)){var e=Lr(t);Rv.set(t,e)}return Rv.get(t)}h(jm,Gu),(i=jm.prototype).getNumReferences=function(){return this.h?this.h.timeline.length:0},i.release=function(){Gu.prototype.release.call(this),this.h=null},i.cb=function(t){if(this.h){for(var e=0,n=this.h.timeline,r=0;r<n.length&&n[r].end+this.j<=t;r+=1)e+=1;e>0&&(this.h.timeline=n.slice(e),this.g.length>=e&&(this.g=this.g.slice(e)),this.i+=e,0===this.getNumReferences()&&this.release())}},i.find=function(t){if(this.h&&this.h.timeline&&this.h.timeline.length&&t<this.h.timeline[0].start+this.j)return this.i;if(!this.h)return null;var e=this.h.timeline;if(t<this.j||t>=this.l)return null;for(var n=e.length-1,r=0;r<e.length;r++){var i=e[r],a=i.start+this.j;if(i=r<n?e[r+1].start+this.j:this.l===1/0?i.end+this.j:this.l,t>=a&&t<i)return r+this.i}return null},i.get=function(t){var e=this;if((t-=this.i)<0||t>=this.getNumReferences()||!this.h)return null;var n=this.g[t];if(!n){var r=(n=this.h.timeline[t]).om,i=n.wi+this.h.wd,a=this.j-this.h.Pb,o=this.j+n.end,s=o;t===this.getNumReferences()-1&&this.l!==1/0&&(s=this.F&&Math.abs(s-this.l)>.1?Math.min(s,this.l):this.l);var u=this.h.codecs,l=this.h.mimeType,c=this.h.bandwidth,d=[],p=!1;if(n.Ec&&this.h&&this.h.jc&&(p=this.h.jc.includes("$SubNumber$")),p){p=(n.end-n.start)/n.Ec;for(var h={},f=0;f<n.Ec;h={sg:void 0,Uj:void 0},f++){var g=n.start+p*f,m=g+p;h.Uj=f,h.sg=null,(h=new Xo(this.j+g,this.j+m,function(t){return function(){return e.h?(null==t.sg&&(t.sg=Vm(e.h.jc,e.H,r,e.D,i,t.Uj,e.G,e.J)),t.sg):[]}}(h),0,null,this.A,a,this.j,this.l,[],"",null,null,Zo,this.C)).codecs=u,h.mimeType=l,h.bandwidth=c,0==this.I?f>0&&h.Nd():f%this.I!=0&&h.Nd(),d.push(h)}}(n=new Xo(this.j+n.start,s,(function(){return d.length>0||!e.h?[]:Vm(e.h.jc,e.H,r,e.D,i,null,e.G,e.J)}),0,null,this.A,a,this.j,this.l,d,"",null,null,Zo,this.C,d.length>0)).codecs=u,n.mimeType=l,n.j=o,n.bandwidth=c,this.g[t]=n}return n},i.Kb=function(t){Fm(this);for(var e=0;e<this.getNumReferences();e++){var n=this.get(e+this.i);n&&t(n)}},i.pf=function(){return this.K},Gm.prototype.configure=function(t){this.u=t},Gm.prototype.destroy=function(){return this.C=this.u=null,this.i=[],this.h=null,this.m=[],this.G=[],this.l.clear(),null!=this.g&&(this.g.stop(),this.g=null),this.H.destroy()},Gm.prototype.setManifestType=function(t){this.A=t},Gm.prototype.banLocation=function(t){this.j.set(t,Date.now()+6e4)},(i=$m.prototype).release=function(){for(var t=g(this.h.concat(this.g,this.j,this.i)),e=t.next();!e.done;e=t.next())(e=e.value).segmentIndex&&e.segmentIndex.release();this.h=[],this.g=[],this.j=[],this.i=[],this.l=[],this.u=!1,this.m.clear()},i.wl=function(){return this.l},i.uh=function(){return this.j.slice()},i.Ok=function(){return this.i},i.Qi=function(t,e){if(t){if("audio"==t.type)for(var n=g(this.h),r=n.next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(e){return e!==t}));else if("video"==t.type)for(r=(n=g(this.g)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(e){return e!==t})),r.trickModeVideo&&(r.trickModeVideo.matchedStreams=r.trickModeVideo.matchedStreams.filter((function(e){return e!==t}))),r.dependencyStream&&(r.dependencyStream.matchedStreams=r.dependencyStream.matchedStreams.filter((function(e){return e!==t})));else if(t.type==re)for(r=(n=g(this.j)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(e){return e!==t}));else if("image"==t.type)for(r=(n=g(this.i)).next();!r.done;r=n.next())(r=r.value).matchedStreams=r.matchedStreams.filter((function(e){return e!==t}));t.segmentIndex&&t.closeSegmentIndex(),this.m.delete(e)}},i.Og=function(t,e,n){n=void 0!==n&&n;var r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,x,T,S,E,k,I,M,R,L,O,D,_,N,U,B,j=this;return P((function(P){if(1==P.g){if(r=ie,!e&&1==t.length)return i=Xm(t,!1),a=i.Gi,o=i.fk,s=i.Zj,u=i.ej,j.h=Array.from(a[0].values()),j.g=Array.from(o[0].values()),j.j=Array.from(s[0].values()),j.i=Array.from(u[0].values()),P.B(2);for(l=n?j.m.size:0,c=-1,d=0;d<t.length;d++)p=t[d],j.m.has(p.id)||(j.m.add(p.id),-1==c&&(c=d));return-1==c?P.return():(h=Xm(t,!0),f=h.Gi,m=h.fk,v=h.Zj,y=h.ej,w(P,Promise.all([Jm(j,j.h,f,c,ev,rv,l),Jm(j,j.g,m,c,ev,rv,l),Jm(j,j.j,v,c,ev,rv,l),Jm(j,j.i,y,c,ev,rv,l)]),2))}if(A=0,b=[],j.g.length&&j.h.length)for(M=g(j.h),R=M.next();!R.done;R=M.next())for(L=R.value,O=g(j.g),D=O.next();!D.done;D=O.next())_=D.value,N=Pi(L.drmInfos,_.drmInfos),L.drmInfos.length&&_.drmInfos.length&&!N.length||(U=(L.bandwidth||0)+(_.bandwidth||0),L.dependencyStream&&(U+=L.dependencyStream.bandwidth||0),_.dependencyStream&&(U+=_.dependencyStream.bandwidth||0),B=A++,b.push({id:B,language:L.language,disabledUntilTime:0,primary:L.primary,audio:L,video:_,bandwidth:U,drmInfos:N,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]}));else for(x=j.g.length?j.g:j.h,T=g(x),S=T.next();!S.done;S=T.next())E=S.value,k=A++,I=E.bandwidth||0,E.dependencyStream&&(I+=E.dependencyStream.bandwidth||0),b.push({id:k,language:E.language,disabledUntilTime:0,primary:E.primary,audio:E.type==r.na?E:null,video:E.type==r.Ha?E:null,bandwidth:I,drmInfos:E.drmInfos,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});j.l=b,C(P)}))},i.Oj=function(t){this.u=t},G("shaka.util.PeriodCombiner",$m),$m.prototype.setUseStreamOnce=$m.prototype.Oj,$m.prototype.combinePeriods=$m.prototype.Og,$m.prototype.deleteStream=$m.prototype.Qi,$m.prototype.getImageStreams=$m.prototype.Ok,$m.prototype.getTextStreams=$m.prototype.uh,$m.prototype.getVariants=$m.prototype.wl;var kv=1,Iv=0,Mv=-1,Rv=new Map;function Lv(t,e){try{return function(t,e){var n=new DOMParser,r=Ov.value()(t);t=null;try{t=n.parseFromString(r,"text/xml")}catch(t){return null}if(!(n=t.documentElement)||n.getElementsByTagName("parsererror").length||n.tagName!=e)return null;if(!("createNodeIterator"in document))return n;for(e=document.createNodeIterator(t,NodeFilter.SHOW_ALL);t=e.nextNode();)if(t instanceof HTMLElement||t instanceof SVGElement)return null;return n}(Bt(t),e)}catch(t){return null}}var Ov=new Rt((function(){if("undefined"!=typeof trustedTypes){var t=trustedTypes.createPolicy("shaka-player#xml",{createHTML:function(t){return t}});return function(e){return t.createHTML(e)}}return function(t){return t}}));function Pv(){var t=this;this.j=this.g=null,this.C=[],this.h=null,this.Ca=1,this.H=[],this.l={Of:"",type:"",profiles:[],Bc:null,zb:0,mb:null,Fe:0},this.A=new Map,this.D=new Map,this.u=new Map,this.F=new Map,this.sa=new Map,this.m=new $m,this.K=0,this.ya=new Ce(5),this.L=new Wr((function(){t.J&&!t.g.continueLoadingWhenPaused&&(t.I.Fa(t.J,"timeupdate"),t.J.paused)?t.I.ua(t.J,"timeupdate",(function(){return $v(t)})):$v(t)})),this.P=new $i,this.O=null,this.G=[],this.Z=1/0,this.oa=!1,this.i=null,this.M=0,this.R=!1,this.I=new Me,this.J=null,this.S=!1,this.W="",this.ea=function(){return!1},this.V=[],this.aa=new Set,this.ra=new lm}function Dv(t){var e,n,r,i,a,o,s,u,l,c,d;return P((function(p){return 1==p.g?(e=4,n="MPD",r=function(t){var e=t.l.Fe;if(!t.l.Of||!e||!t.H.length)return[];var n=Date.now()/1e3,r=t.H.filter((function(t){return!(t=Dn(t.attributes.ttl))||e+t>n})).map(wn).filter(Yr);return r.length?Jt(t.C,r):[]}(t),i=t.C,r.length?(i=r,n="Patch",e=6):t.C.length>1&&t.i&&((a=Wm(t.i,"Location",!0)).length&&(i=a)),o=Qi(i,t.g.retryParameters),s=Date.now(),w(p,ey(t,o,0,{type:e}),2)):3!=p.g?(u=p.h,t.j?(u.uri&&u.uri!=u.originalUri&&!t.C.includes(u.uri)&&t.C.unshift(u.uri),l=new at(u.uri),t.W=l.g.toString(),w(p,function(t,e,n,r){var i,a,o,s,u,l,c,d;return P((function(p){if(1==p.g){if(i=e,(a=t.g.dash.manifestPreprocessor)!=hc){if(Pe("manifest.dash.manifestPreprocessor configuration","Please Use manifest.dash.manifestPreprocessorTXml instead."),!(o=Lv(i,r)))throw new It(2,4,4001,n);a(o),i=jt(o.outerHTML)}if(!(s=fn(i,r)))throw new It(2,4,4001,n);return(u=t.g.dash.manifestPreprocessorTXml)!=fc&&u(s),"Patch"===r?p.return(function(t,e){var n,r,i,a,o,s,u,l,c,d,p,h,f,v,y,A,b,x,T,S,E,k,I,M;return P((function(R){if(1==R.g){if(n=e.attributes.mpdId,r=Sn(e,"originalPublishTime",Mn),!n||n!==t.l.Of||r!==t.l.Fe)throw t.H=[],new It(1,4,4052);for(i=[],a=[],o=new Set,s=g(yn(e)),u=s.next();!u.done;u=s.next())if(l=u.value,c=Bn(l.attributes.sel||""),d=c[c.length-1],p=wn(l)||"","MPD"===d.name)if("mediaPresentationDuration"===d.Lc){var L=Rn(wn(l)||"");if(null!=L){t.l.Bc=L;for(var O=g(t.A.values()),P=O.next();!P.done;P=O.next())P.value.Bc=L}}else if("type"===d.Lc){for(t.h.presentationTimeline.sd("static"==p),t.l.type=p,O=(L=g(t.A.values())).next();!O.done;O=L.next())O.value.Jb="dynamic"==p;"static"==p&&(t.K=-1)}else"publishTime"===d.Lc?t.l.Fe=Mn(p)||0:null===d.Lc&&"add"===l.tagName&&a.push(l);else if("PatchLocation"===d.name)jn(t.H,l);else if("Period"===d.name)"add"===l.tagName?a.push(l):"remove"===l.tagName&&d.id&&Bv(t,d.id);else if("SegmentTemplate"===d.name){if((L=(O=Bn(l.attributes.sel||""))[O.length-1]).Lc){O=jv(t,O),P=wn(l)||"";for(var D=g(O),_=D.next();!_.done;_=D.next())Fn((_=t.A.get(_.value)).N.Zc,l.tagName,L.Lc,P);L=O}else L=[];for(h=g(L),f=h.next();!f.done;f=h.next())v=f.value,o.add(v)}else if("SegmentTimeline"===d.name||"S"===d.name){for(L=Bn(l.attributes.sel||""),P=(O=g(L=jv(t,L))).next();!P.done;P=O.next())jn(D=An(P=ym(P=t.A.get(P.value),Bm,"SegmentTimeline"),"S"),l),P.children=D;for(y=g(L),A=y.next();!A.done;A=y.next())b=A.value,o.add(b)}for(x=g(o),T=x.next();!T.done;T=x.next())S=T.value,qv(t,S);for(E=g(a),k=E.next();!k.done;k=E.next())I=k.value,i.push.apply(i,m(Uv(t,I)));return i.length?(t.h.periodCount+=i.length,t.h.gapCount=t.M,w(R,Nv(t,i,!0),2)):R.B(2)}"static"==t.l.type&&(M=t.l.Bc,t.h.presentationTimeline.Fb(M||1/0)),C(R)}))}(t,s)):t.g.dash.disableXlinkProcessing?p.return(_v(t,s,n)):(l=t.g.dash.xlinkFailGracefully,c=Am(s,t.g.retryParameters,l,n,t.j.networkingEngine),Xi(t.P,c),w(p,c.promise,2))}return d=p.h,p.return(_v(t,d,n))}))}(t,u.data,u.uri,n),3)):p.return(0)):(c=Date.now(),d=(c-s)/1e3,t.ya.sample(1,d),t.aa.clear(),p.return(d))}))}function _v(t,e,n){var r,i,a,o,s,u,l,c,d,p,h,f,v,y,A,b,T,k,I,M,R,L,O,D,_,N,U,B,j,q,F,V,G,z,H,K,W,$,Y,J,Z,Q,tt,et,nt,rt,it,at,ot,st,ut,lt,ct,dt;return P((function(pt){switch(pt.g){case 1:for(t.i&&t.i.l.clear(),r=[n],i=[],a=new Map,o=An(e,"Location"),s=g(o),u=s.next();!u.done;u=s.next())l=u.value,c=l.attributes.serviceLocation,(d=wn(l))&&(p=Jt(r,[d])[0],c&&(t.i?Km(t.i,"Location",c,p):a.set(c,p)),i.push(p));if(t.i?(h=Wm(t.i,"Location",!0)).length>0&&(r=t.C=h):i.length&&(r=t.C=i),t.l.Of=e.attributes.id||"",t.l.Fe=Sn(e,"publishTime",Mn)||0,t.H=An(e,"PatchLocation"),f=Promise.resolve(),(v=xn(e,"ContentSteering"))&&t.j)for(y=v.attributes.defaultServiceLocation,t.i?(t.i.i=r,t.i.h=y):(t.i=new Gm(t.j),t.i.configure(t.g),t.i.setManifestType("DASH"),t.i.i=r,t.i.h=y,(A=wn(v))&&(Sn(v,"queryBeforeStart",Nn,!1)?f=zm(t.i,A):zm(t.i,A))),b=g(a.keys()),T=b.next();!T.done;T=b.next())k=T.value,I=a.get(k),Km(t.i,"Location",k,I);if(M=An(e,"BaseURL"),R=!1,t.i)for(L=g(M),O=L.next();!O.done;O=L.next())D=O.value,_=D.attributes.serviceLocation,N=wn(D),_&&N&&(Km(t.i,"BaseURL",_,N),R=!0);if(t.V.splice(0),R&&t.i||(U=M.map(wn),t.V.push.apply(t.V,m(Jt(r,U)))),B=t.i,j=t.V,q=function(){return B&&R?Wm(B,"BaseURL"):j.slice()},t.l.mb=q,F=0,M&&M.length&&(F=Sn(M[0],"availabilityTimeOffset",_n)||0),t.l.zb=F,t.K=Sn(e,"minimumUpdatePeriod",Rn,-1),V=Sn(e,"availabilityStartTime",Mn),G=Sn(e,"timeShiftBufferDepth",Rn),z=t.g.dash.ignoreSuggestedPresentationDelay,H=null,z||(H=Sn(e,"suggestedPresentationDelay",Rn)),K=t.g.dash.ignoreMaxSegmentDuration,W=null,K||(W=Sn(e,"maxSegmentDuration",Rn)),$=e.attributes.type||"static",t.h&&t.h.presentationTimeline&&(t.S=t.h.presentationTimeline.U()&&"static"==$),t.l.type=$,t.h)for(Y=t.h.presentationTimeline,J=Y.Mb(),Z=g(t.u.values()),Q=Z.next();!Q.done;Q=Z.next())(tt=Q.value).segmentIndex&&tt.segmentIndex.cb(J);else et=t.g.dash.ignoreMinBufferTime,nt=0,et||(nt=Sn(e,"minBufferTime",Rn)||0),0,rt=null!=H?Math.min(H,G||1/0):t.g.defaultPresentationDelay>0?t.g.defaultPresentationDelay:Math.min(1.5*nt,G||1/0),Y=new bu(V,rt,t.g.dash.autoCorrectDrift);return Y.sd("static"==$),Y.U()&&!isNaN(t.g.availabilityWindowOverride)&&(G=t.g.availabilityWindowOverride),null==G&&(G=1/0),Y.hg(G),it=e.attributes.profiles||"",t.l.profiles=it.split(","),at={Jb:"static"!=$,presentationTimeline:Y,Aa:null,qa:null,va:null,N:null,bandwidth:0,Bh:!1,zb:F,Bc:null,profiles:it.split(","),roles:null,Rb:function(){return""}},w(pt,f,2);case 2:return t.M=0,ot=Gv(t,at,q,e,!1),st=ot.duration,ut=ot.periods,("static"!=$||t.S)&&ot.Si||Y.Fb(st||1/0),t.R&&t.oa&&Y.Jj(t.Z),Y.Kh(W||1),t.R&&t.oa&&(lt=null!=H?H:t.g.defaultPresentationDelay,Y.bi(lt)),t.h?(t.h.periodCount=ut.length,t.h.gapCount=t.M,w(pt,Nv(t,ut,!1),4)):w(pt,t.m.Og(ut,at.Jb),6);case 6:if(t.h={presentationTimeline:Y,variants:t.m.l,textStreams:t.m.uh(),imageStreams:t.m.i,offlineSessionIds:[],sequenceMode:t.g.dash.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"DASH",serviceDescription:Fv(e),nextUrl:Vv(e),periodCount:ut.length,gapCount:t.M,isLowLatency:t.R,startTime:null},!Y.dk()){pt.B(7);break}return ct=An(e,"UTCTiming"),w(pt,function(t,e,n){var r,i,a,o,s,u,l,c;return P((function(d){switch(d.g){case 1:r=n.map((function(t){return{scheme:t.attributes.schemeIdUri,value:t.attributes.value}})),i=t.g.dash.clockSyncUri,!r.length&&i&&r.push({scheme:"urn:mpeg:dash:utc:http-head:2014",value:i}),a=g(r),o=a.next();case 2:if(o.done){d.B(4);break}switch(s=o.value,x(d,5),u=s.scheme,l=s.value,u){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":return d.B(7);case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":return d.B(8);case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":return c=Date.parse(l),d.return(isNaN(c)?0:c-Date.now());case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":X("NTP UTCTiming scheme is not supported");break;default:X("Unrecognized scheme in UTCTiming element",u)}d.B(9);break;case 7:return w(d,Jv(t,e,l,"HEAD"),10);case 10:return d.return(d.h);case 8:return w(d,Jv(t,e,l,"GET"),11);case 11:return d.return(d.h);case 9:S(d,3);break;case 5:E(d);case 3:o=a.next(),d.B(2);break;case 4:return X("A UTCTiming element should always be given in live manifests! This content may not play on clients with bad clocks!"),d.return(0)}}))}(t,q,ct),8);case 8:if(dt=pt.h,!t.j)return pt.return();Y.Kj(dt);case 7:Y.Kf(),t.m&&!t.h.presentationTimeline.U()&&t.m.release();case 4:t.j.makeTextStreamsForClosedCaptions(t.h),function(t){for(var e=Array.from(t.F.keys()).filter((function(e){return!t.G.includes(e)})),n=(e=g(e)).next();!n.done;n=e.next()){n=n.value;for(var r=!0,i=g(t.F.get(n)),a=i.next();!a.done;a=i.next()){a=a.value;var o=t.u.get(a);o&&(o.segmentIndex&&0!=o.segmentIndex.getNumReferences()?r=!1:(t.m&&t.m.Qi(o,n),t.u.delete(a)))}r&&t.F.delete(n)}}(t),function(t,e){e=new Set(e.map((function(t){return t.id})));for(var n=g(t.D.keys()),r=n.next();!r.done;r=n.next())r=r.value,e.has(r)||t.D.delete(r)}(t,ut),C(pt)}}))}function Nv(t,e,n){var r;return P((function(i){if(1==i.g)return w(i,t.m.Og(e,!0,n),2);t.h.variants=t.m.l,(r=t.m.uh()).length>0&&(t.h.textStreams=r),t.h.imageStreams=t.m.i,t.j.filter(t.h),C(i)}))}function Uv(t,e){return Gv(t,{Jb:"dynamic"==t.l.type,presentationTimeline:t.h.presentationTimeline,Aa:null,qa:null,va:null,N:null,bandwidth:0,Bh:!1,zb:t.l.zb,profiles:t.l.profiles,Bc:t.l.Bc,roles:null,Rb:function(){return""}},t.l.mb,e,!0).periods}function Bv(t,e){t.h.periodCount--;for(var n=g(t.A.keys()),r=n.next();!r.done;r=n.next())if((r=r.value).startsWith(e)){ym(t.A.get(r),Bm,"SegmentTimeline").children=[],qv(t,r),t.A.delete(r)}t.G=t.G.filter((function(t){return t!==e}))}function jv(t,e){for(var n="",r="",i=-1,a="",o=(e=g(e)).next();!o.done;o=e.next())"Period"===(o=o.value).name?n=o.id:"AdaptationSet"===o.name?(r=o.id,null!==o.position&&(i=o.position)):"Representation"===o.name&&(a=o.id);if(e=[],a)e.push(n+","+a);else if(r)for(i=g(t.A.values()),t=i.next();!t.done;t=i.next())(t=t.value).Aa.id===n&&t.va.id===r&&t.N.id&&e.push(n+","+t.N.id);else if(i>-1)for(r=g(t.A.values()),t=r.next();!t.done;t=r.next())(t=t.value).Aa.id===n&&t.va.position===i&&t.N.id&&e.push(n+","+t.N.id);return e}function qv(t,e){var n=t.A.get(e),r=t.u.get(e);r.segmentIndex&&r.segmentIndex.cb(t.h.presentationTimeline.Mb());try{var i=Um(n,(function(e,n,r,i){return Qv(t,e,n,r,i)}),t.u,!0,t.g.dash.initialSegmentLimit,t.sa,n.N.aesKey,null,!0,t.D);r.createSegmentIndex=function(){return P((function(t){if(1==t.g)return r.segmentIndex?t.B(0):w(t,i.gd(),3);r.segmentIndex=t.h,C(t)}))}}catch(t){if((e=n.N.contentType)!=re&&"application"!=e&&"image"!=e||4002!=t.code)throw t}}function Fv(t){var e=xn(t,"ServiceDescription");if(!e)return null;if(t=xn(e,"Latency"),e=xn(e,"PlaybackRate"),!t&&!e)return null;var n={};return t&&("target"in t.attributes&&(n.targetLatency=parseInt(t.attributes.target,10)/1e3),"max"in t.attributes&&(n.maxLatency=parseInt(t.attributes.max,10)/1e3),"min"in t.attributes&&(n.minLatency=parseInt(t.attributes.min,10)/1e3)),e&&("max"in e.attributes&&(n.maxPlaybackRate=parseFloat(e.attributes.max)),"min"in e.attributes&&(n.minPlaybackRate=parseFloat(e.attributes.min))),n}function Vv(t){if(!(t=An(t,"SupplementalProperty")).length)return null;for(var e=(t=g(t)).next();!e.done;e=t.next())if("urn:mpeg:dash:chaining:2016"==(e=e.value).attributes.schemeIdUri)return e.attributes.value;return null}function Gv(t,e,n,r,i){var a=e.Bc;a||(a=Sn(r,"mediaPresentationDuration",Rn),t.l.Bc=a);var o=0;t.h&&t.h.presentationTimeline&&t.S&&(o=t.h.presentationTimeline.fc());var s=[],u=o;r=An(r,"Period");for(var l=0;l<r.length;l++){var c=r[l],d=r[l+1],p=Sn(c,"start",Rn,u),h=c.attributes.id,f=Sn(c,"duration",Rn);p=0==l&&0==p&&t.S?o:p;var m=null;if(d){var v=Sn(d,"start",Rn);null!=v&&(m=v-p+o)}else null!=a&&(m=a-p+o);if(v=ae,m&&f&&Math.abs(m-f)>v&&m>f&&t.M++,null==m&&(m=f),!(null!==t.O&&null!==h&&null!==p&&p<t.O)||t.G.includes(h)||l+1==r.length){if(null!==p&&(null===t.O||p>t.O)&&(t.O=p),u=zv(t,e,n,{start:p,duration:m,node:c,Ef:null==m||!d}),s.push(u),e.Aa.id&&m&&t.sa.set(e.Aa.id,m),null==m){u=null;break}u=p+m}}if(i)for(n=(e=g(s)).next();!n.done;n=e.next())n=n.value.id,t.G.includes(n)||t.G.push(n);else t.G=s.map((function(t){return t.id}));return null!=a?{periods:s,duration:a+o,Si:!1}:{periods:s,duration:u,Si:!0}}function zv(t,e,n,r){e.Aa=Yv(t,r.node,null,n),e.qa=r,e.Aa.zb=e.zb,e.Aa.id||(e.Aa.id="__shaka_period_"+r.start);var i=An(r.node,"EventStream");n=e.presentationTimeline.Mb();for(var a=(i=g(i)).next();!a.done;a=i.next())Zv(t,r.start,r.duration,a.value,n);for(i=(n=g(n=An(r.node,"SupplementalProperty"))).next();!i.done;i=n.next())"urn:mpeg:dash:urlparam:2014"==(i=i.value).attributes.schemeIdUri&&(i=Wv(t,i))&&(e.Rb=i);if(n=An(r.node,"AdaptationSet").map((function(n,r){return Kv(t,e,r,n)})).filter(Yr),e.Jb){i=[];for(var o=(a=g(n)).next();!o.done;o=a.next())for(var s=(o=g(o.value.hm)).next();!s.done;s=o.next())i.push(s.value);if(i.length!=new Set(i).size)throw new It(2,4,4018)}for(i=new Map,o=(a=g(n)).next();!o.done;o=a.next())for(s=(o=g(o.value.xk)).next();!s.done;s=o.next()){var u=g(s.value);s=u.next().value,u=u.next().value,i.set(s,u)}if(i.size)for(a=null,s=(o=g(n)).next();!s.done;s=o.next()){u=[];for(var l=g((s=s.value).streams),c=l.next(),d={};!c.done;d={li:void 0},c=l.next())if(d.li=c.value,i.has(d.li.originalId)){a||(a=An(r.node,"AdaptationSet").map((function(n,r){return Kv(t,e,r,n)})).filter(Yr));for(var p=(c=g(a)).next();!p.done;p=c.next())(p=p.value.streams.find(function(t){return function(e){return e.originalId==t.li.originalId}}(d)))&&(p.dependencyStream=i.get(p.originalId),p.originalId+=p.dependencyStream.originalId,u.push(p))}u.length&&s.streams.push.apply(s.streams,m(u))}if(r=n.filter((function(t){return!t.ti})),n=n.filter((function(t){return t.ti})),!t.g.disableIFrames)for(i=(n=g(n)).next();!i.done;i=n.next())for(a=(i=i.value).ti.split(" "),s=(o=g(r)).next();!s.done;s=o.next())if(s=s.value,a.includes(s.id))for(u=(s=g(s.streams)).next();!u.done;u=s.next())bi(u.value,i.streams);if(n=Hv(t.g.disableAudio,r,"audio"),i=Hv(t.g.disableVideo,r,"video"),a=Hv(t.g.disableText,r,re),r=Hv(t.g.disableThumbnails,r,"image"),0===i.length&&0===n.length)throw new It(2,4,4004);return{id:e.Aa.id,audioStreams:n,videoStreams:i,textStreams:a,imageStreams:r}}function Hv(t,e,n){return t||!e.length?[]:e.reduce((function(t,e){return e.contentType!=n||t.push.apply(t,m(e.streams)),t}),[])}function Kv(e,n,r,i){function a(t){var r=t.attributes["dvb:fontFamily"];t=t.attributes["dvb:url"],r&&t&&(t=Jt(n.va.mb(),[t],n.Rb()),e.j.addFont(r,t[0]))}function o(t){switch(t){case 1:case 5:case 6:case 7:return"srgb";case 9:return"rec2020";case 11:case 12:return"p3"}}function s(t){switch(t){case 1:case 6:case 13:case 14:case 15:return"SDR";case 16:return"PQ";case 18:return"HLG"}}n.va=Yv(e,i,n.Aa,null),n.va.position=r;var u=!1,l=(r=An(i,"Role")).map((function(t){return t.attributes.value})).filter(Yr),c=void 0,d=n.va.contentType==re;d&&(c="subtitle");for(var p=(r=g(r)).next();!p.done;p=r.next()){var h=(p=p.value).attributes.schemeIdUri;if(null==h||"urn:mpeg:dash:role:2011"==h)switch(p=p.attributes.value,p){case"main":u=!0;break;case"caption":case"subtitle":c=p}}var f=An(i,"EssentialProperty");r=null;var v=!1;p=null,h=!1;for(var y=(f=g(f)).next();!y.done;y=f.next()){var A=(y=y.value).attributes.schemeIdUri;if("http://dashif.org/guidelines/trickmode"==A)r=y.attributes.value;else if("urn:mpeg:mpegB:cicp:TransferCharacteristics"==A)var b=s(parseInt(y.attributes.value,10));else if("urn:mpeg:mpegB:cicp:ColourPrimaries"==A)var x=o(parseInt(y.attributes.value,10));else"urn:mpeg:mpegB:cicp:MatrixCoefficients"!=A&&("urn:mpeg:dash:ssr:2023"==A&&e.g.dash.enableFastSwitching?v=!0:"urn:dvb:dash:fontdownload:2014"==A?a(y):"urn:mpeg:dash:urlparam:2014"==A&&(p=Wv(e,y))||(h=!0))}if(h)return null;var T=null;for(f=(h=g(h=An(i,"SupplementalProperty"))).next();!f.done;f=h.next())"http://dashif.org/guidelines/last-segment-number"==(y=(f=f.value).attributes.schemeIdUri)?T=parseInt(f.attributes.value,10)-1:"urn:mpeg:mpegB:cicp:TransferCharacteristics"==y?b=s(parseInt(f.attributes.value,10)):"urn:mpeg:mpegB:cicp:ColourPrimaries"==y?x=o(parseInt(f.attributes.value,10)):"urn:dvb:dash:fontdownload:2014"==y?a(f):"urn:mpeg:dash:urlparam:2014"==y&&(p=Wv(e,f));p&&(n.Rb=p),p=An(i,"Accessibility");var S,E=new Map;for(h=(p=g(p)).next();!h.done;h=p.next())if(h=(f=h.value).attributes.schemeIdUri,f=f.attributes.value,"urn:scte:dash:cc:cea-608:2015"!=h||e.g.disableText)if("urn:scte:dash:cc:cea-708:2015"!=h||e.g.disableText)"urn:mpeg:dash:role:2011"==h?null!=f&&(l.push(f),"captions"==f&&(c="caption")):"urn:tva:metadata:cs:AudioPurposeCS:2007"==h&&("1"==f?S="visually impaired":"2"==f?S="hard of hearing":"9"==f&&(S="spoken subtitles"));else if(h=1,null!=f)for(y=(f=g(f.split(";"))).next();!y.done;y=f.next()){A=y.value;var k=y=void 0;A.includes("=")?(y="svc"+(A=A.split("="))[0],k=A[1].split(",")[0].split(":").pop()):(y="svc"+h,h++,k=A),E.set(y,de(k))}else E.set("svc1","und");else if(h=1,null!=f)for(A=(y=g(f=f.split(";"))).next();!A.done;A=y.next()){k=A.value;var I=A=void 0;k.includes("=")?(A=(k=k.split("="))[0].startsWith("CC")?k[0]:"CC"+k[0],I=k[1]||"und"):(A="CC"+h,2==f.length?h+=2:h++,I=k),E.set(A,de(I))}else E.set("CC1","und");p=An(i,"ContentProtection");var M=cm(e.ra,p,e.g.ignoreDrmInfo,e.g.dash.keySystemsByURI);n.va.encrypted=p.length>0;var R=de(n.va.language||"und"),L=n.va.label,O=new Map;if(i=An(i,"Representation"),!e.g.ignoreSupplementalCodecs){for(p=[],f=(h=g(i)).next();!f.done;f=h.next())(f=En(y=f.value,"urn:scte:dash:scte214-extensions","supplementalCodecs"))&&((y=dn(y)).attributes.codecs=f.split(" ").join(","),y.attributes.id&&(y.attributes.supplementalId=y.attributes.id+"_supplementalCodecs"),p.push(y));i.push.apply(i,m(p))}if(0==(p=i.map((function(r){var i=function(e,n,r,i,a,o,s,u,l,c,d,p){n.N=Yv(e,c,n.va,null);var h=n.N.id;if(e.Z=Math.min(e.Z,n.N.zb),e.R=e.Z>0,!function(t){var e=t.Xd?1:0;return e+=t.Ic?1:0,0==(e+=t.Zc?1:0)?t.contentType==re||"application"==t.contentType:(1!=e&&(t.Xd&&(t.Ic=null),t.Zc=null),!0)}(n.N))return null;var f=n.qa.start;n.bandwidth=Sn(c,"bandwidth",Pn)||0,n.roles=u;var g=An(c,"SupplementalProperty"),m=An(c,"EssentialProperty"),v=An(c,"ContentProtection");c=null;var y,A,b=m.find((function(t){return"urn:mpeg:dash:urlparam:2014"==t.attributes.schemeIdUri}));(b||(b=g.find((function(t){return"urn:mpeg:dash:urlparam:2014"==t.attributes.schemeIdUri}))))&&(c=Wv(e,b)),c&&(n.Rb=c),b=n.N.contentType,c=b==re||"application"==b,b="image"==b,v.length&&(n.va.encrypted=!0);try{var x=void 0;if(r.Hg){var T=n.N.mb,S=n.Rb,E=Qi(Jt(T(),[r.Hg.Kl],S()),e.g.retryParameters);x={bitsKey:128,blockCipherMode:"CBC",iv:r.Hg.iv,firstMediaSequenceNumber:0,fetchKey:function(){var n,r,i;return P((function(a){if(1==a.g)return w(a,ey(e,E,6),2);if(3!=a.g){if(!(n=a.h).data||16!=n.data.byteLength)throw new It(2,4,4049);return r={name:"AES-CBC"},i=x,w(a,t.crypto.subtle.importKey("raw",n.data,r,!0,["decrypt"]),3)}i.cryptoKey=a.h,x.fetchKey=void 0,C(a)}))}}}if(n.N.aesKey=x,T=function(t,n,r,i){return Qv(e,t,n,r,i)},n.N.Xd)var k=Mm(n,T,x);else if(n.N.Ic)k=_m(n,e.u,x);else if(n.N.Zc)k=Um(n,T,e.u,!!e.h,e.g.dash.initialSegmentLimit,e.sa,x,p,!1,e.D);else{var I=n.qa.duration||0,M=n.N.mb,R=n.N.mimeType,L=n.N.codecs;k={endTime:-1,timeline:-1,gd:function(){var t=Hu(f,I,M());return t.Kb((function(t){t.mimeType=R,t.codecs=L})),Promise.resolve(t)},timescale:1}}}catch(t){if((c||b)&&4002==t.code)return null;throw t}if(p=function(t,e,n,r,i){var a=cm(t,e,r,i);if(n.Ui)t=1==n.drmInfos.length&&!n.drmInfos[0].keySystem,e=0==a.drmInfos.length,(0==n.drmInfos.length||t&&!e)&&(n.drmInfos=a.drmInfos),n.Ui=!1;else if(a.drmInfos.length>0&&(n.drmInfos=n.drmInfos.filter((function(t){return a.drmInfos.some((function(e){return e.keySystem==t.keySystem}))})),0==n.drmInfos.length))throw new It(2,4,4008);return a.Pi||n.Pi}(e.ra,v,r,e.g.ignoreDrmInfo,e.g.dash.keySystemsByURI),p=new Set(p?[p]:[]),v=!1,g.some((function(t){return"tag:dolby.com,2018:dash:EC3_ExtensionType:2018"==t.attributes.schemeIdUri&&"JOC"==t.attributes.value}))&&(v=!0),g=!1,c&&(g=u.includes("forced_subtitle")||u.includes("forced-subtitle")),b&&((m=m.find((function(t){return["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"].includes(t.attributes.schemeIdUri)})))&&(y=m.attributes.value),!y))return null;c=n.N.codecs,n.profiles.includes("http://dashif.org/guidelines/dash-if-uhd#hevc-hdr-pq10")&&(c.includes("hvc1.2.4.L153.B0")||c.includes("hev1.2.4.L153.B0"))&&(A="PQ"),m=n.N.id?n.Aa.id+","+n.N.id:"",e.H.length&&h&&e.A.set(n.Aa.id+","+h,function(t){function e(t){return t?((t=pn(t)).Xd=null,t.Ic=null,t.Zc=Gn(t.Zc),t.Wf=null,t):null}return(t=pn(t)).Aa=e(t.Aa),t.va=e(t.va),t.N=e(t.N),t.qa&&(t.qa=pn(t.qa),t.qa.node=null),t}(n)),n.N.Wf&&function(t,e,n,r){if(!t.aa.has(e)){t.aa.add(e);var i,a=Sn(e,"presentationTime",Dn)||0,o=xn(e,"UTCTiming");(i=o&&o.attributes.schemeIdUri)&&(i=!("urn:mpeg:dash:utc:http-ntp:2014"===(o=o.attributes.schemeIdUri)||"urn:mpeg:dash:utc:ntp:2014"===o||"urn:mpeg:dash:utc:sntp:2014"===o)),i?e=1e3*(Sn(e,"wallClockTime",Mn)||0):e=xs(e=Sn(e,"wallClockTime",Dn)||0),a=(n=new Date(e-a/n.timescale*1e3)).getTime()/1e3,isNaN(a)||(r.u||r.di(a),r=new z("prft",r=(new Map).set("detail",{wallClockTime:e,programStartDate:n})),t.j.onEvent(r))}}(e,n.N.Wf,k,n.presentationTimeline),-1!=k.endTime&&null!=n.Aa.id&&null!=n.N.id&&((h=e.D.get(n.Aa.id))?(h.endTime=k.endTime,h.Th.includes(n.N.id)||h.Th.push(n.N.id),e.D.set(n.Aa.id,h)):e.D.set(n.Aa.id,{endTime:k.endTime,timeline:k.timeline,Th:[n.N.id]}));var O=m&&e.u.has(m)?e.u.get(m):{id:e.Ca++,originalId:n.N.id,groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){O.segmentIndex&&(O.segmentIndex.release(),O.segmentIndex=null)},segmentIndex:null,mimeType:n.N.mimeType,codecs:c,frameRate:n.N.frameRate,pixelAspectRatio:n.N.pixelAspectRatio,bandwidth:n.bandwidth,width:n.N.width,height:n.N.height,kind:i,encrypted:r.drmInfos.length>0,drmInfos:r.drmInfos,keyIds:p,language:a,originalLanguage:n.va.language,label:o,type:n.va.contentType,primary:s,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:n.N.emsgSchemeIdUris,roles:u,forced:g,channelsCount:n.N.Rf,audioSamplingRate:n.N.audioSamplingRate,spatialAudio:v,closedCaptions:l,hdr:A,colorGamut:void 0,videoLayout:void 0,tilesLayout:y,accessibilityPurpose:d,external:!1,fastSwitching:!1,fullMimeTypes:new Set([kr(n.N.mimeType,n.N.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null};return O.createSegmentIndex=function(){var t;return P((function(e){if(1==e.g)return O.segmentIndex?e.B(0):(t=O,w(e,k.gd(),3));t.segmentIndex=e.h,C(e)}))},m&&n.Jb&&!e.u.has(m)&&(n=n.Aa.id||"",e.F.has(n)||e.F.set(n,[]),e.u.set(m,O),e.F.get(n).push(m)),O}(e,n,M,c,R,L,u,l,E,r,S,T);return i&&(i.hdr=i.hdr||b,i.colorGamut=i.colorGamut||x,i.fastSwitching=v,r=r.attributes.dependencyId)?(i.baseOriginalId=r,O.set(r,i),null):i})).filter((function(t){return!!t}))).length&&0==O.size){if(r="image"==n.va.contentType,e.g.dash.ignoreEmptyAdaptationSet||d||r)return null;throw new It(2,4,4003)}if(!n.va.contentType||"application"==n.va.contentType)for(n.va.contentType=ty(p[0].mimeType,p[0].codecs),h=(d=g(p)).next();!h.done;h=d.next())h.value.type=n.va.contentType;for(d=n.va.id||"__fake__"+e.Ca++,f=(h=g(p)).next();!f.done;f=h.next()){for(f=f.value,A=(y=g(M.drmInfos)).next();!A.done;A=y.next())(A=A.value).keyIds=A.keyIds&&f.keyIds?new Set([].concat(m(A.keyIds),m(f.keyIds))):A.keyIds||f.keyIds;e.g.enableAudioGroups&&(f.groupId=d)}return i=i.map((function(t){return t.attributes.supplementalId||t.attributes.id})).filter(Yr),{id:d,contentType:n.va.contentType,language:R,Sn:u,streams:p,drmInfos:M.drmInfos,ti:r,hm:i,xk:O}}function Wv(t,e){if((e=Tn(e,"urn:mpeg:dash:schema:urlparam:2014","UrlQueryInfo"))&&Sn(e,"useMPDUrlQuery",Nn,!1)){var n=e.attributes.queryTemplate;if(n)return function(){return"$querypart$"==n?t.W:n.split("&").map((function(e){if("$querypart$"==e)return t.W;var n=/\$query:(.*?)\$/g.exec(e);if(n&&2==n.length){n=n[1];var r=new yt(t.W).get(n);if(r.length)return n+"="+r[0]}return e})).join("&")}}return null}function $v(t){var e,n;return P((function(r){switch(r.g){case 1:return e=0,x(r,2),w(r,Dv(t),4);case 4:e=r.h,S(r,3);break;case 2:if(n=E(r),t.j){if(t.g.raiseFatalErrorOnManifestUpdateRequestFailure)return t.j.onError(n),r.return();n.severity=1,t.j.onError(n)}case 3:if(!t.j)return r.return();t.j.onManifestUpdated(),Xv(t,e),C(r)}}))}function Xv(t,e){if(!(t.K<0)){var n=t.K;t.g.updatePeriod>=0&&(n=t.g.updatePeriod),t.L.Y(Math.max(n-e,xe(t.ya)))}}function Yv(t,e,n,r){n=n||{contentType:"",mimeType:"",codecs:"",emsgSchemeIdUris:[],frameRate:void 0,pixelAspectRatio:void 0,Rf:null,audioSamplingRate:null,zb:0,eg:1,encrypted:!1},r=r||n.mb;var i,a=e.attributes.id,o=e.attributes.supplementalId,s=An(e,"BaseURL"),u=!1;if(t.i)for(var l=g(s),c=l.next();!c.done;c=l.next()){var d=c.value;c=d.attributes.serviceLocation,d=wn(d),c&&d&&(Km(t.i,a,c,d),u=!0)}u&&t.i||(i=s.map(wn));var p=t.i;t=e.attributes.contentType||n.contentType,l=e.attributes.mimeType||n.mimeType,c=ml([e.attributes.codecs||n.codecs]).join(","),d=Sn(e,"frameRate",Un)||n.frameRate;var h=e.attributes.sar||n.pixelAspectRatio,f=function(t,e){e=e.slice();for(var n=(t=g(t)).next();!n.done;n=t.next())n=n.value.attributes.schemeIdUri,e.includes(n)||e.push(n);return e}(An(e,"InbandEventStream"),n.emsgSchemeIdUris),m=An(e,"AudioChannelConfiguration");m=function(t){for(var e=(t=g(t)).next();!e.done;e=t.next()){var n=(e=e.value).attributes.schemeIdUri;if(n&&(e=e.attributes.value))switch(n){case"urn:mpeg:dash:outputChannelPositionList:2012":return e.trim().split(/ +/).length;case"urn:mpeg:dash:23003:3:audio_channel_configuration:2011":case"urn:dts:dash:audio_channel_configuration:2012":if(!(e=parseInt(e,10)))continue;return e;case"tag:dolby.com,2015:dash:audio_channel_configuration:2015":if(n=[2,1,2,2,2,2,1,2,2,1,1,1,1,2,1,1,2,2],!(e=parseInt(e,16)))continue;for(var r=0,i=0;i<n.length;i++)e&1<<i&&(r+=n[i]);if(r)return r;continue;case"tag:dolby.com,2014:dash:audio_channel_configuration:2011":case"urn:dolby:dash:audio_channel_configuration:2011":if(n=[1,1,1,1,1,2,2,1,1,2,2,2,1,2,1,1].reverse(),!(e=parseInt(e,16)))continue;for(i=r=0;i<n.length;i++)e&1<<i&&(r+=n[i]);if(r)return r;continue;case"urn:mpeg:mpegB:cicp:ChannelConfiguration":if(n=[0,1,2,3,4,5,6,8,2,3,4,7,8,24,8,12,10,12,14,12,14],(e=parseInt(e,10))&&e>0&&e<n.length)return n[e]}}return null}(m)||n.Rf;var v=Sn(e,"audioSamplingRate",Dn)||n.audioSamplingRate;t||(t=ty(l,c));var y=xn(e,"SegmentBase"),A=xn(e,"SegmentTemplate"),b=y&&Sn(y,"availabilityTimeOffset",_n)||0,w=A&&Sn(A,"availabilityTimeOffset",_n)||0,C=s&&s.length&&Sn(s[0],"availabilityTimeOffset",_n)||0;b=n.zb+C+b+w,w=null,(C=xn(e,"SegmentSequenceProperties"))&&(C=Sn(C,"cadence",Pn))&&(w=C),C=e.attributes.label;var x=An(e,"Label");return x&&x.length&&(bn(x=x[0])&&(C=bn(x))),{mb:function(){return Jt(r(),s.length?p&&u?Wm(p,a):i||[]:[])},Xd:y||n.Xd,Ic:xn(e,"SegmentList")||n.Ic,Zc:A||n.Zc,Wf:xn(e,"ProducerReferenceTime")||n.Wf,width:Sn(e,"width",Dn)||n.width,height:Sn(e,"height",Dn)||n.height,contentType:t,mimeType:l,codecs:c,frameRate:d,pixelAspectRatio:h,emsgSchemeIdUris:f,id:o||a,originalId:a,language:e.attributes.lang,Rf:m,audioSamplingRate:v,zb:b,Bf:null,eg:w||n.eg,label:C||null,encrypted:!1}}function Jv(t,e,n,r){var i,a,o,s,u,l,c;return P((function(d){if(1==d.g)return i=[Vt(n)],a=Jt(e(),i),(o=Qi(a,t.g.retryParameters)).method=r,s=t.j.networkingEngine.request(4,o,{isPreload:t.ea()}),Xi(t.P,s),w(d,s.promise,2);if(u=d.h,"HEAD"==r){if(!u.headers||!u.headers.date)return d.return(0);l=u.headers.date}else l=Nt(u.data);return c=Date.parse(l),isNaN(c)?d.return(0):d.return(c-Date.now())}))}function Zv(t,e,n,r,i){for(var a=r.attributes.schemeIdUri||"",o=r.attributes.value||"",s=Sn(r,"timescale",Dn)||1,u=Sn(r,"presentationTimeOffset",Dn)||0,l=(r=g(An(r,"Event"))).next();!l.done;l=r.next()){var c=Sn(l=l.value,"presentationTime",Dn)||0,d=Sn(l,"duration",Dn)||0;d=(c=Math.max((c-u)/s+e,e))+d/s,null!=n&&(c=Math.min(c,e+n),d=Math.min(d,e+n)),d<i||(l={schemeIdUri:a,value:o,startTime:c,endTime:d,id:l.attributes.id||"",timescale:s,eventElement:Vn(l),eventNode:Gn(l)},t.j.onTimelineRegionAdded(l))}}function Qv(t,e,n,r,i){var a,o,s,u;return P((function(l){return 1==l.g?(a=ia,o=i?0:1,s=yl(e,n,r,t.g.retryParameters),w(l,ey(t,s,a,{type:o}),2)):(u=l.h,l.return(u.data))}))}function ty(t,e){return Fr(e=kr(t,e))?re:t.split("/")[0]}function ey(t,e,n,r){return r||(r={}),r.isPreload=t.ea(),e=t.j.networkingEngine.request(n,e,r),Xi(t.P,e),e.promise}function ny(){}(i=Pv.prototype).configure=function(t,e){var n=this.j&&t.updatePeriod!=this.g.updatePeriod&&t.updatePeriod>=0;this.g=t,e&&(this.ea=e),n&&this.h&&this.h.presentationTimeline.U()&&this.L.Ka(),this.i&&this.i.configure(this.g),this.m&&this.m.Oj(this.g.dash.useStreamOnceInPeriodFlattening)},i.start=function(t,e){var n,r=this;return P((function(i){if(1==i.g)return r.oa=e.isLowLatencyMode(),r.C=[t],r.j=e,w(i,Dv(r),2);if(n=i.h,r.j&&Xv(r,n),!r.j)throw new It(2,7,7001);return i.return(r.h)}))},i.stop=function(){for(var t=g(this.u.values()),e=t.next();!e.done;e=t.next())(e=e.value).segmentIndex&&e.segmentIndex.release();return this.m&&this.m.release(),this.g=this.j=null,this.C=[],this.h=null,this.u.clear(),this.F.clear(),this.A.clear(),this.D.clear(),this.l={Of:"",type:"",profiles:[],Bc:null,zb:0,mb:null,Fe:0},this.m=null,null!=this.L&&(this.L.stop(),this.L=null),this.i&&this.i.destroy(),this.I&&(this.I.release(),this.I=null),this.aa.clear(),this.ra.release(),this.P.destroy()},i.update=function(){var t,e=this;return P((function(n){return 1==n.g?(x(n,2),w(n,Dv(e),4)):2!=n.g?S(n,0):(t=E(n),e.j&&t?(e.j.onError(t),void C(n)):n.return())}))},i.onExpirationUpdated=function(){},i.onInitialVariantChosen=function(t){if(this.h&&this.h.presentationTimeline.U()){var e=t.video||t.audio;if(e&&e.segmentIndex){t=this.h.presentationTimeline.Rc();var n=e.segmentIndex.find(t);null!=n&&(e=e.segmentIndex.get(n))&&(this.K=e.endTime-t,Xv(this,0))}}},i.banLocation=function(t){this.i&&this.i.banLocation(t)},i.setMediaElement=function(t){this.J=t},G("shaka.dash.DashParser",Pv),so("application/dash+xml",(function(){return new Pv})),so("video/vnd.mpeg.dash.mpd",(function(){return new Pv})),G("shaka.dependencies",ny),ny.has=function(t){return ay.has(t)},ny.add=function(t,e){if(!iy[t])throw Error(t+" is not supported");t==ry?Pe("mux.js","mux.js is no longer used in Shaka Player."):ay.set(t,(function(){return e}))};var ry="muxjs",iy={Tn:ry,ISOBoxer:"ISOBoxer"};ny.Allowed=iy;var ay=new Map([["ISOBoxer",function(){return t.ISOBoxer}]]);function oy(){this.j=new Rt((function(){return["Oculus","Quest"].some((function(t){return navigator.userAgent.includes(t.toLowerCase())}))?"VR":navigator.userAgent.match(/Smart( ?|_)TV/i)||navigator.userAgent.match(/Android ?TV/i)?"TV":navigator.userAgentData?navigator.userAgentData.mobile?"MOBILE":"DESKTOP":/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)?"MOBILE":navigator.userAgentData&&navigator.userAgentData.platform?"android"==navigator.userAgentData.platform.toLowerCase()?"MOBILE":"DESKTOP":navigator.userAgent.includes("Android")?"MOBILE":"DESKTOP"})),this.l=new Rt((function(){return navigator.vendor.includes("Apple")&&(navigator.userAgent.includes("Version/")||navigator.userAgent.includes("OS/"))?"WEBKIT":navigator.userAgent.includes("Edge/")?"EDGE":navigator.userAgent.includes("Chrome/")?"CHROMIUM":navigator.userAgent.includes("Firefox/")?"GECKO":"UNKNOWN"}))}function sy(){var e=t.ManagedMediaSource||t.MediaSource;return!(!e||!e.isTypeSupported)}function uy(){oy.call(this),this.g=new Rt((function(){var t=navigator.userAgent.match(/Version\/(\d+)/);return t||(t=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(t[1],10):null})),this.h=new Rt((function(){return/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||navigator.maxTouchPoints>1?"xr"in navigator?"APPLE_VR":"MOBILE":"xr"in navigator?"APPLE_VR":"DESKTOP"}))}function ly(){if(!cy())throw Error("Not a Chromecast device!");oy.call(this),this.h=new Rt((function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/);return t?parseInt(t[1],10):null})),this.g=new Rt((function(){var t=navigator.userAgentData&&navigator.userAgentData.platform||navigator.userAgent;return(t=t.toLowerCase()).includes("android")?dy:t.includes("fuchsia")?py:hy}))}function cy(){return navigator.userAgent.includes("CrKey")&&!navigator.userAgent.includes("VIZIO SmartCast")}(i=oy.prototype).mc=function(){return!!navigator.mediaCapabilities},i.Oa=function(){return this.j.value()},i.Ja=function(){return this.l.value()},i.Ud=function(){return!1},i.zj=function(){return!1},i.Cf=function(){return!1},i.Aj=function(){return!1},i.He=function(){return!1},i.vd=function(){return!0},i.bd=function(){return!0},i.Le=function(){return!0},i.Fj=function(){return 0},i.wc=function(){return Promise.resolve({width:1/0,height:1/0})},i.Qj=function(){return!1},i.ji=function(){return!1},i.ab=function(t){var e=this.Oa();return"TV"!==e&&"CONSOLE"!==e&&"CAST"!==e||(t.ads.customPlayheadTracker=!0,t.ads.skipPlayDetection=!0,t.ads.supportsMultipleMediaElements=!1),t},i.ni=function(){return!!t.indexedDB},i.xj=function(){return[]},i.Id=function(e){return void 0!==t.matchMedia&&t.matchMedia("(color-gamut: p3)").matches?e?"HLG":"PQ":"SDR"},i.kg=function(){return!1},i.nj=function(){return!1},i.Xh=function(){return!1},i.mg=function(){return!0},i.oj=function(){return!1},i.Yj=function(){return!0},i.ud=function(){return!1},i.Jh=function(t){return"com.apple.fps"===t},i.lg=function(){return!0},i.toString=function(){return"Device: "+this.Ub()+" v"+this.Ga()+"; Type: "+this.Oa()},h(uy,oy),(i=uy.prototype).Ga=function(){return this.g.value()},i.Ub=function(){return"Apple Browser"},i.Oa=function(){return this.h.value()},i.Ja=function(){return"WEBKIT"},i.mc=function(){return!1},i.Ud=function(t,e){return"audio"===e},i.Cf=function(){return!0},i.Aj=function(t){return"audio"===t},i.ab=function(t){return oy.prototype.ab.call(this,t),t.abr.minTimeToSwitch=.5,t},i.kg=function(){return!0},i.lg=function(){return!1},(navigator.vendor||"").includes("Apple")&&(/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||navigator.maxTouchPoints>1||navigator.userAgentData&&navigator.userAgentData.platform&&"macos"==navigator.userAgentData.platform.toLowerCase()||navigator.platform&&navigator.platform.toLowerCase().includes("mac"))&&(Ot=function(){return new uy}),h(ly,oy),(i=ly.prototype).Ga=function(){return this.h.value()},i.Ub=function(){return"Chromecast with "+this.g.value()},i.Oa=function(){return"CAST"},i.Ja=function(){return"CHROMIUM"},i.mc=function(){return oy.prototype.mc.call(this)&&this.g.value()!==hy},i.bd=function(){return this.g.value()!==hy},i.Fj=function(){switch(this.g.value()){case dy:return 0;case py:return 3;default:return 1}},i.wc=function(){var e,n,r,i;return P((function(a){switch(a.g){case 1:if(e=t.cast&&cast.__platform__&&cast.__platform__.canDisplayType,n={width:1280,height:720},x(a,2),!(r=e)){a.B(4);break}return w(a,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=3840; height=2160'),5);case 5:r=a.h;case 4:if(r){n.width=3840,n.height=2160,a.B(6);break}if(!(i=e)){a.B(7);break}return w(a,cast.__platform__.canDisplayType('video/mp4; codecs="avc1.640028"; width=1920; height=1080'),8);case 8:i=a.h;case 7:i&&(n.width=1920,n.height=1080);case 6:S(a,3);break;case 2:$("Failed to check canDisplayType:",E(a));case 3:return a.return(n)}}))},i.ab=function(t){return oy.prototype.ab.call(this,t),t.streaming.stallSkip=0,t},i.ni=function(){return!1},i.ud=function(){return!0};var dy="Android",py="Fuchsia",hy="Linux";function fy(){oy.call(this);var t=this;this.i=new Rt((function(){var t=navigator.userAgent.match(/(Chrome|Firefox)\/(\d+)/);return t?parseInt(t[2],10):null})),this.g=new Rt((function(){return navigator.userAgent.match(/Edge?\//)?"Edge":navigator.userAgent.includes("Chrome")?"Chrome":navigator.userAgent.includes("Firefox")?"Firefox":"Unknown"})),this.h=new Rt((function(){return navigator.userAgentData&&navigator.userAgentData.platform?"windows"==navigator.userAgentData.platform.toLowerCase():!!navigator.platform&&navigator.platform.toLowerCase().includes("win32")})),this.A=new Rt((function(){return!navigator.userAgent.match(/Edge?\//)||!t.h.value()})),this.u=new Rt((function(){return navigator.userAgent.includes("sony.hbbtv.tv")})),this.m=new Rt((function(){return navigator.userAgentData&&navigator.userAgentData.platform?"android"==navigator.userAgentData.platform.toLowerCase():!!navigator.userAgent.includes("Android")}))}function gy(){oy.apply(this,arguments)}function my(){oy.call(this),this.g=new Rt((function(){var t=navigator.userAgent.match(/PlayStation (\d+)/);return t?parseInt(t[1],10):null}))}function vy(){oy.call(this);var t=navigator.userAgent.match(/Tizen (\d+).(\d+)/);this.g=t?parseInt(t[1],10):null,this.h=t?parseInt(t[2],10):null}function yy(){oy.apply(this,arguments)}function Ay(){oy.call(this),this.i=new Rt((function(){return navigator.userAgent.includes("DT_STB_BCM")||navigator.userAgent.includes("Sky_STB")})),this.h=new Rt((function(){return navigator.userAgent.includes("SOPOpenBrowser")})),this.g=new Rt((function(){if(navigator.userAgent.includes("DT_STB_BCM"))return 11;var t=navigator.userAgent.match(/Version\/(\d+)/);return t||(t=navigator.userAgent.match(/OS (\d+)(?:_\d+)?/))?parseInt(t[1],10):null}))}function by(){oy.call(this);var t=this;this.h=function(){var t=null,e=navigator.userAgent.match(/Chrome\/(\d+)/);switch(e&&(t=parseInt(e[1],10)),t){case 38:return 3;case 53:return 4;case 68:return 5;case 79:return 6;case 87:return 22;case 94:return 23;case 108:return 24;case 120:return 25;default:return null}}(),this.g=null;try{var e=new PalmServiceBridge;e.onservicecallback=function(e){e=JSON.parse(e),t.g=e.tk["tv.model.supportHDR"]||e.tk["tv.config.supportDolbyHDRContents"]||!1},e.call("luna://com.webos.service.config/getConfigs",JSON.stringify({Qn:["tv.model.supportHDR","tv.config.supportDolbyHDRContents"]}))}catch(t){X("WebOS: getConfigs call failed",t)}}if(cy()&&(Ot=function(){return new ly}),h(fy,oy),(i=fy.prototype).Ga=function(){return this.i.value()},i.Ub=function(){return this.g.value()},i.Ud=function(t){return!!Di(t)&&("Edge"===this.g.value()&&this.h.value())},i.zj=function(){return"Edge"===this.g.value()&&this.h.value()},i.Cf=function(){return"Edge"===this.g.value()&&this.h.value()},i.bd=function(){return this.A.value()},i.ab=function(t){if(oy.prototype.ab.call(this,t),this.h.value())switch(this.g.value()){case"Firefox":t.drm.keySystemsMapping={"com.microsoft.playready":"com.microsoft.playready.recommendation"};break;case"Chrome":t.drm.keySystemsMapping={"com.microsoft.playready":"com.microsoft.playready.recommendation.3000","com.microsoft.playready.recommendation":"com.microsoft.playready.recommendation.3000"}}return this.m.value()&&(t.drm.defaultAudioRobustnessForWidevine="",t.drm.defaultVideoRobustnessForWidevine=""),t},i.Xh=function(){return"Edge"===this.g.value()||this.u.value()},i.ud=function(){if("GECKO"===this.Ja()){var t=this.Ga();return null!==t?t>=100:oy.prototype.ud.call(this)}return oy.prototype.ud.call(this)},i.Jh=function(t){return"GECKO"===this.Ja()?t.startsWith("com.microsoft.playready.recommendation"):oy.prototype.Jh.call(this,t)},Pt=function(){return new fy},h(gy,oy),(i=gy.prototype).Ga=function(){return null},i.Ub=function(){return"Hisense"},i.Oa=function(){return"TV"},i.mc=function(){return!1},i.wc=function(){var e={width:1920,height:1080},n=null;if(t.Hisense_Get4KSupportState)try{n=t.Hisense_Get4KSupportState()}catch(t){}return null==n&&(n=navigator.userAgent.includes("UHD")),n&&(e.width=3840,e.height=2160),Promise.resolve(e)},i.ab=function(t){return oy.prototype.ab.call(this,t),t.streaming.stallSkip=0,t},(navigator.userAgent.includes("Hisense")||navigator.userAgent.includes("VIDAA"))&&(Ot=function(){return new gy}),h(my,oy),(i=my.prototype).Ub=function(){return"PlayStation"},i.Oa=function(){return"CONSOLE"},i.Ja=function(){return"WEBKIT"},i.Ga=function(){return this.g.value()},i.mc=function(){return!1},i.vd=function(){return!1},i.bd=function(){return!1},i.ji=function(){return 4===this.Ga()},i.wc=function(){var e,n,r,i;return P((function(a){switch(a.g){case 1:return e={width:1920,height:1080},n=!1,x(a,2),w(a,t.msdk.device.getDisplayInfo(),4);case 4:r=a.h,n="4K"===r.resolution,S(a,3);break;case 2:return E(a),x(a,5),w(a,t.msdk.device.getDisplayInfoImmediate(),7);case 7:i=a.h,n="4K"===i.resolution,S(a,3);break;case 5:X("PlayStation: Failed to get the display info:",E(a));case 3:return n&&(e.width=3840,e.height=2160),a.return(e)}}))},i.ab=function(t){return oy.prototype.ab.call(this,t),4===this.Ga()&&t.drm.preferredKeySystems.push("com.microsoft.playready"),t.streaming.clearDecodingCache=!0,t},i.Xh=function(){return 4===this.Ga()},i.mg=function(){return 4!==this.Ga()},navigator.userAgent.includes("PlayStation")&&(Ot=function(){return new my}),h(vy,oy),(i=vy.prototype).Ga=function(){return this.g},i.Ub=function(){return"Tizen"},i.Ja=function(){return"CHROMIUM"},i.Oa=function(){return"TV"},i.Ud=function(){return!0},i.He=function(){return 3===this.Ga()},i.mc=function(){return!1},i.vd=function(){var t=this.Ga();return null!==t?t>=4:oy.prototype.vd.call(this)},i.bd=function(){return!1},i.Le=function(){return this.g&&this.h?5===this.g?this.h>=5:this.g>5:oy.prototype.Le.call(this)},i.wc=function(){var e=t.devicePixelRatio;e={width:t.screen.width*e>1920?3840:1920,height:t.screen.height*e>1080?2160:1080};try{if(webapis.systeminfo&&webapis.systeminfo.getMaxVideoResolution){var n=webapis.systeminfo.getMaxVideoResolution();e.width=n.width,e.height=n.height}else webapis.productinfo.is8KPanelSupported&&webapis.productinfo.is8KPanelSupported()?(e.width=7680,e.height=4320):webapis.productinfo.isUdPanelSupported&&webapis.productinfo.isUdPanelSupported()&&(e.width=3840,e.height=2160)}catch(t){X("Tizen: Error detecting screen size, default screen size 1920x1080.")}return Promise.resolve(e)},i.ab=function(t){return oy.prototype.ab.call(this,t),t.drm.ignoreDuplicateInitData=2!==this.Ga(),3===this.Ga()&&(t.streaming.crossBoundaryStrategy="reset_to_encrypted"),t.streaming.shouldFixTimestampOffset=!0,t.streaming.stallSkip=0,t.streaming.gapPadding=2,t},i.xj=function(){var t=[];return null!==this.g&&this.g<5&&t.push("opus"),t},i.Id=function(t){try{if(webapis.avinfo.isHdrTvSupport())return t?"HLG":"PQ"}catch(e){return oy.prototype.Id.call(this,t)}return"SDR"},i.nj=function(){return!0},i.oj=function(){return 3===this.Ga()},navigator.userAgent.includes("Tizen")&&(Ot=function(){return new vy}),h(yy,oy),yy.prototype.Ga=function(){return null},yy.prototype.Ub=function(){return"Vizio"},yy.prototype.Oa=function(){return"TV"},yy.prototype.mc=function(){return!1},navigator.userAgent.includes("VIZIO SmartCast")&&(Ot=function(){return new yy}),h(Ay,oy),(i=Ay.prototype).Ga=function(){return this.g.value()},i.Ub=function(){return"WebKit STB"},i.Oa=function(){return"TV"},i.Ja=function(){return"WEBKIT"},i.mc=function(){return!1},i.vd=function(){var t=this.g.value();return null===t||t>=15},i.Ud=function(){return this.h.value()},i.wc=function(){return Promise.resolve({width:t.screen.width*t.devicePixelRatio,height:t.screen.height*t.devicePixelRatio})},i.mg=function(){return!this.i.value()},i.lg=function(){return!1},(navigator.userAgent.includes("SOPOpenBrowser")||navigator.userAgent.includes("DT_STB_BCM")||navigator.userAgent.includes("Sky_STB")||!(!(navigator.vendor||"").includes("Apple")||/(?:iPhone|iPad|iPod)/.test(navigator.userAgent)||navigator.maxTouchPoints>1||navigator.userAgentData&&navigator.userAgentData.platform&&"macos"==navigator.userAgentData.platform.toLowerCase()||navigator.platform&&navigator.platform.toLowerCase().includes("mac")))&&(Ot=function(){return new Ay}),h(by,oy),(i=by.prototype).Ga=function(){return this.h},i.Ub=function(){return"WebOS"},i.Oa=function(){return"TV"},i.Ja=function(){return"CHROMIUM"},i.mc=function(){return!1},i.vd=function(){var t=this.Ga();return null!==t?t>3:oy.prototype.vd.call(this)},i.bd=function(){var t=this.Ga();return null!==t?t>6:oy.prototype.bd.call(this)},i.Le=function(){var t=this.Ga();return null!==t?t>3:oy.prototype.Le.call(this)},i.wc=function(){var e={width:1920,height:1080};try{var n=JSON.parse(t.PalmSystem.deviceInfo);e.width=Math.max(1920,n.screenWidth),e.height=Math.max(1080,n.screenHeight)}catch(t){X("WebOS: Error detecting screen size, default screen size 1920x1080.")}return Promise.resolve(e)},i.ab=function(t){return oy.prototype.ab.call(this,t),3===this.Ga()&&(t.streaming.crossBoundaryStrategy="reset"),t.streaming.shouldFixTimestampOffset=!0,t.streaming.stallSkip=0,t},i.Id=function(t){return null==this.g?(X("WebOS: getConfigs call haven't finished"),oy.prototype.Id.call(this,t)):this.g?t?"HLG":"PQ":"SDR"},i.Yj=function(){return!1},i.ud=function(){var t=this.Ga();return null!==t?t>=6:oy.prototype.ud.call(this)},navigator.userAgent.includes("Web0S")){var wy=new by;Ot=function(){return wy}}function Cy(){oy.call(this),this.g=navigator.userAgent.includes("Edge/");var t=navigator.userAgent.match(/Edge?\/(\d+)/);this.h=t?parseInt(t[1],10):null}function xy(){var t=null;try{t="undefined"!=typeof Windows?Windows:chrome.webview.hostObjects.sync.Windows}catch(t){}return t}function Ty(t,e,n){this.type=t,this.ka=e,this.segments=n||null}function Sy(t,e,n,r){this.id=t,this.name=e,this.attributes=n,this.value=void 0===r?null:r}function Ey(t,e){return e?t.toString():(e=(new Set).add("AUDIO").add("VIDEO").add("SUBTITLES").add("PATHWAY-ID").add("GROUP-ID").add("URI"),t.toString(e))}function ky(t,e){return(t=t.attributes.filter((function(t){return t.name==e}))).length?t[0]:null}function Iy(t,e,n){return(t=ky(t,e))?t.value:n||null}function My(t,e){if(!(t=ky(t,e)))throw new It(2,4,4023,e);return t.value}function Ry(t,e,n){n=void 0===n?[]:n,this.ka=e,this.g=t,this.Ec=n}function Ly(t,e){this.name=t,this.value=e}function Oy(t,e){return t.filter((function(t){return t.name==e}))}function Py(t,e){return t.filter((function(t){return My(t,"TYPE")==e}))}function Dy(t,e){for(var n=(t=g(t)).next();!n.done;n=t.next())if((n=n.value).name===e)return n;return null}function _y(t,e,n){return n=void 0===n?0:n,(t=Dy(t,e))?Number(t.value):n}function Ny(t,e,n){return e?Uy(t,[e],n):[]}function Uy(t,e,n){if(!e.length)return[];var r=e;return n&&n.size&&(r=e.map((function(t){return By(t,n)}))),Jt(t,r)}function By(t,e){if(!e||!e.size)return t;var n=(t=String(t).replace(/%7B/g,"{").replace(/%7D/g,"}")).match(/{\$\w*}/g);if(n)for(var r=(n=g(n)).next();!r.done;r=n.next()){var i=(r=r.value).slice(2,r.length-1),a=e.get(i);if(!a)throw new It(2,4,4039,i);t=t.replace(r,a)}return t}function jy(){this.g=0}function qy(t,e){var n=(e=(e=Nt(e)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n").trim()).split(/\n+/m);if(!/^#EXTM3U($|[ \t\n])/m.test(n[0]))throw new It(2,4,4015);e=0;for(var r=!0,i=g(n),a=i.next();!a.done;a=i.next())if(a=a.value,/^#(?!EXT)/m.test(a)||r)r=!1;else{if(a=Fy(t,a),--t.g,Vy.includes(a.name)){e=1;break}"EXT-X-STREAM-INF"==a.name&&(r=!0)}for(i=[],r=!0,a=0;a<n.length;a++){var o=n[a],s=n[a+1];if(/^#(?!EXT)/m.test(o)||r)r=!1;else{if(o=Fy(t,o),Gy.includes(o.name)){if(1!=e)throw new It(2,4,4017);o=n.splice(a,n.length-a),n=[],r=[],a=[],s=null;for(var u=(o=g(o)).next();!u.done;u=o.next())u=u.value,/^(#EXT)/.test(u)?(u=Fy(t,u),Vy.includes(u.name)?i.push(u):"EXT-X-MAP"==u.name?s=u:"EXT-X-PART"==u.name?a.push(u):"EXT-X-PRELOAD-HINT"==u.name?"PART"==Iy(u,"TYPE")?a.push(u):"MAP"==Iy(u,"TYPE")&&(u.name="EXT-X-MAP",s=u):r.push(u)):/^#(?!EXT)/m.test(u)||(u=u.trim(),s&&r.push(s),n.push(new Ry(u,r,a)),r=[],a=[]);return a.length&&(s&&r.push(s),n.push(new Ry("",r,a))),new Ty(e,i,n)}i.push(o),"EXT-X-STREAM-INF"==o.name&&(o.attributes.push(new Ly("URI",s)),r=!0)}}return new Ty(e,i)}function Fy(t,e){t=t.g++;var n=e.match(/^#(EXT[^:]*)(?::(.*))?$/);if(!n)throw new It(2,4,4016,e);e=n[1];var r,i=n[2];if(n=[],i){var a;(a=an(i=new nn(i),/^([^,=]+)(?:,|$)/g))&&(r=a[1]);for(var o=/([^=]+)=(?:"([^"]*)"|([^",]*))(?:,|$)/g;a=an(i,o);)n.push(new Ly(a[1],a[2]||a[3])),rn(i)}return new Sy(t,e,n,r)}h(Cy,oy),(i=Cy.prototype).Ga=function(){return this.h},i.Ub=function(){return"Xbox"},i.Oa=function(){return"CONSOLE"},i.Ja=function(){return this.g?"EDGE":"CHROMIUM"},i.Ud=function(){return!0},i.Cf=function(){return!0},i.Qj=function(){return this.g},i.wc=function(){var t={width:1920,height:1080},e=xy();if(e)try{var n=new e.Media.Protection.ProtectionCapabilities,r=e.Media.Protection.ProtectionCapabilityResult;e=null;do{e=n.isTypeSupported('video/mp4;codecs="hvc1,mp4a";features="decode-res-x=3840,decode-res-y=2160,decode-bitrate=20000,decode-fps=30,decode-bpc=10,display-res-x=3840,display-res-y=2160,display-bpc=8"',"com.microsoft.playready.recommendation")}while(e===r.maybe);e===r.probably&&(t.width=3840,t.height=2160)}catch(t){X("Xbox: Error detecting screen size, default screen size 1920x1080.")}return Promise.resolve(t)},i.ab=function(t){return oy.prototype.ab.call(this,t),t.drm.parseInbandPsshEnabled=this.g,t.drm.preferredKeySystems.push("com.microsoft.playready"),this.g&&(t.streaming.gapPadding=.01),t},i.ni=function(){return!1},(navigator.userAgent.includes("Xbox One")||null!==xy())&&(Ot=function(){return new Cy}),Sy.prototype.toString=function(t){var e="#"+this.name,n=this.attributes?this.attributes.filter((function(e){return!t||!t.has(e.name)})).map((function(t){return t.name+"="+(isNaN(Number(t.value))?'"'+t.value+'"':t.value)})):[];return this.value&&n.unshift(this.value),n.length>0&&(e+=":"+n.join(",")),e};var Vy="EXT-X-TARGETDURATION EXT-X-MEDIA-SEQUENCE EXT-X-DISCONTINUITY-SEQUENCE EXT-X-PLAYLIST-TYPE EXT-X-I-FRAMES-ONLY EXT-X-ENDLIST EXT-X-SERVER-CONTROL EXT-X-SKIP EXT-X-PART-INF EXT-X-DATERANGE".split(" "),Gy="EXTINF EXT-X-BYTERANGE EXT-X-DISCONTINUITY EXT-X-PROGRAM-DATE-TIME EXT-X-KEY EXT-X-DATERANGE EXT-X-MAP EXT-X-GAP EXT-X-TILES".split(" ");function zy(){}function Hy(t,e){try{var n=Ky(t);return Hi({uri:t,originalUri:t,data:n.data,headers:{"content-type":n.contentType},originalRequest:e})}catch(t){return Gi(t)}}function Ky(e){var n=e.split(":");if(n.length<2||"data"!=n[0])throw new It(2,1,1004,e);if((n=n.slice(1).join(":").split(",")).length<2)throw new It(2,1,1004,e);var r=n[0];e=t.decodeURIComponent(n.slice(1).join(",")),n=r.split(";"),r=n[0];var i=!1;return n.length>1&&"base64"==n[n.length-1]&&(i=!0,n.pop()),{data:i?Wt(e):jt(e),contentType:r}}function Wy(){var e=this;this.g=this.h=null,this.G=1,this.C=new Map,this.L=new Map,this.D=new Map,this.D.set("video",new Map),this.D.set("audio",new Map),this.D.set(re,new Map),this.D.set("image",new Map),this.Dc=(new Map).set("com.apple.streamingkeydelivery",(function(n,r,i){return function(e,n,r,i){var a,o,s,u,l;return P((function(c){if(1==c.g){if("video/mp2t"==r)throw new It(2,4,4040);if("apple"===t.shakaMediaKeysPolyfill)throw new It(2,4,4041);if(a=My(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(a))return c.return(null);o="cenc","SAMPLE-AES"==a&&(o="cbcs"),s=My(n,"URI"),u=Zt("com.apple.fps",o,[{initDataType:"sinf",initData:new Uint8Array(0),keyId:null}],s);var d=new at(s).Ib.replace(/-/g,"").toLowerCase();return(l=32===d.length&&/^[0-9a-f]+$/.test(d)?d:null)||!i?c.B(2):w(c,NA(e,i),3)}return 2!=c.g&&(l=c.h),l&&u.keyIds.add(l),c.return(u)}))}(e,n,r,i)})).set("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",(function(t){var n=My(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var r="cenc";"SAMPLE-AES"==n&&(r="cbcs");var i=My(t,"URI");n=Ky(i.split("?")[0]),i=i.split("?")[0],e.I.has(i)||(n=Tt(n.data),e.I.set(i,n)),r=Zt("com.widevine.alpha",r,[{initDataType:"cenc",initData:e.I.get(i)}]),(t=Iy(t,"KEYID"))&&r.keyIds.add(t.toLowerCase().substr(2)),t=Promise.resolve(r)}else t=Promise.resolve(null);return t})).set("com.microsoft.playready",(function(t){var e=My(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(e)){var n="cenc";"SAMPLE-AES"==e&&(n="cbcs"),n=Zt("com.microsoft.playready",n,[{initDataType:"cenc",initData:e=Ea(t=Tt((t=Ky((t=My(t,"URI")).split("?")[0])).data),e=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),new Set,0)}]),(t=gn(["<PLAYREADY>",Kt(t),"</PLAYREADY>"].join("\n")))&&(n.licenseServerUri=sm(t)),n=Promise.resolve(n)}else n=Promise.resolve(null);return n})).set("urn:uuid:3d5e6d35-9b9a-41e8-b843-dd3c6e72c42c",(function(t){var n=My(t,"METHOD");if(["SAMPLE-AES","SAMPLE-AES-CTR"].includes(n)){var r="cenc";"SAMPLE-AES"==n&&(r="cbcs");var i=My(t,"URI");n=Ky(i.split("?")[0]),i=i.split("?")[0],e.I.has(i)||(n=Tt(n.data),e.I.set(i,n)),r=Zt("com.huawei.wiseplay",r,[{initDataType:"cenc",initData:e.I.get(i)}]),(t=Iy(t,"KEYID"))&&r.keyIds.add(t.toLowerCase().substr(2)),t=Promise.resolve(r)}else t=Promise.resolve(null);return t})),this.jb=new Set,this.i=new Map,this.l=null,this.H="",this.Na=new jy,this.M=-1,this.aa=1/0,this.Z=this.Hc=this.ib=!1,this.F=new Wr((function(){e.V&&!e.g.continueLoadingWhenPaused&&(e.S.Fa(e.V,"timeupdate"),e.V.paused)?e.S.ua(e.V,"timeupdate",(function(){return RA(e)})):RA(e)})),this.Ca=zA,this.m=null,this.fb=0,this.u=1/0,this.hb=this.La=this.R=0,this.W=new $i,this.J=new Map,this.K=new Map,this.ya=new Map,this.oa=new Map,this.O=new Map,this.ra=new Map,this.sa=new Map,this.Gc=this.ea=!1,this.Ob=new Ce(5),this.j=null,this.P=!0,this.S=new Me,this.A=this.V=null,this.kc=function(){return!1},this.I=new Map}function $y(t,e){return LA(t)?t.D.get(e.type):e.Lf}function Xy(t,e){var n,r,i,a,o,s,u,l,c,d,p,h,f,v,y,A,b,T,k,I,M,R,L,O,D,_,N,U,B,j,q,F,V,G,z;return P((function(P){switch(P.g){case 1:if(e.stream.isAudioMuxedInVideo)return P.return();for(n=[],r=g(e.T()),i=r.next();!i.done;i=r.next())a=i.value,o=new at(a),s=o.g,e.mf&&(e.Zb>=0&&s.add("_HLS_msn",String(e.Zb)),e.$b>=0&&s.add("_HLS_part",String(e.$b))),e.nf&&s.add("_HLS_skip","YES"),bt(s)&&lt(o,ct(s.toString())),n.push(o.toString());return x(P,2),w(P,MA(t,n,!0).promise,4);case 4:u=P.h,S(P,3);break;case 2:throw l=E(P),t.h&&t.h.disableStream(e.stream),l;case 3:if(!e.stream.segmentIndex)return P.return();if(1!=(c=qy(t.Na,u.data)).type)throw new It(2,4,4017);return(d=u.uri)==u.originalUri||e.T().includes(d)||e.Zf.push(d),p=Oy(c.ka,"EXT-X-DEFINE"),h=tA(t,p,d),f=e.stream,v=$y(t,e),w(P,gA(t,c,f.mimeType,e.T,h),5);case 5:for(y=P.h,A=y.keyIds,b=y.drmInfos,T=y.encrypted,k=y.Ei,f.encrypted||!T||k||(f.encrypted=!0),function(t,e){return t.size===e.size&&[].concat(m(t)).every((function(t){return e.has(t)}))}(f.keyIds,A)||(f.keyIds=A,f.drmInfos=b,t.h.newDrmInfo(f)),I=TA(t,c,v,h,e.T,e.type),M=I.segments,(R=I.bandwidth)&&(f.bandwidth=R),L=tl(f),O=g(M),D=O.next();!D.done;D=O.next())(_=D.value).ia&&(_.ia.Od=L);f.segmentIndex.Ae(M,t.l.Mb()),M.length&&(N=_y(c.ka,"EXT-X-MEDIA-SEQUENCE",0),B=(U=Dy(c.ka,"EXT-X-SKIP"))?Number(Iy(U,"SKIPPED-SEGMENTS")):0,j=hA(N,M),q=j.Zb,F=j.$b,e.Zb=q+B,e.$b=F,V=v.get(N),f.segmentIndex.cb(V)),(G=zu(f.segmentIndex))&&(e.md=G.startTime,z=M[M.length-1],e.Xc=z.endTime),Dy(c.ka,"EXT-X-ENDLIST")&&(e.re=!0),yA(t,c),xA(t,c.ka,f.type,h,e.T),C(P)}}))}function Yy(t,e,n){n=void 0!==n&&n;for(var r=-1==t.M,i=g(e),a=i.next();!a.done;a=i.next()){var o=(a=a.value).stream.segmentIndex,s=$y(t,a);if(o=zu(o))for(var u=(s=g(s)).next();!u.done;u=s.next()){var l=(u=g(u.value)).next().value;if(u.next().value==o.startTime){r&&(t.M=Math.max(t.M,l)),a.Vg=l;break}}}if(!(t.M<0))for(r=(e=g(e)).next();!r.done;r=e.next())(dA(t,(r=r.value).type)||n)&&(i=r.stream.segmentIndex)&&((a=t.M-r.Vg)>0&&(i.g.splice(0,a),i=zu(i))&&(i=-i.startTime,r.stream.segmentIndex.offset(i),Jy(t,r,i)))}function Jy(t,e,n){if(!(Math.abs(n)<.001)){e.md+=n,e.Xc+=n;for(var r=g(t=$y(t,e)),i=r.next();!i.done;i=r.next()){var a=g(i.value);i=a.next().value,a=a.next().value,t.set(i,a+n)}e.T()}}function Zy(t,e,n){var r,i,a,o,s;return P((function(u){switch(u.g){case 1:return e?(r=ia,i=yl(e.T(),e.Sc(),e.Pc(),t.g.retryParameters),w(u,PA(t,i,r,{type:e instanceof Xo?1:0}).promise,2)):u.return({mimeType:null,data:null});case 2:if(a=u.h,o=a.data,!e.aesKey){u.B(3);break}return w(u,vl(o,e.aesKey,n),4);case 4:o=u.h;case 3:return e instanceof Xo?e.Je(o,!0):e.Je(o),(s=a.headers["content-type"])&&(s=s.split(";")[0].toLowerCase()),u.return({mimeType:s,data:o})}}))}function Qy(t){if(LA(t)){if(t.Ca==KA){for(var e=1/0,n=1/0,r=g(t.i.values()),i=r.next();!i.done;i=r.next())(i=i.value).stream.segmentIndex&&"text"!=i.stream.type&&!i.stream.isAudioMuxedInVideo&&(e=Math.min(e,i.Xc),n=Math.min(n,i.md));e=e-n||0,isNaN(t.g.availabilityWindowOverride)||(e=t.g.availabilityWindowOverride),t.l.hg(e)}}else t.l.Fb(uA(t));if(!t.l.u)for(n=(e=g(t.i.values())).next();!n.done;n=e.next())!(n=n.value).stream.segmentIndex||"audio"!=n.type&&"video"!=n.type||(n=zu(n.stream.segmentIndex))&&n.h&&t.l.di(n.h);t.l.Kf()}function tA(t,e,n){n=new at(n).g;for(var r=new Map,i=(e=g(e)).next();!i.done;i=e.next()){var a=i.value,o=Iy(a,"NAME"),s=Iy(a,"VALUE");i=Iy(a,"QUERYPARAM"),a=Iy(a,"IMPORT"),o&&s&&(r.has(o)||r.set(o,s)),i&&(o=n.get(i)[0])&&!r.has(o)&&r.set(i,o),a&&(i=t.C.get(a))&&r.set(a,i)}return r}function eA(t){var e=new Set([kr(t.mimeType,t.codecs)]);t.segmentIndex&&t.segmentIndex.Kb((function(n){n.mimeType&&e.add(kr(n.mimeType,t.codecs))})),t.fullMimeTypes=e}function nA(t,e,n){for(var r={audio:[],video:[]},i=new Map,a=[],o=!1,s=!1,u=g(e),l=u.next();!l.done;l=u.next()){var c=l.value;l=Iy(c,"AUDIO");var d=Iy(c,"VIDEO"),p=l||d;p&&(a.includes(p)||a.push(p),(c=Iy(c,"PATHWAY-ID"))&&i.set(p,c),l?o=!0:d&&(s=!0))}a.length&&n.length&&function(t,e,n){for(var r={},i=(e=g(e=e.filter((function(t){var e=Iy(t,"URI")||"";return"SUBTITLES"!=(t=Iy(t,"TYPE"))&&(""!=e||"AUDIO"==t)})))).next();!i.done;i=e.next()){var a=Ey(i=i.value,!t.j);r[a]?r[a].push(i):r[a]=[i]}for(var o in r)aA(t,r[o],n,!1)}(t,n=n.filter((function(t){return a.includes(My(t,"GROUP-ID"))})),i),n=(i=a.sort().join(","))&&t.L.has(i)?t.L.get(i):[],o?r.audio.push.apply(r.audio,m(n)):s&&r.video.push.apply(r.video,m(n)),s=!1;var h=e.map((function(t){return My(t,"URI")}));return o=r.audio.find((function(t){return t&&t.T().find((function(t){return h.includes(t)}))})),u=ee("video",n=rA(t,e[0])),(l=ee("audio",n))&&!u?(o="audio",s=r.audio.length>0&&!r.audio.some((function(t){return t.stream.isAudioMuxedInVideo}))):!r.audio.length&&!r.video.length&&l&&u?(o="video",n=[[u,l].join()]):r.audio.length&&o?(o="audio",s=!0):o=r.video.length&&!r.audio.length?"audio":"video",s||(e=function(t,e,n,r){for(var i=t.G++,a=[],o=g(e),s=o.next();!s.done;s=o.next()){var u=s.value;s=My(u,"URI"),u=Iy(u,"PATHWAY-ID"),t.j&&u&&Km(t.j,i,u,s),a.push(s)}if(o=a.sort().join(",")+n.sort().join(","),t.i.has(o))return t.i.get(o);s=a.join(",");t:{if(e=Iy(e[0],"CLOSED-CAPTIONS"),"video"==r){if(t.g.disableText){t.P=!1,e=null;break t}if(e){if("NONE"!=e){e=t.J.get(e);break t}t.P=!1}else if(!e&&t.J.size)for(e=(e=g(t.J.keys())).next();!e.done;e=e.next()){e=t.J.get(e.value);break t}}e=null}return n=te(r,n),r=sA(t,i,a,n,r,null,!1,s,null,e,null,!1,null,!1),t.i.set(o,r),r}(t,e,n,o),i&&t.g.enableAudioGroups&&(e.stream.groupId=i),"audio"==e.stream.type&&"audio"===o&&r.audio.some((function(t){return t.stream.isAudioMuxedInVideo}))&&(t=r.audio[0].stream,e.stream.language=t.language,e.stream.channelsCount=t.channelsCount,e.stream.label=t.label,e.stream.audioSamplingRate=t.audioSamplingRate,e.stream.originalId=t.originalId,e.stream.originalLanguage=t.originalLanguage),r[e.stream.type]=[e]),r}function rA(t,e){return e=Iy(e,"CODECS")||"",t.Z=e.length>0,t.Z||t.g.hls.disableCodecGuessing||(e=[],t.g.disableVideo||e.push(t.g.hls.defaultVideoCodec),t.g.disableAudio||e.push(t.g.hls.defaultAudioCodec),e=e.join(",")),ml(e.split(/\s*,\s*/))}function iA(t,e,n,r,i,a,o,s,u,l,c,d){for(var p=g(n),h=p.next();!h.done;h=p.next())IA(h.value.stream,i,a,o,s,u,null);for(i=t.g.disableVideo,n.length&&!i||(n=[null]),i&&(e=e.filter((function(t){return!t.stream.isAudioMuxedInVideo}))),i=t.g.disableAudio,e.length&&!i||(e=[null]),i=[],a=(e=g(e)).next();!a.done;a=e.next())for(a=a.value,s=(o=g(n)).next();!s.done;s=o.next()){var f=s.value;(s=a?a.stream:null)&&(s.drmInfos=l,s.keyIds=c),(u=f?f.stream:null)&&(u.drmInfos=l,u.keyIds=c,t.g.disableIFrames||bi(u,d)),u&&!s&&(u.bandwidth=r),!u&&s&&(s.bandwidth=r),p=a?a.stream.drmInfos:null,h=f?f.stream.drmInfos:null,f=f?f.T().sort().join(","):"";var m=a?a.T().sort().join(","):"",v=[];s&&s.codecs&&v.push(s.codecs),u&&u.codecs&&v.push(u.codecs),f=[f,m,v.sort()].join("-"),s&&u&&!Oi(p,h)||t.jb.has(f)||(s={id:t.G++,language:s?s.language:"und",disabledUntilTime:0,primary:!!s&&s.primary||!!u&&u.primary,audio:s,video:u,bandwidth:r,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},i.push(s),t.jb.add(f))}return i}function aA(t,e,n,r){r=void 0===r||r;for(var i=[],a=[],o=new Map,s=g(e),u=s.next(),l={};!u.done;l={dj:void 0},u=s.next())u=u.value,l.dj=++t.G,l=function(t){return function(){return"shaka://hls-muxed"+t.dj}}(l),l=r?My(u,"URI"):Iy(u,"URI")||l(),u=My(u,"GROUP-ID"),i.push(l),a.push(u),o.set(u,l);if(r=a.sort().join(","),u=e[0],e="",(s=function(t){return"subtitles"==(t=My(t,"TYPE").toLowerCase())&&(t=re),t}(u))==re)e=Iy(u,"CODECS")||"";else for(l=(a=g(a)).next();!l.done;l=a.next())if(l=l.value,t.K.has(l)){e=t.K.get(l);break}if(a=i.sort().join(","),t.i.has(a))return t.i.get(a);if(l=t.G++,t.j)for(var c=(o=g(o)).next();!c.done;c=o.next()){var d=g(c.value);c=d.next().value,d=d.next().value,(c=n.get(c))&&Km(t.j,l,c,d)}n=Iy(u,"LANGUAGE"),o=Iy(u,"NAME"),c="YES"==Iy(u,"DEFAULT"),d="audio"==s?function(t){return(t=Iy(t,"CHANNELS"))?parseInt(t.split("/")[0],10):null}(u):null;var p="audio"==s&&function(t){return!!(t=Iy(t,"CHANNELS"))&&2==(t=t.split("/")).length&&("JOC"===t[1]||t[1].includes("ATMOS"))}(u),h=Iy(u,"CHARACTERISTICS"),f="YES"==Iy(u,"FORCED");return u="audio"==s?function(t){return(t=Iy(t,"SAMPLE-RATE"))?parseInt(t,10):null}(u):null,(i=sA(t,l,i,e,s,n,c,o,d,null,h,f,u,p)).stream&&t.g.enableAudioGroups&&(i.stream.groupId=r),t.L.has(r)?t.L.get(r).push(i):t.L.set(r,[i]),t.i.set(a,i),i}function oA(t,e){var n="video",r=My(e,"URI"),i=Iy(e,"CODECS")||"";if("mjpg"==i&&(n="image"),t.i.has(r))return t.i.get(r);var a=Iy(e,"LANGUAGE"),o=Iy(e,"NAME"),s=Iy(e,"CHARACTERISTICS");return n=sA(t,t.G++,[r],i,n,a,!1,o,null,null,s,!1,null,!1),a=g((i=Iy(e,"RESOLUTION"))?i.split("x"):[null,null]),i=a.next().value,a=a.next().value,n.stream.width=Number(i)||void 0,n.stream.height=Number(a)||void 0,(e=Iy(e,"BANDWIDTH"))&&(n.stream.bandwidth=Number(e)),t.i.set(r,n),n}function sA(t,e,n,r,i,a,o,s,u,l,c,d,p,h){function f(e){var n,f,y,b,T,k,I,M,R,L,O,D,_,N,U,B,j,q;return P((function(P){switch(P.g){case 1:return n=ie,x(P,2),w(P,e.promise,4);case 4:if(f=P.h,e.aborted)return P.return();if((y=f.uri)!=f.originalUri&&(A.T().includes(y)||A.Zf.push(y)),1!=(b=qy(t.Na,f.data)).type)throw new It(2,4,4017);return T=Oy(b.ka,"EXT-X-DEFINE"),k=tA(t,T,y),I=!1,(!t.Z&&t.g.hls.disableCodecGuessing||t.P&&i==n.Ha&&!t.g.hls.disableClosedCaptionsDetection)&&b.segments.length>0&&(t.P=!1,I=!0),M=!t.Z&&t.g.hls.disableCodecGuessing,R=LA(t),w(P,pA(t,0,k,b,m,r,i,a,o,s,u,l,c,d,p,h,void 0,I,M),5);case 5:if(L=P.h,e.aborted)return P.return();O=L.stream,vA(t,b),LA(t)&&!R&&AA(t,b),A.md=L.md,A.Xc=L.Xc,A.nf=L.nf,A.mf=L.mf,A.re=L.re,A.Lf=L.Lf,A.Zb=L.Zb,A.$b=L.$b,v.segmentIndex=O.segmentIndex,v.encrypted=O.encrypted,v.drmInfos=O.drmInfos,v.keyIds=O.keyIds,v.mimeType=O.mimeType,v.bandwidth=v.bandwidth||O.bandwidth,v.codecs=v.codecs||O.codecs,v.closedCaptions=v.closedCaptions||O.closedCaptions,v.width=v.width||O.width,v.height=v.height||O.height,v.hdr=v.hdr||O.hdr,v.colorGamut=v.colorGamut||O.colorGamut,v.frameRate=v.frameRate||O.frameRate,"und"==v.language&&"und"!=O.language&&(v.language=O.language),v.language=v.language||O.language,v.channelsCount=v.channelsCount||O.channelsCount,v.audioSamplingRate=v.audioSamplingRate||O.audioSamplingRate,eA(v),v.drmInfos.length&&t.h.newDrmInfo(v),D=!1,(!l&&v.closedCaptions||l&&v.closedCaptions&&l.size!=v.closedCaptions.size)&&(D=!0),t.m&&D&&t.h.makeTextStreamsForClosedCaptions(t.m),i==n.Va&&(_=zu(O.segmentIndex))&&_.ia&&(v.mimeType="application/mp4",eA(v)),N=tl(v),v.segmentIndex.Kb((function(t){t.ia&&(t.ia.Od=N)})),function(t){if(!t.m)return!1;for(var e=[],n=[],r=(t=g(t.m.variants)).next();!r.done;r=t.next())(r=r.value).video&&e.push(r.video),r.audio&&n.push(r.audio);return!(e.length>0&&!e.some((function(t){return t.segmentIndex}))||n.length>0&&!n.some((function(t){return t.segmentIndex})))}(t)&&(t.Hc?cA(t,[A]):(t.Hc=!0,U=Array.from(t.i.values()),B=U.filter((function(t){return t.stream.segmentIndex})),cA(t,B),Qy(t),(j=t.u)>0&&t.F.Y(j))),xA(t,b.ka,v.type,k,m),t.m&&(t.m.startTime=t.A),S(P,0);break;case 2:if(q=E(P),v.closeSegmentIndex(),7001===q.code)return P.return();if(!t.h.disableStream(v))throw q;C(P)}}))}function m(){return t.j&&n.length>1?Wm(t.j,e):A.Zf.concat(Uy([t.H],n,t.C))}var v=fA(t,r,i,a,o,s,u,l,c,d,p,h);n.some((function(t){return t.startsWith("shaka://hls-muxed")}))&&(v.isAudioMuxedInVideo=!0,v.mimeType="video/mp2t",eA(v));var y,A={stream:v,type:i,Zf:[],md:0,Xc:0,Lf:new Map,nf:!1,mf:!1,re:!1,Vg:-1,Zb:-1,$b:-1,T:m},b=null;return v.createSegmentIndex=function(){return b||(v.isAudioMuxedInVideo?(v.segmentIndex=new Gu([]),Promise.resolve()):(y=MA(t,A.T(),!0),b=new Promise((function(t){t(f(y))}))))},v.closeSegmentIndex=function(){b&&!v.segmentIndex&&y.abort(),v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null),b=null},A}function uA(t){for(var e=1/0,n=(t=g(t.i.values())).next();!n.done;n=t.next())(n=n.value).stream.segmentIndex&&"text"!=n.stream.type&&!n.stream.isAudioMuxedInVideo&&(e=Math.min(e,n.Xc));return e}function lA(t,e){for(var n=[],r=(e=g(e)).next();!r.done;r=e.next())(r=r.value).segmentIndex&&r.segmentIndex.Kb((function(t){n.push(t)}));t.l.Ce(n)}function cA(t,e){if(!LA(t))for(var n=uA(t),r=g(e),i=r.next();!i.done;i=r.next())i.value.stream.segmentIndex.Gd(0,n);lA(t,e.map((function(t){return t.stream}))),n=(r=Array.from(t.i.values()).filter((function(t){return t.stream.segmentIndex}))).some((function(t){return"audio"==t.stream.type})),i=r.some((function(t){return"video"==t.stream.type})),r=LA(t)&&!t.ib,n=!LA(t)&&t.ib&&!(n&&i),t.g.hls.ignoreManifestProgramDateTime||r||n?Yy(t,e,r):(function(t,e){if(t.aa==1/0)for(var n=(e=g(e)).next();!n.done;n=e.next())null!=(n=zu(n.value.stream.segmentIndex))&&null!=n.h&&(t.aa=Math.min(t.aa,n.h));if((e=t.aa)!=1/0)for(var r=(n=g(t.i.values())).next();!r.done;r=n.next())if(!dA(t,(r=r.value).type)){var i=r.stream.segmentIndex;if(null!=i){var a=zu(i);if(a)if(null==a.h)$("Missing EXT-X-PROGRAM-DATE-TIME for stream",r.T(),"Expect AV sync issues!");else for(Jy(t,r,a.h-e-a.startTime),i=(r=g(i)).next();!i.done;i=r.next())i.value.oi(e)}}}(t,e),t.g.hls.ignoreManifestProgramDateTimeForTypes.length>0&&Yy(t,e))}function dA(t,e){return!!t.g.hls.ignoreManifestProgramDateTime||t.g.hls.ignoreManifestProgramDateTimeForTypes.includes(e)}function pA(t,e,n,r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A){var b,C,T,k,I,M,R,L,O,D,_,N,U,B,j,q,F,V,G,z,H,K,W,$,X,Y,J,Z,Q;return y=void 0===y||y,A=void 0===A||A,P((function(e){switch(e.g){case 1:if(b=r.segments||[],C=b.every((function(t){return!!Dy(t.ka,"EXT-X-GAP")})),!b.length||C)throw new It(2,4,4053);if(function(t,e){var n=Dy(e.ka,"EXT-X-PLAYLIST-TYPE");e=Dy(e.ka,"EXT-X-ENDLIST"),e=n&&"VOD"==n.value||e,n=n&&"EVENT"==n.value&&!e,n=!e&&!n,OA(t,e?zA:n?KA:HA)}(t,r),LA(t)&&yA(t,r),T=LA(t)?t.D.get(o):new Map,k=TA(t,r,T,n,i,o),I=k.segments,M=k.bandwidth,_=D=O=L=R=null,!(I.length>0&&y)){e.B(2);break}return w(e,function(t,e){var n,r,i,a,o,s,u,l,c,d,p,h,f,m,v,y;return P((function(A){if(1==A.g)return n=fl(t.g.hls.mediaPlaylistFullMimeType),e.length?(r=kA(t,e),i=r.segment,a=r.segmentIndex,o=i.T(),(s=Bc(o[0]))&&(u=UA.get(s))?A.return(fl(u)):w(A,Promise.all([Zy(t,i.ia,0),Zy(t,i,a)]),2)):A.return(n);if(l=A.h,c=l[1].mimeType,d=l[0].data,p=l[1].data,h="mp4 mp4a m4s m4i m4a m4f cmfa mp4v m4v cmfv fmp4".split(" "),f=["audio/mp4","video/mp4","video/iso.segment"],!(m=i.ia||f.includes(c))&&qs(Tt(p))){var b=p,C=t.g.disableAudio,x=t.g.disableVideo,T=t.g.disableText,S=Tt(b),E=(new Ns).parse(S),k=E.oe();S=E.wh();var I=[],M=!1,R=!1;if(!C)switch(k.audio){case"aac":case"aac-loas":E.Bb().length&&(I.push("mp4a.40.2"),M=!0);break;case"mp3":E.Bb().length&&(I.push("mp4a.40.34"),M=!0);break;case"ac3":E.Bb().length&&(I.push("ac-3"),M=!0);break;case"ec3":E.Bb().length&&(I.push("ec-3"),M=!0);break;case"opus":E.Bb().length&&(I.push("opus"),M=!0)}if(!x)switch(k.video){case"avc":S.codec?I.push(S.codec):I.push("avc1.42E01E"),R=!0;break;case"hvc":S.codec?I.push(S.codec):I.push("hvc1.1.6.L93.90"),R=!0;break;case"av1":I.push("av01.0.01M.08"),R=!0}if(I.length){if(C=M&&!R,x=new Map,R&&!T){for((T=new $e("video/mp2t")).Uf(b),R=(b=g(T.zg())).next();!R.done;R=b.next())R=R.value,x.set(R,R);T.fe()}S={type:C?"audio":"video",mimeType:"video/mp2t",codecs:I.join(", "),language:null,height:S.height,width:S.width,channelCount:null,sampleRate:null,closedCaptions:x,Oe:null,colorGamut:null,frameRate:S.frameRate}}else S=null;if(v=S)return A.return(v)}else if((m||h.includes(s))&&(y=gl(d,p,t.g.disableText)))return A.return(y);return c?A.return(fl(c)):A.return(n)}))}(t,I),3);case 3:N=e.h,o!=N.type&&LA(t)&&(t.D.set(N.type,t.D.get(o)),t.D.set(o,new Map)),o=N.type,s=N.language,c=N.channelCount,f=N.sampleRate,t.g.disableText||(d=N.closedCaptions),L=N.height,R=N.width,O=N.Oe,D=N.colorGamut,_=N.frameRate,A&&(v=N.mimeType,a=N.codecs);case 2:if(v){e.B(4);break}return w(e,function(t,e,n,r){var i,a,o,s,u,l,c,d,p,h,f,g,m;return P((function(v){switch(v.g){case 1:return i=ia,a=kA(t,r),2==(o=a.segment).status?v.return(EA(e)):(u=o.T(),(l=Bc(u[0]))&&(c=VA.get(e),(d=c.get(l))||(d=UA.get(l)))?v.return(d):(s=SA(e,n))?v.return(s):(h=1,f=Qi(u,t.g.retryParameters),x(v,2),f.method="HEAD",w(v,PA(t,f,i,{type:h}).promise,4)));case 4:g=v.h,p=g.headers["content-type"],S(v,3);break;case 2:if(!(m=E(v))||1002!=m.code&&1001!=m.code){v.B(3);break}return f.method="GET",t.g.hls.allowRangeRequestsToGuessMimeType&&(f.headers.Range="bytes=0-0"),w(v,PA(t,f,i,{type:h}).promise,6);case 6:g=v.h,p=g.headers["content-type"];case 3:if(!p){v.B(7);break}if("application/octet-stream"!=(s=p.toLowerCase().split(";")[0])){v.B(8);break}if(g.data.byteLength){v.B(9);break}return f.method="GET",w(v,PA(t,f,i,{type:h}).promise,10);case 10:g=v.h;case 9:qs(Tt(g.data))&&(s="video/mp2t");case 8:if("application/octet-stream"!=s)return v.return(s);case 7:return v.return(EA(e))}}))}(t,o,a,I),5);case 5:v=e.h,o!=re||a||"application/mp4"!=v||!I[0]||I[0].ia||(v="text/vtt");case 4:return w(e,gA(t,r,v,i,n),6);case 6:if(U=e.h,B=U.drmInfos,j=U.keyIds,q=U.encrypted,F=U.Ei,q&&!B.length&&!F)throw new It(2,4,4026);return(V=fA(t,a,o,s,u,l,c,d,p,h,f,m)).encrypted=q&&!F,V.drmInfos=B,V.keyIds=j,V.mimeType=v,M&&(V.bandwidth=M),eA(V),"video"==o&&(R||L||O||D)&&IA(V,R,L,_,O,null,D),LA(t)&&yA(t,r),G=I[0].startTime,z=I[I.length-1],H=z.endTime,K=new Gu(I),V.segmentIndex=K,$=!!(W=Dy(r.ka,"EXT-X-SERVER-CONTROL"))&&null!=ky(W,"CAN-SKIP-UNTIL"),X=!!W&&null!=ky(W,"CAN-BLOCK-RELOAD"),Y=_y(r.ka,"EXT-X-MEDIA-SEQUENCE",0),J=hA(Y,I),Z=J.Zb,Q=J.$b,e.return({stream:V,type:o,Zf:[],T:i,md:G,Xc:H,nf:$,mf:X,re:!1,Vg:-1,Zb:Z,$b:Q,Lf:T})}}))}function hA(t,e){t=t+e.length-1;var n=-1;if(!e.length)return{Zb:++t,$b:n};var r=(e=e[e.length-1]).g;return e.g.length?(n=r.length-1,r[r.length-1].isPreload()||(t++,n=0),{Zb:t,$b:n}):(t++,e.u&&(n=0),{Zb:t,$b:n})}function fA(t,e,n,r,i,a,o,s,u,l,c,d){var p=SA(n,e)||EA(n),h=[];if(u)for(var f=(u=g(u.split(","))).next();!f.done;f=u.next())h.push(f.value);return u=void 0,f=null,n==re?u=h.includes("public.accessibility.transcribes-spoken-dialog")&&h.includes("public.accessibility.describes-music-and-sound")?"caption":"subtitle":h.includes("public.accessibility.describes-video")&&(f="visually impaired"),h.length||"subtitle"!==u||h.push("subtitle"),eA(t={id:t.G++,originalId:a,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:p,codecs:e,kind:n==re?"subtitle":void 0,encrypted:!1,drmInfos:[],keyIds:new Set,language:de(r||"und"),originalLanguage:r,label:a,type:n,primary:i,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,frameRate:void 0,pixelAspectRatio:void 0,width:void 0,height:void 0,bandwidth:void 0,roles:h,forced:l,channelsCount:o,audioSamplingRate:c,spatialAudio:d,closedCaptions:s,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,accessibilityPurpose:f,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null}),t}function gA(t,e,n,r,i){var a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,C,x,T,S,E,k,I,M,R,L,O,D,_,N;return P((function(P){switch(P.g){case 1:if(a=new Map,!t.g.ignoreDrmInfo&&e.segments)for(o=g(e.segments),s=o.next();!s.done;s=o.next())if(u=s.value,l=Oy(u.ka,"EXT-X-KEY"),c=null,l.length)for(c=bA(t,e,u.ka,r,i),d=g(l),p=d.next();!p.done;p=d.next())h=p.value,a.set(h,c);m=f=!1,v=[],y=new Set,A=g(a),b=A.next();case 2:if(b.done){P.B(4);break}if(C=b.value,x=g(C),T=x.next().value,S=x.next().value,k=S,"NONE"==(I=My(E=T,"METHOD"))){P.B(3);break}if(f=!0,M=Iy(E,"KEYFORMAT")||"identity",R=null,DA(I)){m=!0,P.B(3);break}if("identity"==M)return w(P,_A(t,E,n,r,k,i),11);if(!(L=t.Dc.get(M))){O=null,P.B(9);break}return w(P,L(E,n,k),10);case 10:O=P.h;case 9:R=O,P.B(6);break;case 11:R=P.h;case 6:if(R){if(R.keyIds)for(D=g(R.keyIds),_=D.next();!_.done;_=D.next())N=_.value,y.add(N);v.push(R)}case 3:b=A.next(),P.B(2);break;case 4:return P.return({drmInfos:v,keyIds:y,encrypted:f,Ei:m})}}))}function mA(e,n,r,i,a){if(!t.crypto||!t.crypto.subtle)throw X("Web Crypto API is not available to decrypt AES. (Web Crypto only exists in secure origins like https)"),new It(2,4,4042);var o=0,s=Iy(n,"IV","");if(s){var u=$t(s.substr(2));if(16!=u.byteLength)throw new It(2,4,4048)}else o=_y(r.ka,"EXT-X-MEDIA-SEQUENCE",0);var l=Ny(i(),My(n,"URI"),a),c=l.sort().join("");if(r=n.toString()+"-"+o+"-"+c,!e.oa.has(r)){var d={bitsKey:128,blockCipherMode:"CBC",iv:u,firstMediaSequenceNumber:o};switch(My(n,"METHOD")){case"AES-256":d.bitsKey=256;break;case"AES-256-CTR":d.bitsKey=256,d.blockCipherMode="CTR"}d.fetchKey=function(){var n,r,i,a;return P((function(o){if(1==o.g)return e.O.has(c)||(n=Qi(l,e.g.retryParameters),r=PA(e,n,6).promise,e.O.set(c,r)),w(o,e.O.get(c),2);if(3!=o.g){if(!(i=o.h).data||i.data.byteLength!=d.bitsKey/8)throw new It(2,4,4049);return a={name:"CTR"==d.blockCipherMode?"AES-CTR":"AES-CBC",length:d.bitsKey},w(o,t.crypto.subtle.importKey("raw",i.data,a,!0,["decrypt"]),3)}d.cryptoKey=o.h,d.fetchKey=void 0,C(o)}))},e.oa.set(r,d)}return e.oa.get(r)}function vA(t,e){null==t.A&&(e=Dy(e.ka,"EXT-X-START"))&&(t.A=Number(My(e,"TIME-OFFSET")))}function yA(t,e){var n=1/0,r=e.segments;if(r.length)for(var i=r.length-1;i>=0;){var a=Dy(r[i].ka,"EXTINF");if(a){n=Number(a.value.split(",")[0]);break}i--}if(!(r=Dy(e.ka,"EXT-X-TARGETDURATION")))throw new It(2,4,4024,"EXT-X-TARGETDURATION");r=Number(r.value),(i=Dy(e.ka,"EXT-X-PART-INF"))&&(t.R=Number(My(i,"PART-TARGET"))),e=Dy(e.ka,"EXT-X-SERVER-CONTROL"),t.ea&&t.R?(t.u=t.Gc?5*t.R<=n?Math.min(t.R,t.u):Math.min(n,t.u):Math.min(t.R,t.u),t.hb=e?Number(My(e,"PART-HOLD-BACK")):0):(t.u=Math.min(n,t.u),n=e?ky(e,"HOLD-BACK"):null,t.La=n?Number(n.value):0),t.fb=Math.max(r,t.fb)}function AA(t,e){var n=0;if(t.g.defaultPresentationDelay)n=t.g.defaultPresentationDelay;else if(t.hb)n=t.hb;else if(t.La)n=t.La;else for(var r=e.segments.length,i=r-Math.min(r,t.g.hls.liveSegmentsDelay);i<r;i++){var a=Dy(e.segments[i].ka,"EXTINF");n=a?n+Number(a.value.split(",")[0]):n+t.fb}t.A&&t.A<0&&(n=Math.min(-t.A,n),t.A+=n),t.l.Nj(0),t.l.bi(n),t.l.sd(!1)}function bA(t,e,n,r,i){var a=Dy(n,"EXT-X-MAP");if(!a)return null;var o=My(a,"URI"),s=Ny(r(),o,i);if(o=[s.toString(),Iy(a,"BYTERANGE","")].join("-"),!t.ya.has(o)){for(var u=void 0,l=null,c=!1,d=(n=g(n)).next();!d.done;d=n.next())"EXT-X-KEY"==(d=d.value).name?DA(c=My(d,"METHOD"))&&d.id<a.id?(c=!1,u=mA(t,d,e,r,i)):c="NONE"!=c:"EXT-X-BYTERANGE"==d.name&&d.id<a.id&&(l=d);e=function(t,e,n,r,i){var a=0,o=null;return!(e=Iy(e,"BYTERANGE"))&&n&&(e=n.value),e&&(a=e.split("@"),o=Number(a[0]),a=Number(a[1]),o=a+o-1,r&&((n=o+1-a)%16&&(o+=16-n%16))),new Wo((function(){return t}),a,o,null,null,null,r,i)}(s,a,l,u,c),t.ya.set(o,e)}return t.ya.get(o)}function wA(e,n,r,i,a,o,s,u,l,c){var d=i.ka,p=Dy(d,"EXTINF"),h=0,f=0,m=null;i.Ec.length&&(e.m.isLowLatency=!0);var v=null;if(!e.g.hls.ignoreManifestProgramDateTime){var y=Dy(d,"EXT-X-PROGRAM-DATE-TIME");y&&y.value&&(v=Mn(y.value),e.ib=!0)}var A=Zo;if(Dy(d,"EXT-X-GAP")&&(e.m.gapCount++,A=2),!p){if(0==i.Ec.length)throw new It(2,4,4024,"EXTINF");if(!e.ea)return null}var b=[];y=!1;var w=null,C=!1,x=!1;if(e.ea&&i.Ec.length){h=n&&t.ReadableStream&&e.g.hls.allowLowLatencyByteRangeOptimization;for(var T=v,S={},E=0;E<i.Ec.length;S={ug:void 0,Ee:void 0},E++){var k=i.Ec[E],I=0==E?r:b[b.length-1],M=0==E?a:I.endTime,R=Number(Iy(k,"DURATION"))||e.R;if(R){var L=M+R,O=0,P=null;if("EXT-X-PRELOAD-HINT"==k.name?(O=(O=Iy(k,"BYTERANGE-START"))?Number(O):0,(I=Iy(k,"BYTERANGE-LENGTH"))?P=O+Number(I)-1:O&&(P=Number.MAX_SAFE_INTEGER)):(O=(P=g(CA(I,O=Iy(k,"BYTERANGE")))).next().value,P=P.next().value),S.Ee=Iy(k,"URI"),S.Ee){I=Zo,"YES"==Iy(k,"GAP")&&(e.m.gapCount++,I=2,C=!0),S.ug=null;var D=function(t){return function(){return null==t.ug&&(t.ug=Ny(u(),t.Ee,o)),t.ug}}(S);h&&O>=0&&null!=P&&(w=D,y=!0),M=new Xo(M,L,D,O,P,n,0,0,1/0,[],"",null,T,I,c),"EXT-X-PRELOAD-HINT"==k.name&&(M.Ih(),x=!0),"YES"!=Iy(k,"INDEPENDENT")&&E>0&&M.Nd(),(k=l)||(b.length&&b[0].mimeType?k=b[0].mimeType:S.Ee&&(S=Bc(S.Ee),k=VA.get(s).get(S)||null)),k&&(M.mimeType=k,GA.has(k)&&(M.ia=null)),b.push(M),T&&(T+=R)}}}}if(p){if(0==(p=Number(p.value.split(",")[0])))return null;h=a+p}else{if(!b.length)return null;h=b[b.length-1].endTime}y&&(C||0!=b[0].startByte?(y=!1,w=null):b=[]),(p=Dy(d,"EXT-X-BYTERANGE"))?(f=(m=g(CA(r,p.value))).next().value,m=m.next().value):b.length&&(f=b[0].startByte,m=b[b.length-1].endByte),r="",p=null,"image"==s&&(r="1x1",s=Dy(d,"EXT-X-TILES"))&&(r=My(s,"LAYOUT"),(s=Iy(s,"DURATION"))&&(p=Number(s)));var _=null;return n=new Xo(a,h,(function(){return w?w():(null==_&&(_=Ny(u(),i.g,o)),_||[])}),f,m,n,0,0,1/0,b,r,p,v,A,c,b.length>0&&!!i.g),l&&(n.mimeType=l,GA.has(l)&&(n.ia=null)),y&&(e.Gc=!0,n.kj(),x&&n.Ih()),n}function CA(t,e){var n=0,r=null;return e&&(n=e.split("@"),e=Number(n[0]),r=(n=n[1]?Number(n[1]):t.endByte+1)+e-1),[n,r]}function xA(t,e,n,r,i){if("video"==n||"audio"==n){var a=t.l.m;if(a&&!dA(t,n))for(e=(e=Oy(e,"EXT-X-DATERANGE")).filter((function(t){return null!=ky(t,"START-DATE")})).sort((function(t,e){return(t=My(t,"START-DATE"))<(e=My(e,"START-DATE"))?-1:t>e?1:0})),n=0;n<e.length;n++){var o=e[n];try{var s=Mn(My(o,"START-DATE"));if(!isNaN(s)){var u=Math.max(0,s-a),l=null,c=Iy(o,"END-DATE");if(c){var d=Mn(c);if(!isNaN(d)&&(l=d-a)<0)continue}if(null==l){var p=Iy(o,"DURATION")||Iy(o,"PLANNED-DURATION");if(p){var h=parseFloat(p);if(isNaN(h)||(l=u+h),s-a+h<0)continue}}var f=Iy(o,"CLASS")||"com.apple.quicktime.HLS",m="YES"==Iy(o,"END-ON-NEXT");if(null==l&&m){for(var v=n+1;v<e.length;v++){if(f==(Iy(e[v],"CLASS")||"com.apple.quicktime.HLS")){var y=Mn(My(e[v],"START-DATE"));if(!isNaN(y)&&y&&y>s){l=Math.max(0,y-a);break}}}if(null==l)continue}v=["CLASS","START-DATE","END-DATE","DURATION","END-ON-NEXT"];for(var A=[],b=g(o.attributes),w=b.next();!w.done;w=b.next()){var C=w.value;if(!v.includes(C.name)){var x=By(C.value,r);"X-ASSET-URI"!=C.name&&"X-ASSET-LIST"!=C.name||(x=Ny(i(),C.value,r)[0]),A.push({key:C.name,description:"",data:x,mimeType:null,pictureType:null})}}A.length>1&&t.h.onMetadata(f,u,l,A)}}catch(t){}}}}function TA(t,e,n,r,i,a){function o(t){if(!(t=Bc(t)))return null;var e=VA.get(a).get(t);return e||(e=UA.get(t)),e}var s=e.segments,u=null,l=null,c=null,d=null,p=void 0,h=_y(e.ka,"EXT-X-DISCONTINUITY-SEQUENCE",-1),f=_y(e.ka,"EXT-X-MEDIA-SEQUENCE",0),m=Dy(e.ka,"EXT-X-SKIP"),v=m?Number(Iy(m,"SKIPPED-SEGMENTS")):0,y=f+v,A=0;LA(t)&&n.has(y)&&(A=n.get(y)),0===A&&t.Ca==KA&&n.size>0&&!n.has(y)&&null!=t.l.i&&(A=t.l.Mb());var b=[],w=null;m=[];for(var C=0;C<s.length;C++){var x=s[C];(y=Dy(x.ka,"EXT-X-MAP"))&&y.id!==l&&(u=bA(t,e,x.ka,i,r),l=y.id);var T="";(y=x.g)&&(T=Bc(y)),T!==d&&(c=o(y),d=T),T=0==C?A:w.endTime,y=f+v+C,Dy(x.ka,"EXT-X-DISCONTINUITY")&&(h++,w&&w.ia&&(w.ia.g=T));for(var S=g(x.ka),E=S.next();!E.done;E=S.next())"EXT-X-KEY"==(E=E.value).name&&(p=DA(My(E,"METHOD"))?mA(t,E,e,i,r):void 0);if(n.set(y,T),T=wA(t,u,w,x,T,r,a,i,c,p)){if((w=_y(x.ka,"EXT-X-BITRATE"))?(m.push({bitrate:w,duration:T.endTime-T.startTime}),T.bandwidth=w):T.endByte?(x=Yo(T))&&(x=8*x/(w=T.endTime-T.startTime)/1e3,m.push({bitrate:x,duration:w}),T.bandwidth=x):m.length&&((w=m.pop()).duration+=T.endTime-T.startTime,m.push(w),T.bandwidth=w.bitrate),T.bandwidth)for(x=(w=g(T.g)).next();!x.done;x=w.next())x.value.bandwidth=T.bandwidth;w=T,T.i=h,dA(t,a)&&null!=t.M&&y<t.M||b.push(T)}}if(e=void 0,m.length&&(e=m.reduce((function(t,e){return t+e.duration}),0),e=Math.round(m.reduce((function(t,e){return t+e.bitrate*e.duration}),0)/e*1e3)),m=b.some((function(t){return null!=t.h})))for(n={},r=0;r<b.length;n={tf:void 0,rf:void 0,jf:void 0,pd:void 0,hf:void 0},r++)if(n.pd=b[r],null==n.pd.h)for(n.rf=0,n.tf=r,i=function(t){return function(){var e=b[t.tf];if(e){if(null!=e.h)return e.h+t.rf;t.rf-=e.endTime-e.startTime,t.tf+=1}return null}}(n),n.hf=0,n.jf=r,s=function(t){return function(){var e=b[t.jf];if(e){if(e!=t.pd&&(t.hf+=e.endTime-e.startTime),null!=e.h)return e.h+t.hf;--t.jf}return null}}(n);null==n.pd.h;)n.pd.h=s(),null==n.pd.h&&(n.pd.h=i());if(m)for(r=(n=g(b)).next();!r.done;r=n.next())for(r=(i=r.value).h,s=(i=g(i.g)).next();!s.done;s=i.next())(s=s.value).h=r,r+=s.endTime-s.startTime;if(n=t.aa,m&&n!=1/0&&!dA(t,a))for(m=(t=g(b)).next();!m.done;m=t.next())m.value.oi(n);return{segments:b,bandwidth:e}}function SA(t,e){if(t==re){if("vtt"==e||"wvtt"==e)return"text/vtt";if(e&&""!==e)return"application/mp4"}return"image"!=t||e&&"jpeg"!=e?"audio"==t&&"mp4a.40.34"==e?"audio/mpeg":"mjpg"==e?"application/mp4":null:"image/jpeg"}function EA(t){return t==re?"text/vtt":VA.get(t).get("mp4")}function kA(t,e){for(var n=e[t=LA(t)?Math.trunc((e.length-1)/2):0];2==n.Tc()&&t+1<e.length;)n=e[++t];return{segment:n,segmentIndex:t}}function IA(t,e,n,r,i,a,o){t&&(t.width=Number(e)||void 0,t.height=Number(n)||void 0,t.frameRate=Number(r)||void 0,t.hdr=i||void 0,t.videoLayout=a||void 0,t.colorGamut=o||void 0)}function MA(t,e,n){return PA(t,Qi(e,t.g.retryParameters),0,{type:n?2:3})}function RA(t){var e,n,r,i,a,o;return P((function(s){switch(s.g){case 1:return t.h?(x(s,2),e=Date.now(),w(s,t.update(),4)):s.return();case 4:n=Date.now(),LA(t)&&(r=(n-e)/1e3,t.Ob.sample(1,r),i=t.g.updatePeriod>0?t.g.updatePeriod:t.u,a=Math.max(0,i-xe(t.Ob)),t.F.Y(a)),S(s,3);break;case 2:if(o=E(s),!t.h)return s.return();if(t.g.raiseFatalErrorOnManifestUpdateRequestFailure)return t.h.onError(o),s.return();o.severity=1,t.h.onError(o),t.F.Y(.1);case 3:if(!t.h)return s.return();t.h.onManifestUpdated(),C(s)}}))}function LA(t){return t.Ca!=zA}function OA(t,e){t.Ca=e,t.l&&t.l.sd(!LA(t)),LA(t)||t.F.stop()}function PA(t,e,n,r){if(!t.W)throw new It(2,7,7001);return r||(r={}),r.isPreload=t.kc(),e=t.h.networkingEngine.request(n,e,r),Xi(t.W,e),e}function DA(t){return"AES-128"==t||"AES-256"==t||"AES-256-CTR"==t}function _A(e,n,r,i,a,o){var s,u,l,c,d,p,h,f,g,m,v;return P((function(y){switch(y.g){case 1:if("video/mp2t"==r)throw new It(2,4,4040);if("apple"===t.shakaMediaKeysPolyfill)throw new It(2,4,4041);if(s=My(n,"METHOD"),!["SAMPLE-AES","SAMPLE-AES-CTR"].includes(s))return y.return(null);if((u=Ny(i(),My(n,"URI"),o))[0].startsWith("data:text/plain;base64,")){l=Xt(Wt(u[0].split("data:text/plain;base64,").pop())),y.B(2);break}return c=u.sort().join(""),e.ra.has(c)||(d=Qi(u,e.g.retryParameters),p=PA(e,d,6).promise,e.ra.set(c,p)),w(y,e.ra.get(c),3);case 3:h=y.h,l=Xt(h.data);case 2:if(f="00000000000000000000000000000000",!a){y.B(4);break}return w(y,NA(e,a),5);case 5:(g=y.h)&&(f=g);case 4:return(m=new Map).set(f,l),v="cenc","SAMPLE-AES"==s&&(v="cbcs"),y.return(Qt(m,v))}}))}function NA(t,e){var n,r,i;return P((function(a){return 1==a.g?(n=null,t.sa.has(e)?(n=t.sa.get(e),a.B(2)):(r=yl(e.T(),e.Sc(),e.Pc(),t.g.retryParameters),w(a,PA(t,r,ia,{type:0}).promise,3))):(2!=a.g&&(i=a.h,e.Je(i.data),n=function(t){var e=null;return(new fa).box("moov",ga).box("trak",ga).box("mdia",ga).box("minf",ga).box("stbl",ga).X("stsd",ma).box("encv",va).box("enca",ya).box("sinf",ga).box("schi",ga).X("tenc",(function(t){(t=t.reader).ba(),t.ba(),t.ba(),t.ba(),t=t.ac(16,!1),e=Xt(t)})).parse(t,!0),e}(i.data),t.sa.set(e,n)),a.return(n))}))}G("shaka.net.DataUriPlugin",zy),zy.parse=Hy,Ji("data",Hy),(i=Wy.prototype).configure=function(t,e){var n=this.h&&t.updatePeriod!=this.g.updatePeriod&&t.updatePeriod>=0;this.g=t,e&&(this.kc=e),this.j&&this.j.configure(this.g),n&&this.m&&this.m.presentationTimeline.U()&&this.F.Ka()},i.start=function(t,e){var n,r=this;return P((function(i){return 1==i.g?(r.h=e,r.ea=e.isLowLatencyMode(),w(i,MA(r,[t]).promise,2)):3!=i.g?(n=i.h,r.H=n.uri,w(i,function(t,e){var n,r,i,a,o,s,u,l,c,d,p,h,f,v,y,A,b,T,S,k,I,M,R,L,O,D,_,N,U,B,j,q,F,V,G,H,K,W,$,X,Y,J,Z;return P((function(Q){switch(Q.g){case 1:return n=ie,r=qy(t.Na,e),i=Oy(r.ka,"EXT-X-DEFINE"),a=[],o=[],s=[],t.l=new bu(null,0),t.l.sd(!0),u=function(){return[t.H]},l=null,c=new Map,1==r.type?(t.P=!1,q=Oy(r.ka,"EXT-X-DEFINE"),c=tA(t,q,t.H),l=n.Ha,F="",V=new Map,w(Q,pA(t,t.G++,c,r,u,"",l,F,!0,"Media Playlist",null,V,null,!1,null,!1),7)):(function(t,e){for(var n=new at(t.H).g,r=(e=g(e)).next();!r.done;r=e.next()){var i=r.value;r=Iy(i,"NAME");var a=Iy(i,"VALUE");i=Iy(i,"QUERYPARAM"),r&&a&&(t.C.has(r)||t.C.set(r,a)),i&&(r=n.get(i)[0])&&!t.C.has(r)&&t.C.set(i,r)}}(t,i),d=Oy(r.ka,"EXT-X-MEDIA"),p=Oy(r.ka,"EXT-X-STREAM-INF"),h=Oy(r.ka,"EXT-X-IMAGE-STREAM-INF"),f=Oy(r.ka,"EXT-X-I-FRAME-STREAM-INF"),v=Oy(r.ka,"EXT-X-SESSION-KEY"),y=Oy(r.ka,"EXT-X-SESSION-DATA"),A=Oy(r.ka,"EXT-X-CONTENT-STEERING"),function(t,e){for(var n=(e=g(e)).next();!n.done;n=e.next()){var r=n.value,i=Iy(r,"DATA-ID");n=Iy(r,"URI");var a=Iy(r,"LANGUAGE");r=Iy(r,"VALUE"),i=(new Map).set("id",i),n&&i.set("uri",Ny([t.H],n,t.C)[0]),a&&i.set("language",a),r&&i.set("value",r),n=new z("sessiondata",i),t.h&&t.h.onEvent(n)}}(t,y),w(Q,function(t,e){var n,r,i,a,o,s;return P((function(u){if(!t.h||!t.g)return u.return();for(r=g(e),i=r.next();!i.done;i=r.next())if(a=i.value,o=Iy(a,"PATHWAY-ID"),s=Iy(a,"SERVER-URI"),o&&s){t.j=new Gm(t.h),t.j.configure(t.g),t.j.i=[t.H],t.j.setManifestType("HLS"),t.j.h=o,n=zm(t.j,s);break}return w(u,n,0)}))}(t,A),4));case 4:if(!t.g.ignoreSupplementalCodecs){for(b=[],T=g(p),S=T.next(),k={};!S.done;k={Wj:void 0},S=T.next())I=S.value,(M=Iy(I,"SUPPLEMENTAL-CODECS"))&&(k.Wj=M.split(/\s*,\s*/).map((function(t){return t.split("/")[0]})),R=I.attributes.map(function(t){return function(e){var n=e.name,r=e.value;return"CODECS"==n&&(r=t.Wj.join(","),(e=e.value.split(",")).length>1&&(e=ee("audio",e))&&(r+=","+e)),new Ly(n,r)}}(k)),b.push(new Sy(I.id,I.name,R,null)));for(p.push.apply(p,m(b)),L=[],O=g(f),D=O.next(),_={};!D.done;_={Xj:void 0},D=O.next())N=D.value,(U=Iy(N,"SUPPLEMENTAL-CODECS"))&&(_.Xj=U.split(/\s*,\s*/).map((function(t){return t.split("/")[0]})),B=N.attributes.map(function(t){return function(e){var n=e.name;return e=e.value,"CODECS"==n&&(e=t.Xj.join(",")),new Ly(n,e)}}(_)),L.push(new Sy(N.id,N.name,B,null)));f.push.apply(f,m(L))}return function(t,e){for(var n=(e=g(e)).next();!n.done;n=e.next()){var r=n.value,i=Iy(r,"AUDIO");n=Iy(r,"VIDEO");var a=Iy(r,"SUBTITLES");if(r=rA(t,r),a){var o=ee(re,r);t.K.set(a,o),Ee(r,o)}i&&((a=ee("audio",r))||(a=t.g.hls.defaultAudioCodec),t.K.set(i,a)),n&&((i=ee("video",r))||(i=t.g.hls.defaultVideoCodec),t.K.set(n,i))}}(t,p),function(t,e){e=Py(e,"CLOSED-CAPTIONS"),t.P=0==e.length;for(var n=(e=g(e)).next();!n.done;n=e.next()){var r=n.value,i=Iy(r,"LANGUAGE");n=de(i||"und"),i||(i=Iy(r,"NAME"))&&(n=i),i=My(r,"GROUP-ID"),r=My(r,"INSTREAM-ID").replace("SERVICE","svc"),t.J.get(i)||t.J.set(i,new Map),t.J.get(i).set(r,n)}}(t,d),j=function(t,e){return e.map((function(e){return"video"!==(e=oA(t,e)).stream.type?null:e.stream})).filter((function(t){return t}))}(t,f),w(Q,function(t,e,n,r,i,a,o){var s,u,l,c,d,p,h,f,v,y,A,b,C,x,T,S,E,k,I,M,R,L,O,D,_,N,U,B,j,q,F,V,G,z,H,K;return P((function(P){switch(P.g){case 1:if(s=[],u=new Set,t.g.ignoreDrmInfo||!(n.length>0)){P.B(2);break}l=g(n),c=l.next();case 3:if(c.done){P.B(2);break}if(d=c.value,p=My(d,"METHOD"),h=Iy(d,"KEYFORMAT")||"identity",f=null,"NONE"==p){P.B(4);break}if(DA(p)){v=Ny(i(),My(d,"URI"),a),y=v.sort().join(""),t.O.has(y)||(A=Qi(v,t.g.retryParameters),b=PA(t,A,6).promise,t.O.set(y,b)),P.B(4);break}if("identity"==h)return w(P,_A(t,d,"",i,null,a),12);if(!(C=t.Dc.get(h))){x=null,P.B(10);break}return w(P,C(d,"",null),11);case 11:x=P.h;case 10:f=x,P.B(6);break;case 12:f=P.h;case 6:if(f){if(f.keyIds)for(T=g(f.keyIds),S=T.next();!S.done;S=T.next())E=S.value,u.add(E);s.push(f)}case 4:c=l.next(),P.B(3);break;case 2:for(k={},I=g(e),M=I.next();!M.done;M=I.next())R=M.value,L=Ey(R,!t.j),k[L]?k[L].push(R):k[L]=[R];for(D in O=[],k)_=k[D],N=_[0],U=Iy(N,"FRAME-RATE"),B=Number(Iy(N,"AVERAGE-BANDWIDTH"))||Number(My(N,"BANDWIDTH")),j=Iy(N,"RESOLUTION"),q=g(j?j.split("x"):[null,null]),F=q.next().value,V=q.next().value,G=Iy(N,"VIDEO-RANGE"),(z=Iy(N,"REQ-VIDEO-LAYOUT"))&&z.includes(",")&&(H=z.split(",").filter((function(t){return"CH-STEREO"==t||"CH-MONO"==t})),z=H[0]),z=z||"CH-MONO",K=nA(t,_,r),O.push.apply(O,m(iA(t,K.audio,K.video,B,F,V,U,G,z,s,u,o)));return P.return(O.filter((function(t){return null!=t})))}}))}(t,p,v,d,u,t.C,j),5);case 5:return a=Q.h,o=function(t,e){var n=Py(e,"SUBTITLES");e=n.map((function(e){if(t.g.disableText)return null;try{return aA(t,[e],new Map).stream}catch(e){if(t.g.hls.ignoreTextStreamFailures)return null;throw e}}));for(var r=(n=g(n)).next();!r.done;r=n.next()){var i=My(r.value,"GROUP-ID");if((r=t.K.get(i))&&(i=t.L.get(i)))for(var a=(i=g(i)).next();!a.done;a=i.next())(a=a.value).stream.codecs=r,a.stream.mimeType=SA(re,r)||EA(re),eA(a.stream)}return e.filter((function(t){return t}))}(t,d),w(Q,function(t,e,n){var r,i;return P((function(a){return 1==a.g?(r=e.map((function(e){var n,r;return P((function(i){if(1==i.g)return t.g.disableThumbnails?i.return(null):(x(i,2),w(i,function(t,e){var n,r,i,a,o,s,u,l,c,d;return P((function(p){return 1==p.g?(n=My(e,"URI"),r=Iy(e,"CODECS","jpeg")||"",t.i.has(n)?p.return(t.i.get(n)):(i=Iy(e,"LANGUAGE"),a=Iy(e,"NAME"),o=Iy(e,"CHARACTERISTICS"),s=sA(t,t.G++,[n],r,"image",i,!1,a,null,null,o,!1,null,!1),(u=Iy(e,"RESOLUTION"))?w(p,s.stream.createSegmentIndex(),3):p.B(2))):(2!=p.g&&(l=zu(s.stream.segmentIndex),(c=l.tilesLayout)&&(s.stream.width=Number(u.split("x")[0])*Number(c.split("x")[0]),s.stream.height=Number(u.split("x")[1])*Number(c.split("x")[1])),s.stream.closeSegmentIndex()),(d=Iy(e,"BANDWIDTH"))&&(s.stream.bandwidth=Number(d)),t.i.set(n,s),p.return(s))}))}(t,e),4));if(2!=i.g)return n=i.h,i.return(n.stream);if(r=E(i),t.g.hls.ignoreImageStreamFailures)return i.return(null);throw r}))})).concat(n.map((function(e){if(t.g.disableThumbnails)return null;try{var n=oA(t,e);return"image"!==n.stream.type?null:n.stream}catch(e){if(t.g.hls.ignoreImageStreamFailures)return null;throw e}}))),w(a,Promise.all(r),2)):(i=a.h,a.return(i.filter((function(t){return t}))))}))}(t,h,f),6);case 6:s=Q.h,Q.B(3);break;case 7:G=Q.h,t.i.set(t.H,G),G.stream&&(H=tl(G.stream),G.stream.segmentIndex.Kb((function(t){t.ia&&(t.ia.Od=H)}))),l=G.stream.type,K=!0,(t.g.disableAudio&&"audio"==G.type||t.g.disableVideo&&"video"==G.type&&!G.stream.codecs.includes(","))&&(K=!1),K&&a.push({id:0,language:de(F||"und"),disabledUntilTime:0,primary:!0,audio:"audio"==G.type?G.stream:null,video:"video"==G.type?G.stream:null,bandwidth:G.stream.bandwidth||0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});case 3:if(!t.h)throw new It(2,7,7001);if(vA(t,r),1==r.type&&(LA(t)&&(AA(t,r),W=t.u,t.F.Y(W)),$=Array.from(t.i.values()),cA(t,$),Qy(t),xA(t,r.ka,l,c,u)),t.m={presentationTimeline:t.l,variants:a,textStreams:o,imageStreams:s,offlineSessionIds:[],sequenceMode:t.g.hls.sequenceMode,ignoreManifestTimestampsInSegmentsMode:t.g.hls.ignoreManifestTimestampsInSegmentsMode,type:"HLS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:t.A},t.Z||!t.g.hls.disableCodecGuessing){Q.B(8);break}for(X=[],Y=g(t.m.variants),J=Y.next();!J.done;J=Y.next())(Z=J.value).audio&&""===Z.audio.codecs&&X.push(Z.audio.createSegmentIndex()),Z.video&&""===Z.video.codecs&&X.push(Z.video.createSegmentIndex());return w(Q,Promise.all(X),8);case 8:t.h.makeTextStreamsForClosedCaptions(t.m),C(Q)}}))}(r,n.data),3)):i.return(r.m)}))},i.stop=function(){this.F&&(this.F.stop(),this.F=null);var t=[];return this.W&&(t.push(this.W.destroy()),this.W=null),this.g=this.h=null,this.jb.clear(),this.m=null,this.i.clear(),this.L.clear(),this.K.clear(),this.C.clear(),this.ya.clear(),this.oa.clear(),this.O.clear(),this.ra.clear(),this.sa.clear(),this.I.clear(),this.j&&this.j.destroy(),this.S&&(this.S.release(),this.S=null),Promise.all(t)},i.update=function(){var t,e,n,r,i,a,o,s,u,l,c=this;return P((function(d){if(1==d.g){if(!LA(c))return d.return();for(t=[],e=Array.from(c.i.values()),c.u=1/0,c.m.gapCount=0,n=e.filter((function(t){return t.stream.segmentIndex})),r=g(n),i=r.next();!i.done;i=r.next())a=i.value,t.push(Xy(c,a));return w(d,Promise.all(t),2)}for(lA(c,n.map((function(t){return t.stream}))),o=n.some((function(t){return 0==t.re})),n.length&&!o&&OA(c,zA),o&&Qy(c),s=g(n),u=s.next();!u.done;u=s.next())(l=u.value).stream.isAudioMuxedInVideo||!l.stream.segmentIndex||zu(l.stream.segmentIndex)||c.h.disableStream(l.stream);C(d)}))},i.onExpirationUpdated=function(){},i.onInitialVariantChosen=function(){},i.banLocation=function(t){this.j&&this.j.banLocation(t)},i.setMediaElement=function(t){this.V=t},G("shaka.hls.HlsParser",Wy);var UA=(new Map).set("aac","audio/aac").set("ac3","audio/ac3").set("ec3","audio/ec3").set("mp3","audio/mpeg"),BA=(new Map).set("mp4","audio/mp4").set("mp4a","audio/mp4").set("m4s","audio/mp4").set("m4i","audio/mp4").set("m4a","audio/mp4").set("m4f","audio/mp4").set("cmfa","audio/mp4").set("ts","video/mp2t").set("tsa","video/mp2t"),jA=(new Map).set("mp4","video/mp4").set("mp4v","video/mp4").set("m4s","video/mp4").set("m4i","video/mp4").set("m4v","video/mp4").set("m4f","video/mp4").set("cmfv","video/mp4").set("ts","video/mp2t").set("tsv","video/mp2t"),qA=(new Map).set("mp4","application/mp4").set("m4s","application/mp4").set("m4i","application/mp4").set("m4f","application/mp4").set("cmft","application/mp4").set("vtt","text/vtt").set("webvtt","text/vtt").set("ttml","application/ttml+xml"),FA=(new Map).set("jpg","image/jpeg").set("png","image/png").set("svg","image/svg+xml").set("webp","image/webp").set("avif","image/avif"),VA=(new Map).set("audio",BA).set("video",jA).set("text",qA).set("image",FA),GA=new Set(["video/mp2t"].concat(m(Ur))),zA="VOD",HA="EVENT",KA="LIVE";function WA(t){return sm(t)}so("application/x-mpegurl",(function(){return new Wy})),so("application/vnd.apple.mpegurl",(function(){return new Wy}));var $A=(new Map).set("com.microsoft.playready",WA).set("com.microsoft.playready.recommendation",WA).set("com.microsoft.playready.software",WA).set("com.microsoft.playready.hardware",WA);function XA(){var t=this;this.h=this.g=null,this.l=[],this.j=null,this.A=1,this.i=null,this.F=new Ce(5),this.u=new Wr((function(){!function(t){var e;P((function(n){switch(n.g){case 1:return x(n,2),w(n,YA(t),4);case 4:S(n,3);break;case 2:e=E(n),t.h&&(e.severity=1,t.h.onError(e));case 3:if(!t.h)return n.return();C(n)}}))}(t)})),this.D=new $i,this.m=new Map,this.C=function(){return!1}}function YA(t){var e,n,r,i,a,o,s;return P((function(u){if(1==u.g)return e=Qi(t.l,t.g.retryParameters),n=t.h.networkingEngine,r=Date.now(),i=n.request(0,e,{type:5,isPreload:t.C()}),Xi(t.D,i),w(u,i.promise,2);if(a=u.h,!t.h)return u.return();a.uri&&!t.l.includes(a.uri)&&t.l.unshift(a.uri);var l=a.uri,c=a.data,d=t.g.mss.manifestPreprocessor;if(d!=hc){if(Pe("manifest.mss.manifestPreprocessor configuration","Please Use manifest.mss.manifestPreprocessorTXml instead."),!(c=Lv(c,"SmoothStreamingMedia")))throw new It(2,4,4046,l);d(c),c=jt(c.outerHTML)}var p=fn(c,"SmoothStreamingMedia");if(!p)throw new It(2,4,4046,l);if((l=t.g.mss.manifestPreprocessorTXml)!=fc&&l(p),t.i||(t.i=new bu(null,0)),l=Sn(p,"IsLive",Nn,!1))throw new It(2,4,4047);t.i.sd(!l),d=Sn(p,"TimeScale",Dn,1e7),c=Sn(p,"DVRWindowLength",Dn),l&&(0===c||isNaN(c))&&(c=1/0);var h,f=Sn(p,"CanSeek",Nn,!1);for(0===c&&f&&(c=1/0),f=null,c&&c>0&&(f=c/d),l&&!isNaN(t.g.availabilityWindowOverride)&&(f=t.g.availabilityWindowOverride),null==f&&(f=1/0),t.i.hg(f),c=Sn(p,"Duration",Dn,1/0),l||t.i.Fb(c/d),l={variants:[],textStreams:[],timescale:d,duration:c/d},f=An(p,"Protection"),d=t.g.mss.keySystemsBySystemId,c=[],h=(f=g(f)).next();!h.done;h=f.next())c=c.concat(An(h.value,"ProtectionHeader"));if(c.length){for(f=[],h=0;h<c.length;h++){var v=c[h],y=v.attributes.SystemID.toLowerCase(),A=d[y];if(A){var b;t:{if(b=om(v))for(var x=(b=g(Cn(b,"DATA"))).next();!x.done;x=b.next())if(x=xn(x.value,"KID")){b=Wt(bn(x)),b=Xt(b=new Uint8Array([b[3],b[2],b[1],b[0],b[5],b[4],b[7],b[6]].concat(m(b.slice(8)))));break t}b=null}y=Zt(A,"cenc",y=[{initData:Ea(x=Wt(bn(v)),y=$t(y.replace(/-/g,"")),new Set,0),initDataType:"cenc",keyId:b}]),b&&y.keyIds.add(b),(A=$A.get(A))&&(y.licenseServerUri=A(v)),f.push(y)}}d=f}else d=[];for(h=d,f=[],d=[],c=[],v=(p=g(p=An(p,"StreamIndex"))).next();!v.done;v=p.next()){A=An(v=v.value,"QualityLevel"),y=l.timescale,b=l.duration,x=An(v,"c");for(var T=[],S=0,E=0;E<x.length;++E){var k=x[E],I=x[E+1],M=Sn(k,"t",Dn),R=Sn(k,"d",Dn);if(k=Sn(k,"r",On),!R)break;if(M=null!=M?M:S,(k=k||0)&&k--,k<0)if(I){if(null==(I=Sn(I,"t",Dn)))break;if(M>=I)break;k=Math.ceil((I-M)/R)-1}else{if(b==1/0)break;if(M/y>=b)break;k=Math.ceil((b*y-M)/R)-1}for(I=0;I<=k;++I)S=M+R,T.push({start:M/y,end:S/y,wi:M}),M=S}for(y=T,b=(A=g(A)).next();!b.done;b=A.next())(b=JA(t,v,b.value,y,h,l))&&("audio"!=b.type||t.g.disableAudio?"video"!=b.type||t.g.disableVideo?b.type!=re||t.g.disableText||c.push(b):d.push(b):f.push(b))}for(p=[],h=(f=g(f.length>0?f:[null])).next();!h.done;h=f.next())for(h=h.value,T=(v=g(d.length>0?d:[null])).next();!T.done;T=v.next())y=(A=p).push,b=t,x=h,T=T.value,E=0,x&&x.bandwidth&&x.bandwidth>0&&(E+=x.bandwidth),T&&T.bandwidth&&T.bandwidth>0&&(E+=T.bandwidth),b={id:b.A++,language:x?x.language:"und",disabledUntilTime:0,primary:!!x&&x.primary||!!T&&T.primary,audio:x,video:T,bandwidth:E,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]},y.call(A,b);l.variants=p,l.textStreams=c,t.j?(t.j.variants=l.variants,t.j.textStreams=l.textStreams,t.h.filter(t.j)):(t.j={presentationTimeline:t.i,variants:l.variants,textStreams:l.textStreams,imageStreams:[],offlineSessionIds:[],sequenceMode:t.g.mss.sequenceMode,ignoreManifestTimestampsInSegmentsMode:!1,type:"MSS",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null},t.i.Kf()),Promise.resolve(),o=Date.now(),s=(o-r)/1e3,t.F.sample(1,s),C(u)}))}function JA(t,e,n,r,i,a){var o=e.attributes.Type;if("audio"!==o&&"video"!==o&&"text"!==o)return X("Ignoring unrecognized type:",o),null;var s=e.attributes.Language,u=t.A++,l=Sn(n,"Bitrate",Pn),c=Sn(n,"MaxWidth",Pn),d=Sn(n,"MaxHeight",Pn),p=Sn(n,"Channels",Pn),h=Sn(n,"SamplingRate",Pn),f=a.duration;r.length&&(f=r[r.length-1].end-r[0].start);var m=t.i.getDuration();t.i.Fb(Math.min(f,m));var v={id:u,originalId:e.attributes.Name||String(u),groupId:null,createSegmentIndex:function(){return Promise.resolve()},closeSegmentIndex:function(){return Promise.resolve()},segmentIndex:null,mimeType:"",codecs:"",frameRate:void 0,pixelAspectRatio:void 0,bandwidth:l||0,width:c||void 0,height:d||void 0,kind:"",encrypted:i.length>0,drmInfos:i,keyIds:new Set,language:de(s||"und"),originalLanguage:s,label:"",type:"",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:[],roles:[],forced:!1,channelsCount:p,audioSamplingRate:h,spatialAudio:!1,closedCaptions:null,hdr:void 0,colorGamut:void 0,videoLayout:void 0,tilesLayout:void 0,matchedStreams:[],mssPrivateData:{duration:f,timescale:a.timescale,codecPrivateData:null},accessibilityPurpose:null,external:!1,fastSwitching:!1,fullMimeTypes:new Set,isAudioMuxedInVideo:!1,baseOriginalId:null};if((i=e.attributes.Subtype)&&((i=QA.get(i))&&v.roles.push(i),"main"===i&&(v.primary=!0)),null!==(i=n.attributes.FourCC)&&""!==i||(i=e.attributes.FourCC),!i)if("audio"===o)i="AAC";else if("video"===o)return X('FourCC is not defined whereas it is required for a QualityLevel element for a StreamIndex of type "video"'),null;if(!ZA.includes(i.toUpperCase()))return X("Codec not supported:",i),null;switch(n=function(t,e,n,r){if(t=t.attributes.CodecPrivateData)return t;if("audio"!==e)return null;e=r.channelsCount||2,t=r.audioSamplingRate||44100;var i={96e3:0,88200:1,64e3:2,48e3:3,44100:4,32e3:5,24e3:6,22050:7,16e3:8,12e3:9,11025:10,8e3:11,7350:12};return r=i[t],"AACH"===n?(n=new Uint8Array(4),t=i[2*t],n[0]=40|r>>1,n[1]=r<<7|e<<3|t>>1,n[2]=t<<7|8,n[3]=0,(e=new Uint16Array(2))[0]=(n[0]<<8)+n[1],e[1]=(n[2]<<8)+n[3],e[0].toString(16)+e[1].toString(16)):((n=new Uint8Array(2))[0]=16|r>>1,n[1]=r<<7|e<<3,(e=new Uint16Array(1))[0]=(n[0]<<8)+n[1],e[0].toString(16))}(n,o,i,v),v.mssPrivateData.codecPrivateData=n,o){case"audio":if(!n)return X("Quality unsupported without CodecPrivateData",o),null;v.type="audio",v.mimeType="mss/audio/mp4",v.codecs=function(t,e){var n=0;return"AACH"===t&&(n=5),e?0===n&&(n=(248&parseInt(e.substr(0,2),16))>>3):(n=2,"AACH"===t&&(n=5)),"mp4a.40."+n}(i,n);break;case"video":if(!n)return X("Quality unsupported without CodecPrivateData",o),null;v.type="video",v.mimeType="mss/video/mp4",v.codecs=function(t){var e=/00000001[0-9]7/.exec(t);return e.length&&t?"avc1."+t.substr(t.indexOf(e[0])+10,6):""}(n);break;case"text":v.type=re,v.mimeType="application/mp4",("TTML"===i||"DFXP"===i)&&(v.codecs="stpp")}return v.fullMimeTypes.add(kr(v.mimeType,v.codecs)),v.createSegmentIndex=function(){if(v.segmentIndex)return Promise.resolve();if(t.m.has(v.id))var n=t.m.get(v.id);else n=[],"video"==v.type&&(n=v.mssPrivateData.codecPrivateData.split("00000001").slice(1)),n=bo(new Ao([n={id:v.id,type:v.type,codecs:v.codecs,encrypted:v.encrypted,timescale:v.mssPrivateData.timescale,duration:v.mssPrivateData.duration,Gb:n,Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:null,stream:v}])),t.m.set(v.id,n);return n=function(t,e,n,r,i){var a=r.attributes.Url.replace("{bitrate}",String(n.bandwidth));r=[];for(var o=(i=g(i)).next(),s={};!o.done;s={ng:void 0},o=i.next())s.ng=o.value,r.push(new Xo(s.ng.start,s.ng.end,function(e){return function(){return Jt(t.l,[a.replace("{start time}",String(e.ng.wi))])}}(s),0,null,e,0,0,n.mssPrivateData.duration));return r}(t,new Wo((function(){return[]}),0,null,tl(v),v.mssPrivateData.timescale,n,null,v.encrypted),v,e,r),v.segmentIndex=new Gu(n),Promise.resolve()},v.closeSegmentIndex=function(){v.segmentIndex&&(v.segmentIndex.release(),v.segmentIndex=null)},v}(i=XA.prototype).configure=function(t,e){this.g=t,e&&(this.C=e)},i.start=function(t,e){var n=this;return P((function(r){if(1==r.g)return n.l=[t],n.h=e,w(r,YA(n),2);if(!n.h)throw new It(2,7,7001);return r.return(n.j)}))},i.stop=function(){return this.g=this.h=null,this.l=[],this.j=null,null!=this.u&&(this.u.stop(),this.u=null),this.m.clear(),this.D.destroy()},i.update=function(){var t,e=this;return P((function(n){return 1==n.g?(x(n,2),w(n,YA(e),4)):2!=n.g?S(n,0):(t=E(n),e.h&&t?(e.h.onError(t),void C(n)):n.return())}))},i.onExpirationUpdated=function(){},i.onInitialVariantChosen=function(){},i.banLocation=function(){},i.setMediaElement=function(){},G("shaka.mss.MssParser",XA);var ZA="AAC AACL AACH AACP AVC1 H264 TTML DFXP".split(" "),QA=(new Map).set("CAPT","main").set("SUBT","alternate").set("DESC","main");function tb(t,e,n,r,i,a,o){if(n>=200&&n<=299&&202!=n||304==n)return{uri:i||r,originalUri:r,data:e,status:n,headers:t,fromCache:!!t["x-shaka-from-cache"],originalRequest:a};a=null;try{a=Bt(e)}catch(t){}throw new It(401==n||403==n?2:1,1,1001,r,n,a,t,o,i||r)}function eb(){}function nb(t,e,n,r,i,a){var o=new sb;try{la(e.headers).forEach((function(t,e){o.append(e,t)}))}catch(e){return Gi(new It(1,1,1002,t,e,n))}var s=new ab,u={Ji:!1,bk:!1};if(t=new Vi(t=function(t,e,n,r,i,a,o,s,u){var l,c,d,p,h,f,g,m,v,y,A,b,T,k;return P((function(I){switch(I.g){case 1:return l=ib,c=ob,p=new ArrayBuffer(0),f=h=0,g={},m=Date.now(),x(I,2),w(I,l(t,r),4);case 4:if(d=I.h,g=function(t){var e={};return t.forEach((function(t,n){e[n.trim()]=t})),e}(d.headers),o(g),"HEAD"==r.method){I.B(5);break}return y=(v=d.headers.get("Content-Length"))?parseInt(v,10):0,d.body?(A=d.clone().body.getReader(),new c({start:function(t){function e(){var n,r,i,o;return P((function(l){switch(l.g){case 1:return x(l,2),w(l,A.read(),4);case 4:n=l.h,S(l,3);break;case 2:return E(l),l.return();case 3:if(n.done){l.B(5);break}if(h+=n.value.byteLength,!s){l.B(5);break}return w(l,s(n.value),5);case 5:r=Date.now(),i=h-f,(r-m>100&&i>=u||n.done)&&(o=n.done?0:y-h,a(r-m,i,o),f=h,m=r),n.done?t.close():(t.enqueue(n.value),e()),C(l)}}))}e()}}),w(I,d.arrayBuffer(),8)):w(I,d.arrayBuffer(),9);case 8:p=I.h,I.B(5);break;case 9:p=I.h,b=Date.now(),a(b-m,p.byteLength,0);case 5:e.headers.Range&&(2==(T=e.headers.Range.replace("bytes=","").split("-").filter((function(t){return t})).map((function(t){return parseInt(t,10)}))).length&&p.byteLength!=T[1]-T[0]+1&&X("Payload length does not match range requested bytes",e,d)),S(I,3);break;case 2:if(k=E(I),i.Ji)throw new It(1,1,7001,t,n);if(i.bk)throw new It(1,1,1003,t,n);throw new It(1,1,1002,t,k,n);case 3:return I.return(tb(g,p,d.status,t,d.url,e,n))}}))}(t,e,n,{body:e.body||void 0,headers:o,method:e.method,signal:s.signal,credentials:e.allowCrossSiteCredentials?"include":void 0},u,r,i,e.streamDataCallback,a.minBytesForProgressEvents||0),(function(){return u.Ji=!0,s.abort(),Promise.resolve()})),e=e.retryParameters.timeout){var l=new Wr((function(){u.bk=!0,s.abort()}));l.Y(e/1e3),t.finally((function(){l.stop()}))}return t}function rb(){if(!t.ReadableStream)return!1;try{new ReadableStream({})}catch(t){return!1}return!!t.Response&&(!!new Response("").body&&!(!t.fetch||"polyfill"in t.fetch||!t.AbortController))}so("application/vnd.ms-sstr+xml",(function(){return new XA})),G("shaka.net.HttpFetchPlugin",eb),eb.isSupported=rb,eb.parse=nb;var ib=t.fetch,ab=t.AbortController,ob=t.ReadableStream,sb=t.Headers;function ub(){}function lb(t,e,n,r,i,a){var o=new cb,s=Date.now(),u=0;return new Vi(new Promise((function(l,c){o.open(e.method,t,!0),o.responseType="arraybuffer",o.timeout=e.retryParameters.timeout,o.withCredentials=e.allowCrossSiteCredentials;var d={};for(var p in o.onabort=function(){c(new It(1,1,7001,t,n))},o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.HEADERS_RECEIVED){for(var t=o.getAllResponseHeaders().trim().split("\r\n"),e={},n=(t=g(t)).next();!n.done;n=t.next())e[(n=n.value.split(": "))[0].toLowerCase()]=n.slice(1).join(": ");i(d=e)}},o.onload=function(i){var a=o.response;try{r(Date.now()-s,i.loaded-u,0);var p=tb(d,a,o.status,t,o.responseURL,e,n);l(p)}catch(t){c(t)}},o.onerror=function(e){c(new It(1,1,1002,t,e,n))},o.ontimeout=function(){c(new It(1,1,1003,t,n))},o.onprogress=function(t){var e=Date.now(),n=a.minBytesForProgressEvents||0,i=t.loaded-u;(e-s>100&&i>=n||t.lengthComputable&&t.loaded==t.total)&&(r(e-s,i,4==o.readyState?0:t.total-t.loaded),u=t.loaded,s=e)},e.headers)try{o.setRequestHeader(p.toLowerCase(),e.headers[p])}catch(e){throw new It(1,1,1002,t,e,n)}o.send(e.body)})),(function(){return o.abort(),Promise.resolve()}))}rb()&&(Ji("http",nb,2,!0),Ji("https",nb,2,!0),Ji("blob",nb,2,!0)),G("shaka.net.HttpXHRPlugin",ub),ub.parse=lb;var cb=t.XMLHttpRequest;function db(t,e,n,r,i){this.g=t,this.i=e,this.groupId=n,this.h=r,this.j=i}function pb(t){var e=t.hc(!1);return e?Kt(e):t.T().map((function(t){return"{"+encodeURI(t.split("#xywh=")[0])+"}"})).join("")+":"+t.startByte+":"+t.endByte}function hb(t,e){return yl(t.g.T(),t.g.startByte,t.g.endByte,e.streaming.retryParameters)}function fb(){this.g=this.j=this.i=0,this.h=new Map,this.l=0}function gb(t,e){t.i+=e;var n=t.l;return t.l++,t.h.set(n,e),n}function mb(t){return 0==t.i?0:t.j/t.i}function vb(t){var e=this;this.A=t,this.i=new Map,this.h=new sa((function(){return yb(e).catch((function(){}))})),this.j=[],this.u=function(){},this.m=function(){},this.g=new fb,this.l=!1}function yb(t){t.l=!0;var e=t.j.map((function(t){return t()}));return t.j=[],Promise.all(e)}function Ab(t,e,n,r,i,a){ua(t.h);var o=(t.i.get(e)||Promise.resolve()).then((function(){if(t.h.g)throw new It(2,9,7001);if(i){var e=Tt(n);for(var o in(e=new Sa(e)).data){var s=Number(o);t.m(e.data[s],e.g[s])}}return t.g.close(r,n.byteLength),t.u(mb(t.g),t.g.g),a(n)}));t.i.set(e,o)}function bb(t,e){var n=this;this.i=t,this.h=t.objectStore(e),this.g=new Fi,t.onabort=function(t){t.preventDefault(),n.g.reject()},t.onerror=function(t){t.preventDefault(),n.g.reject()},t.oncomplete=function(){n.g.resolve()}}function wb(t,e){return new Promise((function(n,r){var i=t.h.openCursor();i.onerror=r,i.onsuccess=function(){var t;return P((function(r){if(1==r.g)return null==i.result?(n(),r.return()):(t=i.result,w(r,e(t.key,t.value,t),2));t.continue(),C(r)}))}}))}function Cb(t){this.h=t,this.g=[]}function xb(t,e){return Tb(t,e,"readwrite")}function Tb(t,e,n){var r=new bb(n=t.h.transaction([e],n),e);return t.g.push(r),r.promise().then((function(){Ee(t.g,r)}),(function(){Ee(t.g,r)})),r}function Sb(t,e,n){this.h=new Cb(t),this.i=e,this.g=n}function Eb(t){return Promise.reject(new It(2,9,9011,"Cannot add new value to "+t))}function kb(t,e,n,r){e=(t=xb(t.h,e)).store();for(var i=(n=g(n)).next(),a={};!i.done;a={Hh:void 0},i=n.next())a.Hh=i.value,e.delete(a.Hh).onsuccess=function(t){return function(){return r(t.Hh)}}(a);return t.promise()}function Ib(t,e,n){var r,i,a,o,s,u,l;return P((function(c){if(1==c.g){for(r=Tb(t.h,e,"readonly"),i=r.store(),a={},o=[],s=g(n),u=s.next(),l={};!u.done;l={ag:void 0,Gf:void 0},u=s.next())l.Gf=u.value,l.ag=i.get(l.Gf),l.ag.onsuccess=function(t){return function(){null==t.ag.result&&o.push(t.Gf),a[t.Gf]=t.ag.result}}(l);return w(c,r.promise(),2)}if(o.length)throw new It(2,9,9012,"Could not find values for "+o);return c.return(n.map((function(t){return a[t]})))}))}function Mb(t){this.g=new Cb(t)}function Rb(){this.g=new Map}function Lb(t){var e=null;if(t.g.forEach((function(t,n){t.getCells().forEach((function(t,r){t.hasFixedKeySpace()||e||(e={path:{Yb:n,kb:r},kb:t})}))})),e)return e;throw new It(2,9,9013,"Could not find a cell that supports add-operations")}function Ob(t,e,n){if(!(t=t.g.get(e)))throw new It(2,9,9013,"Could not find mechanism with name "+e);if(!(e=t.getCells().get(n)))throw new It(2,9,9013,"Could not find cell with name "+n);return e}function Pb(t,e){Db.set(t,e)}Ji("http",lb,1,!0),Ji("https",lb,1,!0),Ji("blob",lb,1,!0),fb.prototype.close=function(t,e){if(this.h.has(t)){var n=this.h.get(t);this.h.delete(t),this.j+=n,this.g+=e}},vb.prototype.destroy=function(){return this.h.destroy()},vb.prototype.queue=function(t,e,n,r,i){var a=this;ua(this.h);var o=(this.i.get(t)||Promise.resolve()).then((function(){var t,o,s,u,l,c,d;return P((function(p){if(1==p.g)return w(p,function(t,e){var n,r,i,a;return P((function(o){return 1==o.g?(n=ia,r=t.A.request(n,e),i=function(){return r.abort()},t.j.push(i),w(o,r.promise,2)):(a=o.h,Ee(t.j,i),o.return(a.data))}))}(a,e),2);if(t=p.h,a.h.g)throw new It(2,9,7001);if(r)for(u in o=Tt(t),(s=new Sa(o)).data)l=Number(u),c=s.data[l],d=s.g[l],a.m(c,d);return a.g.close(n,t.byteLength),a.u(mb(a.g),a.g.g),p.return(i(t))}))}));return this.i.set(t,o),o},bb.prototype.abort=function(){var t=this;return P((function(e){if(1==e.g){try{t.i.abort()}catch(t){}return x(e,2),w(e,t.g,4)}if(2!=e.g)return S(e,0);E(e),C(e)}))},bb.prototype.store=function(){return this.h},bb.prototype.promise=function(){return this.g},Cb.prototype.destroy=function(){return Promise.all(this.g.map((function(t){return t.abort()})))},(i=Sb.prototype).destroy=function(){return this.h.destroy()},i.hasFixedKeySpace=function(){return!0},i.addSegments=function(){return Eb(this.i)},i.removeSegments=function(t,e){return kb(this,this.i,t,e)},i.getSegments=function(t){var e,n=this;return P((function(r){return 1==r.g?w(r,Ib(n,n.i,t),2):(e=r.h,r.return(e.map((function(t){return n.Oi(t)}))))}))},i.addManifests=function(){return Eb(this.g)},i.updateManifest=function(){return Promise.reject(new It(2,9,9016,"Cannot modify values in "+this.g))},i.updateManifestExpiration=function(t,e){var n=xb(this.h,this.g),r=n.store();return r.get(t).onsuccess=function(n){(n=n.target.result)&&(n.expiration=e,r.put(n,t))},n.promise()},i.removeManifests=function(t,e){return kb(this,this.g,t,e)},i.getManifests=function(t){var e,n=this;return P((function(r){return 1==r.g?w(r,Ib(n,n.g,t),2):(e=r.h,r.return(Promise.all(e.map((function(t){return n.je(t)})))))}))},i.getAllManifests=function(){var t,e,n=this;return P((function(r){return 1==r.g?(t=Tb(n.h,n.g,"readonly"),e=new Map,w(r,wb(t,(function(t,r){var i;return P((function(a){if(1==a.g)return w(a,n.je(r),2);i=a.h,e.set(t,i),C(a)}))})),2)):3!=r.g?w(r,t.promise(),3):r.return(e)}))},i.Oi=function(t){return t},i.je=function(t){return Promise.resolve(t)},i.add=function(t,e){var n,r,i,a,o,s,u,l=this;return P((function(c){if(1==c.g){for(n=xb(l.h,t),r=n.store(),i=[],a=g(e),o=a.next(),s={};!o.done;s={Uh:void 0},o=a.next())u=o.value,s.Uh=r.add(u),s.Uh.onsuccess=function(t){return function(){i.push(t.Uh.result)}}(s);return w(c,n.promise(),2)}return c.return(i)}))},Mb.prototype.destroy=function(){return this.g.destroy()},Mb.prototype.getAll=function(){var t,e,n=this;return P((function(r){return 1==r.g?(t=Tb(n.g,"session-ids","readonly"),e=[],w(r,wb(t,(function(t,n){e.push(n)})),2)):3!=r.g?w(r,t.promise(),3):r.return(e)}))},Mb.prototype.add=function(t){for(var e=xb(this.g,"session-ids"),n=e.store(),r=(t=g(t)).next();!r.done;r=t.next())n.add(r.value);return e.promise()},Mb.prototype.remove=function(t){var e,n=this;return P((function(r){return 1==r.g?w(r,wb(e=xb(n.g,"session-ids"),(function(e,n,r){t.includes(n.sessionId)&&r.delete()})),2):w(r,e.promise(),0)}))},Rb.prototype.destroy=function(){for(var t=[],e=g(this.g.values()),n=e.next();!n.done;n=e.next())t.push(n.value.destroy());return this.g.clear(),Promise.all(t)},Rb.prototype.init=function(){var t=this;Db.forEach((function(e,n){(e=e())&&t.g.set(n,e)}));for(var e=[],n=g(this.g.values()),r=n.next();!r.done;r=n.next())e.push(r.value.init());return Promise.all(e)},G("shaka.offline.StorageMuxer",Rb),Rb.unregister=function(t){Db.delete(t)},Rb.register=Pb,Rb.prototype.destroy=Rb.prototype.destroy;var Db=new Map;function _b(){Sb.apply(this,arguments)}function Nb(t,e){!function(t){var e=t.streams.filter((function(t){return"audio"==t.contentType}));if(t=t.streams.filter((function(t){return"video"==t.contentType})),!e.every((function(t){return t.variantIds}))||!t.every((function(t){return t.variantIds}))){for(var n=g(e),r=n.next();!r.done;r=n.next())r.value.variantIds=[];for(r=(n=g(t)).next();!r.done;r=n.next())r.value.variantIds=[];if(n=0,t.length&&!e.length){r=n++;for(var i=g(t),a=i.next();!a.done;a=i.next())a.value.variantIds.push(r)}if(!t.length&&e.length)for(r=n++,a=(i=g(e)).next();!a.done;a=i.next())a.value.variantIds.push(r);if(t.length&&e.length)for(r=(e=g(e)).next();!r.done;r=e.next())for(r=r.value,a=(i=g(t)).next();!a.done;a=i.next()){a=a.value;var o=n++;r.variantIds.push(o),a.variantIds.push(o)}}}(t);for(var n=g(t.streams),r=n.next();!r.done;r=n.next());return t.streams.map((function(n){return function(t,e,n){var r=t.initSegmentUri?Ub(t.initSegmentUri):null,i=e+t.presentationTimeOffset,a=e+n;return{id:t.id,originalId:null,groupId:null,primary:t.primary,type:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,pixelAspectRatio:void 0,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:t.kind,language:t.language,originalLanguage:t.language||null,label:t.label,width:t.width,height:t.height,initSegmentKey:r,encrypted:t.encrypted,keyIds:new Set([t.keyId]),segments:t.segments.map((function(t){var n=Ub(t.uri);return{startTime:e+t.startTime,endTime:e+t.endTime,dataKey:n,initSegmentKey:r,appendWindowStart:e,appendWindowEnd:a,timestampOffset:i,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:t.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}(n,t.startTime,e)}))}function Ub(t){var e;if((e=/^offline:[0-9]+\/[0-9]+\/([0-9]+)$/.exec(t))||(e=/^offline:segment\/([0-9]+)$/.exec(t)))return Number(e[1]);throw new It(2,9,9004,"Could not parse uri "+t)}function Bb(){Sb.apply(this,arguments)}function jb(t,e,n){return{id:t.id,originalId:t.originalId,groupId:null,primary:t.primary,type:t.contentType,mimeType:t.mimeType,codecs:t.codecs,frameRate:t.frameRate,pixelAspectRatio:t.pixelAspectRatio,hdr:void 0,colorGamut:void 0,videoLayout:void 0,kind:t.kind,language:t.language,originalLanguage:t.language||null,label:t.label,width:t.width,height:t.height,encrypted:t.encrypted,keyIds:new Set([t.keyId]),segments:t.segments.map((function(r){return{startTime:e+r.startTime,endTime:e+r.endTime,initSegmentKey:t.initSegmentKey,appendWindowStart:e,appendWindowEnd:n,timestampOffset:e-t.presentationTimeOffset,dataKey:r.dataKey,tilesLayout:"",mimeType:null,codecs:null,thumbnailSprite:null}})),variantIds:t.variantIds,roles:[],forced:!1,audioSamplingRate:null,channelsCount:null,spatialAudio:!1,closedCaptions:null,tilesLayout:void 0,external:!1,fastSwitching:!1,isAudioMuxedInVideo:!1}}function qb(){Sb.apply(this,arguments)}function Fb(){this.m=this.j=this.i=this.h=this.g=this.l=null}h(_b,Sb),_b.prototype.updateManifestExpiration=function(t,e){var n,r,i,a=this;return P((function(o){return n=xb(a.h,a.g),r=n.store(),i=new Fi,r.get(t).onsuccess=function(n){(n=n.target.result)?(n.expiration=e,r.put(n),i.resolve()):i.reject(new It(2,9,9012,"Could not find values for "+t))},w(o,Promise.all([n.promise(),i]),0)}))},_b.prototype.je=function(t){var e,n,r,i,a,o;return P((function(s){if(1==s.g){for(e=[],n=0;n<t.periods.length;++n)r=n==t.periods.length-1?t.duration:t.periods[n+1].startTime,i=r-t.periods[n].startTime,a=Nb(t.periods[n],i),e.push(a);return w(s,Ym(e),2)}return o=s.h,s.return({creationTime:0,originalManifestUri:t.originalManifestUri,duration:t.duration,size:t.size,expiration:null==t.expiration?1/0:t.expiration,streams:o,sessionIds:t.sessionIds,drmInfo:t.drmInfo,appMetadata:t.appMetadata,sequenceMode:!1})}))},_b.prototype.Oi=function(t){return{data:t.data}},h(Bb,Sb),Bb.prototype.je=function(t){var e,n,r,i,a,o;return P((function(s){if(1==s.g){for(e=[],n=0;n<t.periods.length;++n){r=n==t.periods.length-1?t.duration:t.periods[n+1].startTime,i=r-t.periods[n].startTime;for(var u=t.periods[n],l=[],c=g(u.streams),d=c.next();!d.done;d=c.next())0!=(d=d.value).variantIds.length&&l.push(jb(d,u.startTime,u.startTime+i));a=l,e.push(a)}return w(s,Ym(e),2)}return o=s.h,s.return({appMetadata:t.appMetadata,creationTime:0,drmInfo:t.drmInfo,duration:t.duration,expiration:null==t.expiration?1/0:t.expiration,originalManifestUri:t.originalManifestUri,sessionIds:t.sessionIds,size:t.size,streams:o,sequenceMode:!1})}))},h(qb,Sb),(i=qb.prototype).hasFixedKeySpace=function(){return!1},i.addSegments=function(t){return this.add(this.i,t)},i.addManifests=function(t){return this.add(this.g,t)},i.updateManifest=function(t,e){return function(t,e,n){var r=(t=xb(t.h,t.g)).store();return r.get(e).onsuccess=function(){r.put(n,e)},t.promise()}(this,t,e)},i.je=function(t){return null==t.expiration&&(t.expiration=1/0),Promise.resolve(t)},(i=Fb.prototype).init=function(){var e=this,n=new Fi,r=!1,i=new Wr((function(){r=!0,n.reject(new It(2,9,9017))}));"number"==typeof Vb&&Vb>0&&i.Y(Vb);var a=t.indexedDB.open("shaka_offline_db",5);return a.onsuccess=function(){if(!r){i.stop();var t=a.result;e.l=t;var o=t.objectStoreNames;o=o.contains("manifest")&&o.contains("segment")?new _b(t,"segment","manifest"):null,e.g=o,o=(o=t.objectStoreNames).contains("manifest-v2")&&o.contains("segment-v2")?new Bb(t,"segment-v2","manifest-v2"):null,e.h=o,o=(o=t.objectStoreNames).contains("manifest-v3")&&o.contains("segment-v3")?new Bb(t,"segment-v3","manifest-v3"):null,e.i=o,o=(o=t.objectStoreNames).contains("manifest-v5")&&o.contains("segment-v5")?new qb(t,"segment-v5","manifest-v5"):null,e.j=o,t=t.objectStoreNames.contains("session-ids")?new Mb(t):null,e.m=t,n.resolve()}},a.onupgradeneeded=function(){for(var t=a.result,e=g(["segment-v5","manifest-v5","session-ids"]),n=e.next();!n.done;n=e.next())n=n.value,t.objectStoreNames.contains(n)||t.createObjectStore(n,{autoIncrement:!0})},a.onerror=function(t){r||(i.stop(),n.reject(new It(2,9,9001,a.error)),t.preventDefault())},n},i.destroy=function(){var t=this;return P((function(e){switch(e.g){case 1:if(!t.g){e.B(2);break}return w(e,t.g.destroy(),2);case 2:if(!t.h){e.B(4);break}return w(e,t.h.destroy(),4);case 4:if(!t.i){e.B(6);break}return w(e,t.i.destroy(),6);case 6:if(!t.j){e.B(8);break}return w(e,t.j.destroy(),8);case 8:if(!t.m){e.B(10);break}return w(e,t.m.destroy(),10);case 10:t.l&&t.l.close(),C(e)}}))},i.getCells=function(){var t=new Map;return this.g&&t.set("v1",this.g),this.h&&t.set("v2",this.h),this.i&&t.set("v3",this.i),this.j&&t.set("v5",this.j),t},i.getEmeSessionCell=function(){return this.m},i.erase=function(){var e=this;return P((function(n){switch(n.g){case 1:if(!e.g){n.B(2);break}return w(n,e.g.destroy(),2);case 2:if(!e.h){n.B(4);break}return w(n,e.h.destroy(),4);case 4:if(!e.i){n.B(6);break}return w(n,e.i.destroy(),6);case 6:if(!e.j){n.B(8);break}return w(n,e.j.destroy(),8);case 8:return e.l&&e.l.close(),w(n,function(){var e=new Fi,n=t.indexedDB.deleteDatabase("shaka_offline_db");return n.onblocked=function(){},n.onsuccess=function(){e.resolve()},n.onerror=function(t){e.reject(new It(2,9,9001,n.error)),t.preventDefault()},e}(),10);case 10:return e.l=null,e.g=null,e.h=null,e.i=null,e.j=null,w(n,e.init(),0)}}))};var Vb=5;function Gb(t,e,n,r){this.g=t,this.i=e,this.h=n,this.l=r,this.j=["offline:",t,"/",e,"/",n,"/",r].join("")}function zb(t){if(null==(t=/^offline:([a-z]+)\/([^/]+)\/([^/]+)\/([0-9]+)$/.exec(t)))return null;var e=t[1];if("manifest"!=e&&"segment"!=e)return null;var n=t[2];if(!n)return null;var r=t[3];return r&&null!=e?new Gb(e,n,r,Number(t[4])):null}function Hb(t,e){this.h=t,this.g=e}function Kb(t,e){var n=new bu(null,0);n.Fb(e.duration);var r=e.streams.filter((function(t){return"audio"==t.type})),i=e.streams.filter((function(t){return"video"==t.type}));r=function(t,e,n,r){for(var i=new Set,a=g(e),o=a.next();!o.done;o=a.next())for(var s=(o=g(o.value.variantIds)).next();!s.done;s=o.next())i.add(s.value);for(a=g(n),o=a.next();!o.done;o=a.next())for(o=g(o.value.variantIds),s=o.next();!s.done;s=o.next())i.add(s.value);for(a=new Map,i=g(i),o=i.next();!o.done;o=i.next())o=o.value,a.set(o,{id:o,language:"",disabledUntilTime:0,primary:!1,audio:null,video:null,bandwidth:0,allowedByApplication:!0,allowedByKeySystem:!0,decodingInfos:[]});for(e=g(e),i=e.next();!i.done;i=e.next())for(o=i.value,i=Wb(t,o,r),o=g(o.variantIds),s=o.next();!s.done;s=o.next())(s=a.get(s.value)).language=i.language,s.primary=s.primary||i.primary,s.audio=i;for(n=g(n),e=n.next();!e.done;e=n.next())for(i=e.value,e=Wb(t,i,r),i=g(i.variantIds),o=i.next();!o.done;o=i.next())(o=a.get(o.value)).primary=o.primary||e.primary,o.video=e;return a}(t,r,i,n),i=e.streams.filter((function(t){return t.type==re})).map((function(e){return Wb(t,e,n)}));var a=e.streams.filter((function(t){return"image"==t.type})).map((function(e){return Wb(t,e,n)})),o=e.drmInfo?[e.drmInfo]:[];if(e.drmInfo)for(var s=g(r.values()),u=s.next();!u.done;u=s.next())(u=u.value).audio&&u.audio.encrypted&&(u.audio.drmInfos=o),u.video&&u.video.encrypted&&(u.video.drmInfos=o);return{presentationTimeline:n,offlineSessionIds:e.sessionIds,variants:Array.from(r.values()),textStreams:i,imageStreams:a,sequenceMode:e.sequenceMode||!1,ignoreManifestTimestampsInSegmentsMode:!1,type:e.type||"UNKNOWN",serviceDescription:null,nextUrl:null,periodCount:1,gapCount:0,isLowLatency:!1,startTime:null}}function Wb(t,e,n){var r=e.segments.map((function(n){return function(t,e,n){var r=new Gb("segment",t.h,t.g,e.dataKey);return(t=new Xo(e.startTime,e.endTime,(function(){return[r.toString()]}),0,null,null!=e.initSegmentKey?function(t,e){var n=new Gb("segment",t.h,t.g,e);return new Wo((function(){return[n.toString()]}),0,null)}(t,e.initSegmentKey):null,e.timestampOffset,e.appendWindowStart,e.appendWindowEnd,[],e.tilesLayout||"")).mimeType=e.mimeType||n.mimeType||"",t.codecs=e.codecs||n.codecs||"",e.thumbnailSprite&&t.jg(e.thumbnailSprite),t}(t,n,e)}));return n.Ce(r),{id:e.id,originalId:e.originalId,groupId:e.groupId,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Gu(r),mimeType:e.mimeType,codecs:e.codecs,width:e.width||void 0,height:e.height||void 0,frameRate:e.frameRate,pixelAspectRatio:e.pixelAspectRatio,hdr:e.hdr,colorGamut:e.colorGamut,videoLayout:e.videoLayout,kind:e.kind,encrypted:e.encrypted,drmInfos:[],keyIds:e.keyIds,language:e.language,originalLanguage:e.originalLanguage||null,label:e.label,type:e.type,primary:e.primary,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:e.roles,forced:e.forced,channelsCount:e.channelsCount,audioSamplingRate:e.audioSamplingRate,spatialAudio:e.spatialAudio,closedCaptions:e.closedCaptions,tilesLayout:e.tilesLayout,mssPrivateData:e.mssPrivateData,accessibilityPurpose:null,external:e.external,fastSwitching:e.fastSwitching,fullMimeTypes:new Set([kr(e.mimeType,e.codecs)]),isAudioMuxedInVideo:!1,baseOriginalId:null}}function $b(){this.g=null}function Xb(){}function Yb(t,e){var n=zb(t);return n&&"manifest"==n.g?t=Hi(t={uri:t,originalUri:t,data:new ArrayBuffer(0),headers:{"content-type":"application/x-offline-manifest"},originalRequest:e}):t=n&&"segment"==n.g?function(t,e,n){var r=new Rb;return Hi(void 0).bb((function(){return r.init()})).bb((function(){return Ob(r,e.Yb(),e.kb())})).bb((function(t){return t.getSegments([e.key()])})).bb((function(t){return{uri:e,data:t[0].data,headers:{},originalRequest:n}})).finally((function(){return r.destroy()}))}(n.key(),n,e):Gi(new It(2,1,9004,t)),t}function Jb(t,e,n){var r,i,a,o,s,u;return P((function(l){switch(l.g){case 1:r=[];for(var c=[],d=g(n),p=d.next();!p.done;p=d.next()){p=p.value;for(var h=!1,f=g(c),m=f.next();!m.done;m=f.next())if(Zb((m=m.value).info,p)){m.sessionIds.push(p.sessionId),h=!0;break}h||c.push({info:p,sessionIds:[p.sessionId]})}i=g(c),a=i.next();case 2:if(a.done){l.B(4);break}return o=a.value,s=function(t,e,n){var r,i;return P((function(a){switch(a.g){case 1:return r=new ka({Cc:e,onError:function(){},Sf:function(){},onExpirationUpdated:function(){},onEvent:function(){}}),x(a,2),r.configure(t),w(a,function(t,e,n,r,i,a){var o,s,u,l,c;return P((function(d){return 1==d.g?(o=[],a.length&&o.push(a[0].contentType),i.length&&o.push(i[0].contentType),s=function(t){return(t=Zt(e,t,null)).licenseServerUri=n,t.serverCertificate=r,t.persistentStateRequired=!0,t.sessionType="persistent-license",t},(u=xi(o)).video&&(l=s(a[0].encryptionScheme||""),u.video.drmInfos.push(l)),u.audio&&(c=s(i[0].encryptionScheme||""),u.audio.drmInfos.push(c)),w(d,ai([u],!0,t.O,[]),2)):(ua(t.l),d.return(Da(t,[u])))}))}(r,n.info.keySystem,n.info.licenseUri,n.info.serverCertificate,n.info.audioCapabilities,n.info.videoCapabilities),4);case 4:S(a,3);break;case 2:return E(a),w(a,r.destroy(),5);case 5:return a.return([]);case 3:return i=[],w(a,Promise.all(n.sessionIds.map((function(t){return P((function(e){return 1==e.g?(x(e,2),w(e,function(t,e){var n,r,i;return P((function(a){return 1==a.g?w(a,Ua(t,e,{initData:null,initDataType:null}),2):3!=a.g?(n=a.h)?(r=[],(i=t.i.get(n))&&(i.Qb=new Fi,r.push(i.Qb)),r.push(n.remove()),w(a,Promise.all(r),3)):a.return():(t.i.delete(n),void C(a))}))}(r,t),4)):2!=e.g?(i.push(t),S(e,0)):(E(e),void C(e))}))}))),6);case 6:return w(a,r.destroy(),7);case 7:return a.return(i)}}))}(t,e,o),w(l,s,5);case 5:u=l.h,r=r.concat(u),a=i.next(),l.B(2);break;case 4:return l.return(r)}}))}function Zb(t,e){function n(t,e){return t.robustness==e.robustness&&t.contentType==e.contentType}return t.keySystem==e.keySystem&&t.licenseUri==e.licenseUri&&ke(t.audioCapabilities,e.audioCapabilities,n)&&ke(t.videoCapabilities,e.videoCapabilities,n)}function Qb(t,e){var n=Kb(new Hb(t.Yb(),t.kb()),e),r=e.appMetadata||{};return n=tw(n),{offlineUri:t.toString(),originalManifestUri:e.originalManifestUri,duration:e.duration,size:e.size,expiration:e.expiration,tracks:n,appMetadata:r,isIncomplete:e.isIncomplete||!1}}function tw(t){for(var e=[],n=mi(t.variants),r=(n=g(n)).next();!r.done;r=n.next())e.push(li(r.value));for(n=(t=g(t.textStreams)).next();!n.done;n=t.next())e.push(ci(n.value));return e}function ew(){this.g=new Map}function nw(t,e){var n=e.audio,r=e.video;if(n&&!r&&t.g.set(n.id,n.bandwidth||e.bandwidth),!n&&r&&t.g.set(r.id,r.bandwidth||e.bandwidth),n&&r){var i=n.bandwidth||393216,a=r.bandwidth||e.bandwidth-i;a<=0&&(a=e.bandwidth),t.g.set(n.id,i),t.g.set(r.id,a)}}function rw(t,e){t.g.set(e.id,e.bandwidth||2048)}function iw(t,e){return null==(t=t.g.get(e))&&(t=0),t}function aw(t){var e=this;if(t&&t.constructor!=sp)throw new It(2,9,9008);this.g=this.h=null,t?(this.h=t.g,this.g=t.Vb()):(this.h=cc(),this.g=new Yi,this.g.configure(this.h.networking)),this.i=[],this.l=[];var n=!t;this.j=new sa((function(){var t,r,i,a,o;return P((function(s){switch(s.g){case 1:return w(s,Promise.all(e.l.map((function(t){return yb(t)}))),2);case 2:for(t=function(){},r=[],i=g(e.i),a=i.next();!a.done;a=i.next())o=a.value,r.push(o.then(t,t));return w(s,Promise.all(r),3);case 3:if(!n){s.B(4);break}return w(s,e.g.destroy(),4);case 4:e.h=null,e.g=null,C(s)}}))})),this.m=1e9}function ow(){if(sy(Lt()))t:{for(var t=g(Db.values()),e=t.next();!e.done;e=t.next())if(e=(e=e.value)()){e.destroy(),t=!0;break t}t=!1}else t=!1;return t}function sw(t){var e,n,r;return P((function(i){switch(i.g){case 1:return w(i,(e=new Rb).init(),2);case 2:return w(i,Lb(e),3);case 3:return n=i.h,r=new Gb("manifest",n.path.Yb,n.path.kb,t),w(i,e.destroy(),4);case 4:return w(i,(new aw).remove(r.toString()),0)}}))}function uw(t,e,n,r,i,a){var o,s,u,l,c,d,p,h,f,m,v;return P((function(y){switch(y.g){case 1:for(o=!1,x(y,2),s=!0,u=g(n.streams),l=u.next();!l.done;l=u.next())for(c=l.value,d=g(c.segments),p=d.next();!p.done;p=d.next())h=p.value,null!=(f=h.pendingSegmentRefId?r[h.pendingSegmentRefId]:null)&&(h.dataKey=f,h.pendingSegmentRefId=void 0),null!=(f=h.pendingInitSegmentRefId?r[h.pendingInitSegmentRefId]:null)&&(h.initSegmentKey=f,h.pendingInitSegmentRefId=void 0),h.pendingSegmentRefId&&(s=!1),h.pendingInitSegmentRefId&&(s=!1);return n.size+=i,s&&(n.isIncomplete=!1),w(y,t.updateManifest(e,n),4);case 4:o=!0,a(),S(y,0);break;case 2:return m=E(y),w(y,sw(e),5);case 5:if(o){y.B(6);break}return v=Object.values(r),w(y,t.removeSegments(v,(function(){})),6);case 6:throw m}}))}function lw(t){return t.variants.some((function(t){var e=t.audio&&t.audio.encrypted;return t.video&&t.video.encrypted||e}))}function cw(t){return t.variants.some((function(t){return(t.video?t.video.drmInfos:[]).concat(t.audio?t.audio.drmInfos:[]).some((function(t){return t.initData&&t.initData.length}))}))}function dw(t,e,n,r){if(e.expiration=n.pe(),n=Pa(n),e.sessionIds=r?n:[],lw(t)&&r&&!n.length)throw new It(2,9,9007)}function pw(t,e){for(var n=[],r=g(t.streams),i=r.next();!i.done;i=r.next())i=i.value,e&&"video"==i.type?n.push({contentType:kr(i.mimeType,i.codecs),robustness:t.drmInfo.videoRobustness}):e||"audio"!=i.type||n.push({contentType:kr(i.mimeType,i.codecs),robustness:t.drmInfo.audioRobustness});return n}function hw(t,e,n){return P((function(r){return w(r,function(t,e,n,r){var i,a,o;return P((function(s){return 1==s.g?r.drmInfo?(i=function(t){var e=Array.from(t.g.keys());if(!e.length)throw new It(2,9,9e3,"No supported storage mechanisms found");return t.g.get(e[0]).getEmeSessionCell()}(n),a=r.sessionIds.map((function(t){return{sessionId:t,keySystem:r.drmInfo.keySystem,licenseUri:r.drmInfo.licenseServerUri,serverCertificate:r.drmInfo.serverCertificate,audioCapabilities:pw(r,!1),videoCapabilities:pw(r,!0)}})),w(s,Jb(e,t,a),2)):s.return():3!=s.g?(o=s.h,w(s,i.remove(o),3)):w(s,i.add(a.filter((function(t){return!o.includes(t.sessionId)}))),0)}))}(t.g,t.h.drm,n,e),0)}))}function fw(t,e,n){function r(){}var i=function(t){for(var e=new Set,n=(t=g(t.streams)).next();!n.done;n=t.next())for(var r=(n=g(n.value.segments)).next();!r.done;r=n.next())null!=(r=r.value).initSegmentKey&&e.add(r.initSegmentKey),e.add(r.dataKey);return Array.from(e)}(n);return Qb(e,n),Promise.all([t.removeSegments(i,r),t.removeManifests([e.key()],r)])}function gw(t,e){var n;return P((function(r){switch(r.g){case 1:return x(r,2),w(r,Uc(e,t.g,t.h.streaming.retryParameters),4);case 4:n=r.h,S(r,3);break;case 2:E(r);case 3:if(n)return r.return(n);throw new It(1,2,2011,e)}}))}function mw(t,e,n,r,i,a){var o={id:r.id,originalId:r.originalId,groupId:r.groupId,primary:r.primary,type:r.type,mimeType:r.mimeType,codecs:r.codecs,frameRate:r.frameRate,pixelAspectRatio:r.pixelAspectRatio,hdr:r.hdr,colorGamut:r.colorGamut,videoLayout:r.videoLayout,kind:r.kind,language:r.language,originalLanguage:r.originalLanguage,label:r.label,width:r.width||null,height:r.height||null,encrypted:r.encrypted,keyIds:r.keyIds,segments:[],variantIds:[],roles:r.roles,forced:r.forced,channelsCount:r.channelsCount,audioSamplingRate:r.audioSamplingRate,spatialAudio:r.spatialAudio,closedCaptions:r.closedCaptions,tilesLayout:r.tilesLayout,mssPrivateData:r.mssPrivateData,external:r.external,fastSwitching:r.fastSwitching,isAudioMuxedInVideo:r.isAudioMuxedInVideo},s=i.offline.numberOfParallelDownloads,u=0===s?r.id:0;return function(t,e,n){if(null!=(e=t.segmentIndex.find(e)))for(var r=t.segmentIndex.get(e);r;)n(r,e),r=t.segmentIndex.get(++e)}(r,n.presentationTimeline.Mb(),(function(n,i){var l=pb(n),c=void 0;if(!a.has(l)){var d=n.endTime-n.startTime;d=iw(e,r.id)*d,d=gb(t.g,d),a.set(l,new db(n,d,u,!1,i))}n.ia&&(c=pb(n.ia),a.has(c)||(d=.5*iw(e,r.id),d=gb(t.g,d),a.set(c,new db(n.ia,d,u,!0,i)))),o.segments.push({pendingInitSegmentRefId:c,initSegmentKey:c?0:null,startTime:n.startTime,endTime:n.endTime,appendWindowStart:n.appendWindowStart,appendWindowEnd:n.appendWindowEnd,timestampOffset:n.timestampOffset,tilesLayout:n.tilesLayout,pendingSegmentRefId:l,dataKey:0,mimeType:n.mimeType,codecs:n.codecs,thumbnailSprite:n.thumbnailSprite}),0!==s&&(u=(u+1)%s)})),o}function vw(t){if(t.j.g)throw new It(2,9,7001)}function yw(){if(!ow())throw new It(2,9,9e3)}function Aw(t,e){return P((function(n){return 1==n.g?(t.i.push(e),T(n,2),w(n,e,4)):2!=n.g?n.return(n.h):(k(n),Ee(t.i,e),I(n,0))}))}function bw(t){for(var e=new Set,n=g(t.variants),r=n.next();!r.done;r=n.next())(r=r.value).audio&&e.add(r.audio),r.video&&e.add(r.video);for(r=(n=g(t.textStreams)).next();!r.done;r=n.next())e.add(r.value);for(n=(t=g(t.imageStreams)).next();!n.done;n=t.next())e.add(n.value);return e}G("shaka.offline.indexeddb.StorageMechanismOpenTimeout",Vb),Pb("idb",(function(){return Lt().ni()?new Fb:null})),Gb.prototype.Yb=function(){return this.i},Gb.prototype.kb=function(){return this.h},Gb.prototype.key=function(){return this.l},Gb.prototype.toString=function(){return this.j},(i=$b.prototype).configure=function(){},i.start=function(t,e){var n,r,i,a,o,s,u=this;return P((function(l){switch(l.g){case 1:if(n=zb(t),u.g=n,null==n||"manifest"!=n.g)throw new It(2,1,9004,t);return r=new Rb,T(l,2),w(l,r.init(),4);case 4:return w(l,Ob(r,n.Yb(),n.kb()),5);case 5:return w(l,l.h.getManifests([n.key()]),6);case 6:return i=l.h,a=i[0],o=new Hb(n.Yb(),n.kb()),s=Kb(o,a),e.makeTextStreamsForClosedCaptions(s),l.return(s);case 2:return k(l),w(l,r.destroy(),7);case 7:I(l,0)}}))},i.stop=function(){return Promise.resolve()},i.update=function(){},i.onExpirationUpdated=function(t,e){var n,r,i,a,o,s,u,l=this;return P((function(c){switch(c.g){case 1:return n=l.g,r=new Rb,x(c,2,3),w(c,r.init(),5);case 5:return w(c,Ob(r,n.Yb(),n.kb()),6);case 6:return w(c,(i=c.h).getManifests([n.key()]),7);case 7:if(a=c.h,o=a[0],s=o.sessionIds.includes(t),u=null==o.expiration||o.expiration>e,!s||!u){c.B(3);break}return w(c,i.updateManifestExpiration(n.key(),e),3);case 3:return k(c),w(c,r.destroy(),10);case 10:I(c,0);break;case 2:E(c),c.B(3)}}))},i.onInitialVariantChosen=function(){},i.banLocation=function(){},i.setMediaElement=function(){},so("application/x-offline-manifest",(function(){return new $b})),G("shaka.offline.OfflineScheme",Xb),Xb.plugin=Yb,Ji("offline",Yb),(i=aw.prototype).destroy=function(){return this.j.destroy()},i.configure=function(t,e){return 2==arguments.length&&"string"==typeof t&&(t=Xl(t,e)),pc(this.h,t)},i.getConfiguration=function(){var t=cc();return pc(t,this.h,cc()),t},i.Vb=function(){return this.g},i.store=function(t,e,n,r,i){var a=this,o=this.getConfiguration(),s=new vb(this.g);return this.l.push(s),(e=new Vi(e=function(t,e,n,r,i,a,o,s){var u,l,c,d,p,h,f,m,v,y,A,b,T,M,R,L,O,D,_,N,U,B,j;return P((function(q){switch(q.g){case 1:return yw(),l=u=null,c=new Rb,h=p=d=null,x(q,2,3),w(q,a(),5);case 5:return u=q.h,w(q,function(t,e,n,r){var i,a,o,s,u;return P((function(l){if(1==l.g)return i=null,a=t.g,o={networkingEngine:a,filter:function(){return Promise.resolve()},makeTextStreamsForClosedCaptions:function(){},onTimelineRegionAdded:function(){},onEvent:function(){},onError:function(t){i=t},isLowLatencyMode:function(){return!1},updateDuration:function(){},newDrmInfo:function(){},onManifestUpdated:function(){},getBandwidthEstimate:function(){return r.abr.defaultBandwidthEstimate},onMetadata:function(){},disableStream:function(){},addFont:function(){}},n.configure(r.manifest),vw(t),w(l,n.start(e,o),2);if(3!=l.g)return s=l.h,vw(t),u=bw(s),w(l,Promise.all(et(u,(function(t){return t.createSegmentIndex()}))),3);if(vw(t),i)throw i;return l.return(s)}))}(t,e,u,o),6);case 6:if(f=q.h,vw(t),!(!f.presentationTimeline.U()&&!f.presentationTimeline.ld()))throw new It(2,9,9005,e);m=g(r),v=m.next();case 7:if(v.done){q.B(9);break}return y=v.value,w(q,function(t,e,n){var r,i,a,o,s,u,l,c,d,p,h,f,m,v,y;return P((function(A){switch(A.g){case 1:return w(A,gw(t,e),2);case 2:if("text/vtt"!=(r=A.h))throw new It(1,2,2017,e);return w(A,function(t,e,n){var r,i,a;return P((function(o){return 1==o.g?(r=ia,(i=Qi([t],n)).method="GET",w(o,e.request(r,i).promise,2)):(a=o.h,o.return(a.data))}))}(e,t.g,t.h.streaming.retryParameters),3);case 3:if(i=A.h,!(a=qr(r)))throw new It(2,2,2014,r);for(o=a(),s={periodStart:0,segmentStart:0,segmentEnd:n.presentationTimeline.getDuration(),vttOffset:0},u=Tt(i),l=o.parseMedia(u,s,e,[]),c=[],d=g(l),p=d.next(),h={};!p.done;h={vg:void 0,Fd:void 0},p=d.next())h.Fd=p.value,h.vg=null,f=function(t){return function(){return null==t.vg&&(t.vg=Jt([e],[t.Fd.payload])),t.vg||[]}}(h),m=new Xo(h.Fd.startTime,h.Fd.endTime,f,0,null,null,0,0,1/0),h.Fd.payload.includes("#xywh")&&(4===(v=h.Fd.payload.split("#xywh=")[1].split(",")).length&&m.jg({height:parseInt(v[3],10),positionX:parseInt(v[0],10),positionY:parseInt(v[1],10),width:parseInt(v[2],10)})),c.push(m);if(y=r,!c.length){A.B(4);break}return w(A,Uc(c[0].T()[0],t.g,t.h.manifest.retryParameters),5);case 5:y=A.h;case 4:return A.return({id:t.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:new Gu(c),mimeType:y||"",codecs:"",kind:"",encrypted:!1,drmInfos:[],keyIds:new Set,language:"und",originalLanguage:null,label:null,type:"image",primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,tilesLayout:"1x1",accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([kr(y||"","")]),isAudioMuxedInVideo:!1,baseOriginalId:null})}}))}(t,y,f),10);case 10:A=q.h,f.imageStreams.push(A),vw(t),v=m.next(),q.B(7);break;case 9:b=g(i),T=b.next();case 11:return T.done?(Ha(o.drm.clearKeys,f.variants),L=f.variants.some((function(t){if(t.audio)for(var e=g(t.audio.drmInfos),n=e.next();!n.done;n=e.next())if(n.value.licenseServerUri.startsWith("data:"))return!0;if(t.video)for(e=(t=g(t.video.drmInfos)).next();!e.done;e=t.next())if(e.value.licenseServerUri.startsWith("data:"))return!0;return!1})),O=o.offline.usePersistentLicense,L&&(O=!1),w(q,t.Dd(f,(function(t){h=h||t}),o,O),15)):(M=T.value,w(q,function(t,e,n,r,i,a,o){var s,u;return P((function(l){if(1==l.g)return a?l.B(2):w(l,gw(t,n),3);if(2!=l.g&&(a=l.h),s={id:t.m++,originalId:null,groupId:null,createSegmentIndex:function(){return Promise.resolve()},segmentIndex:Hu(0,e.presentationTimeline.getDuration(),[n]),mimeType:a||"",codecs:o||"",kind:i,encrypted:!1,drmInfos:[],keyIds:new Set,language:r,originalLanguage:r,label:null,type:re,primary:!1,trickModeVideo:null,dependencyStream:null,emsgSchemeIdUris:null,roles:[],forced:!1,channelsCount:null,audioSamplingRate:null,spatialAudio:!1,closedCaptions:null,accessibilityPurpose:null,external:!0,fastSwitching:!1,fullMimeTypes:new Set([kr(a||"",o||"")]),isAudioMuxedInVideo:!1,baseOriginalId:null},u=kr(s.mimeType,s.codecs),!Fr(u))throw new It(2,2,2014,a);return l.return(s)}))}(t,f,M.uri,M.language,M.kind,M.mime,M.codecs),14));case 14:R=q.h,f.textStreams.push(R),vw(t),T=b.next(),q.B(11);break;case 15:if(l=q.h,vw(t),h)throw h;return w(q,function(t,e,n,r){var i,a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,T,k,I,M,R,L,O,D,_,N,U,B,j;return P((function(P){switch(P.g){case 1:return i={width:1/0,height:1/0},function(t,e,n){t.variants=t.variants.filter((function(t){return ti(t,e,n)}))}(t,n.restrictions,i),w(P,ni(e,t,r,n.drm.preferredKeySystems,n.drm.keySystemsMapping),2);case 2:for(a=[],o=n.preferredDecodingAttributes,s=n.preferredVideoCodecs,u=n.preferredAudioCodecs,l=n.preferredTextFormats,Qr(t,s,u,o,l),c=g(t.variants),d=c.next();!d.done;d=c.next())p=d.value,a.push(li(p));for(h=g(t.textStreams),f=h.next();!f.done;f=h.next())m=f.value,a.push(ci(m));for(v=g(t.imageStreams),y=v.next();!y.done;y=v.next())A=y.value,a.push(di(A));return w(P,n.offline.trackSelectionCallback(a),3);case 3:for(b=P.h,T=t.presentationTimeline.getDuration(),k=0,I=g(b),M=I.next();!M.done;M=I.next())R=M.value,L=R.bandwidth*T/8,k+=L;return x(P,4),w(P,n.offline.downloadSizeCallback(k),6);case 6:if(!P.h)throw new It(2,9,9014);S(P,5);break;case 4:if((O=E(P))instanceof It)throw O;throw new It(2,9,9015);case 5:for(D=new Set,_=new Set,N=new Set,U=g(b),B=U.next();!B.done;B=U.next())"variant"==(j=B.value).type&&D.add(j.id),"text"==j.type&&_.add(j.id),"image"==j.type&&N.add(j.id);t.variants=t.variants.filter((function(t){return D.has(t.id)})),t.textStreams=t.textStreams.filter((function(t){return _.has(t.id)})),t.imageStreams=t.imageStreams.filter((function(t){return N.has(t.id)})),function(t){t.variants.map((function(t){return t.video}));var e=new Set(t.variants.map((function(t){return t.audio})));t=t.textStreams;for(var n=g(e),r=n.next();!r.done;r=n.next())for(var i=(r=g(e)).next();!i.done;i=r.next());for(e=g(t),n=e.next();!n.done;n=e.next())for(n=g(t),r=n.next();!r.done;r=n.next());}(t),C(P)}}))}(f,l,o,O),16);case 16:return w(q,c.init(),17);case 17:return vw(t),w(q,Lb(c),18);case 18:return d=q.h,vw(t),D=function(t,e,n,r,i,a,o){var s=function(t,e,n){return{offlineUri:null,originalManifestUri:t,duration:e.presentationTimeline.getDuration(),size:0,expiration:1/0,tracks:e=tw(e),appMetadata:n,isIncomplete:!1}}(n,e,r),u=i.offline.progressCallback;!function(t,e,n){t.u=e,t.m=n}(a,(function(t,e){s.size=e,u(s,t)}),(function(e,n){l&&o&&c==n&&Oa(t,"cenc",e)}));var l=lw(e)&&!cw(e),c=null;l&&(c=ww.get(t.g.keySystem));for(var d=new ew,p=g(e.textStreams),h=p.next();!h.done;h=p.next())d.g.set(h.value.id,52);for(p=g(e.imageStreams),h=p.next();!h.done;h=p.next())rw(d,h.value);for(p=g(e.variants),h=p.next();!h.done;h=p.next())nw(d,h.value);return a=function(t,e,n,r){for(var i=new Map,a=bw(n),o=new Map,s=(a=g(a)).next();!s.done;s=a.next()){var u=mw(t,e,n,s=s.value,r,i);o.set(s.id,u)}for(t=g(n.variants),e=t.next();!e.done;e=t.next())(e=e.value).audio&&o.get(e.audio.id).variantIds.push(e.id),e.video&&o.get(e.video.id).variantIds.push(e.id);return{streams:Array.from(o.values()),si:Array.from(i.values())}}(a,d,e,i),i=a.streams,a=a.si,(d=t.g)&&o&&(d.initData=[]),{Ml:{creationTime:Date.now(),originalManifestUri:n,duration:e.presentationTimeline.getDuration(),size:0,expiration:t.pe(),streams:i,sessionIds:o?Pa(t):[],drmInfo:d,appMetadata:r,isIncomplete:!0,sequenceMode:e.sequenceMode,type:e.type},si:a}}(l,f,e,n,o,s,O),_=D.Ml,N=D.si,w(q,d.kb.addManifests([_]),19);case 19:if(U=q.h,vw(t),p=U[0],vw(t),h)throw h;return w(q,function(t,e,n,r,i,a,o,s,u,l){var c,d,p,h,f,m,v,y,A,b,T;return P((function(k){switch(k.g){case 1:if(c={},d=0,p=function(){if(t.j.g||i.l)throw new It(2,9,7001)},h=function(t,e){var h,f,m,v,y,A,b,x,T;return P((function(S){if(1==S.g){for(h=g(t),f=h.next(),m={};!f.done;m={xc:void 0},f=h.next())m.xc=f.value,p(),v=hb(m.xc,a),y=m.xc.i,A=m.xc.h,b=function(t){return function(e){var n,r,i,a;return P((function(s){switch(s.g){case 1:if(n=t.xc.g,r=n.hc(!1),!n.aesKey||r){s.B(2);break}return w(s,vl(e,n.aesKey,t.xc.j),3);case 3:e=s.h;case 2:return i=pb(n),w(s,o.addSegments([{data:e}]),4);case 4:a=s.h,p(),c[i]=a[0],d+=e.byteLength,C(s)}}))}}(m),x=m.xc.g,(T=x.hc(!1))?Ab(i,m.xc.groupId,T,y,A,b):i.queue(m.xc.groupId,v,y,A,b);return w(S,function(t){return P((function(e){return 1==e.g?w(e,Promise.all(t.i.values()),2):e.return(t.g.g)}))}(i),2)}return p(),!e||i.l?S.B(0):(dw(s,r,u,l),w(S,o.updateManifest(n,r),0))}))},f=!1,x(k,2),!lw(s)||!f||cw(s)){k.B(4);break}return w(k,h(e.filter((function(t){return t.h})),!0),5);case 5:return p(),e=e.filter((function(t){return!t.h})),m=c,v=d,c={},d=0,w(k,uw(o,n,r,m,v,(function(){return vw(t)})),6);case 6:p();case 4:if(f){k.B(7);break}return w(k,h(e,!1),8);case 8:return p(),y=c,A=d,c={},d=0,w(k,uw(o,n,r,y,A,(function(){return p()})),9);case 9:p();case 7:S(k,0);break;case 2:return b=E(k),T=Object.values(c),w(k,o.removeSegments(T,(function(){})),10);case 10:throw b}}))}(t,N,p,_,s,o,d.kb,f,l,O),20);case 20:return vw(t),dw(f,_,l,O),w(q,d.kb.updateManifest(p,_),21);case 21:return vw(t),B=new Gb("manifest",d.path.Yb,d.path.kb,p),q.return(Qb(B,_));case 3:return k(q),w(q,c.destroy(),22);case 22:if(!u){q.B(23);break}return w(q,u.stop(),23);case 23:if(!l){q.B(25);break}return w(q,l.destroy(),25);case 25:I(q,0);break;case 2:if(j=E(q),null==p){q.B(27);break}return w(q,sw(p),27);case 27:throw h||j}}))}(this,t,e||{},r||[],i||[],(function(){var e;return P((function(r){return 1==r.g?n?r.B(2):w(r,Uc(t,a.g,o.manifest.retryParameters),3):(2!=r.g&&(n=r.h),e=uo(t,n||null),r.return(e()))}))}),o,s),(function(){return yb(s)}))).finally((function(){Ee(a.l,s)})),function(t,e){var n=e.promise;return t.i.push(n),e.finally((function(){Ee(t.i,n)}))}(this,e)},i.remove=function(t){return Aw(this,function(t,e){var n,r,i,a,o,s;return P((function(u){switch(u.g){case 1:if(yw(),null==(n=zb(e))||"manifest"!=n.g)throw new It(2,9,9004,e);return r=n,i=new Rb,T(u,2),w(u,i.init(),4);case 4:return w(u,Ob(i,r.Yb(),r.kb()),5);case 5:return w(u,(a=u.h).getManifests([r.key()]),6);case 6:return o=u.h,s=o[0],w(u,Promise.all([hw(t,s,i),fw(a,r,s)]),2);case 2:return k(u),w(u,i.destroy(),8);case 8:I(u,0)}}))}(this,t))},i.gm=function(){return Aw(this,function(t){var e,n,r,i,a,o,s,u,l,c;return P((function(d){switch(d.g){case 1:return yw(),e=t.g,n=t.h.drm,r=new Rb,i=!1,T(d,2),w(d,r.init(),4);case 4:a=[],function(t,e){t.g.forEach((function(t){e(t.getEmeSessionCell())}))}(r,(function(t){return a.push(t)})),o=g(a),s=o.next();case 5:if(s.done){d.B(2);break}return w(d,(u=s.value).getAll(),8);case 8:return l=d.h,w(d,Jb(n,e,l),9);case 9:return c=d.h,w(d,u.remove(c),10);case 10:c.length!=l.length&&(i=!0),s=o.next(),d.B(5);break;case 2:return k(d),w(d,r.destroy(),11);case 11:I(d,3);break;case 3:return d.return(!i)}}))}(this))},i.list=function(){return Aw(this,P((function(r){switch(r.g){case 1:return yw(),t=[],e=new Rb,T(r,2),w(r,e.init(),4);case 4:return n=Promise.resolve(),function(t,e){t.g.forEach((function(t,n){t.getCells().forEach((function(t,r){e({Yb:n,kb:r},t)}))}))}(e,(function(e,r){n=n.then((function(){return P((function(n){if(1==n.g)return w(n,r.getAllManifests(),2);n.h.forEach((function(n,r){n=Qb(new Gb("manifest",e.Yb,e.kb,r),n),t.push(n)})),C(n)}))}))})),w(r,n,2);case 2:return k(r),w(r,e.destroy(),6);case 6:I(r,3);break;case 3:return r.return(t)}})));var t,e,n},i.Dd=function(t,e,n,r){var i,a=this;return P((function(o){return 1==o.g?((i=new ka({Cc:a.g,onError:e,Sf:function(){},onExpirationUpdated:function(){},onEvent:function(){}})).configure(n.drm),w(o,function(t,e,n){return t.ea=!0,t.D=new Map,t.P=n,Ma(t,e,!1)}(i,t.variants,r),2)):3!=o.g?w(o,La(i),3):o.return(i)}))},G("shaka.offline.Storage",aw),aw.deleteAll=function(){var t;return P((function(e){return 1==e.g?(t=new Rb,T(e,2),w(e,function(t){var e,n;return P((function(r){return 1==r.g?(e=Array.from(t.g.values()),(n=e.length>0)||Db.forEach((function(t){(t=t())&&e.push(t)})),w(r,Promise.all(e.map((function(t){return t.erase()}))),2)):n?r.B(0):w(r,Promise.all(e.map((function(t){return t.destroy()}))),0)}))}(t),2)):5!=e.g?(k(e),w(e,t.destroy(),5)):I(e,0)}))},aw.prototype.list=aw.prototype.list,aw.prototype.removeEmeSessions=aw.prototype.gm,aw.prototype.remove=aw.prototype.remove,aw.prototype.store=aw.prototype.store,aw.prototype.getNetworkingEngine=aw.prototype.Vb,aw.prototype.getConfiguration=aw.prototype.getConfiguration,aw.prototype.configure=aw.prototype.configure,aw.prototype.destroy=aw.prototype.destroy,aw.support=ow;var ww=(new Map).set("org.w3.clearkey","1077efecc0b24d02ace33c1e52e2fb4b").set("com.widevine.alpha","edef8ba979d64acea3c827dcd51d21ed").set("com.microsoft.playready","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.recommendation","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.software","9a04f07998404286ab92e65be0885f95").set("com.microsoft.playready.hardware","9a04f07998404286ab92e65be0885f95").set("com.huawei.wiseplay","3d5e6d359b9a41e8b843dd3c6e72c42c");function Cw(){}function xw(){for(var t=g(kw),e=t.next();!e.done;e=t.next()){e=e.value;try{e.callback()}catch(t){X("Error installing polyfill!",t)}}}function Tw(t,e){for(t={priority:e||0,callback:t},e=0;e<kw.length;e++)if(kw[e].priority<t.priority)return void kw.splice(e,0,t);kw.push(t)}cp("offline",ow),G("shaka.polyfill",Cw),Cw.register=Tw,Cw.installAll=xw;var Sw,Ew,kw=[];function Iw(){}function Mw(){if(!Object.getOwnPropertyDescriptor(Element.prototype,"ariaHidden"))for(var t=g(["ariaHidden","ariaLabel","ariaPressed","ariaSelected"]),e=t.next();!e.done;e=t.next())Rw(e.value)}function Rw(t){var e="aria-"+t.toLowerCase().replace(/^aria/,"");Object.defineProperty(Element.prototype,t,{get:function(){return this.getAttribute(e)},set:function(t){null==t||null==t?this.removeAttribute(e):this.setAttribute(e,t)}})}function Lw(t,e,n){this.g=t,this.i=e||null,this.h=n||null,this.keySystem=t.keySystem}function Ow(t){return t.startsWith("com.apple")?"cbcs":t.startsWith("com.widevine")||t.startsWith("com.microsoft")||t.startsWith("com.chromecast")||t.startsWith("org.w3")||t.startsWith("com.huawei")?"cenc":(X("EmeEncryptionSchemePolyfill: Unknown key system:",t,"Please contribute!"),null)}function Pw(t){if(!t)return!1;var e=(t=t.getConfiguration()).audioCapabilities&&t.audioCapabilities[0];return!(!(t=t.videoCapabilities&&t.videoCapabilities[0]||e)||void 0===t.encryptionScheme)}function Dw(t,e){return!(t&&t!=e&&("cbcs"!=t&&"cbcs-1-9"!=t||!Lt().ud()))}function _w(){}function Nw(){Lt().mg()&&!Sw&&!navigator.emeEncryptionSchemePolyfilled&&navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration&&(Sw=navigator.requestMediaKeySystemAccess,navigator.requestMediaKeySystemAccess=Uw,navigator.emeEncryptionSchemePolyfilled=!0)}function Uw(t,e){var n,r=this;return P((function(i){return 1==i.g?w(i,Sw.call(r,t,e),2):(n=i.h,Pw(n)?(navigator.requestMediaKeySystemAccess=Sw,i.return(n)):(navigator.requestMediaKeySystemAccess=Bw,i.return(Bw.call(r,t,e))))}))}function Bw(t,e){var n,r,i,a,o,s,u,l,c,d,p,h,f=this;return P((function(m){if(1==m.g){for(n=Ow(t),r=[],i=g(e),a=i.next();!a.done;a=i.next())o=a.value,s=jw(o.videoCapabilities,n),u=jw(o.audioCapabilities,n),o.videoCapabilities&&o.videoCapabilities.length&&!s.length||o.audioCapabilities&&o.audioCapabilities.length&&!u.length||((l=Object.assign({},o)).videoCapabilities=s,l.audioCapabilities=u,r.push(l));if(!r.length)throw(c=Error("Unsupported keySystem or supportedConfigurations.")).name="NotSupportedError",c.code=DOMException.NOT_SUPPORTED_ERR,c;return w(m,Sw.call(f,t,r),2)}return d=m.h,h=p=null,r[0]&&(r[0].videoCapabilities&&(p=r[0].videoCapabilities[0].encryptionScheme),r[0].audioCapabilities&&(h=r[0].audioCapabilities[0].encryptionScheme)),m.return(new Lw(d,p,h))}))}function jw(t,e){return t?t.filter((function(t){return Dw(t.encryptionScheme,e)})):t}function qw(){}function Fw(){if(t.Document){var e=Element.prototype;e.requestFullscreen=e.requestFullscreen||e.mozRequestFullScreen||e.msRequestFullscreen||e.webkitRequestFullscreen,(e=Document.prototype).exitFullscreen=e.exitFullscreen||e.mozCancelFullScreen||e.msExitFullscreen||e.webkitCancelFullScreen,"fullscreenElement"in document||(Object.defineProperty(document,"fullscreenElement",{get:function(){return document.mozFullScreenElement||document.msFullscreenElement||document.webkitCurrentFullScreenElement||document.webkitFullscreenElement}}),Object.defineProperty(document,"fullscreenEnabled",{get:function(){return document.mozFullScreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled}})),document.addEventListener("webkitfullscreenchange",Vw),document.addEventListener("webkitfullscreenerror",Vw),document.addEventListener("mozfullscreenchange",Vw),document.addEventListener("mozfullscreenerror",Vw),document.addEventListener("MSFullscreenChange",Vw),document.addEventListener("MSFullscreenError",Vw)}}function Vw(t){var e=t.type.replace(/^(webkit|moz|MS)/,"").toLowerCase(),n=document.createEvent("Event");n.initEvent(e,t.bubbles,t.cancelable),t.target.dispatchEvent(n)}function Gw(){}function zw(){Lt().mg()&&!Ew&&!navigator.mediaCapabilitiesEncryptionSchemePolyfilled&&navigator.mediaCapabilities&&(Ew=navigator.mediaCapabilities.decodingInfo,navigator.mediaCapabilities.decodingInfo=Hw,navigator.mediaCapabilitiesEncryptionSchemePolyfilled=!0)}function Hw(t){var e,n,r=this;return P((function(i){switch(i.g){case 1:return w(i,Ew.call(r,t),2);case 2:if(!(e=i.h).supported||!t.keySystemConfiguration)return i.return(e);if(n=e.keySystemAccess,Pw(n))return navigator.mediaCapabilities.decodingInfo=Ew,i.return(e);if(navigator.mediaCapabilities.decodingInfo=Kw,n){i.B(3);break}return w(i,Ww(t),4);case 4:return e.keySystemAccess=i.h,i.return(e);case 3:return i.return(Kw.call(r,t))}}))}function Kw(t){var e,n,r,i,a,o,s,u=this;return P((function(l){switch(l.g){case 1:return n=e=null,!t.keySystemConfiguration||(r=t.keySystemConfiguration,i=r.keySystem,n=r.audio&&r.audio.encryptionScheme,e=r.video&&r.video.encryptionScheme,a=Ow(i),o={powerEfficient:!1,smooth:!1,supported:!1,keySystemAccess:null,configuration:t},Dw(n,a)&&Dw(e,a))?w(l,Ew.call(u,t),2):l.return(o);case 2:if((s=l.h).keySystemAccess){s.keySystemAccess=new Lw(s.keySystemAccess,e,n),l.B(3);break}if(!t.keySystemConfiguration){l.B(3);break}return w(l,Ww(t),5);case 5:s.keySystemAccess=l.h;case 3:return l.return(s)}}))}function Ww(t){var e,n;return P((function(r){if(1==r.g){var i=t.keySystemConfiguration,a=[],o=[];return i.audio&&a.push({robustness:i.audio.robustness||"",contentType:t.audio.contentType,encryptionScheme:i.audio.encryptionScheme}),i.video&&o.push({robustness:i.video.robustness||"",contentType:t.video.contentType,encryptionScheme:i.video.encryptionScheme}),i={initDataTypes:i.initDataType?[i.initDataType]:[],distinctiveIdentifier:i.distinctiveIdentifier,persistentState:i.persistentState,sessionTypes:i.sessionTypes},a.length&&(i.audioCapabilities=a),o.length&&(i.videoCapabilities=o),e=i,w(r,navigator.requestMediaKeySystemAccess(t.keySystemConfiguration.keySystem,[e]),2)}return n=r.h,r.return(n)}))}function $w(){}function Xw(){Lt().mc()||(navigator.mediaCapabilities||(navigator.mediaCapabilities={}),$w.originalMcap=navigator.mediaCapabilities,navigator.mediaCapabilities.decodingInfo=Yw)}function Yw(e){var n,r,i,a,o,s,u;return P((function(l){switch(l.g){case 1:if(n={supported:!1,powerEfficient:!0,smooth:!0,keySystemAccess:null,configuration:e},Lt(),r=e.video,i=e.audio,"media-source"!=e.type){if("file"!=e.type)return l.return(n);if(r&&(a=r.contentType,!(""!=hs().canPlayType(a)))||i&&(o=i.contentType,!(""!=hs().canPlayType(o))))return l.return(n);l.B(2);break}if(!sy())return l.return(n);if(!r){l.B(3);break}return w(l,function(e){var n,r;return P((function(i){return 1==i.g?(n=Lt(),"CAST"!==n.Oa()?i.B(2):w(i,function(e){var n,r,i,a;return P((function(o){if(1==o.g){if(!(t.cast&&cast.__platform__&&cast.__platform__.canDisplayType))return o.return(Fe(e.contentType));switch(n=e.contentType,e.width&&e.height&&e.width>1280&&e.height>720&&(n+="; width="+e.width+"; height="+e.height),e.framerate&&((r=Math.round(e.framerate))<24||r>30)&&(n+="; framerate="+e.framerate),e.transferFunction||""){case"":case"srgb":break;case"pq":n+="; eotf=smpte2084";break;case"hlg":n+="; eotf=arib-std-b67";break;default:return o.return(!1)}return i=!1,(a=rC).has(n)?(i=a.get(n),o.B(2)):w(o,cast.__platform__.canDisplayType(n),3)}return 2!=o.g&&(i=o.h,a.set(n,i)),o.return(i)}))}(e),3)):2!=i.g?(r=i.h,i.return(r)):i.return(Fe(e.contentType))}))}(r),4);case 4:if(!l.h)return l.return(n);case 3:if(i){var c=Lt().Oa(),d=i.contentType;if("CAST"===c&&i.spatialRendering&&(d+="; spatialRendering=true"),!Fe(d))return l.return(n)}case 2:return e.keySystemConfiguration?(s=e.keySystemConfiguration,w(l,function(t,e,n){var r,i,a,o,s,u,l,c,d,p,h;return P((function(f){switch(f.g){case 1:if(r=[],i=[],n.audio&&(a={robustness:n.audio.robustness||"",contentType:e.contentType},Lt().nj()&&e.contentType.includes('codecs="ac-3"')&&(a.contentType='audio/mp4; codecs="ec-3"'),n.audio.encryptionScheme&&(a.encryptionScheme=n.audio.encryptionScheme),r.push(a)),n.video&&(o={robustness:n.video.robustness||"",contentType:t.contentType},n.video.encryptionScheme&&(o.encryptionScheme=n.video.encryptionScheme),i.push(o)),s={initDataTypes:[n.initDataType],distinctiveIdentifier:n.distinctiveIdentifier,persistentState:n.persistentState,sessionTypes:n.sessionTypes},r.length&&(s.audioCapabilities=r),i.length&&(s.videoCapabilities=i),u=t?t.contentType:"",l=e?e.contentType:"",c=Pr(u)+";"+Or(u),d=Pr(l)+";"+Or(l),p=n.keySystem,h=null,x(f,2),Bi.has(c+"#"+d+"#"+p)){h=Bi.get(c+"#"+d+"#"+p)||null,f.B(4);break}return w(f,navigator.requestMediaKeySystemAccess(n.keySystem,[s]),5);case 5:h=f.h,Bi.set(c+"#"+d+"#"+p,h);case 4:S(f,3);break;case 2:E(f);case 3:return f.return(h)}}))}(r,i,s),6)):(n.supported=!0,l.return(n));case 6:(u=l.h)&&(n.supported=!0,n.keySystemAccess=u);case 5:return l.return(n)}}))}Cw.Aria=Iw,Iw.install=Mw,Tw(Mw),Lw.prototype.getConfiguration=function(){var t=this.g.getConfiguration();if(t.videoCapabilities)for(var e=g(t.videoCapabilities),n=e.next();!n.done;n=e.next())n.value.encryptionScheme=this.i;if(t.audioCapabilities)for(n=(e=g(t.audioCapabilities)).next();!n.done;n=e.next())n.value.encryptionScheme=this.h;return t},Lw.prototype.createMediaKeys=function(){return this.g.createMediaKeys()},Cw.EmeEncryptionScheme=_w,_w.install=Nw,Tw(Nw),Cw.Fullscreen=qw,qw.install=Fw,Tw(Fw),Cw.MCapEncryptionScheme=Gw,Gw.install=zw,Tw(zw,-2),Cw.MediaCapabilities=$w,$w.install=Xw,$w.originalMcap=null;var Jw,Zw,Qw,tC,eC,nC,rC=new Map;function iC(){}function aC(){var e=Lt(),n="WEBKIT"===e.Ja()?e.Ga():null;for((t.MediaSource||t.ManagedMediaSource)&&n&&t.MediaSource&&(n<=12?(oC(),function(){var t=SourceBuffer.prototype.remove;SourceBuffer.prototype.remove=function(e,n){return t.call(this,e,n-.001)}}()):n<=15&&oC()),n=(e=g(e.xj())).next();!n.done;n=e.next())sC(n.value);(t.MediaSource||t.ManagedMediaSource)&&function(){if(t.MediaSource){var e=MediaSource.isTypeSupported.bind(MediaSource);MediaSource.isTypeSupported=function(t){return"mp2t"!=Rr(t)&&e(t)}}if(t.ManagedMediaSource){var n=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);t.ManagedMediaSource.isTypeSupported=function(t){return"mp2t"!=Rr(t)&&n(t)}}}(),t.MediaSource&&MediaSource.isTypeSupported('video/webm; codecs="vp9"')&&!MediaSource.isTypeSupported('video/webm; codecs="vp09.00.10.08"')&&function(){var t=MediaSource.isTypeSupported;Lt().Yj()&&(MediaSource.isTypeSupported=function(e){var n=e.split(/ *; */),r=n.findIndex((function(t){return t.startsWith("codecs=")}));if(r<0)return t(e);var i=n[r].replace("codecs=","").replace(/"/g,"").split(/\s*,\s*/),a=i.findIndex((function(t){return t.startsWith("vp09")}));return a>=0&&(i[a]="vp9",n[r]='codecs="'+i.join(",")+'"',e=n.join("; ")),t(e)})}()}function oC(){var t=MediaSource.prototype.addSourceBuffer;MediaSource.prototype.addSourceBuffer=function(){var e=t.apply(this,D.apply(0,arguments));return e.abort=function(){},e}}function sC(e){var n=MediaSource.isTypeSupported.bind(MediaSource);if(MediaSource.isTypeSupported=function(t){return Or(t)!=e&&n(t)},t.ManagedMediaSource){var r=ManagedMediaSource.isTypeSupported.bind(ManagedMediaSource);t.ManagedMediaSource.isTypeSupported=function(t){return Or(t)!=e&&r(t)}}}function uC(){}function lC(){screen.orientation&&screen.orientation.unlock||(null!=screen.orientation?(void 0===screen.orientation.lock&&(screen.orientation.lock=function(){return Promise.resolve()}),void 0===screen.orientation.unlock&&(screen.orientation.unlock=function(){})):null!=t.orientation&&function(){function e(){switch(t.orientation){case-90:n.type="landscape-secondary",n.angle=270;break;case 0:n.type="portrait-primary",n.angle=0;break;case 90:n.type="landscape-primary",n.angle=90;break;case 180:n.type="portrait-secondary",n.angle=180}}var n=new cC;screen.orientation=n,e(),t.addEventListener("orientationchange",(function(){e();var t=new z("change");n.dispatchEvent(t)}))}())}function cC(){tt.call(this),this.type="",this.angle=0}function dC(){}function pC(e){t.HTMLVideoElement&&t.WebKitMediaKeys&&t.shakaMediaKeysPolyfill!=CC&&(void 0!==e&&e&&(Jw=!0,Zw=Object.getOwnPropertyDescriptor(HTMLMediaElement.prototype,"mediaKeys"),Qw=HTMLMediaElement.prototype.setMediaKeys,tC=t.MediaKeys,eC=t.MediaKeySystemAccess,nC=navigator.requestMediaKeySystemAccess),delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=fC,t.MediaKeys=vC,t.MediaKeySystemAccess=mC,navigator.requestMediaKeySystemAccess=hC,t.shakaMediaKeysPolyfill=CC,Ti.clear(),Bi.clear())}function hC(t,e){try{var n=new mC(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function fC(t){var e=this.mediaKeys;return e&&e!=t&&yC(e,null),delete this.mediaKeys,(this.mediaKeys=t)?yC(t,this):Promise.resolve()}function gC(t){if(Et(t=Tt(t.initData)).getUint32(0,!0)+4!=t.byteLength)throw new RangeError("Malformed FairPlay init data");t=jt(t=Ut(t.subarray(4),!0));var e=new Event("encrypted");e.initDataType="skd",e.initData=xt(t),this.dispatchEvent(e)}function mC(t,e){if(this.keySystem=t,t.startsWith("com.apple.fps"))for(e=(t=g(e)).next();!e.done;e=t.next()){var n=e.value;if("required"==n.persistentState)e=null;else{e={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:n.initDataTypes,sessionTypes:["temporary"],label:n.label};var r=!1,i=!1;if(n.audioCapabilities)for(var a=g(n.audioCapabilities),o=a.next();!o.done;o=a.next())(o=o.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,o.contentType.split(";")[0])&&(e.audioCapabilities.push(o),i=!0));if(n.videoCapabilities)for(a=(n=g(n.videoCapabilities)).next();!a.done;a=n.next())(a=a.value).contentType&&(r=!0,WebKitMediaKeys.isTypeSupported(this.keySystem,a.contentType.split(";")[0])&&(e.videoCapabilities.push(a),i=!0));r||(i=WebKitMediaKeys.isTypeSupported(this.keySystem,"video/mp4")),e=i?e:null}if(e)return void(this.g=e)}throw(t=Error("Unsupported keySystem")).name="NotSupportedError",t.code=DOMException.NOT_SUPPORTED_ERR,t}function vC(t){this.h=new WebKitMediaKeys(t),this.g=new Me}function yC(t,e){if(t.g.Sa(),!e)return Promise.resolve();t.g.o(e,"webkitneedkey",gC);try{return Eu(e,HTMLMediaElement.HAVE_METADATA,t.g,(function(){e.webkitSetMediaKeys(t.h)})),Promise.resolve()}catch(t){return Promise.reject(t)}}function AC(t){tt.call(this),this.i=null,this.l=t,this.g=this.h=null,this.j=new Me,this.sessionId="",this.expiration=NaN,this.closed=new Fi,this.keyStatuses=new wC,this.onkeystatuseschange=null}function bC(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.g=e,e=new z("keystatuseschange"),t.dispatchEvent(e),t.onkeystatuseschange&&t.onkeystatuseschange(e)}function wC(){this.size=0,this.g=void 0}Tw(Xw,-1),Cw.MediaSource=iC,iC.install=aC,Tw(aC),Cw.Orientation=uC,uC.install=lC,h(cC,tt),cC.prototype.lock=function(t){function e(t){return screen.lockOrientation?screen.lockOrientation(t):screen.mozLockOrientation?screen.mozLockOrientation(t):!!screen.msLockOrientation&&screen.msLockOrientation(t)}var n=!1;switch(t){case"natural":n=e("default");break;case"any":n=!0,this.unlock();break;default:n=e(t)}return n?Promise.resolve():((t=Error("screen.orientation.lock() is not available on this device")).name="NotSupportedError",t.code=DOMException.NOT_SUPPORTED_ERR,Promise.reject(t))},cC.prototype.unlock=function(){screen.unlockOrientation?screen.unlockOrientation():screen.mozUnlockOrientation?screen.mozUnlockOrientation():screen.msUnlockOrientation&&screen.msUnlockOrientation()},Tw(lC),Cw.PatchedMediaKeysApple=dC,dC.uninstall=function(){t.shakaMediaKeysPolyfill==CC&&Jw&&(Jw=!1,Object.defineProperty(HTMLMediaElement.prototype,"mediaKeys",Zw),HTMLMediaElement.prototype.setMediaKeys=Qw,t.MediaKeys=tC,t.MediaKeySystemAccess=eC,navigator.requestMediaKeySystemAccess=nC,Zw=nC=Qw=eC=tC=null,t.shakaMediaKeysPolyfill="",Ti.clear(),Bi.clear())},dC.install=pC,mC.prototype.createMediaKeys=function(){var t=new vC(this.keySystem);return Promise.resolve(t)},mC.prototype.getConfiguration=function(){return this.g},vC.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary"))throw new TypeError("Session type "+t+" is unsupported on this platform.");return new AC(this.h,t)},vC.prototype.setServerCertificate=function(){return Promise.resolve(!1)},vC.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},h(AC,tt),(i=AC.prototype).generateRequest=function(t,e){var n=this;this.h=new Fi;try{var r=this.l.createSession("video/mp4",Tt(e));this.i=r,this.sessionId=r.sessionId||"",this.j.o(this.i,"webkitkeymessage",(function(t){n.h&&(n.h.resolve(),n.h=null),t=new z("message",t=(new Map).set("messageType",null==n.keyStatuses.Tc()?"license-request":"license-renewal").set("message",xt(t.message))),n.dispatchEvent(t)})),this.j.o(r,"webkitkeyadded",(function(){n.g&&(bC(n,"usable"),n.g.resolve(),n.g=null)})),this.j.o(r,"webkitkeyerror",(function(){var t=Error("EME PatchedMediaKeysApple key error");if(t.errorCode=n.i.error,null!=n.h)n.h.reject(t),n.h=null;else if(null!=n.g)n.g.reject(t),n.g=null;else switch(n.i.error.code){case WebKitMediaKeyError.MEDIA_KEYERR_OUTPUT:case WebKitMediaKeyError.MEDIA_KEYERR_HARDWARECHANGE:bC(n,"output-not-allowed");break;default:bC(n,"internal-error")}})),bC(this,"status-pending")}catch(t){this.h.reject(t)}return this.h},i.load=function(){return Promise.reject(Error("MediaKeySession.load not yet supported"))},i.update=function(t){this.g=new Fi;try{this.i.update(Tt(t))}catch(t){this.g.reject(t)}return this.g},i.close=function(){try{this.i.close(),this.closed.resolve(),this.j.Sa()}catch(t){this.closed.reject(t)}return this.closed},i.remove=function(){return Promise.reject(Error("MediaKeySession.remove is only applicable for persistent licenses, which are not supported on this platform"))},(i=wC.prototype).Tc=function(){return this.g},i.forEach=function(t){this.g&&t(this.g,Ui.value())},i.get=function(t){if(this.has(t))return this.g},i.has=function(t){var e=Ui.value();return!(!this.g||!Ct(t,e))},i.entries=function(){},i.keys=function(){},i.values=function(){};var CC="apple";function xC(){}function TC(){if(t.MediaKeys){var e=Lt();MediaKeys.prototype.setServerCertificate&&e.Le()||(MediaKeys.prototype.setServerCertificate=SC)}}function SC(){return Promise.resolve(!1)}function EC(){}function kC(){if(!(!t.HTMLVideoElement||navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration)){if(HTMLMediaElement.prototype.webkitGenerateKeyRequest)qC="webkit";else if(!HTMLMediaElement.prototype.generateKeyRequest)return;navigator.requestMediaKeySystemAccess=MC,delete HTMLMediaElement.prototype.mediaKeys,HTMLMediaElement.prototype.mediaKeys=null,HTMLMediaElement.prototype.setMediaKeys=RC,t.MediaKeys=OC,t.MediaKeySystemAccess=LC,t.shakaMediaKeysPolyfill=FC}}function IC(t){return qC?qC+t.charAt(0).toUpperCase()+t.slice(1):t}function MC(t,e){try{var n=new LC(t,e);return Promise.resolve(n)}catch(t){return Promise.reject(t)}}function RC(t){var e=this.mediaKeys;return e&&e!=t&&PC(e,null),delete this.mediaKeys,(this.mediaKeys=t)&&PC(t,this),Promise.resolve()}function LC(t,e){this.g=this.keySystem=t;var n=!1;"org.w3.clearkey"==t&&(this.g="webkit-org.w3.clearkey",n=!1);var r=!1,i=document.getElementsByTagName("video");i=i.length?i[0]:document.createElement("video");for(var a=(e=g(e)).next();!a.done;a=e.next()){var o={audioCapabilities:[],videoCapabilities:[],persistentState:"optional",distinctiveIdentifier:"optional",initDataTypes:(a=a.value).initDataTypes,sessionTypes:["temporary"],label:a.label},s=!1;if(a.audioCapabilities)for(var u=g(a.audioCapabilities),l=u.next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,i.canPlayType(l.contentType.split(";")[0],this.g)&&(o.audioCapabilities.push(l),r=!0));if(a.videoCapabilities)for(l=(u=g(a.videoCapabilities)).next();!l.done;l=u.next())(l=l.value).contentType&&(s=!0,i.canPlayType(l.contentType,this.g)&&(o.videoCapabilities.push(l),r=!0));if(s||(r=i.canPlayType("video/mp4",this.g)||i.canPlayType("video/webm",this.g)),"required"==a.persistentState&&(n?(o.persistentState="required",o.sessionTypes=["persistent-license"]):r=!1),r)return void(this.h=o)}throw n="Unsupported keySystem","org.w3.clearkey"!=t&&"com.widevine.alpha"!=t||(n="None of the requested configurations were supported."),(t=Error(n)).name="NotSupportedError",t.code=DOMException.NOT_SUPPORTED_ERR,t}function OC(t){this.l=t,this.h=null,this.g=new Me,this.i=[],this.j=new Map}function PC(t,e){t.h=e,t.g.Sa();var n=qC;e&&(t.g.o(e,n+"needkey",(function(e){var n=new CustomEvent("encrypted");n.initDataType="cenc",n.initData=xt(e.initData),t.h.dispatchEvent(n)})),t.g.o(e,n+"keymessage",(function(e){var n=DC(t,e.sessionId);n&&(e=new z("message",e=(new Map).set("messageType",null==n.keyStatuses.Tc()?"licenserequest":"licenserenewal").set("message",e.message)),n.h&&(n.h.resolve(),n.h=null),n.dispatchEvent(e))})),t.g.o(e,n+"keyadded",(function(e){(e=DC(t,e.sessionId))&&e.ready()})),t.g.o(e,n+"keyerror",(function(e){var n=DC(t,e.sessionId);if(n){var r=Error("EME v0.1b key error"),i=e.errorCode;i.systemCode=e.systemCode,r.errorCode=i,!e.sessionId&&n.h?(45==e.systemCode&&(r.message="Unsupported session type."),n.h.reject(r),n.h=null):e.sessionId&&n.g?(n.g.reject(r),n.g=null):(r=e.systemCode,e.errorCode.code==MediaKeyError.MEDIA_KEYERR_OUTPUT?BC(n,"output-restricted"):BC(n,1==r?"expired":"internal-error"))}})))}function DC(t,e){var n=t.j.get(e);return n||((n=t.i.shift())?(n.sessionId=e,t.j.set(e,n),n):null)}function _C(t,e,n){tt.call(this),this.j=t,this.m=!1,this.g=this.h=null,this.i=e,this.l=n,this.sessionId="",this.expiration=NaN,this.closed=new Fi,this.keyStatuses=new jC,this.onkeystatuseschange=null}function NC(t,e,n){if(t.m)return Promise.reject(Error("The session is already initialized."));t.m=!0;try{if("persistent-license"==t.l)if(n)var r=Tt(jt("LOAD_SESSION|"+n));else{var i=jt("PERSISTENT|");r=Yt(i,e)}else r=Tt(e)}catch(t){return Promise.reject(t)}t.h=new Fi;var a=IC("generateKeyRequest");try{t.j[a](t.i,r)}catch(e){if("InvalidStateError"!=e.name)return t.h=null,Promise.reject(e);new Wr((function(){try{t.j[a](t.i,r)}catch(e){t.h.reject(e),t.h=null}})).Y(.01)}return t.h}function UC(t,e,n){if(t.g)t.g.then((function(){return UC(t,e,n)})).catch((function(){return UC(t,e,n)}));else{if(t.g=e,"webkit-org.w3.clearkey"==t.i){var r=Nt(n),i=JSON.parse(r);"oct"!=i.keys[0].kty&&(t.g.reject(Error("Response is not a valid JSON Web Key Set.")),t.g=null),r=Wt(i.keys[0].k),i=Wt(i.keys[0].kid)}else r=Tt(n),i=null;var a=IC("addKey");try{t.j[a](t.i,r,i,t.sessionId)}catch(e){t.g.reject(e),t.g=null}}}function BC(t,e){var n=t.keyStatuses;n.size=null==e?0:1,n.g=e,e=new z("keystatuseschange"),t.dispatchEvent(e),t.onkeystatuseschange&&t.onkeystatuseschange(e)}function jC(){this.size=0,this.g=void 0}Tw((function(){t.HTMLVideoElement&&t.WebKitMediaKeys&&(navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration||pC())})),Cw.PatchedMediaKeysCert=xC,xC.install=TC,Tw(TC),Cw.PatchedMediaKeysWebkit=EC,EC.install=kC,LC.prototype.createMediaKeys=function(){var t=new OC(this.g);return Promise.resolve(t)},LC.prototype.getConfiguration=function(){return this.h},OC.prototype.createSession=function(t){if("temporary"!=(t=t||"temporary")&&"persistent-license"!=t)throw new TypeError("Session type "+t+" is unsupported on this platform.");var e=this.h||document.createElement("video");return e.src||(e.src="about:blank"),t=new _C(e,this.l,t),this.i.push(t),t},OC.prototype.setServerCertificate=function(){return Promise.resolve(!1)},OC.prototype.getStatusForPolicy=function(){return Promise.resolve("usable")},h(_C,tt),(i=_C.prototype).ready=function(){BC(this,"usable"),this.g&&this.g.resolve(),this.g=null},i.generateRequest=function(t,e){return NC(this,e,null)},i.load=function(t){return"persistent-license"==this.l?NC(this,null,t):Promise.reject(Error("Not a persistent session."))},i.update=function(t){var e=new Fi;return UC(this,e,t),e},i.close=function(){if("persistent-license"!=this.l){if(!this.sessionId)return this.closed.reject(Error("The session is not callable.")),this.closed;var t=IC("cancelKeyRequest");try{this.j[t](this.i,this.sessionId)}catch(t){}}return this.closed.resolve(),this.closed},i.remove=function(){return"persistent-license"!=this.l?Promise.reject(Error("Not a persistent session.")):this.close()},(i=jC.prototype).Tc=function(){return this.g},i.forEach=function(t){this.g&&t(this.g,Ui.value())},i.get=function(t){if(this.has(t))return this.g},i.has=function(t){var e=Ui.value();return!(!this.g||!Ct(t,e))},i.entries=function(){},i.keys=function(){},i.values=function(){};var qC="",FC="webkit";function VC(){}function GC(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;e.requestPictureInPicture&&document.exitPictureInPicture||!e.webkitSupportsPresentationMode||(document.pictureInPictureEnabled=!0,document.pictureInPictureElement=null,e.requestPictureInPicture=HC,Object.defineProperty(e,"disablePictureInPicture",{get:WC,set:$C,enumerable:!0,configurable:!0}),document.exitPictureInPicture=KC,document.addEventListener("webkitpresentationmodechanged",zC,!0))}}function zC(t){if("picture-in-picture"==(t=t.target).webkitPresentationMode){document.pictureInPictureElement=t;var e=new Event("enterpictureinpicture");t.dispatchEvent(e)}else document.pictureInPictureElement==t&&(document.pictureInPictureElement=null),e=new Event("leavepictureinpicture"),t.dispatchEvent(e)}function HC(){return this.webkitSupportsPresentationMode("picture-in-picture")?(this.webkitSetPresentationMode("picture-in-picture"),document.pictureInPictureElement=this,Promise.resolve()):Promise.reject(Error("PiP not allowed by video element"))}function KC(){var t=document.pictureInPictureElement;return t?(t.webkitSetPresentationMode("inline"),document.pictureInPictureElement=null,Promise.resolve()):Promise.reject(Error("No picture in picture element found"))}function WC(){return!!this.hasAttribute("disablePictureInPicture")||!this.webkitSupportsPresentationMode("picture-in-picture")}function $C(t){t?this.setAttribute("disablePictureInPicture",""):this.removeAttribute("disablePictureInPicture")}function XC(){}function YC(){t.crypto&&("randomUUID"in t.crypto||(t.crypto.randomUUID=JC))}function JC(){var t=URL.createObjectURL(new Blob),e=t.toString();return URL.revokeObjectURL(t),e.substr(e.lastIndexOf("/")+1)}function ZC(){}function QC(){var t=Symbol.prototype;"description"in t||Object.defineProperty(t,"description",{get:tx})}function tx(){var t=/\((.*)\)/.exec(this.toString());return t?t[1]:void 0}function ex(){}function nx(){for(var t=g([Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array]),e=t.next();!e.done;e=t.next())(e=e.value).prototype.indexOf||(e.prototype.indexOf=rx),e.prototype.lastIndexOf||(e.prototype.lastIndexOf=ix),e.prototype.includes||(e.prototype.includes=ax)}function rx(t,e){return Array.prototype.indexOf.call(this,t,e)}function ix(t,e){return Array.prototype.lastIndexOf.call(this,t,e)}function ax(t,e){return-1!==this.indexOf(t,e)}function ox(){}function sx(){if(t.HTMLMediaElement){var e=HTMLMediaElement.prototype.play;HTMLMediaElement.prototype.play=function(){var t=e.apply(this);return t&&t.catch((function(){})),t}}}function ux(){}function lx(){if(t.HTMLVideoElement){var e=HTMLVideoElement.prototype;!e.getVideoPlaybackQuality&&("webkitDroppedFrameCount"in e||"number"==typeof hs().webkitDroppedFrameCount)&&(e.getVideoPlaybackQuality=cx)}}function cx(){return{droppedVideoFrames:this.webkitDroppedFrameCount,totalVideoFrames:this.webkitDecodedFrameCount,corruptedVideoFrames:0,creationTime:NaN,totalFrameDelay:0}}function dx(){}function px(){if(!t.VTTCue&&t.TextTrackCue){var e=null,n=TextTrackCue.length;if(3==n)e=hx;else if(6==n)e=fx;else{try{var r=!!hx(1,2,"")}catch(t){r=!1}r&&(e=hx)}e&&(t.VTTCue=function(t,n,r){return e(t,n,r)})}}function hx(e,n,r){return new t.TextTrackCue(e,n,r)}function fx(e,n,r){return new t.TextTrackCue(e+"-"+n+"-"+r,e,n,r)}function gx(t){tt.call(this),this.g=t,this.m=null,this.h=[],this.j=-1,this.i=this.l=null,this.u=new Me}function mx(){}Tw(kC),Cw.PiPWebkit=VC,VC.install=GC,Tw(GC),Cw.RandomUUID=XC,XC.install=YC,Tw(YC),Cw.Symbol=ZC,ZC.install=QC,Tw(QC),Cw.TypedArray=ex,ex.install=nx,Tw(nx),Cw.VideoPlayPromise=ox,ox.install=sx,Tw(sx),Cw.VideoPlaybackQuality=ux,ux.install=lx,Tw(lx),Cw.VTTCue=dx,dx.install=px,Tw(px),h(gx,tt),(i=gx.prototype).destroy=function(){var t=this;return P((function(e){if(1==e.g)return w(e,t.removeAllItems(),2);t.g=null,t.u&&(t.u.release(),t.u=null),tt.prototype.release.call(t),C(e)}))},i.configure=function(t){this.m=t},i.getConfiguration=function(){return this.m},i.getCurrentItem=function(){return this.h.length&&this.j>=0&&this.j<this.h.length?this.h[this.j]:null},i.getCurrentItemIndex=function(){return this.j},i.getItems=function(){return this.h.slice()},i.insertItems=function(t){this.h.push.apply(this.h,m(t)),this.dispatchEvent(new z("itemsinserted"))},i.removeAllItems=function(){var t,e,n,r,i=this;return P((function(a){if(1==a.g)return i.u.Sa(),i.h.length&&i.j>=0?w(a,i.g.tc(),2):a.B(2);if(4!=a.g){for(t=[],i.i&&(i.i.preloadManager.j||t.push(i.i.preloadManager.destroy()),i.i=null),i.l&&(i.l.preloadManager.j||t.push(i.l.preloadManager.destroy()),i.l=null),e=g(i.h),n=e.next();!n.done;n=e.next())(r=n.value).preloadManager&&!r.preloadManager.j&&t.push(r.preloadManager.destroy());return t.length?w(a,Promise.all(t),4):a.B(4)}i.h=[],i.j=-1,i.dispatchEvent(new z("itemsremoved")),C(a)}))},i.playItem=function(t){var e,n,r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A=this;return P((function(b){switch(b.g){case 1:if(A.u.Sa(),!A.h.length||t>=A.h.length)throw new It(2,7,7007);if(e=A.getCurrentItem(),n=A.h[t],A.j!=t&&(A.j=t,A.dispatchEvent(new z("currentitemchanged"))),r=A.g.h,(i=A.m?A.m.preloadNextUrlWindow:0)>0&&(a=!1,A.u.o(r,"timeupdate",(function(){var t,e,n,o;return P((function(s){switch(s.g){case 1:if(A.l||A.h.length<=1||a||A.g.U()||!r.duration)return s.return();if(t=A.g.wa().end-r.currentTime,isNaN(t)){s.B(0);break}if(!(t<=i)){s.B(0);break}if(e=A.m&&A.m.repeatMode,n=null,A.j+1<A.h.length?n=A.h[A.j+1]:1==e&&(n=A.h[0]),!n||n.preloadManager&&!n.preloadManager.j){s.B(0);break}return a=!0,o=null,x(s,5),w(s,A.g.preload(n.manifestUri,n.startTime,n.mimeType,n.config),7);case 7:o=s.h,S(s,6);break;case 5:E(s),o=null;case 6:A.l={item:n,preloadManager:o},a=!1,C(s)}}))}))),A.u.o(A.g,"complete",(function(){var t=A.m&&A.m.repeatMode,e=!1;if(2==t)e=!0;else{var n=A.j+1;n<A.h.length?A.playItem(n):1==t&&(1==A.h.length?e=!0:A.playItem(0))}e&&(r.paused?(r.currentTime=A.g.wa().start,r.play()):A.u.o(r,"paused",(function(){r.currentTime=A.g.wa().start,r.play()})))})),o=n.manifestUri,n.preloadManager&&!n.preloadManager.j&&(o=n.preloadManager),s=!1,A.l&&A.l.item==n&&A.l.preloadManager?o=A.l.preloadManager:A.i&&A.i.item==n&&A.i.preloadManager&&(o=A.i.preloadManager,s=!0),!A.i){b.B(2);break}if(s||A.i.preloadManager.j){b.B(3);break}return w(b,A.i.preloadManager.destroy(),3);case 3:A.i=null;case 2:if(!(A.m&&A.m.preloadPrevItem&&e&&A.g.l===fh)){b.B(5);break}return u=null,x(b,6),w(b,A.g.ck(),8);case 8:u=b.h,S(b,7);break;case 6:E(b),u=null;case 7:A.i={item:e,preloadManager:u};case 5:return n.config&&(A.g.Bj(),A.g.configure(n.config)),w(b,A.g.load(o,n.startTime,n.mimeType),9);case 9:if(A.l=null,n.extraText)for(l=g(n.extraText),c=l.next();!c.done;c=l.next())(d=c.value).mime?A.g.ge(d.uri,d.language,d.kind,d.mime,d.codecs):A.g.ge(d.uri,d.language,d.kind);if(n.extraThumbnail)for(p=g(n.extraThumbnail),h=p.next();!h.done;h=p.next())f=h.value,A.g.gf(f);if(n.extraChapter)for(m=g(n.extraChapter),v=m.next();!v.done;v=m.next())y=v.value,A.g.ef(y.uri,y.language,y.mime);C(b)}}))},G("shaka.queue.QueueManager",gx),gx.prototype.playItem=gx.prototype.playItem,gx.prototype.removeAllItems=gx.prototype.removeAllItems,gx.prototype.insertItems=gx.prototype.insertItems,gx.prototype.getItems=gx.prototype.getItems,gx.prototype.getCurrentItemIndex=gx.prototype.getCurrentItemIndex,gx.prototype.getCurrentItem=gx.prototype.getCurrentItem,gx.prototype.getConfiguration=gx.prototype.getConfiguration,gx.prototype.configure=gx.prototype.configure,gx.prototype.destroy=gx.prototype.destroy,Ah=function(t){return new gx(t)},mx.prototype.parseInit=function(){},mx.prototype.setSequenceMode=function(){},mx.prototype.setManifestType=function(){},mx.prototype.parseMedia=function(t,e){for(var n=null,r=[],i=(t=g(t=Nt(t).split(/\r?\n/))).next();!i.done;i=t.next())if((i=i.value)&&!/^\s+$/.test(i)&&(i=vx.exec(i))){var a=yx.exec(i[1]);i=new Kn(a=60*parseInt(a[1],10)+parseFloat(a[2].replace(",",".")),e.segmentEnd?e.segmentEnd:a+2,i[2]),n&&(n.endTime=a,r.push(n)),n=i}return n&&r.push(n),r},G("shaka.text.LrcTextParser",mx),mx.prototype.parseMedia=mx.prototype.parseMedia,mx.prototype.setManifestType=mx.prototype.setManifestType,mx.prototype.setSequenceMode=mx.prototype.setSequenceMode,mx.prototype.parseInit=mx.prototype.parseInit;var vx=/^\[(\d{1,2}:\d{1,2}(?:[.,]\d{1,3})?)\](.*)/,yx=/^(\d+):(\d{1,2}(?:[.,]\d{1,3})?)$/;function Ax(){this.g="UNKNOWN"}function bx(t,e,n,r,i,a,o,s,u,l,c,d,p,h){var f=c;if(vn(e)){if(!d)return null;var m={tagName:"span",children:[bn(e)],attributes:{},parent:null}}else m=e;for(var v=null,y=g($x),A=y.next();!A.done&&!(v=Ix(m,"backgroundImage",i,"#",A.value)[0]);A=y.next());y=null;var b=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/;if((A=In(m,$x,"backgroundImage"))&&b.test(A)){if((y=parseInt(A.split(":").pop(),10)-1)>=h.length)return null;y=h[y]}else p&&A&&!A.startsWith("#")&&(b=new at(p),A=new at(A),(A=b.resolve(A).toString())&&(y=A));if(("p"==e.tagName||v||y)&&(d=!0),e=d,A="default"==(m.attributes["xml:space"]||(u?"default":"preserve")),u=[],!(b=m.children.every(vn)))for(var w=g(m.children),C=w.next();!C.done;C=w.next())(C=bx(t,C.value,n,r,i,a,o,s,A,l,m,d,p,h))&&u.push(C);if(i=null!=c,p=bn(m),p=m.children.length&&p&&/\S/.test(p),!((w=m.attributes.begin||m.attributes.end||m.attributes.dur)||p||"br"==m.tagName||0!=u.length||i&&!A))return null;for(p=(h=Rx(m,r)).start,h=h.end;f&&f.tagName&&"tt"!=f.tagName;)p=(h=Mx(f,r,p,h)).start,h=h.end,f=f.parent;if(null==p&&(p=0),p+=n.periodStart,h=null==h?1/0:h+n.periodStart,"HLS"!==t.g&&(p=Math.max(p,n.segmentStart),h=Math.min(h,n.segmentEnd)),!w&&u.length>0)for(p=1/0,h=0,r=(n=g(u)).next();!r.done;r=n.next())r=r.value,p=Math.min(p,r.startTime),h=Math.max(h,r.endTime);if("br"==m.tagName)return(t=new Kn(p,h,"")).lineBreak=!0,t;if(n="",b&&(n=Vt(bn(m)||""),A&&(n=n.replace(/\s+/g," "))),(n=new Kn(p,h,n)).nestedCues=u,d||(n.isContainer=!0),l&&(n.cellResolution=l),l=Ix(m,"region",o,"")[0],m.attributes.region&&l&&l.attributes["xml:id"]){var x=l.attributes["xml:id"];n.region=s.filter((function(t){return t.id==x}))[0]}return s=l,c&&i&&!m.attributes.region&&!m.attributes.style&&(s=Ix(c,"region",o,"")[0]),function(t,e,n,r,i,a,o,s,u){"rtl"==Tx(t,n,r,o,"direction",s=s||u)&&(e.direction="rtl"),"tb"==(u=Tx(t,n,r,o,"writingMode",s))||"tblr"==u?e.writingMode="vertical-lr":"tbrl"==u?e.writingMode="vertical-rl":"rltb"==u||"rl"==u?e.direction="rtl":u&&(e.direction=ir),(u=Tx(t,n,r,o,"textAlign",!0))?(e.positionAlign=Hx.get(u),e.lineAlign=zx.get(u),e.textAlign=er[u.toUpperCase()]):e.textAlign=tr,(u=Tx(t,n,r,o,"displayAlign",!0))&&(e.displayAlign=rr[u.toUpperCase()]);(u=Tx(t,n,r,o,"color",s))&&(e.color=Cx(u));(u=Tx(t,n,r,o,"backgroundColor",s))&&(e.backgroundColor=Cx(u));(u=Tx(t,n,r,o,"border",s))&&(e.border=u);if(u=Tx(t,n,r,o,"fontFamily",s))switch(u){case"monospaceSerif":e.fontFamily="Courier New,Liberation Mono,Courier,monospace";break;case"proportionalSansSerif":e.fontFamily="Arial,Helvetica,Liberation Sans,sans-serif";break;case"sansSerif":e.fontFamily="sans-serif";break;case"monospaceSansSerif":e.fontFamily="Consolas,monospace";break;case"proportionalSerif":e.fontFamily="serif";break;default:e.fontFamily=u.split(",").filter((function(t){return"default"!=t})).join(",")}(u=Tx(t,n,r,o,"fontWeight",s))&&"bold"==u&&(e.fontWeight=pr),u=Tx(t,n,r,o,"wrapOption",s),e.wrapLine=!u||"noWrap"!=u,(u=Tx(t,n,r,o,"lineHeight",s))&&u.match(Nx)&&(e.lineHeight=u),(u=Tx(t,n,r,o,"fontSize",s))&&(u.match(Nx)||u.match(_x))&&(e.fontSize=u),(u=Tx(t,n,r,o,"fontStyle",s))&&(e.fontStyle=gr[u.toUpperCase()]);i?(a=i.attributes.imageType||i.attributes.imagetype,u=i.attributes.encoding,i=bn(i).trim(),"PNG"==a&&"Base64"==u&&i&&(e.backgroundImage="data:image/png;base64,"+i)):a&&(e.backgroundImage=a),(i=Tx(t,n,r,o,"textOutline",s))&&((i=i.split(" "))[0].match(Nx)?e.textStrokeColor=e.color:(e.textStrokeColor=Cx(i[0]),i.shift()),i[0]&&i[0].match(Nx)?e.textStrokeWidth=i[0]:e.textStrokeColor="");(i=Tx(t,n,r,o,"letterSpacing",s))&&i.match(Nx)&&(e.letterSpacing=i),(i=Tx(t,n,r,o,"linePadding",s))&&i.match(Nx)&&(e.linePadding=i),(i=Tx(t,n,r,o,"opacity",s))&&(e.opacity=parseFloat(i));(i=Sx(t,r,o,"textDecoration"))&&xx(e,i),(i=Ex(t,n,o,"textDecoration"))&&xx(e,i),(i=Tx(t,n,r,o,"textCombine",s))&&(e.textCombineUpright=i);switch(Tx(t,n,r,o,"ruby",s)){case"container":e.rubyTag="ruby";break;case"text":e.rubyTag="rt"}}(t,n,m,s,v,y,a,e,0==u.length),n}function wx(t,e,n,r){var i=new Qe,a=e.attributes["xml:id"];if(!a)return null;i.id=a,a=null,r&&(a=Dx.exec(r)||Ux.exec(r)),r=a?Number(a[1]):null,a=a?Number(a[2]):null;var o,s=Sx(t,e,n,"extent");if(s){var u=(o=Dx.exec(s))||Ux.exec(s);null!=u&&(i.width=Number(u[1]),i.height=Number(u[2]),o||(null!=r&&(i.width=100*i.width/r),null!=a&&(i.height=100*i.height/a)),i.widthUnits=o||null!=r?tn:0,i.heightUnits=o||null!=a?tn:0)}return(t=Sx(t,e,n,"origin"))&&(null!=(u=(o=Dx.exec(t))||Ux.exec(t))&&(i.viewportAnchorX=Number(u[1]),i.viewportAnchorY=Number(u[2]),o?s||(i.width=100-i.viewportAnchorX,i.widthUnits=tn,i.height=100-i.viewportAnchorY,i.heightUnits=tn):(null!=a&&(i.viewportAnchorY=100*i.viewportAnchorY/a),null!=r&&(i.viewportAnchorX=100*i.viewportAnchorX/r)),i.viewportAnchorUnits=o||null!=r?tn:0)),i}function Cx(t){var e=t.match(/rgba\(([^)]+)\)/);return e&&4==(e=e[1].split(",")).length?(e[3]=String(Number(e[3])/255),"rgba("+e.join(",")+")"):t}function xx(t,e){for(var n=(e=g(e.split(" "))).next();!n.done;n=e.next())switch(n.value){case"underline":t.textDecoration.includes(mr)||t.textDecoration.push(mr);break;case"noUnderline":t.textDecoration.includes(mr)&&Ee(t.textDecoration,mr);break;case"lineThrough":t.textDecoration.includes("lineThrough")||t.textDecoration.push("lineThrough");break;case"noLineThrough":t.textDecoration.includes("lineThrough")&&Ee(t.textDecoration,"lineThrough");break;case"overline":t.textDecoration.includes("overline")||t.textDecoration.push("overline");break;case"noOverline":t.textDecoration.includes("overline")&&Ee(t.textDecoration,"overline")}}function Tx(t,e,n,r,i,a){return a=void 0===a||a,(e=Ex(t,e,r,i))?e:a?Sx(t,n,r,i):null}function Sx(t,e,n,r){if(!e)return null;var i=In(e,Wx,r);return i||kx(t,e,n,r)}function Ex(t,e,n,r){var i=In(e,Wx,r);return i||kx(t,e,n,r)}function kx(t,e,n,r){e=Ix(e,"style",n,"");for(var i=null,a=0;a<e.length;a++){var o=En(e[a],"urn:ebu:tt:style",r);o||(o=In(e[a],Wx,r)),o||(o=Ex(t,e[a],n,r)),o&&(i=o)}return i}function Ix(t,e,n,r,i){var a=[];if(!t||n.length<1)return a;var o=t;for(t=null;!t&&!(t=i?En(o,i,e):o.attributes[e])&&(o=o.parent););if(e=t)for(i=(e=g(e.split(" "))).next();!i.done;i=e.next())for(i=i.value,o=(t=g(n)).next();!o.done;o=t.next())if(r+(o=o.value).attributes["xml:id"]==i){a.push(o);break}return a}function Mx(t,e,n,r){return t=Rx(t,e),null==n?n=t.start:null!=t.start&&(n+=t.start),null==r?r=t.end:null!=t.start&&(r+=t.start),{start:n,end:r}}function Rx(t,e){var n=Lx(t.attributes.begin,e),r=Lx(t.attributes.end,e);return t=Lx(t.attributes.dur,e),null==r&&null!=t&&(r=n+t),{start:n,end:r}}function Lx(t,e){var n=null;if(Bx.test(t)){t=Bx.exec(t),n=Number(t[1]);var r=Number(t[2]),i=Number(t[3]),a=Number(t[4]);n=(i+=(a+=(Number(t[5])||0)/e.h)/e.frameRate)+60*r+3600*n}else if(jx.test(t))n=Ox(jx,t);else if(qx.test(t))n=Ox(qx,t);else if(Fx.test(t))t=Fx.exec(t),n=Number(t[1])/e.frameRate;else if(Vx.test(t))t=Vx.exec(t),n=Number(t[1])/e.g;else if(Gx.test(t))n=Ox(Gx,t);else if(t)throw new It(2,2,2001,"Could not parse cue time range in TTML");return n}function Ox(t,e){return null==(t=t.exec(e))||""==t[0]?null:(Number(t[4])||0)/1e3+(Number(t[3])||0)+60*(Number(t[2])||0)+3600*(Number(t[1])||0)}function Px(t,e,n,r){this.frameRate=Number(t)||30,this.h=Number(e)||1,this.g=Number(r),0==this.g&&(this.g=t?this.frameRate*this.h:1),n&&(t=/^(\d+) (\d+)$/g.exec(n))&&(this.frameRate*=Number(t[1])/Number(t[2]))}jr("application/x-subtitle-lrc",(function(){return new mx})),Ax.prototype.parseInit=function(){},Ax.prototype.setSequenceMode=function(){},Ax.prototype.setManifestType=function(t){this.g=t},Ax.prototype.parseMedia=function(t,e,n,r){var i=Nt(t);if(t=[],""==i)return t;var a=gn(i,"tt",!0);if(!a)throw new It(2,2,2005,"Failed to parse TTML.");if(!(i=Cn(a,"body")[0]))return[];var o=In(a,Kx,"frameRate"),s=In(a,Kx,"subFrameRate"),u=In(a,Kx,"frameRateMultiplier"),l=In(a,Kx,"tickRate"),c=In(a,Kx,"cellResolution"),d=a.attributes["xml:space"]||"default",p=In(a,Wx,"extent");if("default"!=d&&"preserve"!=d)throw new It(2,2,2005,"Invalid xml:space value: "+d);d="default"==d,o=new Px(o,s,u,l),c=function(t){return t&&(t=/^(\d+) (\d+)$/.exec(t))?{columns:parseInt(t[1],10),rows:parseInt(t[2],10)}:null}(c),s=((s=Cn(a,"metadata")[0])?s.children:[]).filter((function(t){return"\n"!=t})),u=Cn(a,"style"),l=[];for(var h=g(a=Cn(a,"region")),f=h.next();!f.done;f=h.next())(f=wx(this,f.value,u,p))&&l.push(f);if(An(i,"p").length)throw new It(2,2,2001,"<p> can only be inside <div> in TTML");for(h=(p=g(An(i,"div"))).next();!h.done;h=p.next())if(An(h.value,"span").length)throw new It(2,2,2001,"<span> can only be inside <p> in TTML");return(e=bx(this,i,e,o,s,u,a,l,d,c,null,!1,n,r))&&(e.backgroundColor||(e.backgroundColor="transparent"),t.push(e)),t},G("shaka.text.TtmlTextParser",Ax),Ax.prototype.parseMedia=Ax.prototype.parseMedia,Ax.prototype.setManifestType=Ax.prototype.setManifestType,Ax.prototype.setSequenceMode=Ax.prototype.setSequenceMode,Ax.prototype.parseInit=Ax.prototype.parseInit;var Dx=/^(\d{1,2}(?:\.\d+)?|100(?:\.0+)?)% (\d{1,2}(?:\.\d+)?|100(?:\.0+)?)%$/,_x=/^(\d{1,4}(?:\.\d+)?|100)%$/,Nx=/^(\d+px|\d+em|\d*\.?\d+c)$/,Ux=/^(\d+)px (\d+)px$/,Bx=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,jx=/^(?:(\d{2,}):)?(\d{2}):(\d{2})$/,qx=/^(?:(\d{2,}):)?(\d{2}):(\d{2}\.\d+)$/,Fx=/^(\d*(?:\.\d*)?)f$/,Vx=/^(\d*(?:\.\d*)?)t$/,Gx=RegExp("^(?:(\\d*(?:\\.\\d*)?)h)?(?:(\\d*(?:\\.\\d*)?)m)?(?:(\\d*(?:\\.\\d*)?)s)?(?:(\\d*(?:\\.\\d*)?)ms)?$"),zx=(new Map).set("left",sr).set("center","center").set("right","end").set("start",sr).set("end","end"),Hx=(new Map).set("left","line-left").set("center","center").set("right","line-right"),Kx=["http://www.w3.org/ns/ttml#parameter","http://www.w3.org/2006/10/ttaf1#parameter"],Wx=["http://www.w3.org/ns/ttml#styling","http://www.w3.org/2006/10/ttaf1#styling"],$x=["http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt","http://www.smpte-ra.org/schemas/2052-1/2013/smpte-tt"];function Xx(){this.g=new Ax}function Yx(){this.g="UNKNOWN"}function Jx(t,e,n){var r;(r=/^align:(start|middle|center|end|left|right)$/.exec(e))?(e=r[1],t.textAlign="middle"==e?tr:er[e.toUpperCase()]):(r=/^vertical:(lr|rl)$/.exec(e))?t.writingMode="lr"==r[1]?"vertical-lr":"vertical-rl":(r=/^size:([\d.]+)%$/.exec(e))?t.size=Number(r[1]):(r=/^position:([\d.]+)%(?:,(line-left|line-right|middle|center|start|end|auto))?$/.exec(e))?(t.position=Number(r[1]),r[2]&&(e=r[2],t.positionAlign="line-left"==e||"start"==e?"line-left":"line-right"==e||"end"==e?"line-right":"center"==e||"middle"==e?"center":Qn)):(r=/^region:(.*)$/.exec(e))?(e=function(t,e){return(t=t.filter((function(t){return t.id==e}))).length?t[0]:null}(n,r[1]))&&(t.region=e):(n=/^line:([\d.]+)%(?:,(start|end|center))?$/.exec(e))?(t.lineInterpretation=1,t.line=Number(n[1]),n[2]&&(t.lineAlign=ur[n[2].toUpperCase()])):(n=/^line:(-?\d+)(?:,(start|end|center))?$/.exec(e))&&(t.lineInterpretation=or,t.line=Number(n[1]),n[2]&&(t.lineAlign=ur[n[2].toUpperCase()]))}function Zx(){this.g=null}function Qx(t,e,n){var r,i,a;return(new fa).box("payl",Aa((function(t){r=Nt(t)}),!1)).box("iden",Aa((function(t){i=Nt(t)}),!1)).box("sttg",Aa((function(t){a=Nt(t)}),!1)).parse(t),r?function(t,e,n,r,i){if(Xn(t=new Kn(r,i,t)),e&&(t.id=e),n)for(e=new nn(n),n=on(e);n;)Jx(t,n,[]),rn(e),n=on(e);return t}(r,i,a,e,n):null}function tT(){}function eT(){this.g=new Yx}function nT(t){var e="WEBVTT\n\n";if(""==t)return e;for(var n=(t=g((t=(t=t.replace(/\r+/g,"")).trim()).split("\n\n"))).next();!n.done;n=t.next())(n=n.value.split(/\n/))[0].match(/\d+/)&&n.shift(),n[0]=n[0].replace(/,/g,"."),e+=n.join("\n").replace(/{b}/g,"<b>").replace(/{\/b}/g,"</b>").replace(/{i}/g,"<i>").replace(/{\/i}/g,"</i>").replace(/{u}/g,"<u>").replace(/{\/u}/g,"</u>")+"\n\n";return e}function rT(){}function iT(t,e){var n=e.Fontname;if(n&&(t.fontFamily=n),(n=e.Fontsize)&&(t.fontSize=n+"px"),(n=e.PrimaryColour)&&(n=aT(n))&&(t.color=n),(n=e.BackColour)&&(n=aT(n))&&(t.backgroundColor=n),e.Bold&&(t.fontWeight=pr),e.Italic&&(t.fontStyle=fr),e.Underline&&t.textDecoration.push(mr),(n=e.Spacing)&&(t.letterSpacing=n+"px"),n=e.Alignment)switch(parseInt(n,10)){case 1:t.displayAlign=nr,t.textAlign="start";break;case 2:t.displayAlign=nr,t.textAlign=tr;break;case 3:t.displayAlign=nr,t.textAlign="end";break;case 5:t.displayAlign="before",t.textAlign="start";break;case 6:t.displayAlign="before",t.textAlign=tr;break;case 7:t.displayAlign="before",t.textAlign="end";break;case 9:t.displayAlign="center",t.textAlign="start";break;case 10:t.displayAlign="center",t.textAlign=tr;break;case 11:t.displayAlign="center",t.textAlign="end"}(e=e.AlphaLevel)&&(t.opacity=parseFloat(e))}function aT(t){return(t=parseInt(t.replace("&H",""),16))>=0?"rgba("+(255&t)+","+(t>>8&255)+","+(t>>16&255)+","+(t>>24&255^255)/255+")":null}function oT(t){return 3600*((t=cT.exec(t))[1]?parseInt(t[1].replace(":",""),10):0)+60*parseInt(t[2],10)+parseFloat(t[3])}jr("application/ttml+xml",(function(){return new Ax})),Xx.prototype.parseInit=function(t){var e=!1;if((new fa).box("moov",ga).box("trak",ga).box("mdia",ga).box("minf",ga).box("stbl",ga).X("stsd",ma).box("stpp",(function(t){e=!0,t.parser.stop()})).parse(t),!e)throw new It(2,2,2007)},Xx.prototype.setSequenceMode=function(t){this.g.setSequenceMode(t)},Xx.prototype.setManifestType=function(t){this.g.setManifestType(t)},Xx.prototype.parseMedia=function(t,e,n){var r=[],i=null,a=[],o=new Map,s=[];if((new fa).box("moof",ga).box("traf",ga).X("tfhd",(function(t){i=co(t.reader,t.flags).me})).X("trun",(function(t){for(var e=(t=g((t=fo(t.reader,t.version,t.flags)).Yh)).next();!e.done;e=t.next())s.push(e.value.sampleSize||i||0)})).X("subs",(function(t){for(var e=t.reader,n=e.$(),r=-1,i=0;i<n;i++){var a=e.$();r+=a,a=e.Ia();for(var s=[],u=0;u<a;u++)1==t.version?s.push(e.$()):s.push(e.Ia()),e.ba(),e.ba(),e.$();o.set(r,s)}})).box("mdat",Aa((function(t){a.push(t)}),!1)).parse(t,!1),0==a.length)throw new It(2,2,2007);for(var u=Yt.apply(zt,m(a)),l=0,c=0;c<s.length;c++){var d=Tt(u,l,s[c]);l+=s[c];var p=o.get(c);if(p&&p.length){d=Tt(d,0,p[0]);for(var h=[],f=p[0],v=1;v<p.length;v++){var y=Tt(t,f,p[v]);y=Ht(y),h.push("data:image/png;base64,"+y),f+=p[v]}r=r.concat(this.g.parseMedia(d,e,n,h))}else r=r.concat(this.g.parseMedia(d,e,n,[]))}return r},G("shaka.text.Mp4TtmlParser",Xx),Xx.prototype.parseMedia=Xx.prototype.parseMedia,Xx.prototype.setManifestType=Xx.prototype.setManifestType,Xx.prototype.setSequenceMode=Xx.prototype.setSequenceMode,Xx.prototype.parseInit=Xx.prototype.parseInit,jr('application/mp4; codecs="stpp"',(function(){return new Xx})),jr('application/mp4; codecs="stpp.ttml"',(function(){return new Xx})),jr('application/mp4; codecs="stpp.ttml.im1i"',(function(){return new Xx})),jr('application/mp4; codecs="stpp.ttml.im1t"',(function(){return new Xx})),jr('application/mp4; codecs="stpp.ttml.im2i"',(function(){return new Xx})),jr('application/mp4; codecs="stpp.ttml.im2t"',(function(){return new Xx})),jr('application/mp4; codecs="stpp.ttml.etd1"',(function(){return new Xx})),jr('application/mp4; codecs="stpp.ttml.etd1|im1t"',(function(){return new Xx})),jr('application/mp4; codecs="stpp.ttml.im1t|etd1"',(function(){return new Xx})),jr('application/mp4; codecs="stpp.TTML.im1t"',(function(){return new Xx})),Yx.prototype.parseInit=function(){},Yx.prototype.setSequenceMode=function(){},Yx.prototype.setManifestType=function(t){this.g=t},Yx.prototype.parseMedia=function(t,e){var n=(t=(t=Nt(t)).replace(/\r\n|\r(?=[^\n]|$)/gm,"\n")).split(/\n{2,}/m);if(!/^WEBVTT($|[ \t\n])/m.test(n[0]))throw new It(2,2,2e3);if(t=e.vttOffset,"HLS"==this.g)if(n[0].includes("X-TIMESTAMP-MAP")){var r=n[0];if(t=r.match(/LOCAL:((?:(\d{1,}):)?(\d{2}):(\d{2})\.(\d{3}))/m),r=r.match(/MPEGTS:(\d+)/m),!t||!r)throw new It(2,2,2e3);if(null==(t=un(t[1])))throw new It(2,2,2e3);r=Number(r[1]);for(var i=e.segmentStart-e.periodStart;i>=95443.7176888889;)i-=95443.7176888889,r+=8589934592;t=e.periodStart+r/9e4-t}else e.periodStart&&e.vttOffset==e.periodStart&&(t=0);for(e=[],i=(r=g(n[0].split("\n"))).next();!i.done;i=r.next())if(i=i.value,/^Region:/.test(i)){i=new nn(i);var a=new Qe;on(i),rn(i);for(var o=on(i);o;){var s=a,u=o;(o=/^id=(.*)$/.exec(u))?s.id=o[1]:(o=/^width=(\d{1,2}|100)%$/.exec(u))?s.width=Number(o[1]):(o=/^lines=(\d+)$/.exec(u))?(s.height=Number(o[1]),s.heightUnits=2):(o=/^regionanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.regionAnchorX=Number(o[1]),s.regionAnchorY=Number(o[2])):(o=/^viewportanchor=(\d{1,2}|100)%,(\d{1,2}|100)%$/.exec(u))?(s.viewportAnchorX=Number(o[1]),s.viewportAnchorY=Number(o[2])):/^scroll=up$/.exec(u)&&(s.scroll="up"),rn(i),o=on(i)}e.push(a)}for(Yn(r=new Map),i=[],a=(n=g(n.slice(1))).next();!a.done;a=n.next()){if((1!=(a=a.value.split("\n")).length||a[0])&&!/^NOTE($|[ \t])/.test(a[0])&&"STYLE"==a[0]){for(s=[],o=-1,u=1;u<a.length;u++)a[u].includes("::cue")&&(s.push([]),o=s.length-1),-1!=o&&(s[o].push(a[u]),a[u].includes("}")&&(o=-1));for(o=(s=g(s)).next();!o.done;o=s.next()){var l=o.value;o="global",(u=l[0].match(/\((.*)\)/))&&(o=u.pop()),u=l.slice(1,-1),l[0].includes("}")&&(l=/\{(.*?)\}/.exec(l[0]))&&(u=l[1].split(";")),(l=r.get(o))||(l=new Kn(0,0,""));for(var c=!1,d=0;d<u.length;d++){var p=/^\s*([^:]+):\s*(.*)/.exec(u[d]);if(p){var h=p[2].trim().replace(";","");switch(p[1].trim()){case"background-color":case"background":c=!0,l.backgroundColor=h;break;case"color":c=!0,l.color=h;break;case"font-family":c=!0,l.fontFamily=h;break;case"font-size":c=!0,l.fontSize=h;break;case"font-weight":(parseInt(h,10)>=700||"bold"==h)&&(c=!0,l.fontWeight=pr);break;case"font-style":switch(h){case"normal":c=!0,l.fontStyle=hr;break;case"italic":c=!0,l.fontStyle=fr;break;case"oblique":c=!0,l.fontStyle="oblique"}break;case"opacity":c=!0,l.opacity=parseFloat(h);break;case"text-combine-upright":c=!0,l.textCombineUpright=h;break;case"text-shadow":c=!0,l.textShadow=h;break;case"white-space":c=!0,l.wrapLine="noWrap"!=h}}}c&&r.set(o,l)}}if(c=t,1==(l=a).length&&!l[0]||/^NOTE($|[ \t])/.test(l[0])||"STYLE"==l[0]||"REGION"==l[0])a=null;else if(a=null,l[0].includes("--\x3e")||(a=l[0],l.splice(0,1)),o=sn(s=new nn(l[0])),d=an(s,/[ \t]+--\x3e[ \t]+/g),u=sn(s),null==o||null==d||null==u)X("Failed to parse VTT time code. Cue skipped:",a,l),a=null;else{for(o+=c,u+=c,c=l.slice(1).join("\n").trim(),r.has("global")?((l=r.get("global").clone()).startTime=o,l.endTime=u,l.payload=c):l=new Kn(o,u,c),rn(s),o=on(s);o;)Jx(l,o,e),rn(s),o=on(s);Xn(l,r),null!=a&&(l.id=a),a=l}a&&i.push(a)}return i},G("shaka.text.VttTextParser",Yx),Yx.prototype.parseMedia=Yx.prototype.parseMedia,Yx.prototype.setManifestType=Yx.prototype.setManifestType,Yx.prototype.setSequenceMode=Yx.prototype.setSequenceMode,Yx.prototype.parseInit=Yx.prototype.parseInit,jr("text/vtt",(function(){return new Yx})),jr('text/vtt; codecs="vtt"',(function(){return new Yx})),jr('text/vtt; codecs="wvtt"',(function(){return new Yx})),Zx.prototype.parseInit=function(t){var e=this,n=!1;if((new fa).box("moov",ga).box("trak",ga).box("mdia",ga).X("mdhd",(function(t){t=ho(t.reader,t.version),e.g=t.timescale})).box("minf",ga).box("stbl",ga).X("stsd",ma).box("wvtt",(function(){n=!0})).parse(t),!this.g)throw new It(2,2,2008);if(!n)throw new It(2,2,2008)},Zx.prototype.setSequenceMode=function(){},Zx.prototype.setManifestType=function(){},Zx.prototype.parseMedia=function(t,e){if(!t.length)return[];if(!this.g)throw new It(2,2,2008);var n,r=0,i=[],a=[],o=!1,s=!1,u=!1,l=null;if((new fa).box("moof",ga).box("traf",ga).X("tfdt",(function(t){o=!0,r=po(t.reader,t.version).baseMediaDecodeTime})).X("tfhd",(function(t){l=co(t.reader,t.flags).le})).X("trun",(function(t){s=!0,i=fo(t.reader,t.version,t.flags).Yh})).box("mdat",Aa((function(t){u=!0,n=t}),!1)).parse(t,!1),!u&&!o&&!s)throw new It(2,2,2008);t=r;for(var c=new da(n,0),d=g(i),p=d.next();!p.done;p=d.next()){var h=(p=p.value).Zh||l,f=p.cg?r+p.cg:t;t=f+(h||0);var m=0;do{var v=c.$();m+=v;var y=null;"vttc"==wa(c.$())?v>8&&(y=c.ac(v-8,!1)):c.skip(v-8),h&&y&&(v=Qx(y,e.periodStart+f/this.g,e.periodStart+t/this.g),a.push(v))}while(p.sampleSize&&m<p.sampleSize)}return a.filter(Yr)},G("shaka.text.Mp4VttParser",Zx),Zx.prototype.parseMedia=Zx.prototype.parseMedia,Zx.prototype.setManifestType=Zx.prototype.setManifestType,Zx.prototype.setSequenceMode=Zx.prototype.setSequenceMode,Zx.prototype.parseInit=Zx.prototype.parseInit,jr('application/mp4; codecs="wvtt"',(function(){return new Zx})),tT.prototype.parseInit=function(){},tT.prototype.setSequenceMode=function(){},tT.prototype.setManifestType=function(){},tT.prototype.parseMedia=function(t){var e=Nt(t).replace(/\r+/g,"");if(t=[],""==(e=e.trim()))return t;for(var n=(e=g(e.split("\n\n"))).next();!n.done;n=e.next()){var r=new nn((n=n.value.split("\n"))[0]),i=sn(r),a=an(r,/,/g);if(r=sn(r),null==i||null==a||null==r)throw new It(2,2,2001,"Could not parse cue time range in SubViewer");t.push(new Kn(i,r,n.slice(1).join("\n").trim()))}return t},G("shaka.text.SbvTextParser",tT),tT.prototype.parseMedia=tT.prototype.parseMedia,tT.prototype.setManifestType=tT.prototype.setManifestType,tT.prototype.setSequenceMode=tT.prototype.setSequenceMode,tT.prototype.parseInit=tT.prototype.parseInit,jr("text/x-subviewer",(function(){return new tT})),eT.prototype.parseInit=function(){},eT.prototype.setSequenceMode=function(){},eT.prototype.setManifestType=function(){},eT.prototype.parseMedia=function(t,e,n){return t=Tt(jt(t=nT(t=Nt(t)))),this.g.parseMedia(t,e,n,[])},G("shaka.text.SrtTextParser",eT),eT.srt2webvtt=nT,eT.prototype.parseMedia=eT.prototype.parseMedia,eT.prototype.setManifestType=eT.prototype.setManifestType,eT.prototype.setSequenceMode=eT.prototype.setSequenceMode,eT.prototype.parseInit=eT.prototype.parseInit,jr("text/srt",(function(){return new eT})),rT.prototype.parseInit=function(){},rT.prototype.setSequenceMode=function(){},rT.prototype.setManifestType=function(){},rT.prototype.parseMedia=function(t){var e="",n="",r=null,i=null;for(i=(t=g(i=Nt(t).split(/\r?\n\s*\r?\n/))).next();!i.done;i=t.next()){var a=i.value;i=a,(a=sT.exec(a))&&(r=a[1],i=a[2]),"V4 Styles"==r||"V4+ Styles"==r?(e=i,e=n?e+"\n"+i:i):"Events"==r&&(n=n?n+"\n"+i:i)}for(r=[],i=null,t=(e=g(e.split(/\r?\n/))).next();!t.done;t=e.next())if(t=t.value,!/^\s*;/.test(t)&&(a=uT.exec(t)))if(t=a[1].trim(),a=a[2].trim(),"Format"==t)i=a.split(lT);else if("Style"==t){t=a.split(lT),a={};for(var o=0;o<i.length&&o<t.length;o++)a[i[o]]=t[o];r.push(a)}for(i=[],e=null,a=(n=g(n.split(/\r?\n/))).next(),t={};!a.done;t={Sj:void 0},a=n.next())if(a=a.value,!/^\s*;/.test(a)&&(o=uT.exec(a)))if(a=o[1].trim(),o=o[2].trim(),"Format"==a)e=o.split(lT);else if("Dialogue"==a){o=o.split(lT),a={};for(var s=0;s<e.length&&s<o.length;s++)a[e[s]]=o[s];o=new Kn(s=oT(a.Start),oT(a.End),o.slice(e.length-1).join(",").replace(/\\N/g,"\n").replace(/\{[^}]+\}/g,"")),t.Sj=a.Style,(t=r.find(function(t){return function(e){return e.Name==t.Sj}}(t)))&&iT(o,t),i.push(o)}return i},G("shaka.text.SsaTextParser",rT),rT.prototype.parseMedia=rT.prototype.parseMedia,rT.prototype.setManifestType=rT.prototype.setManifestType,rT.prototype.setSequenceMode=rT.prototype.setSequenceMode,rT.prototype.parseInit=rT.prototype.parseInit;var sT=/^\s*\[([^\]]+)\]\r?\n([\s\S]*)/,uT=/^\s*([^:]+):\s*(.*)/,lT=/\s*,\s*/,cT=/^(\d+:)?(\d{1,2}):(\d{1,2}(?:[.]\d{1,3})?)?$/;function dT(t,e){var n=1&t[e+1]?7:9;return e+n<=t.length&&(t=((3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5)-n)>0?{ue:n,za:t}:null}function pT(t,e){var n=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],r=(60&t[e+2])>>>2;if(r>n.length-1)return null;var i=1+((192&t[e+2])>>>6),a=(1&t[e+2])<<2;return a|=(192&t[e+3])>>>6,{sampleRate:n[r],channelCount:a,codec:"mp4a.40."+i}}function hT(t,e){if(e+1<t.length&&255===t[e]&&240==(246&t[e+1])){var n=1&t[e+1]?7:9;if(e+n>=t.length)return!1;var r=(3&t[e+3])<<11|t[e+4]<<3|(224&t[e+5])>>>5;return!(r<=n)&&((e+=r)===t.length||e+1<t.length&&255===t[e]&&240==(246&t[e+1]))}return!1}function fT(t){this.j=t,this.h=0,this.g=new Map,this.i=null}function gT(t,e){if(e+8>t.length||11!==t[e]||119!==t[e+1])return null;var n=t[e+4]>>6;if(n>=3)return null;var r=63&t[e+4],i=2*[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][3*r+n];if(e+i>t.length)return null;var a=t[e+6]>>5,o=0;2===a?o+=2:(1&a&&1!==a&&(o+=2),4&a&&(o+=2)),o=(t[e+6]<<8|t[e+7])>>12-o&1;var s=7&t[e+5];return t=new Uint8Array([n<<6|t[e+5]>>3<<1|s>>2,(3&s)<<6|a<<3|o<<2|r>>4,r<<4&224]),{sampleRate:[48e3,44100,32e3][n],channelCount:[2,1,2,3,3,4,4,5][a]+o,Ma:t,za:i}}function mT(t,e){if(11===t[e]&&119===t[e+1]){var n,r,i=0,a=5;for(e+=a;a>0;){r=t[e];var o=Math.min(a,8),s=8-o;n=(r&(n=4278190080>>>24+s<<s))>>s,i=i?i<<o|n:n,e+=1,a-=o}if(i<16)return!0}return!1}function vT(t){this.j=t,this.h=0,this.g=new Map,this.i=null}function yT(t,e){if(e+8>t.length||2935!=(t[e]<<8|t[e+1]<<0))return null;var n=new Ts(t.subarray(e+2));Es(n,2),Es(n,3);var r=ks(n,11)+1<<1,i=ks(n,2);if(3==i){i=[24e3,22060,16e3][i=ks(n,2)];var a=3}else i=[48e3,44100,32e3][i],a=ks(n,2);var o=ks(n,3),s=ks(n,1);return n=ks(n,5),e+r>t.byteLength?null:(t=Math.floor(r*i/(16*[1,2,3,6][a])),t=new Uint8Array([(8160&t)>>5,(31&t)<<3,i<<6|n<<1|0,0|o<<1|s<<0,0]),{sampleRate:i,channelCount:[2,1,2,3,3,4,4,5][o]+s,Ma:t,za:r})}function AT(t){this.j=t,this.h=0,this.g=new Map,this.i=null}jr("text/x-ssa",(function(){return new rT})),(i=fT.prototype).destroy=function(){this.g.clear()},i.isSupported=function(t){return"audio/aac"==t.toLowerCase().split(";")[0]&&Fe(this.convertCodecs("audio",t))},i.convertCodecs=function(t,e){return"audio/aac"==e.toLowerCase().split(";")[0]?'audio/mp4; codecs="'+(Dr(e)||"mp4a.40.2")+'"':e},i.getOriginalMimeType=function(){return this.j},i.transmux=function(t,e,n,r){for(var i=Tt(t),a=Cs(i),o=a.length;o<i.length&&!hT(i,o);o++);if(t=1e3*n.endTime,(a=ws(a)).length&&n&&(a=a.find((function(t){return"com.apple.streaming.transportStreamTimestamp"===t.description})))&&(t=a.data),!(a=pT(i,o)))return Promise.reject(new It(2,3,3018,n?n.T()[0]:null));e.audioSamplingRate=a.sampleRate,e.channelsCount=a.channelCount;for(var s=[];o<i.length;){var u=dT(i,o);if(!u)return Promise.reject(new It(2,3,3018,n?n.T()[0]:null));var l=u.ue+u.za;o+l<=i.length&&s.push({data:i.subarray(o+u.ue,o+l),size:u.za,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),o+=l}return i=a.sampleRate,t=Math.floor(t*i/1e3),r=new Ao([r={id:e.id,type:"audio",codecs:a.codec,encrypted:e.encrypted&&e.drmInfos.length>0,timescale:i,duration:r,Gb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:t,Eb:s},stream:e}]),n=e.id+"_"+n.i,this.g.has(n)?e=this.g.get(n):(e=bo(r),this.g.set(n,e)),n=this.i!==e,r=So(r),this.i=e,this.h++,Promise.resolve({data:r,init:n?e:null})},G("shaka.transmuxer.AacTransmuxer",fT),fT.prototype.transmux=fT.prototype.transmux,fT.prototype.getOriginalMimeType=fT.prototype.getOriginalMimeType,fT.prototype.convertCodecs=fT.prototype.convertCodecs,fT.prototype.isSupported=fT.prototype.isSupported,fT.prototype.destroy=fT.prototype.destroy,Ar("audio/aac",(function(){return new fT("audio/aac")}),Cr),(i=vT.prototype).destroy=function(){this.g.clear()},i.isSupported=function(t){return"audio/ac3"==t.toLowerCase().split(";")[0]&&Fe(this.convertCodecs("audio",t))},i.convertCodecs=function(t,e){return"audio/ac3"==e.toLowerCase().split(";")[0]?Lt().He()?'audio/mp4; codecs="ec-3"':'audio/mp4; codecs="ac-3"':e},i.getOriginalMimeType=function(){return this.j},i.transmux=function(t,e,n,r){for(var i=Cs(t=Tt(t)),a=i.length;a<t.length&&!mT(t,a);a++);var o=1e3*n.endTime;(i=ws(i)).length&&n&&(i=i.find((function(t){return"com.apple.streaming.transportStreamTimestamp"===t.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),u=[];a<t.length;){var l=gT(t,a);if(!l)return Promise.reject(new It(2,3,3018,n?n.T()[0]:null));e.audioSamplingRate=l.sampleRate,e.channelsCount=l.channelCount,i=l.sampleRate,s=l.Ma,u.push({data:t.subarray(a,a+l.za),size:l.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),a+=l.za}return t=Math.floor(o*i/1e3),r=new Ao([r={id:e.id,type:"audio",codecs:"ac-3",encrypted:e.encrypted&&e.drmInfos.length>0,timescale:i,duration:r,Gb:[],Ma:s,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:t,Eb:u},stream:e}]),n=e.id+"_"+n.i,this.g.has(n)?e=this.g.get(n):(e=bo(r),this.g.set(n,e)),n=this.i!==e,r=So(r),this.i=e,this.h++,Promise.resolve({data:r,init:n?e:null})},G("shaka.transmuxer.Ac3Transmuxer",vT),vT.prototype.transmux=vT.prototype.transmux,vT.prototype.getOriginalMimeType=vT.prototype.getOriginalMimeType,vT.prototype.convertCodecs=vT.prototype.convertCodecs,vT.prototype.isSupported=vT.prototype.isSupported,vT.prototype.destroy=vT.prototype.destroy,Ar("audio/ac3",(function(){return new vT("audio/ac3")}),Cr),(i=AT.prototype).destroy=function(){this.g.clear()},i.isSupported=function(t){return"audio/ec3"==t.toLowerCase().split(";")[0]&&Fe(this.convertCodecs("audio",t))},i.convertCodecs=function(t,e){return"audio/ec3"==e.toLowerCase().split(";")[0]?'audio/mp4; codecs="ec-3"':e},i.getOriginalMimeType=function(){return this.j},i.transmux=function(t,e,n,r){for(var i=Cs(t=Tt(t)),a=i.length;a<t.length&&2935!=(t[a]<<8|t[a+1]<<0);a++);var o=1e3*n.endTime;(i=ws(i)).length&&n&&(i=i.find((function(t){return"com.apple.streaming.transportStreamTimestamp"===t.description})))&&(o=i.data),i=0;for(var s=new Uint8Array([]),u=[];a<t.length;){var l=yT(t,a);if(!l)return Promise.reject(new It(2,3,3018,n?n.T()[0]:null));e.audioSamplingRate=l.sampleRate,e.channelsCount=l.channelCount,i=l.sampleRate,s=l.Ma,u.push({data:t.subarray(a,a+l.za),size:l.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),a+=l.za}return t=Math.floor(o*i/1e3),r=new Ao([r={id:e.id,type:"audio",codecs:"ec-3",encrypted:e.encrypted&&e.drmInfos.length>0,timescale:i,duration:r,Gb:[],Ma:s,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:t,Eb:u},stream:e}]),n=e.id+"_"+n.i,this.g.has(n)?e=this.g.get(n):(e=bo(r),this.g.set(n,e)),n=this.i!==e,r=So(r),this.i=e,this.h++,Promise.resolve({data:r,init:n?e:null})},G("shaka.transmuxer.Ec3Transmuxer",AT),AT.prototype.transmux=AT.prototype.transmux,AT.prototype.getOriginalMimeType=AT.prototype.getOriginalMimeType,AT.prototype.convertCodecs=AT.prototype.convertCodecs,AT.prototype.isSupported=AT.prototype.isSupported,AT.prototype.destroy=AT.prototype.destroy,Ar("audio/ec3",(function(){return new AT("audio/ec3")}),Cr);var bT=[100,110,122,244,44,83,86,118,128,138,139,134];function wT(t){if(!t.length)return null;var e=t.find((function(t){return 32==t.type})),n=t.find((function(t){return 33==t.type})),r=t.find((function(t){return 34==t.type}));if(!e||!n||!r)return null;var i=function(t){var e=new Ts(t,!0);return Ps(e),Ps(e),ks(e,4),ks(e,2),ks(e,6),t=ks(e,3),e=Os(e),{Lh:t+1,pi:e}}(e.fullData);t=function(t){Ps(t=new Ts(t,!0)),Ps(t);var e=0,n=0,r=0,i=0;ks(t,4);var a=ks(t,3);Os(t);for(var o=ks(t,2),s=ks(t,1),u=ks(t,5),l=Ps(t),c=Ps(t),d=Ps(t),p=Ps(t),h=Ps(t),f=Ps(t),g=Ps(t),m=Ps(t),v=Ps(t),y=Ps(t),A=Ps(t),b=[],w=[],C=0;C<a;C++)b.push(Os(t)),w.push(Os(t));if(a>0)for(C=a;C<8;C++)ks(t,2);for(C=0;C<a;C++)b[C]&&ks(t,88),w[C]&&Ps(t);Rs(t),3==(b=Rs(t))&&ks(t,1),w=Rs(t),C=Rs(t),Os(t)&&(e+=Rs(t),n+=Rs(t),r+=Rs(t),i+=Rs(t));var x=Rs(t),T=Rs(t),S=Rs(t);if(Os(t))for(var E=0;E<=a;E++)Rs(t),Rs(t),Rs(t);else Rs(t),Rs(t),Rs(t);if(Rs(t),Rs(t),Rs(t),Rs(t),Rs(t),Rs(t),Os(t)&&Os(t))for(E=0;E<4;E++)for(var k=0;k<(3===E?2:6);k++)if(Os(t)){var I=Math.min(64,1<<4+(E<<1));E>1&&Ls(t);for(var M=0;M<I;M++)Ls(t)}else Rs(t);for(Os(t),Os(t),Os(t)&&(Ps(t),Rs(t),Rs(t),Os(t)),E=Rs(t),I=k=0;I<E;I++)if(M=!1,0!==I&&(M=Os(t)),M){I===E&&Rs(t),Os(t),Rs(t);for(var R=M=0;R<=k;R++){var L=Os(t),O=!1;L||(O=Os(t)),(L||O)&&M++}k=M}else{for(k=(R=Rs(t))+(M=Rs(t)),L=0;L<R;L++)Rs(t),Os(t);for(R=0;R<M;R++)Rs(t),Os(t)}if(Os(t))for(E=Rs(t),k=0;k<E;k++){for(I=0;I<S+4;I++)ks(t,1);ks(t,1)}if(E=S=1,k=!0,I=1,R=M=0,Os(t),Os(t),Os(t)){if(Os(t)){O=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2];var P=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1];(L=Ps(t))>0&&L<=16?(S=O[L-1],E=P[L-1]):255===L&&(S=ks(t,16),E=ks(t,16))}if(Os(t)&&Os(t),Os(t)&&(ks(t,3),Os(t),Os(t)&&(Ps(t),Ps(t),Ps(t))),Os(t)&&(Rs(t),Rs(t)),Os(t),Os(t),Os(t),(L=Os(t))&&(Ms(t),Ms(t),Ms(t),Ms(t)),Os(t)&&(I=ks(t,32),M=ks(t,32),Os(t)&&Rs(t),Os(t))){P=!1,L=Os(t),O=Os(t),(L||O)&&((P=Os(t))&&(Ps(t),ks(t,5),Os(t),ks(t,5)),ks(t,4),ks(t,4),P&&ks(t,4),ks(t,5),ks(t,5),ks(t,5));for(var D=0;D<=a;D++){var _=!0,N=1;(k=Os(t))||(_=Os(t));var U=!1;if(_?Rs(t):U=Os(t),U||(N=Rs(t)+1),L){for(_=0;_<N;_++)Rs(t),Rs(t),P&&(Rs(t),Rs(t));Os(t)}if(O){for(_=0;_<N;_++)Rs(t),Rs(t),P&&(Rs(t),Rs(t));Os(t)}}}Os(t)&&(Os(t),Os(t),Os(t),R=Rs(t),Rs(t),Rs(t),Rs(t),Rs(t))}return{eh:A,kh:o,mh:s,jh:u,fh:l,gh:c,hh:d,ih:p,Yg:h,Zg:f,$g:g,ah:m,bh:v,dh:y,Nf:R,Ng:b,Jg:x,Ig:T,width:w-(e+n)*(1===b||2===b?2:1),height:C-(r+i)*(1===b?2:1),nm:S,lm:E,Xg:M/I,Wg:k}}(n.fullData);var a=function(t){var e=new Ts(t,!0);Ps(e),Ps(e),Rs(e),Rs(e),Os(e),Os(e),ks(e,3),Os(e),Os(e),Rs(e),Rs(e),Ls(e),Os(e),Os(e),Os(e)&&Rs(e),Ls(e),Ls(e),Os(e),Os(e),Os(e),Os(e),t=Os(e),e=Os(e);var n=1;return e&&t?n=0:e?n=3:t&&(n=2),{Nh:n}}(r.fullData);return e=function(t,e,n,r){var i=new Uint8Array(23+(5+t.byteLength)+(5+e.byteLength)+(5+n.byteLength));for(i[0]=1,i[1]=(3&r.kh)<<6|(r.mh?1:0)<<5|31&r.jh,i[2]=r.fh,i[3]=r.gh,i[4]=r.hh,i[5]=r.ih,i[6]=r.Yg,i[7]=r.Zg,i[8]=r.$g,i[9]=r.ah,i[10]=r.bh,i[11]=r.dh,i[12]=r.eh,i[13]=240|(3840&r.Nf)>>8,i[14]=255&r.Nf,i[15]=252|3&r.Nh,i[16]=252|3&r.Ng,i[17]=248|7&r.Jg,i[18]=248|7&r.Ig,i[19]=0,i[20]=parseInt(r.Xg,10),i[21]=(3&(r.Wg?1:0))<<6|(7&r.Lh)<<3|(r.pi?1:0)<<2|3,i[22]=3,t=[t,e,n],e=23,n=t.length-1,r=0;r<t.length;r+=1)i.set(new Uint8Array([32+r|(r===n?128:0),0,1]),e),e+=3,i.set(new Uint8Array([t[r].byteLength>>8,255&t[r].byteLength]),e),e+=2,i.set(t[r],e),e+=t[r].byteLength;return i}(e.fullData,n.fullData,r.fullData,{Lh:i.Lh,pi:i.pi,kh:t.kh,mh:t.mh,eh:t.eh,jh:t.jh,fh:t.fh,gh:t.gh,hh:t.hh,ih:t.ih,Yg:t.Yg,Zg:t.Zg,$g:t.$g,ah:t.ah,bh:t.bh,dh:t.dh,Nf:t.Nf,Ng:t.Ng,Jg:t.Jg,Ig:t.Ig,Nh:a.Nh,Xg:t.Xg,Wg:t.Wg}),{height:t.height,width:t.width,Ya:e,eb:t.nm,gb:t.lm}}function CT(t,e){var n=t[e+1]>>3&3,r=t[e+1]>>1&3,i=t[e+2]>>4&15,a=t[e+2]>>2&3;if(1!==n&&0!==i&&15!==i&&3!==a){var o=t[e+3]>>6;i=1e3*ST[14*(3===n?3-r:3===r?3:4)+i-1],a=ET[3*(3===n?0:2===n?1:2)+a],n=kT[n][r];var s=IT[r],u=Math.floor(n*i/a+(t[e+2]>>1&1))*s,l=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);return(l=l?parseInt(l[1],10):0)&&l<=87&&2===r&&i>=224e3&&0===o&&(t[e+3]|=128),{sampleRate:a,channelCount:3===o?1:2,za:u,jm:8*n*s}}return null}function xT(t,e){return 255===t[e]&&224==(224&t[e+1])&&0!=(6&t[e+1])}function TT(t,e){if(e+1<t.length&&xT(t,e)){var n=CT(t,e),r=4;return n&&n.za&&(r=n.za),(e+=r)===t.length||e+1<t.length&&xT(t,e)}return!1}var ST=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],ET=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],kT=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],IT=[0,1,1,4];function MT(t){this.j=t,this.h=0,this.g=new Map,this.i=null}function RT(t){this.h=t,this.g=null}function LT(t){this.h=t,(this.g=ay.get("ISOBoxer")())&&function(t){function e(){this._procFullBox(),1&this.flags&&(this._procField("AlgorithmID","uint",24),this._procField("IV_size","uint",8),this._procFieldArray("KID",16,"uint",8)),this._procField("sample_count","uint",32),this._procEntries("entry",this.sample_count,(function(t){this._procEntryField(t,"InitializationVector","data",8),2&this.flags&&(this._procEntryField(t,"NumberOfEntries","uint",16),this._procSubEntries(t,"clearAndCryptedData",t.NumberOfEntries,(function(t){this._procEntryField(t,"BytesOfClearData","uint",16),this._procEntryField(t,"BytesOfEncryptedData","uint",32)})))}))}t.g.addBoxProcessor("saio",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("entry_count","uint",32),this._procFieldArray("offset",this.entry_count,"uint",1===this.version?64:32)})),t.g.addBoxProcessor("saiz",(function(){this._procFullBox(),1&this.flags&&(this._procField("aux_info_type","uint",32),this._procField("aux_info_type_parameter","uint",32)),this._procField("default_sample_info_size","uint",8),this._procField("sample_count","uint",32),0===this.default_sample_info_size&&this._procFieldArray("sample_info_size",this.sample_count,"uint",8)})),t.g.addBoxProcessor("senc",e),t.g.addBoxProcessor("uuid",(function(){for(var t=!0,n=0;n<16;n++)this.usertype[n]!==PT[n]&&(t=!1);t&&(this._parsing&&(this.type="sepiff"),e.call(this))}))}(this)}function OT(t,e){for(var n=8,r=0;r<t.boxes.length&&t.boxes[r].type!==e;r++)n+=t.boxes[r].size;return n}(i=MT.prototype).destroy=function(){this.g.clear()},i.isSupported=function(t){return"audio/mpeg"==t.toLowerCase().split(";")[0]&&Fe(this.convertCodecs("audio",t))},i.convertCodecs=function(t,e){return"audio/mpeg"==e.toLowerCase().split(";")[0]?'audio/mp4; codecs="mp3"':e},i.getOriginalMimeType=function(){return this.j},i.transmux=function(t,e,n,r){for(var i=Tt(t),a=Cs(i).length;a<i.length&&!TT(i,a);a++);var o;for(t=[];a<i.length;){var s=CT(i,a);if(!s)return Promise.reject(new It(2,3,3018,n?n.T()[0]:null));o||(o=s),a+s.za<=i.length&&t.push({data:i.subarray(a,a+s.za),size:s.za,duration:1152,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),a+=s.za}return o?(i=9e4*o.jm/o.sampleRate*this.h,r=new Ao([r={id:e.id,type:"audio",codecs:"mp3",encrypted:e.encrypted&&e.drmInfos.length>0,timescale:o.sampleRate,duration:r,Gb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.h,baseMediaDecodeTime:i,Eb:t},stream:e}]),n=e.id+"_"+n.i,this.g.has(n)?e=this.g.get(n):(e=bo(r),this.g.set(n,e)),n=this.i!==e,r=So(r),this.i=e,this.h++,Promise.resolve({data:r,init:n?e:null})):Promise.reject(new It(2,3,3018,n?n.T()[0]:null))},G("shaka.transmuxer.Mp3Transmuxer",MT),MT.prototype.transmux=MT.prototype.transmux,MT.prototype.getOriginalMimeType=MT.prototype.getOriginalMimeType,MT.prototype.convertCodecs=MT.prototype.convertCodecs,MT.prototype.isSupported=MT.prototype.isSupported,MT.prototype.destroy=MT.prototype.destroy,Ar("audio/mpeg",(function(){return new MT("audio/mpeg")}),Cr),(i=RT.prototype).destroy=function(){},i.isSupported=function(t){if("video/mp2t"!=t.toLowerCase().split(";")[0])return!1;var e=Dr(t).split(","),n=ee("audio",e);return e=ee("video",e),!(!n||e||"mp3"!=Lr(n))&&Fe(this.convertCodecs("audio",t))},i.convertCodecs=function(t,e){return"video/mp2t"==e.toLowerCase().split(";")[0]?"audio/mpeg":e},i.getOriginalMimeType=function(){return this.h},i.transmux=function(t,e,n,r,i){if(this.g?this.g.clearData():this.g=new Ns,this.g.gg(n.i),t=Tt(t),"mp3"!=(t=this.g.parse(t)).oe().audio||"audio"!=i)return Promise.reject(new It(2,3,3018,n?n.T()[0]:null));for(n=new Uint8Array([]),i=g(t.Bb()),t=i.next();!t.done;t=i.next())if(t=t.value.data)for(e=0;e<t.length;)(r=CT(t,e))?(e+r.za<=t.length&&(n=Yt(n,t.subarray(e,e+r.za))),e+=r.za):e++;return Promise.resolve(n)},G("shaka.transmuxer.MpegTsTransmuxer",RT),RT.prototype.transmux=RT.prototype.transmux,RT.prototype.getOriginalMimeType=RT.prototype.getOriginalMimeType,RT.prototype.convertCodecs=RT.prototype.convertCodecs,RT.prototype.isSupported=RT.prototype.isSupported,RT.prototype.destroy=RT.prototype.destroy,Ar("video/mp2t",(function(){return new RT("video/mp2t")}),xr),(i=LT.prototype).destroy=function(){},i.isSupported=function(t,e){var n=t.startsWith("mss/");return!(!this.g||!n)&&(e?Fe(this.convertCodecs(e,t)):(e=this.convertCodecs("audio",t),t=this.convertCodecs("video",t),Fe(e)||Fe(t)))},i.convertCodecs=function(t,e){return e.replace("mss/","")},i.getOriginalMimeType=function(){return this.h},i.transmux=function(t,e,n){if(!n)return Promise.resolve(Tt(t));if(!e.mssPrivateData)return Promise.reject(new It(2,3,3020,n?n.T()[0]:null));try{var r,i=this.g.parseBuffer(t),a=i.fetch("tfhd");a.track_ID=e.id+1;var o=i.fetch("tfdt"),s=i.fetch("traf");null===o&&((o=this.g.createFullBox("tfdt",s,a)).version=1,o.flags=0,o.baseMediaDecodeTime=Math.floor(n.startTime*e.mssPrivateData.timescale));var u=i.fetch("trun"),l=i.fetch("tfxd");l&&l._parent.boxes.splice(l._parent.boxes.indexOf(l),1);var c=i.fetch("tfrf");c&&c._parent.boxes.splice(c._parent.boxes.indexOf(c),1);var d=i.fetch("sepiff");if(null!==d){d.type="senc",d.usertype=void 0;var p=i.fetch("saio");if(null===p){(p=this.g.createFullBox("saio",s)).version=0,p.flags=0,p.entry_count=1,p.offset=[0];var h=this.g.createFullBox("saiz",s);if(h.version=0,h.flags=0,h.sample_count=d.sample_count,h.default_sample_info_size=0,h.sample_info_size=[],2&d.flags)for(r=0;r<d.sample_count;r+=1)h.sample_info_size[r]=10+6*d.entry[r].NumberOfEntries;else h.default_sample_info_size=8}}a.flags&=16777214,a.flags|=131072,u.flags|=1;var f=i.fetch("moof");u.data_offset=f.getLength()+8;var g=i.fetch("saio");null!==g&&(g.offset[0]=OT(f,"traf")+OT(s,"senc")+16);var m=Tt(i.write());return Promise.resolve(m)}catch(t){return t instanceof It?Promise.reject(t):Promise.reject(new It(2,3,3022,n?n.T()[0]:null))}},G("shaka.transmuxer.MssTransmuxer",LT),LT.prototype.transmux=LT.prototype.transmux,LT.prototype.getOriginalMimeType=LT.prototype.getOriginalMimeType,LT.prototype.convertCodecs=LT.prototype.convertCodecs,LT.prototype.isSupported=LT.prototype.isSupported,LT.prototype.destroy=LT.prototype.destroy;var PT=new Uint8Array([162,57,79,82,90,155,79,20,162,68,108,66,124,100,141,244]);function DT(t){this.m=t,this.g=0,this.j=new Map,this.l=this.i=this.h=null}Ar("mss/audio/mp4",(function(){return new LT("mss/audio/mp4")}),Cr),Ar("mss/video/mp4",(function(){return new LT("mss/video/mp4")}),Cr),(i=DT.prototype).destroy=function(){this.j.clear(),this.i&&this.i.destroy()},i.isSupported=function(t,e){if("video/mp2t"!=t.toLowerCase().split(";")[0])return!1;var n=t;e&&(n=this.convertCodecs(e,t));var r=Dr(n).split(",");return n=ee("audio",r),r=ee("video",r),!(n&&(n=Lr(n),!_T.includes(n))||r&&(n=Lr(r),!NT.includes(n)))&&(e?Fe(this.convertCodecs(e,t)):(e=this.convertCodecs("audio",t),t=this.convertCodecs("video",t),Fe(e)||Fe(t)))},i.convertCodecs=function(t,e){return"video/mp2t"==e.toLowerCase().split(";")[0]?(e=Dr(e).replace("mp4a.40.34","mp3").split(",").map((function(t){return si(t,"audio/mp4")})).map(ui).join(","),"audio"==t?'audio/mp4; codecs="'+e+'"':'video/mp4; codecs="'+e+'"'):e},i.getOriginalMimeType=function(){return this.m},i.transmux=function(t,e,n,r,i){var a=Tt(t);if("audio"==i&&!qs(a)){for(var o=Cs(a),s=o.length;s<a.length;s++)if(TT(a,s))return Promise.reject(new It(2,3,3018,n?n.T()[0]:null));for(s=o.length;s<a.length;s++)if(hT(a,s))return this.i||(this.i=new fT("audio/aac")),this.i.transmux(t,e,n,r,i);return Promise.reject(new It(2,3,3018,n?n.T()[0]:null))}this.h?this.h.clearData():this.h=new Ns,this.h.gg(n.i);var u=this.h.parse(a),l=[],c=u.oe();try{var d=null;if("video"==i){switch(c.video){case"avc":var p=[],h=null,f=u.Jd(),v=function(t){function e(t){i={data:new Uint8Array([]),frame:!1,isKeyframe:!1,pts:t.pts,dts:t.dts,nalus:[]}}function n(){if(i&&i.nalus.length&&i.frame){for(var t=[],e=g(i.nalus),n=e.next();!n.done;n=e.next()){var a=(n=n.value).fullData.byteLength,o=new Uint8Array(4);o[0]=a>>24&255,o[1]=a>>16&255,o[2]=a>>8&255,o[3]=255&a,t.push(o),t.push(n.fullData)}i.data=Yt.apply(zt,m(t)),r.push(i)}}for(var r=[],i=null,a=!1,o=0;o<t.length;o++){var s=t[o],u=s.nalus,l=!1;i&&u.length&&!a&&(n(),e(s));for(var c=(u=g(s.nalus)).next();!c.done;c=u.next()){var d=!1;switch((c=c.value).type){case 1:var p=!1;d=!0;var h=c.data;l&&h.length>4&&(2===(h=_s(new Ts(h)))||4===h||7===h||9===h)&&(p=!0),p&&i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||e(s),i.frame=!0,i.isKeyframe=p;break;case 5:d=!0,i&&i.frame&&!i.isKeyframe&&(n(),i=null),i||e(s),i.frame=!0,i.isKeyframe=!0;break;case 6:d=!0;break;case 7:l=d=!0;break;case 8:d=!0;break;case 9:a=d=!0,i&&i.frame&&(n(),i=null),i||e(s);break;case 12:d=!0;break;default:d=!1}i&&d&&i.nalus.push(c)}}return n(),r}(f);if(!v.length)throw new It(2,3,3023,n?n.T()[0]:null);for(var y=0;y<v.length;y++){var A=v[y];null==h&&(h=A.dts);var b;b=y+1<v.length?(v[y+1].dts||0)-(A.dts||0):v.length>1?(A.dts||0)-(v[y-1].dts||0):9e4*(n.endTime-n.startTime),p.push({data:A.data,size:A.data.byteLength,duration:b,Ab:Math.round((A.pts||0)-(A.dts||0)),flags:{Cb:0,ub:0,sb:0,qb:0,rb:A.isKeyframe?2:1,Db:A.isKeyframe?0:1}})}for(var w=[],C=g(f),x=C.next();!x.done;x=C.next())w.push.apply(w,m(x.value.nalus));var T=function(t){if(!t.length)return null;var e=t.find((function(t){return 7==t.type}));if(t=t.find((function(t){return 8==t.type})),!e||!t)return null;var n=new Ts(e.data),r=Ps(n);if(Ps(n),Ps(n),Ms(n),bT.includes(r)&&(3===(r=Rs(n))&&Es(n,1),Ms(n),Ms(n),Es(n,1),Os(n))){r=3!==r?8:12;for(var i=0;i<r;i++)Os(n)&&Ds(n,i<6?16:64)}if(Ms(n),0===(r=Rs(n)))Rs(n);else if(1===r)for(Es(n,1),Ms(n),Ms(n),r=Rs(n),i=0;i<r;i++)Ms(n);Ms(n),Es(n,1);var a=Rs(n),o=Rs(n),s=ks(n,1);0===s&&Es(n,1),Es(n,1);var u=0,l=0,c=0,d=0;if(Os(n)&&(u=Rs(n),l=Rs(n),c=Rs(n),d=Rs(n)),i=r=1,Os(n)&&Os(n)){var p=Ps(n);p>0&&p<=16?(r=[1,12,10,16,40,24,20,32,80,18,15,64,160,4,3,2][p-1],i=[1,11,11,11,33,11,11,11,33,11,11,33,99,3,2,1][p-1]):255===p&&(r=ks(n,16),i=ks(n,16))}return n=(2-s)*(o+1)*16-2*c-2*d,a=16*(a+1)-2*u-2*l,u=[],e=e.fullData,u.push(e.byteLength>>>8&255),u.push(255&e.byteLength),u=u.concat.apply(u,m(e)),e=[],t=t.fullData,e.push(t.byteLength>>>8&255),e.push(255&t.byteLength),e=e.concat.apply(e,m(t)),{height:n,width:a,Ya:t=new Uint8Array([1,u[3],u[4],u[5],255,225].concat(u,[1],e)),eb:r,gb:i}}(w);if(!T||null==h)throw new It(2,3,3018,n?n.T()[0]:null);e.height=T.height,e.width=T.width,d={id:e.id,type:"video",codecs:"avc1",encrypted:e.encrypted&&e.drmInfos.length>0,timescale:9e4,duration:r,Gb:[],Ma:new Uint8Array([]),Ya:T.Ya,eb:T.eb,gb:T.gb,data:{sequenceNumber:this.g,baseMediaDecodeTime:h,Eb:p},stream:e};break;case"hvc":var S=[],E=null,k=[],I=u.Jd();if(!I.length)throw new It(2,3,3023,n?n.T()[0]:null);for(var M=0;M<I.length;M++){var R=I[M],L=R.nalus;k.push.apply(k,m(L));for(var O=!1,P=[],D=!1,_=g(L),N=_.next();!N.done;N=_.next()){var U=N.value;switch(U.type){case 1:case 0:var B=D=!0;break;case 19:case 20:case 21:O=B=D=!0;break;case 32:case 33:case 34:B=!0;break;case 35:D=B=!0;break;case 39:case 40:B=!0;break;default:B=!1}if(D&&B){var j=U.fullData.byteLength,q=new Uint8Array(4);q[0]=j>>24&255,q[1]=j>>16&255,q[2]=j>>8&255,q[3]=255&j,P.push(q),P.push(U.fullData)}}var F=P.length?{data:Yt.apply(zt,m(P)),isKeyframe:O}:null;if(F){null==E&&null!=R.dts&&(E=R.dts);var V;V=M+1<I.length?(I[M+1].dts||0)-(R.dts||0):I.length>1?(R.dts||0)-(I[M-1].dts||0):9e4*(n.endTime-n.startTime),S.push({data:F.data,size:F.data.byteLength,duration:V,Ab:Math.round((R.pts||0)-(R.dts||0)),flags:{Cb:0,ub:0,sb:0,qb:0,rb:F.isKeyframe?2:1,Db:F.isKeyframe?0:1}})}}var G=wT(k);if(!G||null==E)throw new It(2,3,3018,n?n.T()[0]:null);e.height=G.height,e.width=G.width,d={id:e.id,type:"video",codecs:"hvc1",encrypted:e.encrypted&&e.drmInfos.length>0,timescale:9e4,duration:r,Gb:[],Ma:new Uint8Array([]),Ya:G.Ya,eb:G.eb,gb:G.gb,data:{sequenceNumber:this.g,baseMediaDecodeTime:E,Eb:S},stream:e}}d&&(l.push(d),d=null)}if("audio"==i){switch(c.audio){case"aac":for(var z,H=[],K=null,W=null,$=null,X=g(u.Bb()),Y=X.next();!Y.done;Y=X.next()){var J=Y.value,Z=J.data;if(Z){var Q=0;if(-1==W&&$)Z=Yt($,J.data),W=null;else if(null!=W&&$){Q=Math.max(0,W);var tt=Yt($,Z.subarray(0,Q));H.push({data:tt,size:tt.byteLength,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),W=$=null}if(!(z=pT(Z,Q)))throw new It(2,3,3018,n?n.T()[0]:null);for(e.audioSamplingRate=z.sampleRate,e.channelsCount=z.channelCount,null==K&&null!==J.pts&&(K=J.pts);Q<Z.length;){var et=dT(Z,Q);if(!et){$=Z.subarray(Q,Z.length),W=-1;break}var nt=et.ue+et.za;0!=(W=Math.max(0,Q+nt-Z.length))?$=Z.subarray(Q+et.ue,Q+nt):Q+nt<=Z.length&&H.push({data:Z.subarray(Q+et.ue,Q+nt),size:et.za,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),Q+=nt}}}if(!z||null==K){K=9e4*n.startTime;var rt=ee("audio",e.codecs.split(","));if(!rt||!e.channelsCount||!e.audioSamplingRate)throw new It(2,3,3018,n?n.T()[0]:null);z={sampleRate:e.audioSamplingRate,channelCount:e.channelsCount,codec:rt};var it=function(t,e){switch(t){case"mp4a.40.2":if(1===e)return new Uint8Array([0,200,0,128,35,128]);if(2===e)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===e)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(1===e)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===e||3===e)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}return null}(rt,e.channelsCount);if(!it)throw new It(2,3,3018,n?n.T()[0]:null);for(var at=K+9e4*(n.endTime-n.startTime),ot=K;ot<at;)H.push({data:it,size:it.byteLength,duration:1024,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),ot+=1024/z.sampleRate*9e4}var st=z.sampleRate,ut=K/9e4*st;d={id:e.id,type:"audio",codecs:z.codec,encrypted:e.encrypted&&e.drmInfos.length>0,timescale:st,duration:r,Gb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:ut,Eb:H},stream:e};break;case"ac3":for(var lt=[],ct=0,dt=new Uint8Array([]),pt=null,ht=g(u.Bb()),ft=ht.next();!ft.done;ft=ht.next()){var gt=ft.value,mt=gt.data;null==pt&&null!==gt.pts&&(pt=gt.pts);for(var vt=0;vt<mt.length;){var yt=gT(mt,vt);yt?(e.audioSamplingRate=yt.sampleRate,e.channelsCount=yt.channelCount,ct=yt.sampleRate,dt=yt.Ma,lt.push({data:mt.subarray(vt,vt+yt.za),size:yt.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),vt+=yt.za):vt++}}if(0==ct||0==dt.byteLength||null==pt)throw new It(2,3,3018,n?n.T()[0]:null);var At=pt/9e4*ct;d={id:e.id,type:"audio",codecs:"ac-3",encrypted:e.encrypted&&e.drmInfos.length>0,timescale:ct,duration:r,Gb:[],Ma:dt,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:At,Eb:lt},stream:e};break;case"ec3":for(var bt=[],wt=0,Ct=new Uint8Array([]),xt=null,St=g(u.Bb()),Et=St.next();!Et.done;Et=St.next()){var kt=Et.value,Mt=kt.data;null==xt&&null!==kt.pts&&(xt=kt.pts);for(var Rt=0;Rt<Mt.length;){var Lt=yT(Mt,Rt);Lt?(e.audioSamplingRate=Lt.sampleRate,e.channelsCount=Lt.channelCount,wt=Lt.sampleRate,Ct=Lt.Ma,bt.push({data:Mt.subarray(Rt,Rt+Lt.za),size:Lt.za,duration:1536,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),Rt+=Lt.za):Rt++}}if(0==wt||0==Ct.byteLength||null==xt)throw new It(2,3,3018,n?n.T()[0]:null);var Ot=xt/9e4*wt;d={id:e.id,type:"audio",codecs:"ec-3",encrypted:e.encrypted&&e.drmInfos.length>0,timescale:wt,duration:r,Gb:[],Ma:Ct,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:Ot,Eb:bt},stream:e};break;case"mp3":for(var Pt,Dt=[],_t=null,Nt=g(u.Bb()),Ut=Nt.next();!Ut.done;Ut=Nt.next()){var Bt=Ut.value,jt=Bt.data;if(jt){null==_t&&null!==Bt.pts&&(_t=Bt.pts);for(var qt=0;qt<jt.length;){var Ft=CT(jt,qt);Ft?(Pt||(Pt=Ft),qt+Ft.za<=jt.length&&Dt.push({data:jt.subarray(qt,qt+Ft.za),size:Ft.za,duration:1152,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),qt+=Ft.za):qt++}}}if(!Pt||null==_t)throw new It(2,3,3018,n?n.T()[0]:null);var Vt=Pt.sampleRate,Gt=_t/9e4*Vt;d={id:e.id,type:"audio",codecs:"mp3",encrypted:e.encrypted&&e.drmInfos.length>0,timescale:Vt,duration:r,Gb:[],Ma:new Uint8Array([]),Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:Gt,Eb:Dt},stream:e};break;case"opus":var Ht=[],Kt=null,Wt=u.H;if(!Wt)throw new It(2,3,3018,n?n.T()[0]:null);var $t=[];switch(Wt.nk){case 1:case 2:$t=[0];break;case 0:$t=[255,1,1,0,1];break;case 128:$t=[255,2,0,0,1];break;case 3:$t=[1,2,1,0,2,1];break;case 4:$t=[1,2,2,0,1,2,3];break;case 5:$t=[1,3,2,0,4,1,2,3];break;case 6:$t=[1,4,2,0,4,1,2,3,5];break;case 7:$t=[1,4,2,0,4,1,2,3,5,6];break;case 8:$t=[1,5,3,0,6,1,2,3,4,5,7];break;case 130:$t=[1,1,2,0,1];break;case 131:$t=[1,1,3,0,1,2];break;case 132:$t=[1,1,4,0,1,2,3];break;case 133:$t=[1,1,5,0,1,2,3,4];break;case 134:$t=[1,1,6,0,1,2,3,4,5];break;case 135:$t=[1,1,7,0,1,2,3,4,5,6];break;case 136:$t=[1,1,8,0,1,2,3,4,5,6,7]}for(var Xt=new Uint8Array([0,Wt.channelCount,0,0,Wt.sampleRate>>>24&255,Wt.sampleRate>>>17&255,Wt.sampleRate>>>8&255,Wt.sampleRate>>>0&255,0,0].concat(m($t))),Jt=Wt.sampleRate,Zt=g(u.Bb()),Qt=Zt.next();!Qt.done;Qt=Zt.next()){var te=Qt.value,ne=te.data;null==Kt&&null!==te.pts&&(Kt=te.pts);for(var re=0;re<ne.length;){for(var ie=0!=(16&ne[re+1]),ae=0!=(8&ne[re+1]),oe=re+2,se=0;255===ne[oe];)se+=255,oe+=1;se+=ne[oe],oe+=1,oe+=ie?2:0,oe+=ae?2:0;var ue=ne.slice(oe,oe+se);Ht.push({data:ue,size:ue.byteLength,duration:960,Ab:0,flags:{Cb:0,ub:0,sb:0,qb:0,rb:2,Db:0}}),re=oe+se}}if(0==Xt.byteLength||null==Kt)throw new It(2,3,3018,n?n.T()[0]:null);e.audioSamplingRate=Wt.sampleRate,e.channelsCount=Wt.channelCount;var le=Kt/9e4*Jt;d={id:e.id,type:"audio",codecs:"opus",encrypted:e.encrypted&&e.drmInfos.length>0,timescale:Jt,duration:r,Gb:[],Ma:Xt,Ya:new Uint8Array([]),eb:0,gb:0,data:{sequenceNumber:this.g,baseMediaDecodeTime:le,Eb:Ht},stream:e}}d&&(l.push(d),d=null)}}catch(t){return t&&3023==t.code?Promise.resolve(new Uint8Array([])):Promise.reject(t)}if(!l.length)return Promise.reject(new It(2,3,3018,n?n.T()[0]:null));var ce=new Ao(l),de=e.id+"_"+n.i;if(this.j.has(de))var pe=this.j.get(de);else pe=bo(ce),this.j.set(de,pe);var he=this.l!==pe,fe=So(ce);return this.l=pe,this.g++,Promise.resolve({data:fe,init:he?pe:null})},G("shaka.transmuxer.TsTransmuxer",DT),DT.prototype.transmux=DT.prototype.transmux,DT.prototype.getOriginalMimeType=DT.prototype.getOriginalMimeType,DT.prototype.convertCodecs=DT.prototype.convertCodecs,DT.prototype.isSupported=DT.prototype.isSupported,DT.prototype.destroy=DT.prototype.destroy;var _T=["aac","ac-3","ec-3","mp3","opus"],NT=["avc","hevc"];function UT(){}function BT(t,e){var n=this;this.parent=t,this.controls=e,this.eventManager=new Me,this.localization=this.controls.ya,this.player=this.controls.Wb(),this.video=this.controls.Uc(),this.adManager=this.player.uf(),this.ad=e.getAd(),this.eventManager.o(this.adManager,"ad-started",(function(t){n.ad=t.ad})),this.eventManager.o(this.adManager,"ad-stopped",(function(){n.ad=null}))}function jT(t,e){this.parent=t,this.g=us("svg"),this.h=us("path"),this.g.classList.add("material-svg-icon"),this.g.setAttribute("viewBox","0 -960 960 960"),e&&this.use(e),this.g.appendChild(this.h),this.parent&&t.appendChild(this.g)}function qT(t){return FT(t,"shaka-back-to-overflow-button")}function FT(t,e){return(t=t.getElementsByClassName(e)).length?t[0]:null}function VT(t){t&&(t=FT(t,"shaka-chosen-item"))&&t.parentElement.focus()}function GT(){var t=new jT(null,"m382-354 339-339q12-12 28-12t28 12q12 12 12 28.5T777-636L410-268q-12 12-28 12t-28-12L182-440q-12-12-11.5-28.5T183-497q12-12 28.5-12t28.5 12l142 143Z").g;return t.classList.add("shaka-chosen-item"),t.ariaHidden="true",t}function zT(t,e){t&&(e?t.classList.remove("shaka-hidden"):t.classList.add("shaka-hidden"))}function HT(t,e){var n=Math.floor(t/86400),r=Math.floor(t%86400/3600),i=Math.floor(t/60%60);return(t=Math.floor(t%60))<10&&(t="0"+t),t=i+":"+t,e&&(i<10&&(t="0"+t),t=r+":"+t,n>0&&(r<10&&(t="0"+t),t=n+":"+t)),t}function KT(t,e){BT.call(this,t,e);var n=this;this.g=ls(),this.g.classList.add("shaka-ad-info"),this.g.disabled=!0,this.parent.appendChild(this.g),this.h=new Wr((function(){if(n.ad.isLinear()){var t="",e=n.ad.getSequenceLength();e>1&&(t=n.ad.getPositionInSequence(),t=n.localization.resolve("AD_PROGRESS").replace("[AD_ON]",String(t)).replace("[NUM_ADS]",String(e)));var r=Math.round(n.ad.getRemainingTime()),i=n.ad.getDuration();-1==r||-1==i?(n.g.textContent=t,zT(n.g,""!=t)):r>0?(r=HT(i-r,!1)+" / "+HT(i,!1),t=e>1?t+"  "+r:n.localization.resolve("AD_TIME").replace("[AD_TIME]",r),n.g.textContent=t,zT(n.g,""!=t)):(n.h.stop(),n.g.textContent="")}})),this.eventManager.o(this.localization,"locale-updated",(function(){})),this.eventManager.o(this.localization,"locale-changed",(function(){})),this.eventManager.o(this.adManager,"ad-started",(function(){n.h.Ka(),n.h.xa(.5)})),this.eventManager.o(this.adManager,"ad-stopped",(function(){n.h.stop(),n.g.textContent=""})),this.ad&&(this.h.Ka(),this.h.xa(.5))}function WT(e,n){BT.call(this,e,n);var r=this;this.j=this.controls.g,this.h=this.controls.i,this.i=[],this.g=ss("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-context-menu"),this.g.classList.add("shaka-hidden"),this.h.appendChild(this.g),this.eventManager.o(this.h,"contextmenu",(function(t){if(r.g.classList.contains("shaka-hidden")){t.preventDefault();var e=r.h.getBoundingClientRect();r.g.style.left=t.clientX-e.left+"px",r.g.style.top=t.clientY-e.top+"px",zT(r.g,!0)}else zT(r.g,!1)})),this.eventManager.o(t,"click",(function(){zT(r.g,!1)})),this.eventManager.o(this.g,"click",(function(){zT(r.g,!1)})),function(t){for(var e=g(t.j.contextMenuElements),n=e.next();!n.done;n=e.next()){n=n.value;var r=XT.get(n);r?t.i.push(r.create(t.g,t.controls)):X("Unrecognized context menu element:",n)}}(this)}function $T(t,e){XT.set(t,e)}Ar("video/mp2t",(function(){return new DT("video/mp2t")}),Tr),h(UT,Zl),G("shaka.util.FairPlayUtils",UT),BT.prototype.release=function(){this.eventManager.release(),this.ad=this.adManager=this.video=this.player=this.localization=this.eventManager=this.controls=this.parent=null},G("shaka.ui.Element",BT),BT.prototype.release=BT.prototype.release,jT.prototype.use=function(t){t&&"string"==typeof t&&this.h.setAttribute("d",t)},jT.prototype.jl=function(){return this.g},G("shaka.ui.MaterialSVGIcon",jT),jT.prototype.getSvgElement=jT.prototype.jl,jT.prototype.use=jT.prototype.use,h(KT,BT),KT.prototype.release=function(){this.h.stop(),this.h=null,BT.prototype.release.call(this)},G("shaka.ui.AdInfo",KT),h(WT,BT),WT.prototype.release=function(){this.h=null;for(var t=g(this.i),e=t.next();!e.done;e=t.next())e.value.release();this.i=[],BT.prototype.release.call(this)},WT.prototype.Ni=function(){zT(this.g,!1)},G("shaka.ui.ContextMenu",WT),WT.registerElement=$T,WT.prototype.closeMenu=WT.prototype.Ni;var XT=new Map;function YT(t,e){BT.call(this,t,e);var n=this;this.button=ls(),this.parent.appendChild(this.button),this.h=new jT(this.button),this.eventManager.o(this.localization,"locale-updated",(function(){JT(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){JT(n)})),this.eventManager.o(this.video,"play",(function(){JT(n),n.g()})),this.eventManager.o(this.video,"pause",(function(){JT(n),n.g()})),this.eventManager.o(this.video,"seeking",(function(){JT(n),n.g()})),this.eventManager.o(this.player,"loaded",(function(){JT(n),n.g()})),this.eventManager.o(this.adManager,"ad-paused",(function(){JT(n),n.g()})),this.eventManager.o(this.adManager,"ad-resumed",(function(){JT(n),n.g()})),this.eventManager.o(this.adManager,"ad-started",(function(){JT(n),n.g()})),this.eventManager.o(this.adManager,"ad-stopped",(function(){JT(n),n.g()})),this.eventManager.o(this.button,"click",(function(){n.controls.Da()&&KS(n.controls)})),JT(this),this.g()}function JT(t){if(t.isEnded()&&t.video.duration)t.button.ariaLabel=t.localization.resolve("REPLAY");else{var e=t.isPaused()?"PLAY":"PAUSE";t.button.ariaLabel=t.localization.resolve(e)}}function ZT(t,e){YT.call(this,t,e),this.button.classList.add("shaka-play-button"),this.button.classList.add("shaka-no-propagation")}function QT(t,e){BT.call(this,t,e);var n=this;this.m=null,this.i=this.D=!1,this.C=this.A=null,this.j=new Wr((function(){0===parseInt(n.h.textContent,10)&&YS(n.controls,!0);var t=parseInt(n.h.textContent,10);0!==t&&(n.video.currentTime=n.controls.ph()+t),n.g.style.opacity="0",n.D=!1,n.h.textContent="0s"})),this.g=ss("div"),this.g.classList.add("shaka-no-propagation"),this.parent.appendChild(this.g),this.h=ss("span"),this.h.textContent="0s",this.g.appendChild(this.h),this.u=new jT(this.g),this.u.g.classList.add("shaka-forward-rewind-container-icon"),this.l=!1,this.eventManager.o(this.g,"touchstart",(function(t){t.touches.length>0&&(n.A=t.touches[0].clientX,n.C=t.touches[0].clientY),n.i=!1})),this.eventManager.o(this.g,"touchmove",(function(t){if(t.touches.length>0&&null!=n.A&&null!=n.C){var e=t.touches[0].clientX-n.A;t=t.touches[0].clientY-n.C,Math.sqrt(e*e+t*t)>10&&(n.i=!0)}})),this.eventManager.o(this.g,"touchend",(function(t){if(!n.i)if(n.controls.Kc())t.preventDefault(),n.controls.Vc();else if(n.controls.g.tapSeekDistance>0)if(t.preventDefault(),t=n.controls.g.tapSeekDistance,n.D){if(n.m+500>Date.now()){n.j.stop(),n.m=Date.now();var e=parseInt(n.h.textContent,10);e=n.l?e-t:e+t,n.h.textContent=e.toString()+"s",n.g.style.opacity="1",n.j.Y(.5)}}else n.D=!0,n.m=Date.now(),n.j.Y(.5)}))}function tS(t,e){QT.call(this,t,e),this.g.classList.add("shaka-fast-forward-container"),this.u.use("M100-315v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T428-480q0 10-4.5 18.5T410-447L162-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Zm400 0v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T828-480q0 10-4.5 18.5T810-447L562-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"),this.l=!1}function eS(t,e){QT.call(this,t,e),this.g.classList.add("shaka-rewind-container"),this.u.use("M798-281 550-447q-9-6-13.5-14.5T532-480q0-10 4.5-18.5T550-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Zm-400 0L150-447q-9-6-13.5-14.5T132-480q0-10 4.5-18.5T150-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"),this.l=!0}function nS(t,e,n,r){BT.call(this,t,e);var i=this;this.container=ss("div"),this.container.classList.add("shaka-range-container"),this.container.classList.add.apply(this.container.classList,m(n)),this.i=!1,this.bar=document.createElement("input"),this.G=new Wr((function(){i.onChangeEnd(),i.i=!1})),this.bar.classList.add("shaka-range-element"),this.bar.classList.add.apply(this.bar.classList,m(r)),this.bar.type="range",this.bar.step="any",this.bar.min="0",this.bar.max="1",this.bar.value="0",this.bar.disabled=!this.controls.Da(),this.container.appendChild(this.bar),this.parent.appendChild(this.container),this.L=new Wr((function(){i.bar.disabled=!1})),this.eventManager.o(this.controls,"showingui",(function(){i.L.Y(0)})),this.eventManager.o(this.controls,"hidingui",(function(){i.L.stop(),i.bar.disabled=!0})),this.eventManager.o(this.bar,"mousedown",(function(t){i.bar.disabled||(i.i=!0,i.onChangeStart(),t.stopPropagation())})),this.eventManager.o(this.bar,"touchstart",(function(t){i.bar.disabled||(i.i=!0,iS(i,t),i.onChangeStart(),t.stopPropagation())})),this.eventManager.o(this.bar,"input",(function(){i.onChange()})),this.eventManager.o(this.bar,"touchmove",(function(t){i.i&&(iS(i,t),i.onChange(),t.stopPropagation())})),this.eventManager.o(this.bar,"touchend",(function(t){i.i&&(i.i=!1,iS(i,t),i.onChangeEnd(),t.stopPropagation())})),this.eventManager.o(this.bar,"touchcancel",(function(t){i.i&&(i.i=!1,iS(i,t),i.onChangeEnd(),t.stopPropagation())})),this.eventManager.o(this.bar,"mouseup",(function(t){i.i&&(i.i=!1,i.onChangeEnd(),t.stopPropagation())})),this.eventManager.o(this.bar,"blur",(function(){i.i&&(i.i=!1,i.onChangeEnd())})),this.eventManager.o(this.bar,"contextmenu",(function(t){t.preventDefault(),t.stopPropagation()}))}function rS(t,e){var n=t.bar.getBoundingClientRect(),r=parseFloat(t.bar.min),i=parseFloat(t.bar.max);t=parseFloat(t.bar.step)||1;var a=n.left+6;return n=n.right-6,e=r+(Math.max(a,Math.min(n,e))-a)/(n-a)*(i-r),e=Math.round((e-r)/t)*t+r,Math.min(i,Math.max(r,e))}function iS(t,e){e.preventDefault(),t.bar.value=rS(t,e.changedTouches[0].clientX)}function aS(t,e){nS.call(this,t,e,["shaka-seek-bar-container"],["shaka-seek-bar","shaka-no-propagation","shaka-show-controls-on-mouse-over"]);var n=this;this.F=ss("div"),this.F.classList.add("shaka-ad-markers"),this.container.insertBefore(this.F,this.container.childNodes[0]),this.I=this.controls.g,this.C=new Wr((function(){var t=n.getValue();n.player.U()||t==n.video.duration&&(t-=.001),n.video.currentTime=t})),this.D=new Wr((function(){oS(n)})),this.M=!1,this.h=ss("div"),this.h.id="shaka-player-ui-thumbnail-container",this.g=ss("img"),this.g.id="shaka-player-ui-thumbnail-image",this.g.draggable=!1,this.K=ss("div"),this.K.id="shaka-player-ui-thumbnail-time-container",this.H=ss("div"),this.H.id="shaka-player-ui-thumbnail-time",this.K.appendChild(this.H),this.h.appendChild(this.g),this.h.appendChild(this.K),this.container.appendChild(this.h),this.j=ss("div"),this.j.id="shaka-player-ui-time-container",this.container.appendChild(this.j),this.l=this.u=null,this.J=!1,this.A=new Wr((function(){pS(n)})),this.m=[],this.eventManager.o(this.bar,"input",(function(){n.controls.Vc()})),this.eventManager.o(this.localization,"locale-updated",(function(){return lS(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){return lS(n)})),this.eventManager.o(this.adManager,"ad-started",(function(){uS(n)||zT(n.container,!1)})),this.eventManager.o(this.adManager,"ad-stopped",(function(){uS(n)&&zT(n.container,!0)})),this.eventManager.o(this.adManager,"ad-cue-points-changed",(function(t){n.m=t.cuepoints,sS(n)})),this.eventManager.o(this.player,"unloading",(function(){n.m=[],sS(n),n.l&&(n.l.abort(),n.l=null),n.u=null,pS(n),hS(n)})),this.eventManager.o(this.bar,"mousemove",(function(t){if(n.controls.Kc())hS(n),pS(n);else{var e=rS(n,t.clientX),r=n.bar.getBoundingClientRect();t=Math.max(0,t.clientX-r.left),n.player.qh().length?(hS(n),dS(n,t,e)):(pS(n),cS(n,t,e))}})),this.eventManager.o(this.container,"mouseleave",(function(){hS(n),n.A.stop(),n.A.Y(.25)})),this.setValue(this.video.currentTime),this.update(),lS(this),this.ad&&zT(this.container,!1)}function oS(t){if(t.m.length){for(var e=t.player.wa(),n=e.end-e.start,r=["to right"],i=[],a=t.I.seekBarColors.adBreaks,o=!1,s=g(t.m),u=s.next();!u.done;u=s.next())if(-1!=(u=u.value).start||u.end){if(!u.end&&u.start>=e.start||"number"==typeof u.end&&u.end>e.start){var l=(Math.max(u.start,e.start)-e.start)/n||0,c=l+.01;u.end&&(c=(u.end-e.start)/n||0),i.push({start:l,end:c})}}else o=!0;for(n=(e=g(i=i.sort((function(t,e){return t.start-e.start})))).next();!n.done;n=e.next())n=n.value,r.push("transparent "+100*n.start+"%"),r.push(a+" "+100*n.start+"%"),r.push(a+" "+100*n.end+"%"),r.push("transparent "+100*n.end+"%");o&&(r.push("transparent 99%"),r.push(a+" 99%")),t.F.style.background="linear-gradient("+r.join(",")+")"}else t.F.style.background="transparent",t.D.stop()}function sS(t){function e(){oS(t);var e=t.player.wa();e=e.end-e.start,t.player.U()&&e>5&&t.D.xa(.25)}t.player.aa?e():t.eventManager.ua(t.player,"loaded",e)}function uS(t){var e=t.player.wa();return e=e.end-e.start,!(t.player.U()&&(e<5||!isFinite(e)))&&(null==t.ad||!t.ad.isLinear())}function lS(t){t.bar.ariaLabel=t.localization.resolve("SEEK")}function cS(t,e,n){var r=t.j.clientWidth;t.j.style.width="auto",t.j.style.height="20px",t.j.style.top="-30px",t.j.style.left=Math.min(t.bar.offsetWidth-r,Math.max(0,e-r/2))+"px",t.j.style.right="",t.j.style.visibility="visible",e=t.player.wa(),t.player.U()?(n=e.end-n)<1?(t.j.textContent=t.localization.resolve("LIVE"),t.j.style.left="",t.j.style.right="0px"):t.j.textContent="-"+HT(n,n>=3600):(n-=e.start,t.j.textContent=HT(n,n>=3600))}function dS(t,e,n){var r,i,a,o,s,u,l,c,d,p,h,f,g,m,v,y,A;P((function(b){switch(b.g){case 1:return n<0&&(n=0),r=!1,t.m.length&&(r=t.m.some((function(t){return!!t.end&&(n>=t.start&&n<=t.end)}))),r?(pS(t),cS(t,e,n),b.return()):(i=t.player.wa(),a=Math.max(Math.ceil(i.start),Math.min(Math.floor(i.end),n)),t.player.U()?(o=i.end-n,t.H.textContent=o<1?t.localization.resolve("LIVE"):"-"+HT(o,o>=3600)):t.H.textContent=HT(n,n>=3600),w(b,t.player.$i(null,a),2));case 2:if(!(s=b.h)||!s.uris||!s.uris.length)return pS(t),cS(t,e,n),b.return();if(s.width<s.height?t.h.classList.add("portrait-thumbnail"):t.h.classList.remove("portrait-thumbnail"),u=-10,l=t.h.clientWidth,c=Math.floor(9*l/16),t.h.style.height=c+"px",t.h.style.top=-(c-u)+"px",d=Math.min(t.bar.offsetWidth-l,Math.max(0,e-l/2)),t.h.style.left=d+"px",t.h.style.visibility="visible",p=s.uris[0].split("#xywh=")[0],t.u&&p===t.u.uris[0].split("#xywh=")[0]&&s.startByte==t.u.startByte&&s.endByte==t.u.endByte){b.B(3);break}if(t.u=s,t.l&&(t.l.abort(),t.l=null),"mjpg"!=s.codecs&&!p.startsWith("offline:")){b.B(4);break}return t.g.src='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg"/>',x(b,5),h=ia,f=yl(s.uris,s.startByte,s.endByte,t.player.getConfiguration().streaming.retryParameters),t.l=t.player.Vb().request(h,f,{type:1}),w(b,t.l.promise,7);case 7:g=b.h,t.l=null,"mjpg"==s.codecs?(new fa).box("mdat",Aa((function(t){p=URL.createObjectURL(new Blob([t],{type:"image/jpeg"}))}),!0)).parse(g.data,!1):(m=s.mimeType||"image/jpeg",v=new Blob([g.data],{type:m}),p=URL.createObjectURL(v)),S(b,4);break;case 5:if(7001==(y=E(b)).code)return b.return();throw y;case 4:try{t.h.removeChild(t.g)}catch(t){}t.g=ss("img"),t.g.id="shaka-player-ui-thumbnail-image",t.g.draggable=!1,t.g.src=p,t.g.onload=function(){p.startsWith("blob:")&&URL.revokeObjectURL(p)},t.h.insertBefore(t.g,t.h.firstChild);case 3:A=l/s.width,s.imageHeight?t.g.height=s.imageHeight:s.sprite||(t.g.style.height="100%",t.g.style.objectFit="contain"),s.imageWidth?t.g.width=s.imageWidth:s.sprite||(t.g.style.width="100%",t.g.style.objectFit="contain"),t.g.style.left="-"+A*s.positionX+"px",t.g.style.top="-"+A*s.positionY+"px",t.g.style.transform="scale("+A+")",t.g.style.transformOrigin="left top",c=Math.floor(l*s.height/s.width),t.h.style.height=c+"px",t.h.style.top=-(c-u)+"px",C(b)}}))}function pS(t){t.h.style.visibility="hidden"}function hS(t){t.j.style.visibility="hidden"}function fS(){}function gS(t,e){BT.call(this,t,e);var n=this;this.j=ss("div"),this.j.classList.add("shaka-skip-ad-container"),this.parent.appendChild(this.j),this.h=ss("div"),this.h.classList.add("shaka-skip-ad-counter"),zT(this.h,!1),this.j.appendChild(this.h),this.g=ls(),this.g.classList.add("shaka-skip-ad-button"),this.g.disabled=!0,zT(this.g,!1),this.g.classList.add("shaka-no-propagation"),this.j.appendChild(this.g),mS(this),this.i=new Wr((function(){if(n.ad.isSkippable()){var t=Math.round(n.ad.getTimeUntilSkippable());t>0?n.h.textContent=t:(n.i.stop(),zT(n.h,!1))}else yS(n)})),this.eventManager.o(this.localization,"locale-updated",(function(){mS(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){mS(n)})),this.eventManager.o(this.adManager,"ad-started",(function(){vS(n)})),this.eventManager.o(this.adManager,"ad-skip-state-changed",(function(){n.ad.isSkippable()?n.ad.canSkipNow()&&(n.g.disabled=!1,n.i.stop(),zT(n.h,!1)):yS(n)})),this.eventManager.o(this.adManager,"ad-stopped",(function(){yS(n)})),this.eventManager.o(this.g,"click",(function(){n.ad.skip()})),this.ad&&vS(this)}function mS(t){t.g.textContent=t.localization.resolve("SKIP_AD")}function vS(t){t.ad.isSkippable()&&t.ad.needsSkipUI()&&(zT(t.g,!0),zT(t.h,!0),t.h.textContent="",t.i.Ka(),t.i.xa(.5))}function yS(t){t.i.stop(),t.g.disabled=!0,zT(t.g,!1),zT(t.h,!1)}function AS(){var t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function bS(t,e,n){e=1/Math.tan(e/2),t[0]=e/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,n=1/-99.9,t[10]=100.1*n,t[14]=20*n}function wS(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],l=e[6],c=e[7],d=e[8],p=e[9],h=e[10],f=e[11],g=e[12],m=e[13],v=e[14];e=e[15];var y=n[0],A=n[1],b=n[2],w=n[3];t[0]=y*r+A*s+b*d+w*g,t[1]=y*i+A*u+b*p+w*m,t[2]=y*a+A*l+b*h+w*v,t[3]=y*o+A*c+b*f+w*e,y=n[4],A=n[5],b=n[6],w=n[7],t[4]=y*r+A*s+b*d+w*g,t[5]=y*i+A*u+b*p+w*m,t[6]=y*a+A*l+b*h+w*v,t[7]=y*o+A*c+b*f+w*e,y=n[8],A=n[9],b=n[10],w=n[11],t[8]=y*r+A*s+b*d+w*g,t[9]=y*i+A*u+b*p+w*m,t[10]=y*a+A*l+b*h+w*v,t[11]=y*o+A*c+b*f+w*e,y=n[12],A=n[13],b=n[14],w=n[15],t[12]=y*r+A*s+b*d+w*g,t[13]=y*i+A*u+b*p+w*m,t[14]=y*a+A*l+b*h+w*v,t[15]=y*o+A*c+b*f+w*e}function CS(t,e){var n=new Float32Array(3),r=e[0],i=e[1],a=e[2],o=e[4],s=e[5],u=e[6],l=e[8],c=e[9],d=e[10];n[0]=Math.sqrt(r*r+i*i+a*a),n[1]=Math.sqrt(o*o+s*s+u*u),n[2]=Math.sqrt(l*l+c*c+d*d),u=1/n[0],l=1/n[1],c=1/n[2],o=e[0]*u,n=e[1]*l,r=e[2]*c,i=e[4]*u,s=e[5]*l,a=e[6]*c,u*=e[8],l*=e[9],(c=o+s+(e=e[10]*c))>0?(e=2*Math.sqrt(c+1),t[3]=.25*e,t[0]=(a-l)/e,t[1]=(u-r)/e,t[2]=(n-i)/e):o>s&&o>e?(e=2*Math.sqrt(1+o-s-e),t[3]=(a-l)/e,t[0]=.25*e,t[1]=(n+i)/e,t[2]=(u+r)/e):s>e?(e=2*Math.sqrt(1+s-o-e),t[3]=(u-r)/e,t[0]=(n+i)/e,t[1]=.25*e,t[2]=(a+l)/e):(e=2*Math.sqrt(1+e-o-s),t[3]=(n-i)/e,t[0]=(u+r)/e,t[1]=(a+l)/e,t[2]=.25*e)}function xS(t,e){var n=e[0],r=e[1],i=e[2],a=n+n,o=r+r,s=i+i;n*=a;var u=r*a;r*=o;var l=i*a,c=i*o;i*=s,a*=e=e[3],o*=e,e*=s,t[0]=1-r-i,t[1]=u+e,t[2]=l-o,t[3]=0,t[4]=u-e,t[5]=1-n-i,t[6]=c+a,t[7]=0,t[8]=l+o,t[9]=c-a,t[10]=1-n-r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}function TS(){var t=new Float32Array(4);return t[3]=1,t}function SS(t){var e=[],n=[],r=[],i=Math.PI;t=void 0!==t&&t?i/2:i;for(var a=0;a<=100;a++){var o=a*i/100,s=Math.sin(o);o=Math.cos(o);for(var u=0;u<=100;u++){var l=2*u*t/100;e.push(Math.sin(l)*s,o,Math.cos(l)*s),n.push(u/100,a/100)}}for(i=0;i<100;i++)for(t=0;t<100;t++)s=(a=101*i+t)+100+1,r.push(a,s,a+1),r.push(s,s+1,a+1);return{ek:e,$j:n,indices:r}}function ES(t,e,n,r,i){this.i=t,this.ra=e,this.u=n,this.g=r,this.A=new Me,this.M=TS(),this.h=TS(),this.ea=this.oa=this.aa=this.l=null,this.F=AS(),this.J=AS(),this.O=AS(),this.W=AS(),this.D=null,this.P=!1,this.K=this.C=null,this.sa=this.ya=0,this.Z=this.R=this.S=this.L=null,this.I=this.H=0,this.j=75,this.V=0,this.m=i,this.G=-1,function(t){(function(t){var e=t.F,n=[0,0,0],r=[1,0,0],i=[0,1,0],a=n[0],o=n[1];n=n[2];var s=i[0],u=i[1],l=i[2],c=r[0];i=r[1];var d=r[2];if(Math.abs(a-c)<1e-6&&Math.abs(o-i)<1e-6&&Math.abs(n-d)<1e-6)for(a=0;a<16;a++)e[a]=a%5==0?1:0;else{r=a-c,i=o-i,c=n-d;var p=1/Math.sqrt(r*r+i*i+c*c);d=u*(c*=p)-l*(i*=p),l=l*(r*=p)-s*c,s=s*i-u*r,(p=Math.sqrt(d*d+l*l+s*s))?(d*=p=1/p,l*=p,s*=p):s=l=d=0,u=i*s-c*l;var h=c*d-r*s,f=r*l-i*d;(p=Math.sqrt(u*u+h*h+f*f))?(u*=p=1/p,h*=p,f*=p):f=h=u=0,e[0]=d,e[1]=u,e[2]=r,e[3]=0,e[4]=l,e[5]=h,e[6]=i,e[7]=0,e[8]=s,e[9]=f,e[10]=c,e[11]=0,e[12]=-(d*a+l*o+s*n),e[13]=-(u*a+h*o+f*n),e[14]=-(r*a+i*o+c*n),e[15]=1}CS(t.M,t.F),t=e=t.W,a=(n=[4,4,4])[0],o=n[1],n=n[2],e[0]=t[0]*a,e[1]=t[1]*a,e[2]=t[2]*a,e[3]=t[3]*a,e[4]=t[4]*o,e[5]=t[5]*o,e[6]=t[6]*o,e[7]=t[7]*o,e[8]=t[8]*n,e[9]=t[9]*n,e[10]=t[10]*n,e[11]=t[11]*n,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]})(t),function(t){MS(t),t.g.viewport(0,0,t.g.drawingBufferWidth,t.g.drawingBufferHeight),t.g.clearColor(0,0,0,1),t.g.enable(t.g.CULL_FACE),t.g.cullFace(t.g.FRONT),t.g.clear(t.g.COLOR_BUFFER_BIT)}(t),function(t){var e=kS(t,t.g.VERTEX_SHADER),n=kS(t,t.g.FRAGMENT_SHADER);t.l=t.g.createProgram(),t.g.attachShader(t.l,e),t.g.attachShader(t.l,n),t.g.linkProgram(t.l),"cubemap"==t.m?(t.S=t.g.getAttribLocation(t.l,"aVertexPosition"),t.R=t.g.getAttribLocation(t.l,"aTextureCoord")):(t.S=t.g.getAttribLocation(t.l,"a_vPosition"),t.g.enableVertexAttribArray(t.S),t.R=t.g.getAttribLocation(t.l,"a_TexCoordinate"),t.g.enableVertexAttribArray(t.R))}(t),function(t){t.L="cubemap"==t.m?{ek:[-1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1,1,-1,-1,1,1,1,1,1,1,1,-1,-1,-1,1,1,-1,1,1,1,1,-1,1,1,1,-1,-1,1,1,-1,1,1,1,1,-1,1,-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,-1,-1,-1,1,-1,1,1,-1,1,-1,-1],$j:[2/3,.5,1/3,.5,1/3,0,2/3,0,2/3,.5,2/3,0,1,0,1,.5,1,1,2/3,1,2/3,.5,1,.5,0,.5,0,0,1/3,0,1/3,.5,0,.5,1/3,.5,1/3,1,0,1,1/3,1,1/3,.5,2/3,.5,2/3,1],indices:[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]}:"halfequirectangular"==t.m?SS(!0):SS(),t.aa=t.g.createBuffer(),t.g.bindBuffer(t.g.ARRAY_BUFFER,t.aa),t.g.bufferData(t.g.ARRAY_BUFFER,new Float32Array(t.L.ek),t.g.STATIC_DRAW),t.oa=t.g.createBuffer(),t.g.bindBuffer(t.g.ARRAY_BUFFER,t.oa),t.g.bufferData(t.g.ARRAY_BUFFER,new Float32Array(t.L.$j),t.g.STATIC_DRAW),t.ea=t.g.createBuffer(),t.g.bindBuffer(t.g.ELEMENT_ARRAY_BUFFER,t.ea),t.g.bufferData(t.g.ELEMENT_ARRAY_BUFFER,new Uint16Array(t.L.indices),t.g.STATIC_DRAW)}(t),function(t){t.Z=t.g.createTexture(),t.g.bindTexture(t.g.TEXTURE_2D,t.Z),t.g.texParameteri(t.g.TEXTURE_2D,t.g.TEXTURE_WRAP_S,t.g.CLAMP_TO_EDGE),t.g.texParameteri(t.g.TEXTURE_2D,t.g.TEXTURE_WRAP_T,t.g.CLAMP_TO_EDGE),t.g.texParameteri(t.g.TEXTURE_2D,t.g.TEXTURE_MIN_FILTER,t.g.NEAREST),t.g.texParameteri(t.g.TEXTURE_2D,t.g.TEXTURE_MAG_FILTER,t.g.NEAREST)}(t),Eu(t.i,HTMLMediaElement.HAVE_CURRENT_DATA,t.A,(function(){if(t.i.readyState>=HTMLMediaElement.HAVE_ENOUGH_DATA&&IS(t),"requestVideoFrameCallback"in t.i){var e=function(){-1!=t.G&&(IS(t),-1!=t.G&&(t.G=t.i.requestVideoFrameCallback(e)))};t.G=t.i.requestVideoFrameCallback(e)}else{var n;t.A.o(t.i,"canplaythrough",(function(){IS(t)})),t.A.o(t.i,"playing",(function(){if(t.C&&t.C.stop(),!n)for(var e=t.ra.Nb(),r=(e=g(e)).next();!r.done;r=e.next())(r=r.value.frameRate)&&(!n||n<r)&&(n=r);n||(n=60),IS(t),t.C=new Wr((function(){IS(t)})).Ka().xa(1/n)})),t.A.o(t.i,"pause",(function(){t.C&&t.C.stop(),t.C=null,IS(t)})),t.A.o(t.i,"seeked",(function(){IS(t)})),t.A.o(document,"visibilitychange",(function(){IS(t)}))}}))}(this)}function kS(t,e){switch(e){case t.g.VERTEX_SHADER:var n="cubemap"==t.m?"attribute vec4 aVertexPosition;\nattribute vec2 aTextureCoord;\nuniform mat4 uModelViewMatrix;\nuniform mat4 uProjectionMatrix;\nvarying highp vec2 vTextureCoord;\nvarying highp vec3 vLighting;\nvoid main(void) {\n  gl_Position = uProjectionMatrix * uModelViewMatrix * aVertexPosition;\n  vTextureCoord = aTextureCoord;\n}":"attribute vec4 a_vPosition;\n// Per-vertex texture coordinate info\nattribute vec2 a_TexCoordinate;\nuniform mat4 u_VPMatrix;\n// Passed into the fragment shader.\nvarying vec2 v_TexCoordinate;\nvarying vec3 pass_position;\nvoid main()\n{\n gl_Position = u_VPMatrix * a_vPosition;\n // Pass through texture coord\n v_TexCoordinate = a_TexCoordinate;\n pass_position = a_vPosition.xyz;\n}";break;case t.g.FRAGMENT_SHADER:n="cubemap"==t.m?"varying highp vec2 vTextureCoord;\nuniform sampler2D uSampler;\nvoid main(void) {\n  highp vec4 texelColor = texture2D(uSampler, vTextureCoord);\n  gl_FragColor = vec4(texelColor.rgb , texelColor.a);\n}":"precision highp float;\n#define PI 3.141592653589793238462643383279\nvarying vec2 v_TexCoordinate;\nvarying vec3 pass_position;\nuniform sampler2D uSampler;\nvoid main(void) {\nhighp float xValue =\n      (PI + atan(pass_position.z, pass_position.x)) / (2.0 * PI);\n vec2 tc = vec2(xValue, v_TexCoordinate.t);\n tc = vec2(tc.x , tc.y);\nhighp vec4 texelColor =\n      texture2D(uSampler, tc);\n  gl_FragColor = vec4(texelColor.rgb, texelColor.a);\n}";break;default:return null}return e=t.g.createShader(e),t.g.shaderSource(e,n),t.g.compileShader(e),e}function IS(t,e){e=void 0===e||e;var n=t.ra.l==fh;!t.i||t.i.readyState<2||!n&&0==t.i.playbackRate||(bS(t.J,t.j*Math.PI/180,1.5625),"cubemap"==t.m?bS(t.J,t.j*Math.PI/180,2.5):bS(t.J,t.j*Math.PI/180,1.5625),t.g.useProgram(t.l),t.g.clear(t.g.COLOR_BUFFER_BIT),MS(t),e&&(t.g.activeTexture(t.g.TEXTURE0),t.g.bindTexture(t.g.TEXTURE_2D,t.Z),t.g.pixelStorei(t.g.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),t.g.texImage2D(t.g.TEXTURE_2D,0,t.g.RGBA,t.g.RGBA,t.g.UNSIGNED_BYTE,t.i)),"equirectangular"!=t.m&&"halfequirectangular"!=t.m||(wS(t.O,t.F,t.W),wS(t.O,t.J,t.O)),t.g.bindBuffer(t.g.ARRAY_BUFFER,t.aa),t.g.vertexAttribPointer(t.S,3,t.g.FLOAT,!1,0,0),t.g.enableVertexAttribArray(t.S),t.g.bindBuffer(t.g.ARRAY_BUFFER,t.oa),t.g.vertexAttribPointer(t.R,2,t.g.FLOAT,!1,0,0),t.g.enableVertexAttribArray(t.R),t.g.bindBuffer(t.g.ELEMENT_ARRAY_BUFFER,t.ea),"cubemap"==t.m?(t.g.uniformMatrix4fv(t.g.getUniformLocation(t.l,"uProjectionMatrix"),!1,t.J),t.g.uniformMatrix4fv(t.g.getUniformLocation(t.l,"uModelViewMatrix"),!1,t.O)):t.g.uniformMatrix4fv(t.g.getUniformLocation(t.l,"u_VPMatrix"),!1,t.O),t.g.uniform1i(t.g.getUniformLocation(t.l,"uSampler"),0),t.P&&t.g.viewport(0,0,t.u.width/2,t.u.height),t.g.drawElements(t.g.TRIANGLES,t.L.indices.length,t.g.UNSIGNED_SHORT,0),t.P&&(t.g.viewport(t.u.width/2,0,t.u.width/2,t.u.height),t.g.drawElements(t.g.TRIANGLES,t.L.indices.length,t.g.UNSIGNED_SHORT,0)))}function MS(t){var e=t.i.videoWidth;e||(e=t.u.scrollWidth);var n=t.i.videoHeight;if(n||(n=t.u.scrollHeight),t.ya!==e||t.sa!==n){t.u.width=e,t.u.height=n,t.ya=e,t.sa=n;var r=e/n,i=t.J,a=-r,o=1/(r-a);i[0]=0*o,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=0,i[6]=0,i[7]=0,i[8]=(r+a)*o,i[9]=0,i[10]=-1,i[11]=-1,i[12]=0,i[13]=0,i[14]=-0,i[15]=0,t.J=i,t.g.viewport(0,0,e,n)}}function RS(t,e,n,r){var i=1/0,a=90*Math.PI/180;"halfequirectangular"==t.m&&(i=90*Math.PI/180,a/=2);var o="cubemap"==t.m?t.O:t.F;if(t.H+=e,t.I+=n,t.H<i&&t.H>-i){i=Math.sin(e),e=Math.cos(e);var s=o[0],u=o[1],l=o[2],c=o[3],d=o[8],p=o[9],h=o[10],f=o[11];o!=o&&(o[4]=o[4],o[5]=o[5],o[6]=o[6],o[7]=o[7],o[12]=o[12],o[13]=o[13],o[14]=o[14],o[15]=o[15]),o[0]=s*e-d*i,o[1]=u*e-p*i,o[2]=l*e-h*i,o[3]=c*e-f*i,o[8]=s*i+d*e,o[9]=u*i+p*e,o[10]=l*i+h*e,o[11]=c*i+f*e}else t.H-=e;t.I<a&&t.I>-a?(a=AS(),i=AS(),e=-1*n,n=Math.sin(e),e=Math.cos(e),s=i[4],u=i[5],l=i[6],c=i[7],d=i[8],p=i[9],h=i[10],f=i[11],i!==a&&(a[0]=i[0],a[1]=i[1],a[2]=i[2],a[3]=i[3],a[12]=i[12],a[13]=i[13],a[14]=i[14],a[15]=i[15]),a[4]=s*e+d*n,a[5]=u*e+p*n,a[6]=l*e+h*n,a[7]=c*e+f*n,a[8]=d*e-s*n,a[9]=p*e-u*n,a[10]=h*e-l*n,a[11]=f*e-c*n,wS(o,a,o)):t.I-=n,n=AS(),a=AS(),i=Math.sin(r),r=Math.cos(r),e=a[0],s=a[1],u=a[2],l=a[3],c=a[4],d=a[5],p=a[6],h=a[7],a!==n&&(n[8]=a[8],n[9]=a[9],n[10]=a[10],n[11]=a[11],n[12]=a[12],n[13]=a[13],n[14]=a[14],n[15]=a[15]),n[0]=e*r+c*i,n[1]=s*r+d*i,n[2]=u*r+p*i,n[3]=l*r+h*i,n[4]=c*r-e*i,n[5]=d*r-s*i,n[6]=p*r-u*i,n[7]=h*r-l*i,wS(o,n,o),IS(t,!1)}function LS(t,e){(void 0===e||e)&&(CS(t.h,t.F),t.V=0,t.D=TS(),t.D[0]=(t.h[0]-t.M[0])/20,t.D[1]=(t.h[1]-t.M[1])/20,t.D[2]=(t.h[2]-t.M[2])/20,t.D[3]=(t.h[3]-t.M[3])/20),t.h[0]-=t.D[0],t.h[1]-=t.D[1],t.h[2]-=t.D[2],t.h[3]-=t.D[3],e=AS(),function(t,e){var n=e[0],r=e[1],i=e[2],a=n*n+r*r+i*i+(e=e[3])*e;a>0&&(a=1/Math.sqrt(a)),t[0]=n*a,t[1]=r*a,t[2]=i*a,t[3]=e*a}(t.h,t.h),xS(e,t.h),t.F=e,t.K&&(t.K.stop(),t.K=null),t.V<20?t.K=new Wr((function(){LS(t,!1),t.H=0,t.I=0,t.V++,IS(t,!1)})).Y(.025):(xS(e,t.M),t.F=e)}function OS(t,e,n,r,i){tt.call(this);var a=this;this.i=t,this.l=e,this.G=n,this.K=r,this.A=i,this.u=new Me,this.h=new Me,this.C=_S(this.l),this.g=null,this.m=!1,this.J=this.I=this.H=this.F=this.D=0,this.j=null,this.u.o(r,"loading",(function(){a.g&&LS(a.g),PS(a)})),this.u.o(r,"spatialvideoinfo",(function(t){switch((t=t.detail).projection){case"rect":a.j=null;break;case"equi":a.j="equirectangular";break;case"hequ":switch(t.hfov){case 360:a.j="equirectangular";break;case 180:a.j="halfequirectangular";break;default:null==t.hfov?a.j="halfequirectangular":a.j=null}break;case"fish":a.j="halfequirectangular";break;default:a.j=null}PS(a)})),this.u.o(r,"nospatialvideoinfo",(function(){a.j=null,PS(a)})),this.u.o(r,"unloading",(function(){a.j=null,PS(a)})),PS(this)}function PS(t){if(t.A.displayInVrMode||t.j){t.l||(t.l=document.createElement("canvas"),t.l.classList.add("shaka-vr-canvas-container"),t.G.parentElement.insertBefore(t.l,t.G.nextElementSibling),t.C=_S(t.l));var e=t.j||t.A.defaultVrProjectionMode;t.g?t.g.m!=e&&(t.h.Sa(),t.g.release(),DS(t,e)):(t.l.style.display="",DS(t,e),t.dispatchEvent(new z("vrstatuschanged",(new Map).set("newStatus",t.Xb()))))}else!t.A.displayInVrMode&&!t.j&&t.l&&t.g&&(t.l.style.display="none",t.h.Sa(),t.g.release(),t.g=null,t.dispatchEvent(new z("vrstatuschanged",(new Map).set("newStatus",t.Xb()))))}function DS(e,n){e.C&&e.l&&(e.g=new ES(e.G,e.K,e.l,e.C,n),function(e){e.h.o(e.i,"mousedown",(function(t){if(!e.m){var n=t.clientX;t=t.clientY,e.m=!0,e.D=n,e.F=t}})),navigator.maxTouchPoints>0&&e.h.o(e.i,"touchstart",(function(t){if(!e.m){var n=t.touches[0].clientX;t=t.touches[0].clientY,e.m=!0,e.D=n,e.F=t}})),e.h.o(e.i,"wheel",(function(t){if(!e.m){var n=e.g,r=t.deltaY;r/=50,n.j>=20&&n.j<=100&&(n.j+=r),n.j<20?n.j=20:n.j>100&&(n.j=100),IS(n,!1),t.preventDefault(),t.stopPropagation()}})),e.h.o(e.i,"mousemove",(function(t){e.m&&US(e,t.clientX,t.clientY)})),navigator.maxTouchPoints>0&&e.h.o(e.i,"touchmove",(function(t){e.m&&US(e,t.touches[0].clientX,t.touches[0].clientY),t.preventDefault()})),e.h.o(e.i,"mouseleave",(function(){e.m=!1})),e.h.o(e.i,"mouseup",(function(){e.m=!1})),navigator.maxTouchPoints>0&&e.h.o(e.i,"touchend",(function(){e.m=!1}));var n=!1;if(t.DeviceOrientationEvent)if("function"==typeof DeviceMotionEvent.requestPermission){var r=function(){DeviceMotionEvent.requestPermission().then((function(t){"granted"!==t||n||(n=!0,NS(e))}))};DeviceMotionEvent.requestPermission().then((function(t){e.h.Fa(e.i,"click",r),e.h.Fa(e.i,"mouseup",r),navigator.maxTouchPoints>0&&e.h.Fa(e.i,"touchend",r),"granted"!==t?(e.h.ua(e.i,"click",r),e.h.ua(e.i,"mouseup",r),navigator.maxTouchPoints>0&&e.h.ua(e.i,"touchend",r)):(n=!0,NS(e))})).catch((function(){e.h.Fa(e.i,"click",r),e.h.Fa(e.i,"mouseup",r),navigator.maxTouchPoints>0&&e.h.Fa(e.i,"touchend",r),e.h.ua(e.i,"click",r),e.h.ua(e.i,"mouseup",r),navigator.maxTouchPoints>0&&e.h.ua(e.i,"touchend",r)}))}else n=!0,NS(e)}(e))}function _S(t){if(!t)return null;var e=Lt().Oa();if("TV"==e||"CONSOLE"==e||"CAST"==e)return null;for(var n=(e=g(["webgl2","webgl"])).next();!n.done;n=e.next())if(n=t.getContext(n.value))return n;return null}function NS(e){e.h.o(t,"deviceorientation",(function(t){if(e.g){var n=(t.alpha||0)-e.H,r=(t.beta||0)-e.I,i=(t.gamma||0)-e.J;(Math.abs(n)>10||Math.abs(r)>10||Math.abs(i)>5)&&(r=i=n=0),e.H=t.alpha||0,e.I=t.beta||0,e.J=t.gamma||0,t=screen.orientation.angle,RS(e.g,n*BS*-1,90==t||-90==t?i*BS*-1:r*BS,0)}}))}function US(t,e,n){var r=-.6*Math.PI/180;RS(t.g,(e-t.D)*r,-1*(n-t.F)*r,0),t.D=e,t.F=n}h(YT,BT),YT.prototype.isPaused=function(){if(this.ad&&this.ad.isLinear())var t=this.ad.isPaused();else t=(t=this.controls).C.paused&&!t.V;return t},YT.prototype.isEnded=function(){return(!this.ad||!this.ad.isLinear())&&(!this.player||this.player.isEnded())},YT.prototype.g=function(){this.isEnded()&&this.video.duration?this.h.use("M480-80q-75 0-140.5-28.5t-114-77q-48.5-48.5-77-114T120-440q0-17 11.5-28.5T160-480q17 0 28.5 11.5T200-440q0 117 81.5 198.5T480-160q117 0 198.5-81.5T760-440q0-117-81.5-198.5T480-720h-6l34 34q12 12 11.5 28T508-630q-12 12-28.5 12.5T451-629L348-732q-12-12-12-28t12-28l103-103q12-12 28.5-11.5T508-890q11 12 11.5 28T508-834l-34 34h6q75 0 140.5 28.5t114 77q48.5 48.5 77 114T840-440q0 75-28.5 140.5t-77 114q-48.5 48.5-114 77T480-80Z"):this.h.use(this.isPaused()?"M320-273v-414q0-17 12-28.5t28-11.5q5 0 10.5 1.5T381-721l326 207q9 6 13.5 15t4.5 19q0 10-4.5 19T707-446L381-239q-5 3-10.5 4.5T360-233q-16 0-28-11.5T320-273Z":"M640-200q-33 0-56.5-23.5T560-280v-400q0-33 23.5-56.5T640-760q33 0 56.5 23.5T720-680v400q0 33-23.5 56.5T640-200Zm-320 0q-33 0-56.5-23.5T240-280v-400q0-33 23.5-56.5T320-760q33 0 56.5 23.5T400-680v400q0 33-23.5 56.5T320-200Z")},G("shaka.ui.PlayButton",YT),h(ZT,YT),ZT.prototype.g=function(){this.isEnded()?this.button.setAttribute("icon","replay"):this.isPaused()?this.button.setAttribute("icon","play"):this.button.setAttribute("icon","pause")},G("shaka.ui.BigPlayButton",ZT),h(QT,BT),G("shaka.ui.HiddenSeekButton",QT),h(tS,QT),G("shaka.ui.HiddenFastForwardButton",tS),h(eS,QT),G("shaka.ui.HiddenRewindButton",eS),h(nS,BT),(i=nS.prototype).release=function(){this.G&&(this.G.stop(),this.G=null),BT.prototype.release.call(this)},i.setRange=function(t,e){this.bar.min=t,this.bar.max=e},i.onChangeStart=function(){},i.onChange=function(){},i.onChangeEnd=function(){},i.changeTo=function(t){this.i||(this.i=!0,this.onChangeStart());var e=parseFloat(this.bar.min),n=parseFloat(this.bar.max);this.bar.value=t>n?n:t<e?e:t,this.onChange(),this.G.Y(.5)},i.getValue=function(){return parseFloat(this.bar.value)},i.setValue=function(t){this.i||(this.bar.value=t)},G("shaka.ui.RangeElement",nS),nS.prototype.setValue=nS.prototype.setValue,nS.prototype.getValue=nS.prototype.getValue,nS.prototype.changeTo=nS.prototype.changeTo,nS.prototype.onChangeEnd=nS.prototype.onChangeEnd,nS.prototype.onChange=nS.prototype.onChange,nS.prototype.onChangeStart=nS.prototype.onChangeStart,nS.prototype.setRange=nS.prototype.setRange,h(aS,nS),(i=aS.prototype).release=function(){this.C&&(this.C.stop(),this.C=null,this.D.stop(),this.D=null),nS.prototype.release.call(this)},i.onChangeStart=function(){this.M=!this.video.paused,this.controls.gi(!0),this.video.pause(),this.A.stop(),this.J=!0},i.onChange=function(){if(this.video.duration)if(this.update(),this.C.Y(.125),this.player.qh().length&&!this.controls.Kc()){var t=parseFloat(this.bar.min),e=parseFloat(this.bar.max),n=this.bar.getBoundingClientRect(),r=Math.round(this.getValue());dS(this,(r-t)/((e-t)/n.width),r)}else pS(this)},i.onChangeEnd=function(){this.C.Ka(),this.controls.gi(!1),this.M&&this.video.play(),this.J&&(this.J=!1,this.A.stop(),this.A.Y(.25))},i.isShowing=function(){return!this.container.classList.contains("shaka-hidden")},i.update=function(){var t=this.I.seekBarColors,e=this.getValue(),n=this.video.buffered.length,r=n?this.video.buffered.start(0):0,i=n?this.video.buffered.end(n-1):0,a=(n=this.player.wa()).end-n.start;this.setRange(n.start,n.end),uS(this)?(zT(this.container,!0),r=(Math.max(r,n.start)-n.start)/a||0,i=(Math.min(i,n.end)-n.start)/a||0,e=(Math.min(Math.max(e,n.start),n.end)-n.start)/a||0,this.container.style.background="linear-gradient("+["to right",(this.I.showUnbufferedStart?t.base:t.played)+" "+100*r+"%",t.played+" "+100*r+"%",t.played+" "+100*e+"%",t.buffered+" "+100*e+"%",t.buffered+" "+100*i+"%",t.base+" "+100*i+"%"].join()+")"):zT(this.container,!1)},G("shaka.ui.SeekBar",aS),fS.prototype.create=function(t,e){return new aS(t,e)},aS.Factory=fS,h(gS,BT),gS.prototype.release=function(){this.i.stop(),this.i=null,BT.prototype.release.call(this)},G("shaka.ui.SkipAdButton",gS),ES.prototype.release=function(){-1!=this.G&&(this.i.cancelVideoFrameCallback(this.G),this.G=-1),this.A&&(this.A.release(),this.A=null),this.C&&(this.C.stop(),this.C=null),this.K&&(this.K.stop(),this.K=null)},ES.prototype.$d=function(){(this.P=!this.P)||this.g.viewport(0,0,this.u.width,this.u.height),IS(this,!1)},h(OS,tt),(i=OS.prototype).release=function(){this.u&&(this.u.release(),this.u=null),this.h&&(this.h.release(),this.h=null),this.g&&(this.g.release(),this.g=null),tt.prototype.release.call(this)},i.configure=function(t){this.A=t,PS(this)},i.Lg=function(){return this.l?!!this.C:!!_S(document.createElement("canvas"))},i.Xb=function(){return!!this.g},i.$d=function(){this.g?this.g.$d():X("Not playing VR content")},i.Ah=function(t){this.g?RS(this.g,t*BS,0,0):X("Not playing VR content")},i.xh=function(t){this.g?RS(this.g,0,t*BS,0):X("Not playing VR content")},i.yh=function(t){this.g?RS(this.g,0,0,t*BS):X("Not playing VR content")};var BS=Math.PI/180;function jS(e,n,r,i,a){tt.call(this);var o=this;this.aa=!0,this.g=a,this.F=new Df(r,e,this.g.castReceiverAppId,this.g.castAndroidReceiverCompatible),this.sa=!0,this.C=this.F.Uc(),this.u=r,this.m=this.F.Wb(),this.ea=e,this.l=n,this.Ob=i,this.ra=this.m.uf(),this.A=this.j=null,this.V=!1,this.K=[],this.fb=[],this.Na=!1,this.L=new Wr((function(){o.l.classList.add("no-cursor"),o.Na=!1,XS(o)})),this.oa=new Wr((function(){o.i.removeAttribute("shown"),tE(o),$S(o),o.Z&&o.Z.Ni(),o.P.Y(o.g.closeMenusDelay)})),this.P=new Wr((function(){for(var t=g(o.K),e=t.next();!e.done;e=t.next())zT(e.value,!1);o.g.enableTooltips&&o.G.classList.add("shaka-tooltips-on")})),this.Ca=new Wr((function(){o.Da()&&nE(o)})),this.R=null,this.I=[],this.ya=function(){var t=new ye("en");return t.Xa("ar",new Map([["AD_DURATION","مدة الإعلان"],["AD_PROGRESS","الإعلان [AD_ON] من [NUM_ADS]"],["AD_STATISTICS","إحصاءات الإعلانات"],["AD_TIME","الإعلان: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","تلقائي"],["BACK","رجوع"],["CAPTIONS","الترجمة والشرح"],["CAST","إرسال..."],["CHAPTERS","الفصول"],["DOWNLOAD_VIDEO_FRAME","حفظ إطار الفيديو"],["ENTER_LOOP_MODE","تكرار الفيديو الحالي"],["ENTER_PICTURE_IN_PICTURE",'الدخول في وضع "نافذة ضمن نافذة"'],["EXIT_FULL_SCREEN","إنهاء وضع ملء الشاشة"],["EXIT_LOOP_MODE","إيقاف تكرار الفيديو الحالي"],["EXIT_PICTURE_IN_PICTURE",'الخروج من وضع "نافذة ضمن نافذة"'],["FAST_FORWARD","تقديم سريع"],["FULL_SCREEN","ملء الشاشة"],["LANGUAGE","اللغة"],["LIVE","مباشر"],["LOOP","تكرار"],["MORE_SETTINGS","مزيد من الإعدادات"],["MULTIPLE_LANGUAGES","لغات متعددة"],["MUTE","كتم الصوت"],["NOT_APPLICABLE","غير سارٍ"],["OFF","إيقاف"],["ON","تشغيل"],["PAUSE","إيقاف مؤقت"],["PICTURE_IN_PICTURE","نافذة ضمن النافذة"],["PLAY","التشغيل"],["PLAYBACK_RATE","سرعة التشغيل"],["QUALITY","الجودة"],["RECENTER_VR","إعادة التوسيط"],["REPLAY","إعادة التشغيل"],["RESOLUTION","درجة الدقة"],["REWIND","ترجيع"],["SEEK","البحث بالتمرير"],["SKIP_AD","تخطّي الإعلان"],["SKIP_TO_LIVE","الانتقال إلى بث مباشر"],["STATISTICS","الإحصاءات"],["SUBTITLE_FORCED","عرض إجباري"],["SURROUND","صوت محيطي"],["TOGGLE_STEREOSCOPIC","إيقاف العرض المجسّم أو تفعيله"],["UNDETERMINED_LANGUAGE","غير محدد"],["UNMUTE","إعادة الصوت"],["UNRECOGNIZED_LANGUAGE","غير معروف"],["VOLUME","مستوى الصوت"]])),t.Xa("de",new Map([["AD_DURATION","Dauer der Werbeanzeige"],["AD_PROGRESS","Werbung [AD_ON] von [NUM_ADS]"],["AD_STATISTICS","Anzeigenstatistiken"],["AD_TIME","Werbeanzeige: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatisch"],["BACK","Zurück"],["CAPTIONS","Untertitel"],["CAST","Streamen..."],["CHAPTERS","Kapitel"],["DOWNLOAD_VIDEO_FRAME","Videoframe speichern"],["ENTER_LOOP_MODE","In Endlosschleife spielen"],["ENTER_PICTURE_IN_PICTURE","Bild im Bild aktivieren"],["EXIT_FULL_SCREEN","Vollbildmodus beenden"],["EXIT_LOOP_MODE","Endlosschleife stoppen"],["EXIT_PICTURE_IN_PICTURE","Bild im Bild beenden"],["FAST_FORWARD","Vorspulen"],["FULL_SCREEN","Vollbildmodus"],["LANGUAGE","Sprache"],["LIVE","Live"],["LOOP","Schleife"],["MORE_SETTINGS","Weitere Einstellungen"],["MULTIPLE_LANGUAGES","Mehrere Sprachen"],["MUTE","Stummschalten"],["NOT_APPLICABLE","Nicht zutreffend"],["OFF","Aus"],["ON","Ein"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Bild im Bild"],["PLAY","Wiedergabe"],["PLAYBACK_RATE","Geschwindigkeit"],["QUALITY","Qualität"],["RECENTER_VR","Zentrieren"],["REPLAY","Noch einmal wiedergeben"],["RESOLUTION","Auflösung"],["REWIND","Zurückspulen"],["SEEK","Suche"],["SKIP_AD","Überspringen"],["SKIP_TO_LIVE","Zum Live-Videostream wechseln"],["STATISTICS","Statistiken"],["SUBTITLE_FORCED","Erzwungen"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Einstellung „stereoskopisch“ ein‑/ausschalten"],["UNDETERMINED_LANGUAGE","Unbestimmt"],["UNMUTE","Stummschaltung aufheben"],["UNRECOGNIZED_LANGUAGE","Unbekannt"],["VOLUME","Lautstärke"]])),t.Xa("en",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_STATISTICS","Ad statistics"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["CHAPTERS","Chapters"],["DOWNLOAD_VIDEO_FRAME","Save video frame"],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter Picture-in-Picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit Picture-in-Picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["RECENTER_VR","Recenter"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip Ad"],["SKIP_NEXT","Next"],["SKIP_PREVIOUS","Previous"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Toggle stereoscopic"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognized"],["VOLUME","Volume"]])),t.Xa("en-GB",new Map([["AD_DURATION","Ad duration"],["AD_PROGRESS","Ad [AD_ON] of [NUM_ADS]"],["AD_STATISTICS","Ad statistics"],["AD_TIME","Ad: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Auto"],["BACK","Back"],["CAPTIONS","Captions"],["CAST","Cast..."],["CHAPTERS","Chapters"],["DOWNLOAD_VIDEO_FRAME","Save video frame"],["ENTER_LOOP_MODE","Loop the current video"],["ENTER_PICTURE_IN_PICTURE","Enter picture-in-picture"],["EXIT_FULL_SCREEN","Exit full screen"],["EXIT_LOOP_MODE","Stop looping the current video"],["EXIT_PICTURE_IN_PICTURE","Exit picture-in-picture"],["FAST_FORWARD","Fast-forward"],["FULL_SCREEN","Full screen"],["LANGUAGE","Language"],["LIVE","Live"],["LOOP","Loop"],["MORE_SETTINGS","More settings"],["MULTIPLE_LANGUAGES","Multiple languages"],["MUTE","Mute"],["NOT_APPLICABLE","Not applicable"],["OFF","Off"],["ON","On"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Play"],["PLAYBACK_RATE","Playback speed"],["QUALITY","Quality"],["RECENTER_VR","Recentre"],["REPLAY","Replay"],["RESOLUTION","Resolution"],["REWIND","Rewind"],["SEEK","Seek"],["SKIP_AD","Skip ad"],["SKIP_TO_LIVE","Skip ahead to live"],["STATISTICS","Statistics"],["SUBTITLE_FORCED","Forced"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Toggle stereoscopic"],["UNDETERMINED_LANGUAGE","Undetermined"],["UNMUTE","Unmute"],["UNRECOGNIZED_LANGUAGE","Unrecognised"],["VOLUME","volume"]])),t.Xa("es",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estadísticas del anuncio"],["AD_TIME","Anuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Enviar..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Guardar fotograma"],["ENTER_LOOP_MODE","Reproducir en bucle el vídeo actual"],["ENTER_PICTURE_IN_PICTURE","Activar el modo imagen en imagen"],["EXIT_FULL_SCREEN","Salir del modo de pantalla completa"],["EXIT_LOOP_MODE","Dejar de reproducir en bucle el vídeo actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo imagen en imagen"],["FAST_FORWARD","Avanzar rápidamente"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Reproducir en bucle"],["MORE_SETTINGS","Más ajustes"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Imagen en imagen"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["QUALITY","Calidad"],["RECENTER_VR","Volver a centrar"],["REPLAY","Volver a reproducir"],["RESOLUTION","Resolución"],["REWIND","Rebobinar"],["SEEK","Buscar"],["SKIP_AD","Saltar anuncio"],["SKIP_NEXT","Siguiente"],["SKIP_PREVIOUS","Anterior"],["SKIP_TO_LIVE","Ir al vídeo en directo"],["STATISTICS","Estadísticas"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Envolvente"],["TOGGLE_STEREOSCOPIC","Activar/Desactivar estereoscópica"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Activar sonido"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),t.Xa("es-419",new Map([["AD_DURATION","Duración del anuncio"],["AD_PROGRESS","Anuncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estadísticas de anuncios"],["AD_TIME","Anuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automático"],["BACK","Atrás"],["CAPTIONS","Subtítulos"],["CAST","Transmitir..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Guardar fotograma"],["ENTER_LOOP_MODE","Repetir indefinidamente el video actual"],["ENTER_PICTURE_IN_PICTURE","Ingresar al modo de pantalla en pantalla"],["EXIT_FULL_SCREEN","Salir de pantalla completa"],["EXIT_LOOP_MODE","Detener la repetición indefinida del video actual"],["EXIT_PICTURE_IN_PICTURE","Salir del modo de pantalla en pantalla"],["FAST_FORWARD","Avanzar"],["FULL_SCREEN","Pantalla completa"],["LANGUAGE","Idioma"],["LIVE","En directo"],["LOOP","Repetir indefinidamente"],["MORE_SETTINGS","Más opciones de configuración"],["MULTIPLE_LANGUAGES","Varios idiomas"],["MUTE","Silenciar"],["NOT_APPLICABLE","No aplicable"],["OFF","Desactivado"],["ON","Activado"],["PAUSE","Detener"],["PICTURE_IN_PICTURE","Pantalla en pantalla"],["PLAY","Reproducir"],["PLAYBACK_RATE","Velocidad de reproducción"],["QUALITY","Calidad"],["RECENTER_VR","Volver a centrar"],["REPLAY","Volver a reproducir"],["RESOLUTION","Resolución"],["REWIND","Retroceder"],["SEEK","Buscar"],["SKIP_AD","Omitir anuncio"],["SKIP_TO_LIVE","Adelantar hasta la transmisión en vivo"],["STATISTICS","Estadísticas"],["SUBTITLE_FORCED","Forzado"],["SURROUND","Sonido envolvente"],["TOGGLE_STEREOSCOPIC","Activar o desactivar el modo estereoscópico"],["UNDETERMINED_LANGUAGE","Sin especificar"],["UNMUTE","Dejar de silenciar"],["UNRECOGNIZED_LANGUAGE","No reconocida"],["VOLUME","Volumen"]])),t.Xa("fr",new Map([["AD_DURATION","Durée de l'annonce"],["AD_PROGRESS","Annonce [AD_ON] sur [NUM_ADS]"],["AD_STATISTICS","Statistiques sur les annonces"],["AD_TIME","Annonce : [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatique"],["BACK","Retour"],["CAPTIONS","Sous-titres"],["CAST","Caster…"],["CHAPTERS","Chapitres"],["DOWNLOAD_VIDEO_FRAME","Télécharger l'image de la vidéo"],["ENTER_LOOP_MODE","Lire en boucle la vidéo en cours"],["ENTER_PICTURE_IN_PICTURE","Utiliser le mode Picture-in-Picture"],["EXIT_FULL_SCREEN","Quitter le mode plein écran"],["EXIT_LOOP_MODE","Arrêter la lecture en boucle de la vidéo en cours"],["EXIT_PICTURE_IN_PICTURE","Quitter le mode PIP (Picture-in-picture)"],["FAST_FORWARD","Avance rapide"],["FULL_SCREEN","Plein écran"],["LANGUAGE","Langue"],["LIVE","En direct"],["LOOP","Répéter"],["MORE_SETTINGS","Plus de paramètres"],["MULTIPLE_LANGUAGES","Plusieurs langues"],["MUTE","Couper le son"],["NOT_APPLICABLE","Non applicable"],["OFF","Désactivée"],["ON","Activée"],["PAUSE","Pause"],["PICTURE_IN_PICTURE","Picture-in-Picture"],["PLAY","Visionner"],["PLAYBACK_RATE","Vitesse de lecture"],["QUALITY","Qualité"],["RECENTER_VR","Recentrer"],["REPLAY","Revoir"],["RESOLUTION","Résolution"],["REWIND","Retour arrière"],["SEEK","Chercher"],["SKIP_AD","Passer l'annonce"],["SKIP_NEXT","Suivante"],["SKIP_PREVIOUS","Précédente"],["SKIP_TO_LIVE","Accéder à la partie la plus récente du direct"],["STATISTICS","Statistiques"],["SUBTITLE_FORCED","Forcé"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Activer/Désactiver le mode stéréoscopique"],["UNDETERMINED_LANGUAGE","Langue indéterminée"],["UNMUTE","Réactiver le son"],["UNRECOGNIZED_LANGUAGE","Non reconnu"],["VOLUME","Volume"]])),t.Xa("it",new Map([["AD_DURATION","Durata dell'annuncio"],["AD_PROGRESS","Annuncio [AD_ON] di [NUM_ADS]"],["AD_STATISTICS","Statistiche sugli annunci"],["AD_TIME","Annuncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatica"],["BACK","Indietro"],["CAPTIONS","Sottotitoli"],["CAST","Trasmetti..."],["CHAPTERS","Capitoli"],["DOWNLOAD_VIDEO_FRAME","Salva fotogramma"],["ENTER_LOOP_MODE","Riproduci in loop il video corrente"],["ENTER_PICTURE_IN_PICTURE","Attiva Picture in picture"],["EXIT_FULL_SCREEN","Esci da schermo intero"],["EXIT_LOOP_MODE","Interrompi riproduzione in loop del video corrente"],["EXIT_PICTURE_IN_PICTURE","Esci da Picture in picture"],["FAST_FORWARD","Avanti veloce"],["FULL_SCREEN","Schermo intero"],["LANGUAGE","Lingua"],["LIVE","Dal vivo"],["LOOP","Riproduci in loop"],["MORE_SETTINGS","Altre impostazioni"],["MULTIPLE_LANGUAGES","Più lingue"],["MUTE","Disattiva audio"],["NOT_APPLICABLE","Non applicabile"],["OFF","Disattivo"],["ON","Attivo"],["PAUSE","Metti in pausa"],["PICTURE_IN_PICTURE","Picture in picture"],["PLAY","Riproduci"],["PLAYBACK_RATE","Velocità di riproduzione"],["QUALITY","Qualità"],["RECENTER_VR","Ricentra"],["REPLAY","Riproduci di nuovo"],["RESOLUTION","Risoluzione"],["REWIND","Riavvolgi"],["SEEK","Cerca"],["SKIP_AD","Salta annuncio"],["SKIP_TO_LIVE","Passa alla trasmissione dal vivo"],["STATISTICS","Statistiche"],["SUBTITLE_FORCED","Forzata"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Pulsante di attivazione/disattivazione stereoscopico"],["UNDETERMINED_LANGUAGE","Indeterminata"],["UNMUTE","Riattiva audio"],["UNRECOGNIZED_LANGUAGE","Non riconosciuto"],["VOLUME","Volume"]])),t.Xa("ja",new Map([["AD_DURATION","広告再生時間"],["AD_PROGRESS","[AD_ON] 番目の広告（全 [NUM_ADS] 個）"],["AD_STATISTICS","広告の統計情報"],["AD_TIME","広告: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自動"],["BACK","戻る"],["CAPTIONS","字幕"],["CAST","キャスト..."],["CHAPTERS","章"],["DOWNLOAD_VIDEO_FRAME","動画フレームを保存"],["ENTER_LOOP_MODE","現在の動画をループ再生"],["ENTER_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを開始"],["EXIT_FULL_SCREEN","全画面表示を終了"],["EXIT_LOOP_MODE","現在の動画のループ再生を停止"],["EXIT_PICTURE_IN_PICTURE","ピクチャー イン ピクチャーを終了"],["FAST_FORWARD","早送り"],["FULL_SCREEN","全画面表示"],["LANGUAGE","言語"],["LIVE","ライブ"],["LOOP","ループ"],["MORE_SETTINGS","詳細設定"],["MULTIPLE_LANGUAGES","多言語"],["MUTE","ミュート"],["NOT_APPLICABLE","該当なし"],["OFF","オフ"],["ON","オン"],["PAUSE","一時停止"],["PICTURE_IN_PICTURE","ピクチャー イン ピクチャー"],["PLAY","再生"],["PLAYBACK_RATE","再生速度"],["QUALITY","品質"],["RECENTER_VR","中心を再設定"],["REPLAY","もう一度再生"],["RESOLUTION","解像度"],["REWIND","巻き戻し"],["SEEK","シーク再生"],["SKIP_AD","広告をスキップ"],["SKIP_TO_LIVE","ライブ配信までスキップ"],["STATISTICS","統計情報"],["SUBTITLE_FORCED","強制"],["SURROUND","サラウンド"],["TOGGLE_STEREOSCOPIC","立体画像を切り替える"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","ミュートを解除"],["UNRECOGNIZED_LANGUAGE","不明"],["VOLUME","音量"]])),t.Xa("ko",new Map([["AD_DURATION","광고 기간"],["AD_PROGRESS","광고 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","광고 통계"],["AD_TIME","광고: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","자동"],["BACK","뒤로"],["CAPTIONS","자막"],["CAST","전송..."],["CHAPTERS","장"],["DOWNLOAD_VIDEO_FRAME","동영상 프레임 저장"],["ENTER_LOOP_MODE","현재 동영상 반복 재생"],["ENTER_PICTURE_IN_PICTURE","PIP 모드 시작"],["EXIT_FULL_SCREEN","전체화면 닫기"],["EXIT_LOOP_MODE","현재 동영상 반복 재생 중지"],["EXIT_PICTURE_IN_PICTURE","PIP 모드 종료"],["FAST_FORWARD","빨리 감기"],["FULL_SCREEN","전체화면"],["LANGUAGE","언어"],["LIVE","실시간"],["LOOP","반복 재생"],["MORE_SETTINGS","설정 더보기"],["MULTIPLE_LANGUAGES","여러 언어"],["MUTE","음소거"],["NOT_APPLICABLE","해당 사항 없음"],["OFF","사용 안함"],["ON","사용"],["PAUSE","일시중지"],["PICTURE_IN_PICTURE","PIP 모드"],["PLAY","재생"],["PLAYBACK_RATE","재생 속도"],["QUALITY","품질"],["RECENTER_VR","중심 재설정"],["REPLAY","다시보기"],["RESOLUTION","해상도"],["REWIND","되감기"],["SEEK","찾기"],["SKIP_AD","광고 건너뛰기"],["SKIP_TO_LIVE","라이브 동영상으로 건너뛰기"],["STATISTICS","통계"],["SUBTITLE_FORCED","강제"],["SURROUND","서라운드"],["TOGGLE_STEREOSCOPIC","입체 보기 전환"],["UNDETERMINED_LANGUAGE","미정"],["UNMUTE","음소거 해제"],["UNRECOGNIZED_LANGUAGE","알 수 없음"],["VOLUME","볼륨"]])),t.Xa("nl",new Map([["AD_DURATION","Advertentieduur"],["AD_PROGRESS","Advertentie [AD_ON] van [NUM_ADS]"],["AD_STATISTICS","Advertentiestatistieken"],["AD_TIME","Advertentie: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatisch"],["BACK","Terug"],["CAPTIONS","Ondertiteling"],["CAST","Casten..."],["CHAPTERS","Hoofdstukken"],["DOWNLOAD_VIDEO_FRAME","Videoframe opslaan"],["ENTER_LOOP_MODE","De huidige video lussen"],["ENTER_PICTURE_IN_PICTURE","Scherm-in-scherm openen"],["EXIT_FULL_SCREEN","Volledig scherm sluiten"],["EXIT_LOOP_MODE","De huidige video niet meer lussen"],["EXIT_PICTURE_IN_PICTURE","Scherm-in-scherm afsluiten"],["FAST_FORWARD","Vooruitspoelen"],["FULL_SCREEN","Volledig scherm"],["LANGUAGE","Taal"],["LIVE","Live"],["LOOP","Lussen"],["MORE_SETTINGS","Meer instellingen"],["MULTIPLE_LANGUAGES","Meerdere talen"],["MUTE","Geluid uitzetten"],["NOT_APPLICABLE","Niet van toepassing"],["OFF","Uit"],["ON","Aan"],["PAUSE","Onderbreken"],["PICTURE_IN_PICTURE","Scherm-in-scherm"],["PLAY","Afspelen"],["PLAYBACK_RATE","Afspeelsnelheid"],["QUALITY","Kwaliteit"],["RECENTER_VR","Opnieuw centreren"],["REPLAY","Opnieuw afspelen"],["RESOLUTION","Resolutie"],["REWIND","Terugspoelen"],["SEEK","Zoeken"],["SKIP_AD","Advertentie overslaan"],["SKIP_TO_LIVE","Doorgaan naar live"],["STATISTICS","Statistieken"],["SUBTITLE_FORCED","Afgedwongen"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Stereoscopisch aan-/uitzetten"],["UNDETERMINED_LANGUAGE","Onbepaald"],["UNMUTE","Geluid aanzetten"],["UNRECOGNIZED_LANGUAGE","Onbekend"],["VOLUME","Volume"]])),t.Xa("pl",new Map([["AD_DURATION","Czas trwania reklamy"],["AD_PROGRESS","Reklama [AD_ON] z [NUM_ADS]"],["AD_STATISTICS","Statystyki reklam"],["AD_TIME","Reklama: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automatycznie"],["BACK","Wstecz"],["CAPTIONS","Napisy"],["CAST","Przesyłaj..."],["CHAPTERS","Rozdziały"],["DOWNLOAD_VIDEO_FRAME","Zapisz klatkę filmu"],["ENTER_LOOP_MODE","Odtwarzaj bieżący film w pętli"],["ENTER_PICTURE_IN_PICTURE","Włącz tryb obrazu w obrazie"],["EXIT_FULL_SCREEN","Zamknij pełny ekran"],["EXIT_LOOP_MODE","Wyłącz odtwarzanie bieżącego filmu w pętli"],["EXIT_PICTURE_IN_PICTURE","Wyłącz tryb obrazu w obrazie"],["FAST_FORWARD","Przewiń do przodu"],["FULL_SCREEN","Pełny ekran"],["LANGUAGE","Język"],["LIVE","Na żywo"],["LOOP","Odtwarzaj w pętli"],["MORE_SETTINGS","Więcej ustawień"],["MULTIPLE_LANGUAGES","Wiele języków"],["MUTE","Wycisz"],["NOT_APPLICABLE","Nie dotyczy"],["OFF","Wyłączone"],["ON","Włączone"],["PAUSE","Wstrzymaj"],["PICTURE_IN_PICTURE","Obraz w obrazie"],["PLAY","Odtwórz"],["PLAYBACK_RATE","Szybkość odtwarzania"],["QUALITY","Jakość"],["RECENTER_VR","Wyśrodkuj"],["REPLAY","Odtwórz ponownie"],["RESOLUTION","Rozdzielczość"],["REWIND","Przewiń do tyłu"],["SEEK","Szukaj"],["SKIP_AD","Pomiń reklamę"],["SKIP_NEXT","Dalej"],["SKIP_PREVIOUS","Poprzedni"],["SKIP_TO_LIVE","Przejdź do transmisji na żywo"],["STATISTICS","Statystyki"],["SUBTITLE_FORCED","Wymuszone"],["SURROUND","Przestrzenny"],["TOGGLE_STEREOSCOPIC","Przełącz tryb stereoskopowy"],["UNDETERMINED_LANGUAGE","Nie określono"],["UNMUTE","Wyłącz wyciszenie"],["UNRECOGNIZED_LANGUAGE","Nierozpoznany"],["VOLUME","Głośność"]])),t.Xa("pt-BR",new Map([["AD_DURATION","Duração do anúncio"],["AD_PROGRESS","Anúncio [AD_ON] de [NUM_ADS]"],["AD_STATISTICS","Estatísticas de anúncios"],["AD_TIME","Anúncio: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Automática"],["BACK","Voltar"],["CAPTIONS","Legendas"],["CAST","Transmitir..."],["CHAPTERS","Capítulos"],["DOWNLOAD_VIDEO_FRAME","Salvar frame do vídeo"],["ENTER_LOOP_MODE","Repetir o vídeo atual"],["ENTER_PICTURE_IN_PICTURE","Entrar no modo picture-in-picture"],["EXIT_FULL_SCREEN","Sair do modo tela cheia"],["EXIT_LOOP_MODE","Parar repetição do vídeo atual"],["EXIT_PICTURE_IN_PICTURE","Sair de picture-in-picture"],["FAST_FORWARD","Avançar"],["FULL_SCREEN","Tela cheia"],["LANGUAGE","Idioma"],["LIVE","Ao vivo"],["LOOP","Repetir"],["MORE_SETTINGS","Mais definições"],["MULTIPLE_LANGUAGES","Vários idiomas"],["MUTE","Desativar som"],["NOT_APPLICABLE","Não relevante"],["OFF","Desativado"],["ON","Ativado"],["PAUSE","Pausar"],["PICTURE_IN_PICTURE","Picture-in-picture"],["PLAY","Reproduzir"],["PLAYBACK_RATE","Velocidade da reprodução"],["QUALITY","Qualidade"],["RECENTER_VR","Centralizar"],["REPLAY","Repetir"],["RESOLUTION","Resolução"],["REWIND","Voltar"],["SEEK","Procurar"],["SKIP_AD","Pular anúncio"],["SKIP_TO_LIVE","Pular para transmissão ao vivo"],["STATISTICS","Estatísticas"],["SUBTITLE_FORCED","Exibição forçada"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Alternar imagem estereoscópica"],["UNDETERMINED_LANGUAGE","Indeterminado"],["UNMUTE","Ativar som"],["UNRECOGNIZED_LANGUAGE","Não reconhecido"],["VOLUME","Volume"]])),t.Xa("ru",new Map([["AD_DURATION","Продолжительность рекламы"],["AD_PROGRESS","Реклама [AD_ON] из [NUM_ADS]"],["AD_STATISTICS","Статистика объявлений"],["AD_TIME","Реклама: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Авто"],["BACK","Назад"],["CAPTIONS","Субтитры"],["CAST","Транслировать..."],["CHAPTERS","Эпизоды"],["DOWNLOAD_VIDEO_FRAME","Сохранить кадр видео"],["ENTER_LOOP_MODE","Зациклить текущее видео"],["ENTER_PICTURE_IN_PICTURE",'Перейти в режим "Картинка в картинке"'],["EXIT_FULL_SCREEN","Обычный режим"],["EXIT_LOOP_MODE","Отменить зацикливание текущего видео"],["EXIT_PICTURE_IN_PICTURE",'Выйти из режима "Картинка в картинке"'],["FAST_FORWARD","Перемотка вперед"],["FULL_SCREEN","Полноэкранный режим"],["LANGUAGE","Язык"],["LIVE","Прямой эфир"],["LOOP","Зациклить"],["MORE_SETTINGS","Дополнительные настройки"],["MULTIPLE_LANGUAGES","Несколько языков"],["MUTE","Отключить звук"],["NOT_APPLICABLE","Неприменимо"],["OFF","Выкл."],["ON","Вкл."],["PAUSE","Пауза"],["PICTURE_IN_PICTURE","Картинка в картинке"],["PLAY","Воспроизвести"],["PLAYBACK_RATE","Скорость воспроизведения"],["QUALITY","Качество"],["RECENTER_VR","Центрировать заново"],["REPLAY","Повторить"],["RESOLUTION","Разрешение"],["REWIND","Перемотать назад"],["SEEK","Перемотка"],["SKIP_AD","Пропустить"],["SKIP_TO_LIVE","Пропустить и перейти к прямой трансляции"],["STATISTICS","Статистика"],["SUBTITLE_FORCED","Субтитры принудительно"],["SURROUND","Объемный звук"],["TOGGLE_STEREOSCOPIC","Включить или отключить стереоскопический режим"],["UNDETERMINED_LANGUAGE","Не указано"],["UNMUTE","Включить звук"],["UNRECOGNIZED_LANGUAGE","Не распознано"],["VOLUME","Громкость"]])),t.Xa("th",new Map([["AD_DURATION","ระยะเวลาโฆษณา"],["AD_PROGRESS","โฆษณา [AD_ON] จาก [NUM_ADS] รายการ"],["AD_STATISTICS","สถิติโฆษณา"],["AD_TIME","โฆษณา: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","อัตโนมัติ"],["BACK","กลับ"],["CAPTIONS","คำบรรยายแทนเสียง"],["CAST","แคสต์..."],["CHAPTERS","บท"],["DOWNLOAD_VIDEO_FRAME","บันทึกเฟรมวิดีโอ"],["ENTER_LOOP_MODE","วนซ้ำวิดีโอปัจจุบัน"],["ENTER_PICTURE_IN_PICTURE","เข้าสู่การแสดงภาพซ้อนภาพ"],["EXIT_FULL_SCREEN","ออกจากการแสดงแบบเต็มหน้าจอ"],["EXIT_LOOP_MODE","หยุดวนซ้ำวิดีโอปัจจุบัน"],["EXIT_PICTURE_IN_PICTURE","ออกจากการแสดงภาพซ้อนภาพ"],["FAST_FORWARD","กรอไปข้างหน้า"],["FULL_SCREEN","เต็มหน้าจอ"],["LANGUAGE","ภาษา"],["LIVE","สด"],["LOOP","ลูป"],["MORE_SETTINGS","การตั้งค่าเพิ่มเติม"],["MULTIPLE_LANGUAGES","หลายภาษา"],["MUTE","ปิดเสียง"],["NOT_APPLICABLE","ไม่เกี่ยวข้อง"],["OFF","ปิด"],["ON","เปิด"],["PAUSE","หยุดชั่วคราว"],["PICTURE_IN_PICTURE","การแสดงภาพซ้อนภาพ"],["PLAY","เล่น"],["PLAYBACK_RATE","ความเร็วในการเล่น"],["QUALITY","คุณภาพ"],["RECENTER_VR","จัดกึ่งกลางใหม่"],["REPLAY","เล่นซ้ำ"],["RESOLUTION","ความละเอียด"],["REWIND","กรอกลับ"],["SEEK","ค้นหา"],["SKIP_AD","ข้ามโฆษณา"],["SKIP_TO_LIVE","ข้ามไปที่การถ่ายทอดสด"],["STATISTICS","สถิติ"],["SUBTITLE_FORCED","บังคับ"],["SURROUND","เซอร์ราวด์"],["TOGGLE_STEREOSCOPIC","เปิด/ปิดฟีเจอร์สามมิติ"],["UNDETERMINED_LANGUAGE","ไม่กำหนด"],["UNMUTE","เปิดเสียง"],["UNRECOGNIZED_LANGUAGE","ที่ไม่รู้จัก"],["VOLUME","ระดับเสียง"]])),t.Xa("tr",new Map([["AD_DURATION","Reklam süresi"],["AD_PROGRESS","[AD_ON]/[NUM_ADS] reklam"],["AD_STATISTICS","Reklam istatistikleri"],["AD_TIME","Reklam: [AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","Otomatik"],["BACK","Geri"],["CAPTIONS","Altyazılar"],["CAST","Yayınla..."],["CHAPTERS","Bölümler"],["DOWNLOAD_VIDEO_FRAME","Video karesini kaydet"],["ENTER_LOOP_MODE","Mevcut videoyu döngüye al"],["ENTER_PICTURE_IN_PICTURE","Pencere içinde Pencere moduna gir"],["EXIT_FULL_SCREEN","Tam ekrandan çık"],["EXIT_LOOP_MODE","Mevcut videonun döngüsünü durdur"],["EXIT_PICTURE_IN_PICTURE","Pencere İçinde Pencereden Çık"],["FAST_FORWARD","İleri sar"],["FULL_SCREEN","Tam ekran"],["LANGUAGE","Dil"],["LIVE","Canlı"],["LOOP","Döngü"],["MORE_SETTINGS","Daha fazla ayar"],["MULTIPLE_LANGUAGES","Birden çok dil"],["MUTE","Sesi kapat"],["NOT_APPLICABLE","Geçerli değil"],["OFF","Kapalı"],["ON","Açık"],["PAUSE","Duraklat"],["PICTURE_IN_PICTURE","Pencere İçinde Pencere"],["PLAY","Oynat"],["PLAYBACK_RATE","Çalma hızı"],["QUALITY","Kalite"],["RECENTER_VR","Ortala"],["REPLAY","Tekrar Oynat"],["RESOLUTION","Çözünürlük"],["REWIND","Geri sar"],["SEEK","Ara"],["SKIP_AD","Reklamı Atla"],["SKIP_TO_LIVE","Canlı yayına atla"],["STATISTICS","İstatistikler"],["SUBTITLE_FORCED","Zorunlu"],["SURROUND","Surround"],["TOGGLE_STEREOSCOPIC","Stereoskopik modu aç/kapat"],["UNDETERMINED_LANGUAGE","Belirsiz"],["UNMUTE","Sesi aç"],["UNRECOGNIZED_LANGUAGE","Tanınmayan"],["VOLUME","Ses"]])),t.Xa("zh",new Map([["AD_DURATION","广告持续时间"],["AD_PROGRESS","广告 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","广告统计信息"],["AD_TIME","广告：[AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自动"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放…"],["CHAPTERS","章节"],["DOWNLOAD_VIDEO_FRAME","保存视频帧"],["ENTER_LOOP_MODE","循环播放当前视频"],["ENTER_PICTURE_IN_PICTURE","进入“画中画”模式"],["EXIT_FULL_SCREEN","退出全屏模式"],["EXIT_LOOP_MODE","停止循环播放当前视频"],["EXIT_PICTURE_IN_PICTURE","退出“画中画”模式"],["FAST_FORWARD","快进"],["FULL_SCREEN","全屏"],["LANGUAGE","语言"],["LIVE","直播"],["LOOP","循环播放"],["MORE_SETTINGS","更多设置"],["MULTIPLE_LANGUAGES","多种语言"],["MUTE","静音"],["NOT_APPLICABLE","不适用"],["OFF","关闭"],["ON","开启"],["PAUSE","暂停"],["PICTURE_IN_PICTURE","画中画"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["QUALITY","画质"],["RECENTER_VR","重新置中"],["REPLAY","重放"],["RESOLUTION","分辨率"],["REWIND","快退"],["SEEK","进度"],["SKIP_AD","跳过广告"],["SKIP_TO_LIVE","跳至当前直播"],["STATISTICS","统计信息"],["SUBTITLE_FORCED","已强制显示"],["SURROUND","环绕声"],["TOGGLE_STEREOSCOPIC","切换立体声"],["UNDETERMINED_LANGUAGE","未确定"],["UNMUTE","取消静音"],["UNRECOGNIZED_LANGUAGE","无法识别"],["VOLUME","音量"]])),t.Xa("zh-TW",new Map([["AD_DURATION","廣告長度"],["AD_PROGRESS","廣告 [AD_ON]/[NUM_ADS]"],["AD_STATISTICS","廣告統計資料"],["AD_TIME","廣告：[AD_TIME]"],["AIRPLAY","AirPlay"],["AUTO_QUALITY","自動"],["BACK","返回"],["CAPTIONS","字幕"],["CAST","投放..."],["CHAPTERS","章節"],["DOWNLOAD_VIDEO_FRAME","儲存影片影格"],["ENTER_LOOP_MODE","循環播放目前的影片"],["ENTER_PICTURE_IN_PICTURE","進入子母畫面"],["EXIT_FULL_SCREEN","退出全螢幕模式"],["EXIT_LOOP_MODE","停止循環播放目前的影片"],["EXIT_PICTURE_IN_PICTURE","離開子母畫面"],["FAST_FORWARD","快轉"],["FULL_SCREEN","全螢幕"],["LANGUAGE","語言"],["LIVE","直播"],["LOOP","循環播放"],["MORE_SETTINGS","顯示更多設定"],["MULTIPLE_LANGUAGES","多種語言"],["MUTE","靜音"],["NOT_APPLICABLE","不適用"],["OFF","關閉"],["ON","開啟"],["PAUSE","暫停"],["PICTURE_IN_PICTURE","子母畫面"],["PLAY","播放"],["PLAYBACK_RATE","播放速度"],["QUALITY","音質"],["RECENTER_VR","重新置中"],["REPLAY","重播"],["RESOLUTION","解析度"],["REWIND","倒轉"],["SEEK","搜尋"],["SKIP_AD","略過廣告"],["SKIP_TO_LIVE","跳至当前直播"],["STATISTICS","統計資料"],["SUBTITLE_FORCED","強制顯示"],["SURROUND","環場音效"],["TOGGLE_STEREOSCOPIC","切換立體影像"],["UNDETERMINED_LANGUAGE","不明"],["UNMUTE","取消靜音"],["UNRECOGNIZED_LANGUAGE","無法辨識"],["VOLUME","音量"]])),t.Ki(navigator.languages||[]),t}(),this.h=new Me,this.D=null,this.configure(this.g),function(e){e.h.o(e.m,"buffering",(function(){QS(e)})),QS(e),e.h.o(t,"keydown",(function(n){!function(e,n){e.W.add(n.key);var r=e.Kc();"Tab"==n.key&&(e.i.classList.add("shaka-keyboard-navigation"),XS(e),e.h.o(t,"mousedown",(function(){e.h.Fa(t,"mousedown")}))),"Escape"==n.key&&e.P.Ka(),r&&e.W.has("Tab")&&function(t,e){var n=t.K.filter((function(t){return!t.classList.contains("shaka-hidden")}));if(n.length){var r=n[0];if(r.childNodes.length){for(n=r.firstElementChild;n&&n.classList.contains("shaka-hidden");)n=n.nextElementSibling;for(r=r.lastElementChild;r&&r.classList.contains("shaka-hidden");)r=r.previousElementSibling;var i=document.activeElement;t.W.has("Shift")?i==n&&(e.preventDefault(),r.focus()):i==r&&(e.preventDefault(),n.focus())}}}(e,n)}(e,n)})),e.h.o(t,"click",(function(){return e.Vc()})),e.h.o(e,"submenuopen",(function(){e.Vc()})),e.h.o(e.C,"play",(function(){XS(e)})),e.h.o(e.C,"pause",(function(){XS(e)})),e.h.o(e.l,"mousemove",(function(t){WS(e,t)})),e.h.o(e.l,"touchmove",(function(t){WS(e,t)}),{passive:!0}),e.h.o(e.l,"touchend",(function(t){WS(e,t)}),{passive:!0}),e.h.o(e.l,"mouseleave",(function(){e.R||e.L.Ka()})),e.h.o(e.l,"wheel",(function(t){WS(e,t)}),{passive:!0}),e.h.o(e.F,"caststatuschanged",(function(){JS(e)})),e.h.o(e.D,"vrstatuschanged",(function(){e.dispatchEvent(new z("vrstatuschanged"))})),e.h.o(e.l,"keydown",(function(t){e.g.enableKeyboardPlaybackControlsInWindow||e.wb()||ZS(e,t)})),e.h.o(e.l,"keyup",(function(t){e.g.enableKeyboardPlaybackControlsInWindow||e.wb()||e.W.delete(t.key)})),e.h.o(t,"keydown",(function(t){(e.g.enableKeyboardPlaybackControlsInWindow||e.wb())&&ZS(e,t)})),e.h.o(t,"keyup",(function(t){(e.g.enableKeyboardPlaybackControlsInWindow||e.wb())&&e.W.delete(t.key)})),e.h.o(e.ra,"ad-started",(function(t){e.j=t.ad,e.Rj(),QS(e)})),e.h.o(e.ra,"ad-stopped",(function(){e.j=null,e.aj(),QS(e)})),screen.orientation&&e.h.o(screen.orientation,"change",(function(){return P((function(t){return w(t,function(t){return P((function(e){return t.C&&0!=t.C.readyState&&!t.F.Qa()&&t.g.enableFullscreenOnRotation&&t.we()?screen.orientation.type.includes("landscape")&&!t.wb()?w(e,zS(t),0):screen.orientation.type.includes("portrait")&&t.wb()?w(e,HS(t),0):e.B(0):e.return()}))}(e),0)}))}))}(this),function(e){if(e.g.setupMediaSession&&navigator.mediaSession){var n=function(t,e){try{navigator.mediaSession.setActionHandler(t,(function(t){e(t)}))}catch(t){}},r=function(){if(e.j&&e.j.isLinear())i();else{var t=e.m.wa(),n=t.end-t.start;t=parseFloat((e.C.currentTime-t.start).toFixed(2)),e.m.U()&&Math.abs(n-t)<1&&(n=1/0);try{navigator.mediaSession.setPositionState({duration:Math.max(0,n),playbackRate:e.C.playbackRate,position:Math.max(0,t)})}catch(t){}}},i=function(){try{navigator.mediaSession.setPositionState()}catch(t){}},a=function(t){var n=e.g.keyboardSeekDistance;switch(t.action){case"pause":case"play":KS(e);break;case"seekbackward":if(t.seekOffset&&!isFinite(t.seekOffset))break;e.j&&e.j.isLinear()||eE(e,e.A.getValue()-(t.seekOffset||n));break;case"seekforward":if(t.seekOffset&&!isFinite(t.seekOffset))break;e.j&&e.j.isLinear()||eE(e,e.A.getValue()+(t.seekOffset||n));break;case"seekto":if(t.seekTime&&!isFinite(t.seekTime))break;e.j&&e.j.isLinear()||eE(e,e.m.wa().start+t.seekTime);break;case"stop":e.m.tc();break;case"enterpictureinpicture":e.j&&e.j.isLinear()||e.cd()}};n("pause",a),n("play",a),n("seekbackward",a),n("seekforward",a),n("seekto",a),n("stop",a),("documentPictureInPicture"in t||document.pictureInPictureEnabled)&&n("enterpictureinpicture",a),n=function(){e.m.U()||0!=e.m.wa().start?(r(),e.h.o(e.C,"timeupdate",r)):i()},e.m.aa&&n(),e.h.o(e.m,"loaded",n),e.h.o(e.m,"unloading",(function(){e.h.Fa(e.C,"timeupdate",r)})),e.h.o(e.m,"metadata",(function(t){var n,r;(t=t.payload)&&("TIT2"==t.key&&t.data&&(n=t.data),"APIC"==t.key&&"--\x3e"==t.mimeType&&(r=t.data),n&&(t={title:n,artwork:[]},navigator.mediaSession.metadata&&((t=navigator.mediaSession.metadata).title=n),navigator.mediaSession.metadata=new MediaMetadata(t)),r&&(r!=(n=e.u).poster&&(n.poster=r),n={title:"",artwork:[{src:r}]},navigator.mediaSession.metadata&&((n=navigator.mediaSession.metadata).artwork=[{src:r}]),navigator.mediaSession.metadata=new MediaMetadata(n)))}))}}(this),this.W=new Set,JS(this),this.Ca.xa(this.g.refreshTickInSeconds),this.h.o(this.ya,"locale-changed",(function(t){t=t.locales[0],o.ra.setLocale(t),o.l.setAttribute("lang",t)})),this.ra.initInterstitial(this.H,this.ea,this.u),this.h.o(this.m,"texttrackvisibility",(function(){$S(o)})),this.h.o(this.m,"unloading",(function(){o.j||(o.wb()&&HS(o),o.Md()&&o.cd())}))}function qS(t){for(var e=g(t.I),n=e.next();!n.done;n=e.next())n.value.release();t.I=[]}function FS(t,e){rE.set(t,e)}function VS(t){return!(!document.fullscreenEnabled||t.u.webkitSupportsFullscreen&&t.g.preferVideoFullScreenInVisionOS&&"APPLE_VR"==Lt().Oa())}function GS(e){return"documentPictureInPicture"in t&&e.g.preferDocumentPictureInPicture}function zS(t){var e,n;return P((function(r){switch(r.g){case 1:if(x(r,2),!VS(t)){(e=t.u).webkitSupportsFullscreen&&e.webkitEnterFullscreen(),r.B(4);break}if(!t.Md()){r.B(5);break}return w(r,t.cd(),6);case 6:if(!GS(t)){r.B(5);break}return w(r,new Promise((function(t){new Wr(t).Y(.05)})),5);case 5:return w(r,t.g.fullScreenElement.requestFullscreen({navigationUI:"hide"}),9);case 9:if(!t.g.forceLandscapeOnFullscreen||!screen.orientation){r.B(4);break}return x(r,11),w(r,screen.orientation.lock("landscape"),13);case 13:S(r,4,2);break;case 11:E(r,2);case 4:S(r,0);break;case 2:n=E(r),t.dispatchEvent(new z("error",(new Map).set("detail",n))),C(r)}}))}function HS(t){var e;return P((function(n){return VS(t)?(screen.orientation&&screen.orientation.unlock(),w(n,document.exitFullscreen(),0)):((e=t.u).webkitSupportsFullscreen&&e.webkitExitFullscreen(),n.B(0))}))}function KS(t){if(t.aa){if(t.j&&(t.j&&t.j.isPaused()?t.j.play():t.j&&t.j.pause(),t.j.isLinear()))return;t.C.duration&&(t.C.paused&&!t.V?(t.m.isEnded()&&(t.C.currentTime=t.m.wa().start),t.C.play()):t.C.pause())}}function WS(t,e){"mousemove"==e.type&&(t.i.classList.remove("shaka-keyboard-navigation"),XS(t)),"touchstart"==e.type||"touchmove"==e.type||"touchend"==e.type||"keyup"==e.type?t.R=Date.now():t.R+1e3<Date.now()&&(t.R=null),t.R&&"mousemove"==e.type||(t.l.classList.remove("no-cursor"),t.Na=!0,t.P.stop(),t.Da()||(nE(t),XS(t)),t.L.stop(),"touchend"!=e.type&&"wheel"!=e.type&&"keyup"!=e.type&&t.R||t.L.Y(3))}function $S(t){var e=t.l.getElementsByClassName("shaka-text-container")[0];e&&(t.Da()?e.style.bottom=t.O.clientHeight+"px":e.style.bottom="0px")}function XS(e){var n=!!e.j&&e.j.isPaused(),r=e.C.paused&&!e.V,i=e.i.classList.contains("shaka-keyboard-navigation");n||(!e.j||!e.j.isLinear())&&r||e.Na||i||function(e){return!!t.matchMedia("hover: hover").matches&&e.fb.some((function(t){return t.matches(":hover")}))}(e)?(nE(e),null==e.i.getAttribute("shown")&&(e.i.setAttribute("shown","true"),tE(e)),$S(e),e.oa.stop()):e.oa.Y(e.g.fadeDelay),e.Kc()&&e.G.classList.remove("shaka-tooltips-on")}function YS(t,e){e=void 0!==e&&e,t.aa&&!t.Xb()&&(t.Kc()?t.P.Ka():t.g.singleClickForPlayAndPause?KS(t):e&&t.Da()&&t.bj())}function JS(t){var e=t.F.Qa();t.dispatchEvent(new z("caststatuschanged",(new Map).set("newStatus",e))),e?null==t.i.getAttribute("casting")&&(t.i.setAttribute("casting","true"),tE(t)):null!=t.i.getAttribute("casting")&&(t.i.removeAttribute("casting"),tE(t))}function ZS(t,e){var n=document.activeElement,r=!(!n||!n.classList)&&n.classList.contains("shaka-volume-bar"),i=n&&n.classList&&n.classList.contains("shaka-seek-bar"),a=t.wb();if(n=t.i.contains(n),a=a||t.g.enableKeyboardPlaybackControlsInWindow,n&&WS(t,e),t.g.enableKeyboardPlaybackControls&&t.m.hd()){var o=t.g.keyboardSeekDistance,s=t.g.keyboardLargeSeekDistance;switch(e.key){case"ArrowLeft":t.A&&o>0&&(i||a)&&!r&&(e.preventDefault(),eE(t,t.A.getValue()-o));break;case"ArrowRight":t.A&&o>0&&(i||a)&&!r&&(e.preventDefault(),eE(t,t.A.getValue()+o));break;case"PageDown":t.A&&s>0&&(i||a)&&(e.preventDefault(),eE(t,t.A.getValue()-s));break;case"PageUp":t.A&&s>0&&(i||a)&&(e.preventDefault(),eE(t,t.A.getValue()+s));break;case"Home":t.A&&eE(t,t.m.wa().start);break;case"End":t.A&&eE(t,t.m.wa().end);break;case"c":t.m.Zd(!t.m.Wc());break;case"f":t.we()&&t.og();break;case"m":t.j&&t.j.isLinear()?t.j.setMuted(!t.j.isMuted()):t.u.muted=!t.u.muted;break;case"p":t.Ff()&&t.cd();break;case">":(e=t.g.playbackRates.indexOf(t.m.Za()))>-1&&e+1<t.g.playbackRates.length&&t.m.sc(t.g.playbackRates[e+1],!1);break;case"<":(e=t.g.playbackRates.indexOf(t.m.Za()))>-1&&e-1>=0&&t.m.sc(t.g.playbackRates[e-1],!1);break;case" ":(i||a&&!n)&&KS(t)}}}function QS(t){t.aa&&(t.j&&t.j.isClientRendering()&&t.j.isLinear()?zT(t.M,!1):zT(t.M,t.m.Df()))}function tE(t){t.Da()?t.dispatchEvent(new z("showingui")):t.dispatchEvent(new z("hidingui"))}function eE(t,e){t.C.currentTime=e,nE(t)}function nE(t){if(t.A)if(t.A.setValue(t.C.currentTime),t.A.update(),t.A.isShowing()){for(var e=g(t.K),n=e.next();!n.done;n=e.next())n.value.classList.remove("shaka-low-position");(e=t.G).classList.contains("shaka-tooltips-on")&&e.classList.remove("shaka-tooltips-low-position")}else{for(n=(e=g(t.K)).next();!n.done;n=e.next())n.value.classList.add("shaka-low-position");(e=t.G).classList.contains("shaka-tooltips-on")&&e.classList.add("shaka-tooltips-low-position")}t.dispatchEvent(new z("timeandseekrangeupdated"))}h(jS,tt),(i=jS.prototype).destroy=function(t){t=void 0!==t&&t;var e=this;return P((function(n){switch(n.g){case 1:if(document.pictureInPictureElement!=e.u){n.B(2);break}return w(n,document.exitPictureInPicture(),2);case 2:if(e.h&&(e.h.release(),e.h=null),e.L&&(e.L.stop(),e.L=null),e.oa&&(e.oa.stop(),e.oa=null),e.P&&(e.P.stop(),e.P=null),e.Ca&&(e.Ca.stop(),e.Ca=null),e.D&&(e.D.release(),e.D=null),qS(e),e.i&&(e.l.removeChild(e.i),e.i=null),!e.F){n.B(4);break}return w(n,e.F.destroy(t),5);case 5:e.F=null;case 4:if(e.M&&(e.l.removeChild(e.M),e.M=null),e.H&&(e.l.removeChild(e.H),e.H=null),e.J&&(e.l.removeChild(e.J),e.J=null),!e.ea){n.B(6);break}return w(n,e.ea.destroy(),7);case 7:e.ea=null;case 6:e.m=null,e.u=null,e.C=null,e.ya=null,e.W.clear(),function(t){if(t.g.setupMediaSession&&navigator.mediaSession){try{navigator.mediaSession.setPositionState()}catch(t){}(t=function(t){try{navigator.mediaSession.setActionHandler(t,null)}catch(t){}})("pause"),t("play"),t("seekbackward"),t("seekforward"),t("seekto"),t("stop"),t("enterpictureinpicture")}}(e),tt.prototype.release.call(e),C(n)}}))},i.jk=function(t){this.sa=t,JS(this)},i.Ll=function(){XS(this)},i.configure=function(t){var e=this;this.g=t,this.F.Li(t.castReceiverAppId,t.castAndroidReceiverCompatible),this.A&&(this.A=null),this.La&&(this.La=null),this.Z&&(this.Z=null),this.D&&this.D.configure(t),this.i?(ps(this.i),qS(this)):(function(t){t.i=ss("div"),t.i.classList.add("shaka-controls-container"),t.l.appendChild(t.i),t.l.setAttribute("shaka-controls","true"),t.h.o(t.i,"touchend",(function(e){t.C.duration&&(t.Da()?(t.R=Date.now(),YS(t,!0)):WS(t,e),e.cancelable&&e.preventDefault())})),t.h.o(t.i,"click",(function(){YS(t)})),t.h.o(t.i,"dblclick",(function(){t.g.doubleClickForFullscreen&&t.we()&&t.og()}))}(this),function(t){t.H=ss("div"),t.H.classList.add("shaka-client-side-ad-container"),zT(t.H,!1),t.h.o(t.H,"click",(function(){YS(t)})),t.l.appendChild(t.H),t.J=ss("div"),t.J.classList.add("shaka-server-side-ad-container"),zT(t.J,!1),t.h.o(t.J,"click",(function(){YS(t)})),t.l.appendChild(t.J)}(this),this.D=new OS(this.i,this.Ob,this.u,this.m,this.g)),this.l.classList.add("shaka-video-container"),this.u.classList.add("shaka-video"),function(t){var e=ss("div");e.classList.add("shaka-scrim-container"),t.i.appendChild(e)}(this),this.g.addBigPlayButton&&function(t){var e=ss("div");e.classList.add("shaka-play-button-container"),t.i.appendChild(e),t.La=new ZT(e,t),t.I.push(t.La)}(this),this.g.customContextMenu&&(this.Z=new WT(this.G,this),this.I.push(this.Z)),this.M||function(t){t.M=ss("div"),t.M.classList.add("shaka-spinner-container"),t.l.appendChild(t.M);var e=ss("div");e.classList.add("shaka-spinner"),t.M.appendChild(e),e.insertAdjacentHTML("beforeend",'<svg focusable="false" stroke="currentColor"\n         viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg"\n         width="50px" height="50px" class="q-spinner text-grey-9">\n      <g transform="translate(1 1)" stroke-width="6" fill="none"\n        fill-rule="evenodd">\n        <circle stroke-opacity=".5" cx="18" cy="18" r="16"></circle>\n        <path d="M34 18c0-9.94-8.06-16-16-16">\n          <animateTransform attributeName="transform" type="rotate"\n            from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite">\n          </animateTransform>\n        </path>\n      </g>\n    </svg>')}(this),this.g.seekOnTaps&&(function(t){var e=ss("div");e.classList.add("shaka-hidden-fast-forward-container"),t.i.appendChild(e),t.ib=new tS(e,t),t.I.push(t.ib)}(this),function(t){var e=ss("div");e.classList.add("shaka-hidden-rewind-container"),t.i.appendChild(e),t.jb=new eS(e,t),t.I.push(t.jb)}(this)),function(t){t.O=ss("div"),t.O.classList.add("shaka-bottom-controls"),t.O.classList.add("shaka-no-propagation"),t.i.appendChild(t.O),t.h.o(t.O,"click",(function(e){e.target.closest(".shaka-overflow-button")||t.Vc()})),function(t){t.S=ss("div"),t.S.classList.add("shaka-ad-controls");var e=null!=t.j&&t.j.isLinear();zT(t.S,e),t.O.appendChild(t.S),e=new gS(t.S,t),t.I.push(e)}(t),function(t){if(t.g.addSeekBar)t.A=iE.create(t.O,t),t.I.push(t.A);else{for(var e=g(t.K),n=e.next();!n.done;n=e.next())n.value.classList.add("shaka-low-position");(t=t.G).classList.contains("shaka-tooltips-on")&&t.classList.add("shaka-tooltips-low-position")}}(t),t.G=ss("div"),t.G.classList.add("shaka-controls-button-panel"),t.G.classList.add("shaka-show-controls-on-mouse-over"),t.g.enableTooltips&&t.G.classList.add("shaka-tooltips-on"),t.O.appendChild(t.G);for(var e=g(t.g.controlPanelElements),n=e.next();!n.done;n=e.next())if(n=n.value,rE.get(n)){var r=rE.get(n).create(t.G,t);t.I.push(r),"time_and_duration"==n&&(n=new KT(t.G,t),t.I.push(n))}else X("Unrecognized control panel element requested:",n)}(this),this.K=Array.from(this.l.getElementsByClassName("shaka-settings-menu")),this.K.push.apply(this.K,m(Array.from(this.l.getElementsByClassName("shaka-overflow-menu")))),this.fb=Array.from(this.l.getElementsByClassName("shaka-show-controls-on-mouse-over")),XS(this);for(var n=(t=g(this.l.getElementsByClassName("shaka-no-propagation"))).next();!n.done;n=t.next()){n=n.value;var r=function(t){return t.stopPropagation()};this.h.o(n,"click",r),this.h.o(n,"dblclick",r),navigator.maxTouchPoints>0&&this.h.o(n,"touchend",(function(t){e.Da()&&t.stopPropagation()}))}},i.ci=function(t){(this.aa=t)?(this.l.setAttribute("shaka-controls","true"),this.u.tabIndex=-1,this.u.controls=!1):this.l.removeAttribute("shaka-controls"),XS(this)},i.Lj=function(t){this.u.controls=t,this.u.tabIndex=t?0:-1,t&&this.ci(!1)},i.getAd=function(){return this.j},i.Ck=function(){return this.F},i.Uk=function(){return this.ya},i.xl=function(){return this.l},i.Uc=function(){return this.C},i.Tk=function(){return this.u},i.Wb=function(){return this.m},i.Sk=function(){return this.ea},i.Jk=function(){return this.i},i.il=function(){return this.J},i.Fk=function(){return this.H},i.Gk=function(){return this.g},i.Il=function(){return this.V},i.gi=function(t){(this.V=t)?this.L.stop():this.L.Y(3)},i.Cl=function(){return this.sa},i.ph=function(){return this.A?this.A.getValue():this.C.currentTime},i.Mj=function(t){this.R=t},i.Kc=function(){return this.K.some((function(t){return!t.classList.contains("shaka-hidden")}))},i.Vc=function(){this.P.Ka()},i.we=function(){return!this.F.Qa()&&!(!VS(this)&&(this.j&&this.j.isUsingAnotherMediaElement()||!this.u.webkitSupportsFullscreen))},i.wb=function(){if(VS(this))return!!document.fullscreenElement;var t=this.u;return!!t.webkitSupportsFullscreen&&t.webkitDisplayingFullscreen},i.og=function(){var t=this;return P((function(e){return t.wb()?w(e,HS(t),0):w(e,zS(t),0)}))},i.Ff=function(){return!this.F.Qa()&&(!(!document.pictureInPictureEnabled&&!GS(this))&&!this.u.disablePictureInPicture)},i.Md=function(){return!!(t.documentPictureInPicture&&t.documentPictureInPicture.window||document.pictureInPictureElement)},i.cd=function(){var e,n=this;return P((function(r){switch(r.g){case 1:if(x(r,2),GS(n)){if(!n.wb()){r.B(10);break}return w(r,HS(n),10)}return document.pictureInPictureElement?w(r,document.exitPictureInPicture(),5):(n.wb()&&HS(n),w(r,n.u.requestPictureInPicture(),5));case 10:return w(r,function(e){var n,r,i,a,o,s;return P((function(u){if(1==u.g)return t.documentPictureInPicture.window?(t.documentPictureInPicture.window.close(),u.return()):(n=e.l,r=n.getBoundingClientRect(),w(u,t.documentPictureInPicture.requestWindow({width:r.width,height:r.height}),2));(function(t){var e=[].concat(m(document.styleSheets)).map((function(e){try{return[].concat(m(e.cssRules)).map((function(t){return t.cssText})).join("")}catch(r){var n=document.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media,n.href=e.href,t.document.head.appendChild(n)}return""})).filter(Boolean).join("\n"),n=document.createElement("style");n.textContent=e,t.document.head.appendChild(n)})(i=u.h),a=n.parentNode||document.body,(o=e.l.cloneNode(!0)).style.visibility="hidden",o.style.height=getComputedStyle(n).height,a.appendChild(o),(s=document.createElement("style")).append("[data-shaka-player-container] {\n      width: 100% !important; max-height: 100%}"),i.document.head.append(s),i.document.body.append(n),e.h.ua(i,"pagehide",(function(){o.replaceWith(n)})),C(u)}))}(n),5);case 5:S(r,0);break;case 2:e=E(r),n.dispatchEvent(new z("error",(new Map).set("detail",e))),C(r)}}))},i.Rj=function(){zT(this.S,!0),zT(this.H,!0),zT(this.J,!0),this.j.hasCustomClick()?this.i.setAttribute("ad-active","true"):this.i.removeAttribute("ad-active")},i.aj=function(){zT(this.S,!1),zT(this.H,!1),zT(this.J,!1),this.i.removeAttribute("ad-active")},i.Da=function(){return!!this.aa&&(null!=this.i.getAttribute("shown")||null!=this.i.getAttribute("casting"))},i.ym=function(){WS(this,new Event("mousemove",{bubbles:!1,cancelable:!1}))},i.bj=function(){this.L.Ka()},i.Lg=function(){return this.D.Lg()},i.Xb=function(){return this.D.Xb()},i.vl=function(){var t=this.D;if(t.g){CS((t=t.g).h,t.F);var e=t.h;t=e[0];var n=e[1],r=e[2],i=r*r,a=(e=e[3])*e,o=t*t+n*n+i+a,s=t*e-n*r;s>.499995*o?(o=Math.PI/2,t=2*Math.atan2(n,t)):s<-.499995*o?(o=-Math.PI/2,t=2*Math.atan2(n,t)):(o=Math.asin(2*(t*r-e*n)),t=Math.atan2(2*(t*e+n*r),1-2*(i+a))),t=180*Math.acos(Math.cos(t)*Math.cos(o))/Math.PI}else X("Not playing VR content"),t=null;return t},i.ul=function(){var t=this.D;return t.g?t=t.g.j:(X("Not playing VR content"),t=null),t},i.wm=function(t){var e=this.D;e.g?(t<0?(X("Field of view should be greater than 0"),t=0):t>100&&(X("Field of view should be less than 100"),t=100),(e=e.g).j=t,IS(e,!1)):X("Not playing VR content")},i.$d=function(){this.D.$d()},i.Ah=function(t){this.D.Ah(t)},i.xh=function(t){this.D.xh(t)},i.yh=function(t){this.D.yh(t)},G("shaka.ui.Controls",jS),jS.prototype.incrementRoll=jS.prototype.yh,jS.prototype.incrementPitch=jS.prototype.xh,jS.prototype.incrementYaw=jS.prototype.Ah,jS.prototype.toggleStereoscopicMode=jS.prototype.$d,jS.prototype.setVRFieldOfView=jS.prototype.wm,jS.prototype.getVRFieldOfView=jS.prototype.ul,jS.prototype.getVRNorth=jS.prototype.vl,jS.prototype.isPlayingVR=jS.prototype.Xb,jS.prototype.canPlayVR=jS.prototype.Lg,jS.prototype.hideUI=jS.prototype.bj,jS.prototype.showUI=jS.prototype.ym,jS.prototype.isOpaque=jS.prototype.Da,jS.prototype.hideAdUI=jS.prototype.aj,jS.prototype.showAdUI=jS.prototype.Rj,jS.prototype.togglePiP=jS.prototype.cd,jS.prototype.isPiPEnabled=jS.prototype.Md,jS.prototype.isPiPAllowed=jS.prototype.Ff,jS.prototype.toggleFullScreen=jS.prototype.og,jS.prototype.isFullScreenEnabled=jS.prototype.wb,jS.prototype.isFullScreenSupported=jS.prototype.we,jS.prototype.hideSettingsMenus=jS.prototype.Vc,jS.prototype.anySettingsMenusAreOpen=jS.prototype.Kc,jS.prototype.setLastTouchEventTime=jS.prototype.Mj,jS.prototype.getDisplayTime=jS.prototype.ph,jS.prototype.isCastAllowed=jS.prototype.Cl,jS.prototype.setSeeking=jS.prototype.gi,jS.prototype.isSeeking=jS.prototype.Il,jS.prototype.getConfig=jS.prototype.Gk,jS.prototype.getClientSideAdContainer=jS.prototype.Fk,jS.prototype.getServerSideAdContainer=jS.prototype.il,jS.prototype.getControlsContainer=jS.prototype.Jk,jS.prototype.getLocalPlayer=jS.prototype.Sk,jS.prototype.getPlayer=jS.prototype.Wb,jS.prototype.getLocalVideo=jS.prototype.Tk,jS.prototype.getVideo=jS.prototype.Uc,jS.prototype.getVideoContainer=jS.prototype.xl,jS.prototype.getLocalization=jS.prototype.Uk,jS.prototype.getCastProxy=jS.prototype.Ck,jS.prototype.getAd=jS.prototype.getAd,jS.prototype.setEnabledNativeControls=jS.prototype.Lj,jS.prototype.setEnabledShakaControls=jS.prototype.ci,jS.prototype.configure=jS.prototype.configure,jS.prototype.loadComplete=jS.prototype.Ll,jS.prototype.allowCast=jS.prototype.jk,jS.registerSeekBar=function(t){iE=t},jS.registerElement=FS,jS.prototype.destroy=jS.prototype.destroy;var rE=new Map,iE=new fS;function aE(e,n){function r(){return uE(i)}BT.call(this,e,n);var i=this;this.m=this.controls.g,this.l=this.controls.i,this.u=this.controls.l,this.j=[],function(t){t.h=ls(),t.h.classList.add("shaka-overflow-menu-button"),t.h.classList.add("shaka-no-propagation"),t.h.classList.add("shaka-tooltip"),new jT(t.h).use("M433-80q-27 0-46.5-18T363-142l-9-66q-13-5-24.5-12T307-235l-62 26q-25 11-50 2t-39-32l-47-82q-14-23-8-49t27-43l53-40q-1-7-1-13.5v-27q0-6.5 1-13.5l-53-40q-21-17-27-43t8-49l47-82q14-23 39-32t50 2l62 26q11-8 23-15t24-12l9-66q4-26 23.5-44t46.5-18h94q27 0 46.5 18t23.5 44l9 66q13 5 24.5 12t22.5 15l62-26q25-11 50-2t39 32l47 82q14 23 8 49t-27 43l-53 40q1 7 1 13.5v27q0 6.5-2 13.5l53 40q21 17 27 43t-8 49l-48 82q-14 23-39 32t-50-2l-60-26q-11 8-23 15t-24 12l-9 66q-4 26-23.5 44T527-80h-94Zm49-260q58 0 99-41t41-99q0-58-41-99t-99-41q-59 0-99.5 41T342-480q0 58 40.5 99t99.5 41Z");var e=ss("span");e.classList.add("shaka-overflow-quality-mark"),e.style.display="none",t.h.appendChild(e),t.parent.appendChild(t.h)}(this),this.g=ss("div"),this.g.classList.add("shaka-overflow-menu"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-hidden"),this.l.appendChild(this.g),function(t){for(var e=g(t.m.overflowMenuButtons),n=e.next();!n.done;n=e.next())n=n.value,cE.get(n)?(n=cE.get(n),t.j.push(n.create(t.g,t.controls))):X("Unrecognized overflow menu element requested:",n)}(this),this.eventManager.o(this.localization,"locale-updated",(function(){sE(i)})),this.eventManager.o(this.localization,"locale-changed",(function(){sE(i)})),this.eventManager.o(this.adManager,"ad-started",(function(){i.ad&&i.ad.isLinear()&&zT(i.h,!1)})),this.eventManager.o(this.adManager,"ad-stopped",(function(){zT(i.h,!0)})),this.eventManager.o(this.controls,"submenuopen",(function(){zT(i.g,!1)})),this.eventManager.o(this.g,"touchstart",(function(t){i.controls.Mj(Date.now()),t.stopPropagation()})),this.eventManager.o(this.h,"click",(function(){i.controls.Da()&&function(t){if(t.controls.Kc())t.controls.Vc();else{zT(t.g,!0),XS(t.controls);var e=function(t){return 0==t.classList.contains("shaka-hidden")};nt(t.g.childNodes,e)&&rt(t.g.childNodes,e)[0].focus(),uE(t)}}(i)})),sE(this),this.ad&&this.ad.isLinear()&&zT(this.h,!1),this.i=null,t.ResizeObserver?(this.i=new ResizeObserver(r),this.i.observe(this.controls.l)):this.eventManager.o(t,"resize",r)}function oE(t,e){cE.set(t,e)}function sE(t){t.h.ariaLabel=t.localization.resolve("MORE_SETTINGS")}function uE(e){var n=e.g.getBoundingClientRect(),r=t.getComputedStyle(e.g),i=parseFloat(r.paddingTop);r=parseFloat(r.paddingBottom);var a=e.u.getBoundingClientRect();e.g.style.maxHeight=n.bottom-a.top-i-r+"px"}function lE(){}h(aE,BT),aE.prototype.release=function(){this.l=null;for(var t=g(this.j),e=t.next();!e.done;e=t.next())e.value.release();this.j=[],this.i&&(this.i.disconnect(),this.i=null),BT.prototype.release.call(this)},G("shaka.ui.OverflowMenu",aE),aE.registerElement=oE,lE.prototype.create=function(t,e){return new aE(t,e)},FS("overflow_menu",new lE);var cE=new Map;function dE(t,e){function n(t){return r.i[t]}BT.call(this,t,e);var r=this;this.h=ls(),this.h.classList.add("shaka-ad-statistics-button"),this.u=new jT(this.h,"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),(t=ss("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-simple-overflow-button-label-inline"),this.A=ss("span"),t.appendChild(this.A),this.l=ss("span"),this.l.classList.add("shaka-current-selection-span"),t.appendChild(this.l),this.h.appendChild(t),this.parent.appendChild(this.h),this.g=ss("div"),this.g.classList.add("shaka-no-propagation"),this.g.classList.add("shaka-show-controls-on-mouse-over"),this.g.classList.add("shaka-ad-statistics-container"),this.g.classList.add("shaka-hidden"),this.controls.i.appendChild(this.g),this.D=[],this.i=this.adManager.getStats(),zT(this.h,this.i.started>0),this.m=new Map,this.C=(new Map).set("loadTimes",(function(t){for(var e=0,n=(t=g(r.i[t])).next();!n.done;n=t.next())e+=parseFloat(n.value);return e})).set("averageLoadTime",n).set("started",n).set("overlayAds",n).set("playedCompletely",n).set("skipped",n).set("errors",n),this.j=new Wr((function(){r.i=r.adManager.getStats();for(var t=g(r.D),e=t.next();!e.done;e=t.next())e=e.value,r.m.get(e).textContent=r.C.get(e)(e)})),hE(this),function(t){var e=ss("div");e.classList.add("shaka-no-propagation"),e.classList.add("shaka-statistics-close");var n=new jT(e,"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z").g;for(n.classList.add("material-icons","notranslate"),t.g.appendChild(e),t.eventManager.o(n,"click",(function(){pE(t)})),e=g(t.controls.g.adStatisticsList),n=e.next();!n.done;n=e.next())(n=n.value)in t.i?(t.g.appendChild(fE(t,n)),t.D.push(n)):X("Unrecognized ad statistic element:",n)}(this),this.eventManager.o(this.localization,"locale-updated",(function(){hE(r)})),this.eventManager.o(this.localization,"locale-changed",(function(){hE(r)})),this.eventManager.o(this.h,"click",(function(){r.controls.Da()&&(pE(r),hE(r))})),this.eventManager.o(this.player,"loading",(function(){zT(r.h,!1)})),this.eventManager.o(this.adManager,"ad-started",(function(){zT(r.h,!0)}))}function pE(t){t.g.classList.contains("shaka-hidden")?(t.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm120-440q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),t.j.xa(.1),zT(t.g,!0)):(t.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),t.j.stop(),zT(t.g,!1))}function hE(t){t.A.textContent=t.localization.resolve("AD_STATISTICS"),t.h.ariaLabel=t.localization.resolve("AD_STATISTICS"),t.l.textContent=t.localization.resolve(t.g.classList.contains("shaka-hidden")?"OFF":"ON")}function fE(t,e){var n=ss("div"),r=ss("label");return r.textContent=e+":",n.appendChild(r),(r=ss("span")).textContent=t.C.get(e)(e),n.appendChild(r),t.m.set(e,r),n}function gE(){}function mE(e,n){BT.call(this,e,n);var r=this;this.g=ls(),this.g.classList.add("shaka-airplay-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",new jT(this.g).use("M312-120q-14 0-22-9.5t-8-20.5q0-5 2-10.5t7-10.5l161-161q6-6 13-9t15-3q8 0 15 3t13 9l161 161q5 5 7 10.5t2 10.5q0 11-8 20.5t-22 9.5H312ZM160-840h640q33 0 56.5 23.5T880-760v480q0 33-23.5 56.5T800-200h-7q-16 0-30.5-6T737-223L565-395q-17-17-39-26t-46-9q-24 0-46 9t-39 26L223-223q-11 11-25.5 17t-30.5 6h-7q-33 0-56.5-23.5T80-280v-480q0-33 23.5-56.5T160-840Z"),t.WebKitPlaybackTargetAvailabilityEvent||this.g.classList.add("shaka-hidden"),(e=ss("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),this.i=ss("span"),e.appendChild(this.i),this.h=ss("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),this.parent.appendChild(this.g),yE(this),vE(this),this.eventManager.o(this.localization,"locale-updated",(function(){yE(r)})),this.eventManager.o(this.localization,"locale-changed",(function(){yE(r)})),this.eventManager.o(this.g,"click",(function(){r.controls.Da()&&r.controls.Uc().webkitShowPlaybackTargetPicker()})),e=this.controls.Uc(),this.eventManager.o(e,"webkitplaybacktargetavailabilitychanged",(function(t){var e=r.player.l==gh;zT(r.g,"available"==t.availability&&e)})),this.eventManager.o(e,"webkitcurrentplaybacktargetiswirelesschanged",(function(){vE(r)}))}function vE(t){var e=t.controls.Uc();t.g.ariaPressed=e&&e.webkitCurrentPlaybackTargetIsWireless?"true":"false"}function yE(t){t.g.ariaLabel=t.localization.resolve("AIRPLAY"),t.i.textContent=t.localization.resolve("AIRPLAY")}function AE(){}function bE(e,n){BT.call(this,e,n);var r=this;this.g=document.createElement("canvas"),this.g.style.position="absolute",this.g.style.top="0",this.g.style.left="0",this.g.style.pointerEvents="none",this.parent.appendChild(this.g),CE(this),this.i=this.h=null,t.ResizeObserver?(this.i=new ResizeObserver((function(){return CE(r)})),this.i.observe(this.parent)):t.addEventListener("resize",(function(){return CE(r)}))}function wE(t){return(t=t.g.getContext("2d"))?t:null}function CE(t){t.g.width=t.parent.offsetWidth,t.g.height=t.parent.offsetHeight}function xE(t,e,n,r){r=void 0===r?null:r,this.j=t,this.l=e,this.h=TE(this);var i="",a=!1;e.dataset&&e.dataset.shakaPlayerCastReceiverId?(i=(a=e.dataset).shakaPlayerCastReceiverId,a="true"===a.shakaPlayerCastAndroidReceiverCompatible):n.dataset&&n.dataset.shakaPlayerCastReceiverId&&(i=(a=n.dataset).shakaPlayerCastReceiverId,a="true"===a.shakaPlayerCastAndroidReceiverCompatible),i.length&&(this.h.castReceiverAppId=i,this.h.castAndroidReceiverCompatible=a),e.dataset.shakaPlayerContainer="",e.ui=this,this.Eh()&&e.classList.add("shaka-mobile"),this.g=new jS(t,e,n,r,this.h),n.controls||t.ii(e),e.ui=this,n.ui=this,this.i=null}function TE(e){var n="play_pause skip_previous skip_next mute volume time_and_duration spacer overflow_menu".split(" ");if(t.chrome&&n.push("cast"),"remote"in HTMLMediaElement.prototype?n.push("remote"):t.WebKitPlaybackTargetAvailabilityEvent&&n.push("airplay"),n.push("fullscreen"),n={controlPanelElements:n,overflowMenuButtons:"captions quality language chapter picture_in_picture playback_rate recenter_vr toggle_stereoscopic".split(" "),statisticsList:"width height currentCodecs corruptedFrames decodedFrames droppedFrames drmTimeSeconds licenseTime liveLatency loadLatency bufferingTime manifestTimeSeconds estimatedBandwidth streamBandwidth maxSegmentDuration pauseTime playTime completionPercent manifestSizeBytes bytesDownloaded nonFatalErrorCount manifestPeriodCount manifestGapCount".split(" "),adStatisticsList:"loadTimes averageLoadTime started overlayAds playedCompletely skipped errors".split(" "),contextMenuElements:["loop","picture_in_picture","save_video_frame","statistics","ad_statistics"],playbackRates:[.5,.75,1,1.25,1.5,1.75,2],fastForwardRates:[2,4,8,1],rewindRates:[-1,-2,-4,-8],addSeekBar:!0,addBigPlayButton:!1,customContextMenu:!1,castReceiverAppId:"",castAndroidReceiverCompatible:!1,clearBufferOnQualityChange:!0,showUnbufferedStart:!1,seekBarColors:{base:"rgba(255, 255, 255, 0.3)",buffered:"rgba(255, 255, 255, 0.54)",played:"rgb(255, 255, 255)",adBreaks:"rgb(255, 204, 0)"},volumeBarColors:{base:"rgba(255, 255, 255, 0.54)",level:"rgb(255, 255, 255)"},qualityMarks:{720:"",1080:"HD",1440:"2K",2160:"4K",4320:"8K"},trackLabelFormat:ME,textTrackLabelFormat:ME,fadeDelay:0,closeMenusDelay:2,doubleClickForFullscreen:!0,singleClickForPlayAndPause:!0,enableKeyboardPlaybackControls:!0,enableFullscreenOnRotation:!1,forceLandscapeOnFullscreen:!1,enableTooltips:!0,keyboardSeekDistance:5,keyboardLargeSeekDistance:60,fullScreenElement:e.l,preferDocumentPictureInPicture:!0,showAudioChannelCountVariants:!0,seekOnTaps:!1,tapSeekDistance:10,refreshTickInSeconds:.125,displayInVrMode:!1,defaultVrProjectionMode:"equirectangular",setupMediaSession:!0,preferVideoFullScreenInVisionOS:!0,showAudioCodec:!0,showVideoCodec:!0,castSenderUrl:"https://www.gstatic.com/cv/js/sender/v1/cast_sender.js",enableKeyboardPlaybackControlsInWindow:!1,alwaysShowVolumeBar:!1},e.Eh()){n.addBigPlayButton=!0,n.singleClickForPlayAndPause=!1,n.seekOnTaps=!0,n.enableTooltips=!1,n.doubleClickForFullscreen=!1,e=Lt(),n.enableFullscreenOnRotation="WEBKIT"!==e.Ja(),n.forceLandscapeOnFullscreen=!0;var r=["play_pause","skip_previous","skip_next","volume"];n.controlPanelElements=n.controlPanelElements.filter((function(t){return!r.includes(t)})),n.overflowMenuButtons=n.overflowMenuButtons.filter((function(t){return!r.includes(t)})),n.contextMenuElements=n.contextMenuElements.filter((function(t){return!r.includes(t)}))}else if(e.Fh()){n.addBigPlayButton=!0,n.singleClickForPlayAndPause=!1,n.enableTooltips=!1,n.doubleClickForFullscreen=!1;var i="play_pause cast remote airplay volume save_video_frame".split(" ");n.controlPanelElements=n.controlPanelElements.filter((function(t){return!i.includes(t)})),n.overflowMenuButtons=n.overflowMenuButtons.filter((function(t){return!i.includes(t)})),n.contextMenuElements=n.contextMenuElements.filter((function(t){return!i.includes(t)}))}return n}function SE(){var t,e,n,r,i,a,o,s,u,l,c,d,p,h,f,m,v,y,A,b,T;return P((function(k){switch(k.g){case 1:if(xw(),!dp())return EE("shaka-ui-load-failed",RE),k.return();if(t=document.querySelectorAll("[data-shaka-player-container]"),e=document.querySelectorAll("[data-shaka-player]"),n=document.querySelectorAll("[data-shaka-player-canvas]"),r=document.querySelectorAll("[data-shaka-player-vr-canvas]"),!e.length&&!t.length){k.B(2);break}if(e.length&&!t.length){for(i=g(e),a=i.next();!a.done;a=i.next())(o=a.value).ui||(s=document.createElement("div"),o.parentElement.replaceChild(s,o),s.appendChild(o),u=IE(s,n,r),l=u.ij,c=u.gk,kE(s,o,l,c));k.B(2);break}d=g(t),p=d.next();case 4:if(p.done){k.B(2);break}if((h=p.value).ui){k.B(5);break}for(f=null,m=g(e),v=m.next();!v.done;v=m.next())if((y=v.value).parentElement==h){f=y;break}return f||((f=document.createElement("video")).setAttribute("playsinline",""),h.appendChild(f)),A=IE(h,n,r),b=A.ij,T=A.gk,x(k,7),w(k,kE(h,f,b,T),9);case 9:S(k,5);break;case 7:return E(k),EE("shaka-ui-load-failed",LE),k.return();case 5:p=d.next(),k.B(4);break;case 2:EE("shaka-ui-loaded"),C(k)}}))}function EE(t,e){var n=null;null!=e&&(n={reasonCode:e}),t=new CustomEvent(t,{detail:n}),document.dispatchEvent(t)}function kE(t,e,n,r){var i,a,o,s,u,l,c,d,p,h;return P((function(f){switch(f.g){case 1:for(i=new sp,a=new xE(i,t,e,r||null),i.Fi(n),e.controls&&a.g.Lj(!0),o=[],(s=e.getAttribute("src"))&&(o.push(s),e.removeAttribute("src")),u=g(e.getElementsByTagName("source")),l=u.next();!l.done;l=u.next())c=l.value,o.push(c.src),e.removeChild(c);return w(f,i.cc(e),2);case 2:d=g(o),p=d.next();case 3:if(p.done){f.B(0);break}return h=p.value,x(f,6),w(f,a.g.Wb().load(h),8);case 8:f.B(0);break;case 6:E(f);case 4:p=d.next(),f.B(3)}}))}function IE(t,e,n){for(var r=null,i=(e=g(e)).next();!i.done;i=e.next())if((i=i.value).parentElement==t){r=i;break}for(r||((r=document.createElement("canvas")).classList.add("shaka-canvas-container"),t.appendChild(r)),e=null,i=(n=g(n)).next();!i.done;i=n.next())if((i=i.value).parentElement==t){e=i;break}return{ij:r,gk:e}}h(dE,BT),dE.prototype.release=function(){this.j.stop(),this.j=null,BT.prototype.release.call(this)},G("shaka.ui.AdStatisticsButton",dE),gE.prototype.create=function(t,e){return new dE(t,e)},oE("ad_statistics",new gE),$T("ad_statistics",new gE),h(mE,BT),G("shaka.ui.AirPlayButton",mE),AE.prototype.create=function(t,e){return new mE(t,e)},oE("airplay",new AE),FS("airplay",new AE),h(bE,BT),bE.prototype.ig=function(t,e){if(t={type:"static",text:t,position:"top-right",color:"rgba(255, 255, 255, 0.7)",size:20,alpha:.7,interval:2e3,skip:500,displayDuration:2e3,transitionDuration:.5},"static"===(e=Object.assign({},t,e||t)).type){if(t=wE(this)){t.clearRect(0,0,this.g.width,this.g.height),t.globalAlpha=e.alpha,t.fillStyle=e.color,t.font=e.size+"px Arial";var n=t.measureText(e.text);switch(e.position){case"top-left":n=20;var r=e.size+20;break;case"top-right":n=this.g.width-n.width-20,r=e.size+20;break;case"bottom-left":n=20,r=this.g.height-20;break;case"bottom-right":n=this.g.width-n.width-20,r=this.g.height-20;break;default:n=(this.g.width-n.width)/2,r=(this.g.height+e.size)/2}t.fillText(e.text,n,r)}}else"dynamic"===e.type&&function(t,e){function n(){if(t.h){switch(i.clearRect(0,0,t.g.width,t.g.height),s){case"fadeIn":(o=Math.min(e.alpha,o+l))>=e.alpha&&(s="display");break;case"display":--u<=0&&(s="fadeOut");break;case"fadeOut":(o=Math.max(0,o-l))<=0&&(s="transition",a=r(),u=Math.round(60*e.displayDuration),s="fadeIn")}o>0&&(i.globalAlpha=o,i.fillStyle=e.color,i.font=e.size+"px Arial",i.fillText(e.text,a.left,a.top)),t.h&&(t.h=requestAnimationFrame(n))}}function r(){i.font=e.size+"px Arial";var n=i.measureText(e.text).width,r=e.size;return r=(n=[{left:20,top:r+20},{left:t.g.width-n-20,top:r+20},{left:20,top:t.g.height-20},{left:t.g.width-n-20,top:t.g.height-20},{left:(t.g.width-n)/2,top:(t.g.height+r)/2}])[c],c=(c+1)%n.length,r}var i=t.g.getContext("2d"),a={left:0,top:0},o=0,s="fadeIn",u=Math.round(60*e.displayDuration),l=1/(Math.round(60*e.transitionDuration)/2),c=0;a=r(),t.h=requestAnimationFrame(n)}(this,e)},bE.prototype.$f=function(){this.h&&(cancelAnimationFrame(this.h),this.h=null);var t=wE(this);t&&t.clearRect(0,0,this.g.width,this.g.height)},bE.prototype.release=function(){var e=this;this.g&&this.g.parentNode&&this.g.parentNode.removeChild(this.g),this.i?(this.i.disconnect(),this.i=null):t.removeEventListener("resize",(function(){return CE(e)})),BT.prototype.release.call(this)},G("shaka.ui.Watermark",bE),bE.prototype.removeWatermark=bE.prototype.$f,bE.prototype.setTextWatermark=bE.prototype.ig,(i=xE.prototype).destroy=function(t){t=void 0!==t&&t;var e=this;return P((function(n){return 1==n.g?e.g?w(n,e.g.destroy(t),2):n.B(2):4!=n.g?(e.g=null,e.j?w(n,e.j.destroy(),4):n.B(4)):(e.j=null,e.i=null,void C(n))}))},i.Eh=function(){return"MOBILE"==Lt().Oa()},i.Fh=function(){return"TV"==Lt().Oa()},i.getConfiguration=function(){var t=TE(this);return $l(t,this.h,TE(this),{},""),t},i.configure=function(e,n){2==arguments.length&&"string"==typeof e&&(e=Xl(e,n));var r=Object.assign({},this.h);$l(r,e,TE(this),{},"");var i=Jl(r,this.h);if(Object.keys(i).length&&(this.h=r,this.g.configure(this.h),this.g.dispatchEvent(new z("uiupdated")),(r=this.h.castSenderUrl)&&this.h.castReceiverAppId&&t.chrome&&!chrome.cast&&!this.Fh())){i=!1;for(var a=g(document.getElementsByTagName("script")),o=a.next();!o.done;o=a.next())if(o.value.src===r){i=!0;break}i||((i=document.createElement("script")).src=r,i.defer=!0,document.head.appendChild(i))}},i.Ik=function(){return this.g},i.um=function(t){this.g.ci(t)},i.ig=function(t,e){t&&!this.i&&this.l&&this.g&&(this.i=new bE(this.l,this.g)),this.i&&this.i.ig(t,e)},i.$f=function(){this.i&&this.i.$f()},G("shaka.ui.Overlay",xE),xE.prototype.removeWatermark=xE.prototype.$f,xE.prototype.setTextWatermark=xE.prototype.ig,xE.prototype.setEnabled=xE.prototype.um,xE.prototype.getControls=xE.prototype.Ik,xE.prototype.configure=xE.prototype.configure,xE.prototype.getConfiguration=xE.prototype.getConfiguration,xE.prototype.isSmartTV=xE.prototype.Fh,xE.prototype.isMobile=xE.prototype.Eh,xE.prototype.destroy=xE.prototype.destroy;var ME=0;xE.TrackLabelFormat={LANGUAGE:ME,ROLE:1,LANGUAGE_ROLE:2,LABEL:3};var RE=0,LE=1;function OE(t,e,n,r,i,a,o,s){function u(t){var e="";return t>=5&&(e=" "+i.resolve("SURROUND")),e}function l(t,e,n,r,i,u){return e=[t,e,u],o&&null!=r&&e.push(r),s&&c(t)&&i&&e.push(i),n&&3==a&&e.push(n),e.join(": ")}function c(t){return p.has(t)&&p.get(t).size>1}var d=t.find((function(t){return 1==t.active}));t.length>1&&t[0].label&&3!=a&&function(t){function e(t){return{codecs:t.codecs,channelCount:t.channelCount,language:t.language,roles:t.roles,spatialAudio:t.spatialAudio}}var n=e(t[0]);return t.every((function(t){return JSON.stringify(e(t))===JSON.stringify(n)}))}(t)&&(a=3);for(var p=new Map,h=g(t),f=h.next();!f.done;f=h.next())(f=f.value).codecs&&(p.has(f.language)||p.set(f.language,new Set),p.get(f.language).add(Lr(f.codecs)));h=qT(e),ps(e),e.appendChild(h),h=new Set,d=d?l(d.language,d.roles.join(", "),d.label,d.channelsCount,d.codecs&&Lr(d.codecs),d.spatialAudio):"";var m,v,y=(t=g(t)).next();for(f={};!y.done;f={bc:void 0},y=t.next()){f.bc=y.value,y=f.bc.language;var A=f.bc.roles.join(", "),b=f.bc.label,w=f.bc.channelsCount,C=f.bc.codecs&&Lr(f.bc.codecs),x=f.bc.spatialAudio,T=l(y,A,b,w,C,x);if(!h.has(T)){h.add(T);var S=ls();S.addEventListener("click",function(t){return function(){n(t.bc)}}(f));var E=ss("span");S.appendChild(E),E.textContent=PE(y,i);var k="";switch(s&&o&&x&&("ec-3"==C||"ac-4"==C)?k+=" Dolby Atmos":(s&&c(y)&&(k+=(v=void 0,v="","aac"==(m=C)?v="AAC":"ac-3"===m?v="Dolby":"ec-3"===m?v="DD+":"ac-4"===m?v="Dolby AC-4":"opus"===m?v="Opus":"flac"===m&&(v="fLaC"),v?" "+v:v)),o&&(k+=u(w))),a){case ME:E.textContent+=k;break;case 1:E.textContent+=k,A?E.textContent=A:(X("Track #"+JSON.stringify(f.bc)+" does not have a role, but the UI is configured to only show role."),E.textContent="?");break;case 2:E.textContent+=k,A&&(E.textContent+=": "+A);break;case 3:b?E.textContent=b:(X("Track #"+JSON.stringify(f.bc)+" does not have a label, but the UI is configured to only show labels."),E.textContent="?")}T==d&&(S.appendChild(GT()),E.classList.add("shaka-chosen-item"),S.ariaSelected="true",r.textContent=E.textContent),e.appendChild(S)}}}function PE(t,e){if(!t&&!e)return"";switch(t){case"mul":return e.resolve("MULTIPLE_LANGUAGES");case"und":return e.resolve("UNDETERMINED_LANGUAGE");case"zxx":return e.resolve("NOT_APPLICABLE")}var n=fe(t);return t in qc?qc[t]:n in qc?qc[n]+" ("+t+")":e.resolve("UNRECOGNIZED_LANGUAGE")+" ("+t+")"}function DE(e,n,r){function i(){return _E(a)}BT.call(this,e,n);var a=this;this.m=this.controls.l,function(t,e){t.button=ls(),t.button.classList.add("shaka-overflow-button"),t.icon=new jT(t.button,e),(e=ss("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),e.classList.add("shaka-overflow-button-label-inline"),t.nameSpan=ss("span"),e.appendChild(t.nameSpan),t.currentSelection=ss("span"),t.currentSelection.classList.add("shaka-current-selection-span"),e.appendChild(t.currentSelection),t.button.appendChild(e),t.parent.appendChild(t.button)}(this,r),function(t){t.menu=ss("div"),t.menu.classList.add("shaka-no-propagation"),t.menu.classList.add("shaka-show-controls-on-mouse-over"),t.menu.classList.add("shaka-settings-menu"),t.menu.classList.add("shaka-hidden"),t.backButton=ls(),t.backButton.classList.add("shaka-back-to-overflow-button"),t.menu.appendChild(t.backButton),t.eventManager.o(t.backButton,"click",(function(){t.controls.Vc()})),t.u=new jT(t.backButton,"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z"),t.backSpan=ss("span"),t.backButton.appendChild(t.backSpan),t.controls.i.appendChild(t.menu)}(this),function(t){t.parent.classList.contains("shaka-overflow-menu")&&(t.u.use("m432-480 156 156q11 11 11 28t-11 28q-11 11-28 11t-28-11L348-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 28-11t28 11q11 11 11 28t-11 28L432-480Z"),t.eventManager.o(t.menu,"click",(function(){function e(t){return 0==t.classList.contains("shaka-hidden")}zT(t.menu,!1),zT(t.parent,!0),nt(t.parent.childNodes,e)&&rt(t.parent.childNodes,e)[0].focus(),XS(t.controls),_E(t)})))}(this),this.eventManager.o(this.button,"click",(function(){a.controls.Da()&&(a.menu.classList.contains("shaka-hidden")?(a.controls.dispatchEvent(new z("submenuopen")),zT(a.menu,!0),VT(a.menu),_E(a)):zT(a.menu,!1))})),this.j=null,t.ResizeObserver?(this.j=new ResizeObserver(i),this.j.observe(this.controls.l)):this.eventManager.o(t,"resize",i)}function _E(e){var n=e.menu.getBoundingClientRect(),r=t.getComputedStyle(e.menu),i=parseFloat(r.paddingTop);r=parseFloat(r.paddingBottom);var a=e.m.getBoundingClientRect();e.menu.style.maxHeight=n.bottom-a.top-i-r+"px"}function NE(t,e){DE.call(this,t,e,"M480-80q-82 0-155-31.5t-127.5-86Q143-252 111.5-325T80-480q0-83 31.5-155.5t86-127Q252-817 325-848.5T480-880q83 0 155.5 31.5t127 86q54.5 54.5 86 127T880-480q0 82-31.5 155t-86 127.5q-54.5 54.5-127 86T480-80Zm0-82q26-36 45-75t31-83H404q12 44 31 83t45 75Zm-104-16q-18-33-31.5-68.5T322-320H204q29 50 72.5 87t99.5 55Zm208 0q56-18 99.5-55t72.5-87H638q-9 38-22.5 73.5T584-178ZM170-400h136q-3-20-4.5-39.5T300-480q0-21 1.5-40.5T306-560H170q-5 20-7.5 39.5T160-480q0 21 2.5 40.5T170-400Zm216 0h188q3-20 4.5-39.5T580-480q0-21-1.5-40.5T574-560H386q-3 20-4.5 39.5T380-480q0 21 1.5 40.5T386-400Zm268 0h136q5-20 7.5-39.5T800-480q0-21-2.5-40.5T790-560H654q3 20 4.5 39.5T660-480q0 21-1.5 40.5T654-400Zm-16-240h118q-29-50-72.5-87T584-782q18 33 31.5 68.5T638-640Zm-234 0h152q-12-44-31-83t-45-75q-26 36-45 75t-31 83Zm-200 0h118q9-38 22.5-73.5T376-782q-56 18-99.5 55T204-640Z");var n=this;this.button.classList.add("shaka-language-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-audio-languages"),this.eventManager.o(this.localization,"locale-updated",(function(){BE(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){BE(n)})),this.eventManager.o(this.player,"loading",(function(){UE(n)})),this.eventManager.o(this.player,"loaded",(function(){UE(n)})),this.eventManager.o(this.player,"unloading",(function(){UE(n)})),this.eventManager.o(this.player,"audiotrackschanged",(function(){UE(n)})),BE(this),UE(this)}function UE(t){OE(t.player.getAudioTracks()||[],t.menu,(function(e){t.player.Hj(e);var n={preferredAudioLanguage:e.language,preferSpatialAudio:e.spatialAudio};e.label&&(n.preferredAudioLabel=e.label),e.channelsCount&&(n.preferredAudioChannelCount=e.channelsCount),t.player.configure(n)}),t.currentSelection,t.localization,t.controls.g.trackLabelFormat,t.controls.g.showAudioChannelCountVariants,t.controls.g.showAudioCodec),VT(t.menu),t.controls.dispatchEvent(new z("languageselectionupdated")),t.button.setAttribute("shaka-status",t.currentSelection.innerText),zT(t.button,t.menu.getElementsByTagName("button").length>2)}function BE(t){t.backButton.ariaLabel=t.localization.resolve("BACK"),t.button.ariaLabel=t.localization.resolve("LANGUAGE"),t.nameSpan.textContent=t.localization.resolve("LANGUAGE"),t.backSpan.textContent=t.localization.resolve("LANGUAGE")}function jE(){}function qE(t,e){BT.call(this,t,e);var n=this;this.h=this.controls.F,this.g=ls(),this.g.classList.add("shaka-cast-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.l=new jT(this.g,"M880-240q0 33-23.5 56.5T800-160H633q-14 0-23.5-10.5T599-195q-6-95-43.5-177.5t-98-146.5q-60.5-64-141-105T143-676q-26-3-44.5-20.5T80-740q0-26 18.5-43t44.5-17h657q33 0 56.5 23.5T880-720v480Zm-560 80q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125t128 273q2 17-9.5 29T480-160Zm-350 0q-21 0-35.5-14.5T80-210q0-21 14.5-35.5T130-260q21 0 35.5 14.5T180-210q0 21-14.5 35.5T130-160Z"),(t=ss("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),t.classList.add("shaka-simple-overflow-button-label-inline"),this.j=ss("span"),t.appendChild(this.j),this.i=ss("span"),this.i.classList.add("shaka-current-selection-span"),t.appendChild(this.i),this.g.appendChild(t),this.parent.appendChild(this.g),GE(this),FE(this),this.eventManager.o(this.localization,"locale-updated",(function(){GE(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){GE(n)})),this.eventManager.o(this.g,"click",(function(){n.controls.Da()&&function(t){var e;P((function(n){return 1==n.g?t.h.Qa()?(t.h.Vj(),n.B(0)):(x(n,3),t.g.disabled=!0,w(n,t.h.cast(),5)):3!=n.g?(t.g.disabled=!1,S(n,0)):(e=E(n),t.g.disabled=!1,8004!=e.code&&t.controls.dispatchEvent(new z("error",(new Map).set("detail",e))),void C(n))}))}(n)})),this.eventManager.o(this.controls,"caststatuschanged",(function(){FE(n)}))}function FE(t){var e=t.h.Kg()&&t.controls.sa,n=t.h.Qa();zT(t.g,e),t.l.use(n?"M720-600v240q0 17-11.5 28.5T680-320h-87q-8 0-14.5-4.5T569-337q-29-81-81.5-147T364-596q-16-10-11.5-27t21.5-17h306q17 0 28.5 11.5T720-600ZM320-160q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125.5T518-201q2 17-9.5 29T480-160Zm-340 0q-25 0-42.5-17.5T80-220q0-25 17.5-42.5T140-280q25 0 42.5 17.5T200-220q0 25-17.5 42.5T140-160Zm740-560v480q0 33-23.5 56.5T800-160H638q-17 0-28.5-11.5T598-200q0-17 11.5-28.5T638-240h162v-480H160v6q0 17-11.5 28.5T120-674q-17 0-28.5-11.5T80-714v-6q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720Z":"M880-240q0 33-23.5 56.5T800-160H633q-14 0-23.5-10.5T599-195q-6-95-43.5-177.5t-98-146.5q-60.5-64-141-105T143-676q-26-3-44.5-20.5T80-740q0-26 18.5-43t44.5-17h657q33 0 56.5 23.5T880-720v480Zm-560 80q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125t128 273q2 17-9.5 29T480-160Zm-350 0q-21 0-35.5-14.5T80-210q0-21 14.5-35.5T130-260q21 0 35.5 14.5T180-210q0 21-14.5 35.5T130-160Z"),e&&(t.g.ariaPressed=n?"true":"false"),VE(t)}function VE(t){t.i.textContent=t.h.Qa()?t.h.Yf():t.localization.resolve("OFF")}function GE(t){t.g.ariaLabel=t.localization.resolve("CAST"),t.j.textContent=t.localization.resolve("CAST"),VE(t)}function zE(){}function HE(t,e){DE.call(this,t,e,"m400-200-182 91q-20 10-39-1.5T160-145v-495q0-33 23.5-56.5T240-720h320q33 0 56.5 23.5T640-640v495q0 23-19 34.5t-39 1.5l-182-91Zm360-40q-17 0-28.5-11.5T720-280v-520H320q-17 0-28.5-11.5T280-840q0-17 11.5-28.5T320-880h400q33 0 56.5 23.5T800-800v520q0 17-11.5 28.5T760-240Z");var n=this;this.button.classList.add("shaka-chapter-button"),this.menu.classList.add("shaka-chapters"),this.button.classList.add("shaka-tooltip-status"),this.g=[],this.h="und",this.eventManager.o(this.localization,"locale-updated",(function(){KE(n),$E(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){KE(n),$E(n)})),this.eventManager.o(this.player,"unloading",(function(){WE(n),n.h="und",n.g=[]})),this.eventManager.o(this.player,"trackschanged",(function(){$E(n)})),KE(this),$E(this)}function KE(t){t.backButton.ariaLabel=t.localization.resolve("BACK"),t.button.ariaLabel=t.localization.resolve("CHAPTERS"),t.nameSpan.textContent=t.localization.resolve("CHAPTERS"),t.backSpan.textContent=t.localization.resolve("CHAPTERS")}function WE(t){var e=qT(t.menu);ps(t.menu),t.menu.appendChild(e),zT(t.button,!1)}function $E(t){var e,n,r,i,a,o,s,u,l,c,d,p,h;P((function(f){switch(f.g){case 1:e=function(t,e){return!t&&!e||t.id===e.id&&t.title===e.title&&t.startTime===e.startTime&&t.endTime===e.endTime},n="und",r=[],i=t.localization.g,a=g(Array.from(i)),o=a.next();case 2:if(o.done){f.B(4);break}if(n=o.value,!t.player){f.B(5);break}return w(f,t.player.oh(n),6);case 6:r=f.h||[];case 5:if(r.length){f.B(4);break}o=a.next(),f.B(2);break;case 4:if(r.length){f.B(7);break}if(n="und",!t.player){f.B(7);break}return w(f,t.player.oh(n),9);case 9:r=f.h||[];case 7:if(s=n!==t.h,u=t.g.length!==r.length||!t.g.some((function(t,n){return n=r.at(n),e(t,n)||r.some((function(n){return e(t,n)}))})),t.h=n,t.g=r,r.length){if(s||u){for(l=g(t.g),c=l.next(),d={};!c.done;d={Mg:void 0},c=l.next())d.Mg=c.value,p=ls(),(h=ss("span")).classList.add("shaka-chapter"),h.textContent=d.Mg.title,p.appendChild(h),t.eventManager.o(p,"click",function(e){return function(){t.controls.Da()&&(t.video.currentTime=e.Mg.startTime)}}(d)),t.menu.appendChild(p);zT(t.button,!0),VT(t.menu)}}else WE(t);C(f)}}))}function XE(){}function YE(t,e){BT.call(this,t,e);var n=this;this.g=ls(),this.g.classList.add("shaka-fast-forward-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status","1x"),new jT(this.g).use("M100-315v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T428-480q0 10-4.5 18.5T410-447L162-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Zm400 0v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T828-480q0 10-4.5 18.5T810-447L562-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"),this.parent.appendChild(this.g),JE(this),this.h=this.controls.g.fastForwardRates,this.eventManager.o(this.localization,"locale-updated",(function(){JE(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){JE(n)})),this.eventManager.o(this.g,"click",(function(){if(n.controls.Da()&&n.video.duration){var t=n.h.indexOf(n.player.Za())+1;t=t!=n.h.length?n.h[t]:n.h[0],n.video.paused&&n.video.play(),n.player.sc(t),n.g.setAttribute("shaka-status",t+"x")}})),this.eventManager.o(this.player,"ratechange",(function(){n.g.setAttribute("shaka-status",n.player.Za()+"x")}))}function JE(t){t.g.ariaLabel=t.localization.resolve("FAST_FORWARD")}function ZE(){}function QE(t,e){BT.call(this,t,e);var n=this;this.h=this.controls.u,this.g=ls(),this.g.classList.add("shaka-fullscreen-button"),this.g.classList.add("shaka-tooltip"),this.i=new jT(this.g,"M200-200h80q17 0 28.5 11.5T320-160q0 17-11.5 28.5T280-120H160q-17 0-28.5-11.5T120-160v-120q0-17 11.5-28.5T160-320q17 0 28.5 11.5T200-280v80Zm560 0v-80q0-17 11.5-28.5T800-320q17 0 28.5 11.5T840-280v120q0 17-11.5 28.5T800-120H680q-17 0-28.5-11.5T640-160q0-17 11.5-28.5T680-200h80ZM200-760v80q0 17-11.5 28.5T160-640q-17 0-28.5-11.5T120-680v-120q0-17 11.5-28.5T160-840h120q17 0 28.5 11.5T320-800q0 17-11.5 28.5T280-760h-80Zm560 0h-80q-17 0-28.5-11.5T640-800q0-17 11.5-28.5T680-840h120q17 0 28.5 11.5T840-800v120q0 17-11.5 28.5T800-640q-17 0-28.5-11.5T760-680v-80Z"),tk(this),this.parent.appendChild(this.g),ek(this),this.eventManager.o(this.localization,"locale-updated",(function(){ek(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){ek(n)})),this.eventManager.o(this.g,"click",(function(){return P((function(t){return n.controls.Da()?w(t,n.controls.og(),0):t.return()}))})),this.eventManager.o(document,"fullscreenchange",(function(){n.i.use(n.controls.wb()?"M240-240h-80q-17 0-28.5-11.5T120-280q0-17 11.5-28.5T160-320h120q17 0 28.5 11.5T320-280v120q0 17-11.5 28.5T280-120q-17 0-28.5-11.5T240-160v-80Zm480 0v80q0 17-11.5 28.5T680-120q-17 0-28.5-11.5T640-160v-120q0-17 11.5-28.5T680-320h120q17 0 28.5 11.5T840-280q0 17-11.5 28.5T800-240h-80ZM240-720v-80q0-17 11.5-28.5T280-840q17 0 28.5 11.5T320-800v120q0 17-11.5 28.5T280-640H160q-17 0-28.5-11.5T120-680q0-17 11.5-28.5T160-720h80Zm480 0h80q17 0 28.5 11.5T840-680q0 17-11.5 28.5T800-640H680q-17 0-28.5-11.5T640-680v-120q0-17 11.5-28.5T680-840q17 0 28.5 11.5T720-800v80Z":"M200-200h80q17 0 28.5 11.5T320-160q0 17-11.5 28.5T280-120H160q-17 0-28.5-11.5T120-160v-120q0-17 11.5-28.5T160-320q17 0 28.5 11.5T200-280v80Zm560 0v-80q0-17 11.5-28.5T800-320q17 0 28.5 11.5T840-280v120q0 17-11.5 28.5T800-120H680q-17 0-28.5-11.5T640-160q0-17 11.5-28.5T680-200h80ZM200-760v80q0 17-11.5 28.5T160-640q-17 0-28.5-11.5T120-680v-120q0-17 11.5-28.5T160-840h120q17 0 28.5 11.5T320-800q0 17-11.5 28.5T280-760h-80Zm560 0h-80q-17 0-28.5-11.5T640-800q0-17 11.5-28.5T680-840h120q17 0 28.5 11.5T840-800v120q0 17-11.5 28.5T800-640q-17 0-28.5-11.5T760-680v-80Z"),ek(n)})),this.eventManager.o(this.h,"loadedmetadata",(function(){tk(n)})),this.eventManager.o(this.h,"loadeddata",(function(){tk(n)})),this.eventManager.o(this.adManager,"ad-started",(function(){tk(n)})),this.eventManager.o(this.adManager,"ad-stopped",(function(){tk(n)}))}function tk(t){t.controls.we()?t.g.classList.remove("shaka-hidden"):t.g.classList.add("shaka-hidden")}function ek(t){var e=t.controls.wb()?"EXIT_FULL_SCREEN":"FULL_SCREEN";t.g.ariaLabel=t.localization.resolve(e)}function nk(){}function rk(t,e){BT.call(this,t,e);var n=this;this.g=ls(),this.g.classList.add("shaka-loop-button"),this.g.classList.add("shaka-tooltip"),this.m=new jT(this.g,"m274-200 34 34q12 12 11.5 28T308-110q-12 12-28.5 12.5T251-109L148-212q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l103-103q12-12 28.5-11.5T308-370q11 12 11.5 28T308-314l-34 34h406v-120q0-17 11.5-28.5T720-440q17 0 28.5 11.5T760-400v120q0 33-23.5 56.5T680-200H274Zm412-480H280v120q0 17-11.5 28.5T240-520q-17 0-28.5-11.5T200-560v-120q0-33 23.5-56.5T280-760h406l-34-34q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T709-851l103 103q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L709-589q-12 12-28.5 11.5T652-590q-11-12-11.5-28t11.5-28l34-34Z"),(t=ss("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),t.classList.add("shaka-simple-overflow-button-label-inline"),this.j=ss("span"),this.j.textContent=this.localization.resolve("LOOP"),t.appendChild(this.j),this.i=ss("span"),this.i.classList.add("shaka-current-selection-span"),t.appendChild(this.i),this.g.appendChild(t),ik(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",(function(){ik(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){ik(n)})),this.eventManager.o(this.g,"click",(function(){n.controls.Da()&&(n.video.loop=!n.video.loop,n.h.Ka(),n.h.xa(1))})),this.l=this.video.loop,this.h=new Wr((function(){n.l!=n.video.loop&&(ik(n),n.l=n.video.loop)})),this.h.xa(1),this.eventManager.o(this.player,"unloading",(function(){ak(n)})),this.eventManager.o(this.player,"loaded",(function(){ak(n)})),this.eventManager.o(this.player,"manifestupdated",(function(){ak(n)})),this.eventManager.o(this.video,"durationchange",(function(){ak(n)}))}function ik(t){t.j.textContent=t.localization.resolve("LOOP"),t.i.textContent=t.localization.resolve(t.video.loop?"ON":"OFF"),t.m.use(t.video.loop?"M120-40q-33 0-56.5-23.5T40-120v-720q0-33 23.5-56.5T120-920h720q33 0 56.5 23.5T920-840v720q0 33-23.5 56.5T840-40H120Zm154-160h406q33 0 56.5-23.5T760-280v-120q0-17-11.5-28.5T720-440q-17 0-28.5 11.5T680-400v120H274l34-34q12-12 11.5-28T308-370q-12-12-28.5-12.5T251-371L148-268q-6 6-8.5 13t-2.5 15q0 8 2.5 15t8.5 13l103 103q12 12 28.5 11.5T308-110q11-12 11.5-28T308-166l-34-34Zm412-480-34 34q-12 12-11.5 28t11.5 28q12 12 28.5 12.5T709-589l103-103q6-6 8.5-13t2.5-15q0-8-2.5-15t-8.5-13L709-851q-12-12-28.5-11.5T652-850q-11 12-11.5 28t11.5 28l34 34H280q-33 0-56.5 23.5T200-680v120q0 17 11.5 28.5T240-520q17 0 28.5-11.5T280-560v-120h406Z":"m274-200 34 34q12 12 11.5 28T308-110q-12 12-28.5 12.5T251-109L148-212q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l103-103q12-12 28.5-11.5T308-370q11 12 11.5 28T308-314l-34 34h406v-120q0-17 11.5-28.5T720-440q17 0 28.5 11.5T760-400v120q0 33-23.5 56.5T680-200H274Zm412-480H280v120q0 17-11.5 28.5T240-520q-17 0-28.5-11.5T200-560v-120q0-33 23.5-56.5T280-760h406l-34-34q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T709-851l103 103q6 6 8.5 13t2.5 15q0 8-2.5 15t-8.5 13L709-589q-12 12-28.5 11.5T652-590q-11-12-11.5-28t11.5-28l34-34Z"),t.g.ariaLabel=t.localization.resolve(t.video.loop?"EXIT_LOOP_MODE":"ENTER_LOOP_MODE")}function ak(t){zT(t.g,!t.player.U())}function ok(){}function sk(t,e){BT.call(this,t,e);var n=this;this.g=ls(),this.g.classList.add("shaka-mute-button"),this.g.classList.add("shaka-tooltip"),this.j=new jT(this.g,"M760-481q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131.5T840-481q0 108-58 196.5T627-153q-16 7-31.5 0T574-176q-5-15 2-29.5t22-21.5q74-34 118-102.5T760-481ZM280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120l132-132q19-19 43.5-8.5T480-703v446q0 27-24.5 37.5T412-228L280-360Zm380-120q0 42-19 79.5T591-339q-10 6-20.5.5T560-356v-250q0-12 10.5-17.5t20.5.5q31 25 50 63t19 80Z"),(t=ss("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),this.h=ss("span"),this.h.textContent=this.localization.resolve("MUTE"),t.appendChild(this.h),this.i=ss("span"),this.i.classList.add("shaka-current-selection-span"),t.appendChild(this.i),this.g.appendChild(t),this.parent.appendChild(this.g),uk(this),lk(this),this.eventManager.o(this.localization,"locale-updated",(function(){uk(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){uk(n)})),this.eventManager.o(this.g,"click",(function(){n.controls.Da()&&(n.ad&&n.ad.isLinear()?n.ad.setMuted(!n.ad.isMuted()):n.video.muted||0!=n.video.volume?n.video.muted=!n.video.muted:n.video.volume=1)})),this.eventManager.o(this.video,"volumechange",(function(){uk(n),lk(n)})),this.eventManager.o(this.player,"loading",(function(){uk(n),lk(n)})),this.eventManager.o(this.player,"loaded",(function(){ck(n)})),this.eventManager.o(this.player,"unloading",(function(){ck(n)})),this.eventManager.o(this.player,"trackschanged",(function(){ck(n)})),this.eventManager.o(this.controls,"caststatuschanged",(function(){uk(n),lk(n)})),this.eventManager.o(this.adManager,"ad-volume-changed",(function(){uk(n),lk(n)})),this.eventManager.o(this.adManager,"ad-muted",(function(){uk(n),lk(n)})),this.eventManager.o(this.adManager,"ad-started",(function(){ck(n)})),this.eventManager.o(this.adManager,"ad-stopped",(function(){n.ad=null,uk(n),lk(n),ck(n)})),ck(this)}function uk(t){var e=t.ad?t.ad.isMuted()?"UNMUTE":"MUTE":t.video.muted||0==t.video.volume?"UNMUTE":"MUTE";t.g.ariaLabel=t.localization.resolve(e),t.h.textContent=t.localization.resolve(e)}function lk(t){var e=t.ad?t.ad.isMuted()?"M671-177q-11 7-22 13t-23 11q-15 7-30.5 0T574-176q-6-15 1.5-29.5T598-227q4-2 7.5-4t7.5-4L480-368v111q0 27-24.5 37.5T412-228L280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h88L84-764q-11-11-11-28t11-28q11-11 28-11t28 11l680 680q11 11 11 28t-11 28q-11 11-28 11t-28-11l-93-93Zm89-304q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131t58 197q0 33-6 65.5T817-353q-8 22-24.5 27.5t-30.5.5q-14-5-22.5-18t-.5-30q11-26 16-52.5t5-55.5ZM591-623q33 21 51 63t18 80v10q0 5-1 10-2 13-14 17t-22-6l-51-51q-6-6-9-13.5t-3-15.5v-77q0-12 10.5-17.5t20.5.5Zm-201-59q-6-6-6-14t6-14l22-22q19-19 43.5-8.5T480-703v63q0 14-12 19t-22-5l-56-56Z":"M760-481q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131.5T840-481q0 108-58 196.5T627-153q-16 7-31.5 0T574-176q-5-15 2-29.5t22-21.5q74-34 118-102.5T760-481ZM280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120l132-132q19-19 43.5-8.5T480-703v446q0 27-24.5 37.5T412-228L280-360Zm380-120q0 42-19 79.5T591-339q-10 6-20.5.5T560-356v-250q0-12 10.5-17.5t20.5.5q31 25 50 63t19 80Z":t.video.muted||0==t.video.volume?"M671-177q-11 7-22 13t-23 11q-15 7-30.5 0T574-176q-6-15 1.5-29.5T598-227q4-2 7.5-4t7.5-4L480-368v111q0 27-24.5 37.5T412-228L280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h88L84-764q-11-11-11-28t11-28q11-11 28-11t28 11l680 680q11 11 11 28t-11 28q-11 11-28 11t-28-11l-93-93Zm89-304q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131t58 197q0 33-6 65.5T817-353q-8 22-24.5 27.5t-30.5.5q-14-5-22.5-18t-.5-30q11-26 16-52.5t5-55.5ZM591-623q33 21 51 63t18 80v10q0 5-1 10-2 13-14 17t-22-6l-51-51q-6-6-9-13.5t-3-15.5v-77q0-12 10.5-17.5t20.5.5Zm-201-59q-6-6-6-14t6-14l22-22q19-19 43.5-8.5T480-703v63q0 14-12 19t-22-5l-56-56Z":"M760-481q0-83-44-151.5T598-735q-15-7-22-21.5t-2-29.5q6-16 21.5-23t31.5 0q97 43 155 131.5T840-481q0 108-58 196.5T627-153q-16 7-31.5 0T574-176q-5-15 2-29.5t22-21.5q74-34 118-102.5T760-481ZM280-360H160q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120l132-132q19-19 43.5-8.5T480-703v446q0 27-24.5 37.5T412-228L280-360Zm380-120q0 42-19 79.5T591-339q-10 6-20.5.5T560-356v-250q0-12 10.5-17.5t20.5.5q31 25 50 63t19 80Z";t.j.use(e)}function ck(t){var e=!0;t.ad&&t.ad.isLinear()?e=!0:t.player.Gh()&&(e=!1),zT(t.g,e)}function dk(){}function pk(e,n){BT.call(this,e,n);var r=this;this.j=this.controls.u,this.g=ls(),this.g.classList.add("shaka-pip-button"),this.g.classList.add("shaka-tooltip"),this.l=new jT(this.g,"M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-120h240q17 0 28.5-11.5T760-320v-160q0-17-11.5-28.5T720-520H480q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm120-120Z"),(e=ss("label")).classList.add("shaka-overflow-button-label"),e.classList.add("shaka-overflow-menu-only"),e.classList.add("shaka-simple-overflow-button-label-inline"),this.i=ss("span"),this.i.textContent=this.localization.resolve("PICTURE_IN_PICTURE"),e.appendChild(this.i),this.h=ss("span"),this.h.classList.add("shaka-current-selection-span"),e.appendChild(this.h),this.g.appendChild(e),gk(this),this.parent.appendChild(this.g),this.controls.Ff()||zT(this.g,!1),this.eventManager.o(this.localization,"locale-updated",(function(){gk(r)})),this.eventManager.o(this.localization,"locale-changed",(function(){gk(r)})),this.eventManager.o(this.g,"click",(function(){r.controls.Da()&&r.controls.cd()})),this.eventManager.o(this.j,"enterpictureinpicture",(function(){hk(r)})),this.eventManager.o(this.j,"leavepictureinpicture",(function(){fk(r)})),this.eventManager.o(this.controls,"caststatuschanged",(function(){mk(r)})),this.eventManager.o(this.player,"trackschanged",(function(){mk(r)})),"documentPictureInPicture"in t&&this.eventManager.o(t.documentPictureInPicture,"enter",(function(t){hk(r),r.eventManager.ua(t.window,"pagehide",(function(){fk(r)}))}))}function hk(t){t.l.use("M160-160q-33 0-56.5-23.5T80-240v-240q0-17 11.5-28.5T120-520h240q33 0 56.5-23.5T440-600v-160q0-17 11.5-28.5T480-800h320q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm360-400q-17 0-28.5 11.5T480-520v160q0 17 11.5 28.5T520-320q17 0 28.5-11.5T560-360v-63l95 95q12 12 28 12t28-12q12-12 12-28.5T711-385l-95-95h64q17 0 28.5-11.5T720-520q0-17-11.5-28.5T680-560H520Zm-400-40q-17 0-28.5-11.5T80-640v-120q0-17 11.5-28.5T120-800h200q17 0 28.5 11.5T360-760v120q0 17-11.5 28.5T320-600H120Z"),t.g.ariaLabel=t.localization.resolve("EXIT_PICTURE_IN_PICTURE"),t.h.textContent=t.localization.resolve("ON")}function fk(t){t.l.use("M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720v480q0 33-23.5 56.5T800-160H160Zm320-120h240q17 0 28.5-11.5T760-320v-160q0-17-11.5-28.5T720-520H480q-17 0-28.5 11.5T440-480v160q0 17 11.5 28.5T480-280Zm120-120Z"),t.g.ariaLabel=t.localization.resolve("ENTER_PICTURE_IN_PICTURE"),t.h.textContent=t.localization.resolve("OFF")}function gk(t){t.i.textContent=t.localization.resolve("PICTURE_IN_PICTURE");var e=t.controls.Md();t.g.ariaLabel=t.localization.resolve(e?"EXIT_PICTURE_IN_PICTURE":"ENTER_PICTURE_IN_PICTURE"),t.h.textContent=t.localization.resolve(e?"ON":"OFF")}function mk(t){P((function(e){return t.controls.Ff()?t.player&&t.player.Ld()?(zT(t.g,!1),t.controls.Md()?w(e,t.controls.cd(),0):e.B(0)):(zT(t.g,!0),e.B(0)):(zT(t.g,!1),t.controls.Md()?w(e,t.controls.cd(),0):e.B(0))}))}function vk(){}function yk(t,e){DE.call(this,t,e,"m426-330 195-125q14-9 14-25t-14-25L426-630q-15-10-30.5-1.5T380-605v250q0 18 15.5 26.5T426-330ZM121-440q17 0 30.5 11t18.5 28q6 23 14.5 43.5T204-317q9 15 7.5 32T198-256q-11 11-27 10t-25-14q-22-31-37-66.5T86-400q-3-16 7.5-28t27.5-12Zm77-264q12 12 13 29t-7 31q-11 20-19.5 41T170-559q-5 17-18.5 28T121-520q-17 0-27.5-12.5T87-561q8-38 23-73.5t36-66.5q9-13 25-13.5t27 10.5Zm56 505q12-13 29.5-14t32.5 8q20 11 40.5 20t42.5 15q17 5 28 18t11 30q0 17-12.5 27T397-88q-38-8-71.5-23T260-146q-14-9-15.5-25t9.5-28Zm186-639q0 17-10.5 30T402-790q-23 6-44 14.5T317-755q-15 9-32.5 7.5T255-761q-12-12-10.5-28.5T260-815q32-20 66.5-34.5T399-872q16-3 28.5 7t12.5 27Zm360 358q0-113-69.5-199.5T553-792q-15-4-24-17t-9-29q0-16 11-26.5t25-7.5q140 28 232 137t92 255q0 146-92 255T556-88q-14 3-25-7.5T520-122q0-16 9-29t24-17q108-26 177.5-112.5T800-480Z");var n=this;this.button.classList.add("shaka-playbackrate-button"),this.menu.classList.add("shaka-playback-rates"),this.button.classList.add("shaka-tooltip-status"),Array.from(t.classList).includes("shaka-overflow-menu")||(this.g=ss("span"),this.g.classList.add("shaka-overflow-playback-rate-mark"),this.button.appendChild(this.g)),this.eventManager.o(this.localization,"locale-updated",(function(){Ak(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){Ak(n)})),this.eventManager.o(this.player,"loaded",(function(){bk(n)})),this.eventManager.o(this.player,"ratechange",(function(){bk(n)})),Ak(this),function(t){for(var e=g(t.controls.g.playbackRates),n=e.next(),r={};!n.done;r={Xf:void 0},n=e.next()){r.Xf=n.value,n=ls();var i=ss("span");i.textContent=r.Xf+"x",n.appendChild(i),t.eventManager.o(n,"click",function(e){return function(){e.Xf==t.video.defaultPlaybackRate?t.player.Bd():t.player.sc(e.Xf,!1)}}(r)),t.menu.appendChild(n)}VT(t.menu)}(this),bk(this)}function Ak(t){t.backButton.ariaLabel=t.localization.resolve("BACK"),t.button.ariaLabel=t.localization.resolve("PLAYBACK_RATE"),t.nameSpan.textContent=t.localization.resolve("PLAYBACK_RATE"),t.backSpan.textContent=t.localization.resolve("PLAYBACK_RATE")}function bk(t){var e=t.player.Za(),n=FT(t.menu,"material-svg-icon shaka-chosen-item");if(n){var r=n.parentElement;r.removeAttribute("aria-selected");var i=r.getElementsByTagName("span")[0];i&&i.classList.remove("shaka-chosen-item"),r.removeChild(n)}(n=Array.from(t.menu.querySelectorAll("span")).find((function(t){return t.textContent==e+"x"})))&&((r=n.parentElement).appendChild(GT()),r.ariaSelected="true",n.classList.add("shaka-chosen-item")),t.currentSelection.textContent=e+"x",t.button.setAttribute("shaka-status",e+"x"),t.g&&(t.g.textContent=e+"x")}function wk(){}function Ck(t,e){BT.call(this,t,e);var n=this;this.g=ls(),this.g.classList.add("shaka-current-time"),xk(this,"0:00"),this.parent.appendChild(this.g),this.eventManager.o(this.g,"click",(function(){n.controls.Da()&&n.player.U()&&(n.video.currentTime=n.player.wa().end)})),this.eventManager.o(this.player,"loading",(function(){zT(n.g,!0)})),this.eventManager.o(this.controls,"timeandseekrangeupdated",(function(){var t=n.controls.V,e=n.controls.ph(),r=n.player.wa(),i=r.end-r.start;isFinite(i)?n.player.U()?(i=i>=3600,(e=Math.max(0,Math.floor(r.end-e)))>=1||t?(xk(n,"- "+HT(e,i)),n.g.disabled=!1):(xk(n,n.localization.resolve("LIVE")),n.g.disabled=!0)):(t=i>=3600,e=HT(Math.max(0,e-r.start),t),i&&(e+=" / "+HT(i,t)),xk(n,e),n.g.disabled=!0):(xk(n,n.localization.resolve("LIVE")),n.g.disabled=!0)})),this.eventManager.o(this.player,"trackschanged",(function(){n.player.U()&&(n.g.ariaLabel=n.localization.resolve("SKIP_TO_LIVE"))})),this.eventManager.o(this.adManager,"ad-started",(function(){zT(n.g,!n.ad.isLinear())})),this.eventManager.o(this.adManager,"ad-stopped",(function(){zT(n.g,!0)}))}function xk(t,e){e!=t.g.textContent&&(t.g.textContent=e)}function Tk(){}function Sk(t,e){BT.call(this,t,e);var n=this;this.g=ls(),this.g.classList.add("shaka-recenter-vr-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",new jT(this.g,"M479-359q-50 0-85-35t-35-85q0-50 35-85t85-35q50 0 85 35t35 85q0 50-35 85t-85 35Zm-57 222-85-85q-12-12-11.5-28.5T338-279q12-12 28.5-12t28.5 12l85 86 85-85q11-11 28-11t28 11q11 11 11 28t-11 28l-85 85q-12 12-27 18t-30 6q-15 0-30-6t-27-18ZM221-337l-85-85q-12-12-18-27t-6-30q0-15 6-30t18-27l85-85q12-12 28.5-12t28.5 12q12 12 12 28.5T278-564l-86 86 85 85q11 11 11 28t-11 28q-11 11-28 11t-28-11Zm116-401 85-85q12-12 27-18t30-6q15 0 30 6t27 18l85 85q12 12 12 28t-12 28q-12 12-28.5 12T564-682l-86-85-85 85q-11 11-28 11t-28-11q-11-11-11-28t11-28Zm344 343 85-85-85-85q-11-11-11-28t11-28q11-11 28-11t28 11l85 85q12 12 18 27t6 30q0 15-6 30t-18 27l-85 85q-12 12-28 11.5T681-338q-12-12-12-28.5t12-28.5Z"),(t=ss("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),this.i=ss("span"),t.appendChild(this.i),this.h=ss("span"),this.h.classList.add("shaka-current-selection-span"),t.appendChild(this.h),this.g.appendChild(t),this.parent.appendChild(this.g),Ek(this),this.eventManager.o(this.localization,"locale-updated",(function(){Ek(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){Ek(n)}));var r=this.controls.D;this.eventManager.o(this.g,"click",(function(){n.controls.Da()&&(r.g?LS(r.g):X("Not playing VR content"))})),this.eventManager.o(r,"vrstatuschanged",(function(){zT(n.g,n.controls.Xb())})),zT(this.g,this.controls.Xb())}function Ek(t){t.g.ariaLabel=t.localization.resolve("RECENTER_VR"),t.i.textContent=t.localization.resolve("RECENTER_VR")}function kk(){}function Ik(t,e){BT.call(this,t,e);var n=this;this.i=Lt().kg(),this.g=ls(),this.g.classList.add("shaka-remote-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",this.l=new jT(this.g,this.i?"M312-120q-14 0-22-9.5t-8-20.5q0-5 2-10.5t7-10.5l161-161q6-6 13-9t15-3q8 0 15 3t13 9l161 161q5 5 7 10.5t2 10.5q0 11-8 20.5t-22 9.5H312ZM160-840h640q33 0 56.5 23.5T880-760v480q0 33-23.5 56.5T800-200h-7q-16 0-30.5-6T737-223L565-395q-17-17-39-26t-46-9q-24 0-46 9t-39 26L223-223q-11 11-25.5 17t-30.5 6h-7q-33 0-56.5-23.5T80-280v-480q0-33 23.5-56.5T160-840Z":"M880-240q0 33-23.5 56.5T800-160H633q-14 0-23.5-10.5T599-195q-6-95-43.5-177.5t-98-146.5q-60.5-64-141-105T143-676q-26-3-44.5-20.5T80-740q0-26 18.5-43t44.5-17h657q33 0 56.5 23.5T880-720v480Zm-560 80q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125t128 273q2 17-9.5 29T480-160Zm-350 0q-21 0-35.5-14.5T80-210q0-21 14.5-35.5T130-260q21 0 35.5 14.5T180-210q0 21-14.5 35.5T130-160Z"),(t=ss("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),this.m=ss("span"),t.appendChild(this.m),this.j=ss("span"),this.j.classList.add("shaka-current-selection-span"),t.appendChild(this.j),this.g.appendChild(t),this.parent.appendChild(this.g),this.h=-1,Rk(this),zT(this.g,!1),this.video.remote?(this.eventManager.o(this.localization,"locale-updated",(function(){Rk(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){Rk(n)})),this.eventManager.o(this.controls,"caststatuschanged",(function(){Mk(n)})),this.eventManager.o(this.g,"click",(function(){n.controls.Da()&&n.video.remote.prompt().catch((function(){}))})),this.eventManager.o(this.video.remote,"connect",(function(){Mk(n),Lk(n)})),this.eventManager.o(this.video.remote,"connecting",(function(){Mk(n),Lk(n)})),this.eventManager.o(this.video.remote,"disconnect",(function(){Mk(n),Lk(n)})),this.eventManager.o(this.player,"loaded",(function(){Mk(n)})),Mk(this,!0),Lk(this)):this.g.classList.add("shaka-hidden")}function Mk(t,e){var n,r;e=void 0!==e&&e,P((function(i){switch(i.g){case 1:if(t.controls.F.Kg()&&t.controls.sa||!t.video.remote){zT(t.g,!1),-1!=t.h&&(t.video.remote.cancelWatchAvailability(t.h),t.h=-1),i.B(0);break}if("disconnected"==t.video.remote.state||e){if(n=function(e){if(t.player){var n=t.video.disableRemotePlayback,r=!0;Lt().kg()&&t.player.l==fh&&"HLS"!=t.player.sh()&&(r=!1),zT(t.g,r&&e&&!n)}else zT(t.g,!1)},x(i,7),-1==t.h){i.B(9);break}return w(i,t.video.remote.cancelWatchAvailability(t.h),10)}if(zT(t.g,!0),-1==t.h){i.B(0);break}return w(i,t.video.remote.cancelWatchAvailability(t.h),6);case 6:t.h=-1,i.B(0);break;case 10:t.h=-1;case 9:S(i,8);break;case 7:E(i);case 8:return x(i,11),w(i,t.video.remote.watchAvailability(n),13);case 13:r=i.h,t.h=r,S(i,0);break;case 11:E(i),n(!0),C(i)}}))}function Rk(t){var e=t.i?t.localization.resolve("AIRPLAY"):t.localization.resolve("CAST");t.g.ariaLabel=e,t.m.textContent=e}function Lk(t){t.i||("disconnected"==t.video.remote.state?t.l.use("M880-240q0 33-23.5 56.5T800-160H633q-14 0-23.5-10.5T599-195q-6-95-43.5-177.5t-98-146.5q-60.5-64-141-105T143-676q-26-3-44.5-20.5T80-740q0-26 18.5-43t44.5-17h657q33 0 56.5 23.5T880-720v480Zm-560 80q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125t128 273q2 17-9.5 29T480-160Zm-350 0q-21 0-35.5-14.5T80-210q0-21 14.5-35.5T130-260q21 0 35.5 14.5T180-210q0 21-14.5 35.5T130-160Z"):t.l.use("M720-600v240q0 17-11.5 28.5T680-320h-87q-8 0-14.5-4.5T569-337q-29-81-81.5-147T364-596q-16-10-11.5-27t21.5-17h306q17 0 28.5 11.5T720-600ZM320-160q-16 0-28-9.5T277-195q-11-63-56.5-107T112-357q-15-2-23.5-14.5T80-400q0-17 11-28.5t26-9.5q94 12 160.5 79T357-198q2 16-9 27t-28 11Zm160 0q-17 0-28.5-11T438-199q-14-128-104.5-217T115-518q-16-2-25.5-14T80-560q0-17 10.5-29t25.5-10q161 13 274 125.5T518-201q2 17-9.5 29T480-160Zm-340 0q-25 0-42.5-17.5T80-220q0-25 17.5-42.5T140-280q25 0 42.5 17.5T200-220q0 25-17.5 42.5T140-160Zm740-560v480q0 33-23.5 56.5T800-160H638q-17 0-28.5-11.5T598-200q0-17 11.5-28.5T638-240h162v-480H160v6q0 17-11.5 28.5T120-674q-17 0-28.5-11.5T80-714v-6q0-33 23.5-56.5T160-800h640q33 0 56.5 23.5T880-720Z"))}function Ok(){}function Pk(t,e){DE.call(this,t,e,"M480-120q-17 0-28.5-11.5T440-160v-160q0-17 11.5-28.5T480-360q17 0 28.5 11.5T520-320v40h280q17 0 28.5 11.5T840-240q0 17-11.5 28.5T800-200H520v40q0 17-11.5 28.5T480-120Zm-320-80q-17 0-28.5-11.5T120-240q0-17 11.5-28.5T160-280h160q17 0 28.5 11.5T360-240q0 17-11.5 28.5T320-200H160Zm160-160q-17 0-28.5-11.5T280-400v-40H160q-17 0-28.5-11.5T120-480q0-17 11.5-28.5T160-520h120v-40q0-17 11.5-28.5T320-600q17 0 28.5 11.5T360-560v160q0 17-11.5 28.5T320-360Zm160-80q-17 0-28.5-11.5T440-480q0-17 11.5-28.5T480-520h320q17 0 28.5 11.5T840-480q0 17-11.5 28.5T800-440H480Zm160-160q-17 0-28.5-11.5T600-640v-160q0-17 11.5-28.5T640-840q17 0 28.5 11.5T680-800v40h120q17 0 28.5 11.5T840-720q0 17-11.5 28.5T800-680H680v40q0 17-11.5 28.5T640-600Zm-480-80q-17 0-28.5-11.5T120-720q0-17 11.5-28.5T160-760h320q17 0 28.5 11.5T520-720q0 17-11.5 28.5T480-680H160Z");var n=this;this.button.classList.add("shaka-resolution-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-resolutions"),this.h=ss("span"),this.h.classList.add("shaka-current-auto-quality"),this.h.style.display="none",this.i=ss("sup"),this.i.classList.add("shaka-current-quality-mark"),this.i.style.display="none",Array.from(t.classList).includes("shaka-overflow-menu")?this.parent.parentElement&&(this.g=function(t){return(t=t.getElementsByClassName("shaka-overflow-quality-mark")).length?t[0]:null}(this.parent.parentElement)):(this.g=ss("span"),this.g.classList.add("shaka-overflow-playback-rate-mark"),this.button.appendChild(this.g)),t=ss("span"),this.button.childNodes[1].appendChild(t),t.appendChild(this.currentSelection),t.appendChild(this.h),t.appendChild(this.i),this.eventManager.o(this.localization,"locale-updated",(function(){qk(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){qk(n)})),this.eventManager.o(this.player,"loading",(function(){Nk(n),Dk(n)})),this.eventManager.o(this.player,"loaded",(function(){Nk(n),Dk(n)})),this.eventManager.o(this.player,"unloading",(function(){Nk(n),Dk(n)})),this.eventManager.o(this.player,"variantchanged",(function(){Nk(n),Dk(n)})),this.eventManager.o(this.player,"trackschanged",(function(){Nk(n),Dk(n)})),this.eventManager.o(this.player,"abrstatuschanged",(function(){Nk(n),Dk(n)})),this.eventManager.o(this.player,"adaptation",(function(){Nk(n),Dk(n)})),Nk(this)}function Dk(t){var e=t.player.getConfiguration().abr.enabled;if(t.player.Ld()){t.i.textContent="",t.i.style.display="none",t.g&&(t.g.textContent="",t.g.style.display="none");var n=t.player.Nb()||[],r=n.find((function(t){return t.active}));r&&(e?(t.h.textContent=r.bandwidth?Bk(t,r,n):"Unknown",t.h.style.display=""):t.h.style.display="none")}else(r=(n=t.player.getVideoTracks()||[]).find((function(t){return t.active})))?(e?(t.h.textContent=r.height&&r.width?Uk(t,r,n):r.bandwidth?jk(r.bandwidth):"Unknown",t.h.style.display=""):t.h.style.display="none",e=_k(t,r.width,r.height),t.i.textContent=e,t.i.style.display=""!==e?"":"none",t.g&&(t.g.textContent=e,t.g.style.display=""!==e?"":"none")):t.g&&(e=t.player.getStats(),e=_k(t,e.width,e.height),t.g.textContent=e,t.g.style.display=""!==e?"":"none")}function _k(t,e,n){return e&&n?(n>e&&(e=(n=g([n,e])).next().value,n=n.next().value),e/n>16/9&&(n=Math.round(9*e/16)),t=t.controls.g.qualityMarks,n>=8640?n+"p":n>=4320?t[4320]:n>=2160?t[2160]:n>=1440?t[1440]:n>=1080?t[1080]:n>=720?t[720]:""):""}function Nk(t){var e=qT(t.menu);ps(t.menu),t.menu.appendChild(e),e=0,e=t.player.Ld()?function(t){var e=[];t.player.l==gh||t.player.Ea()||(e=t.player.Nb()||[]);var n=e.find((function(t){return t.active}));n&&(e=e.filter((function(e){if(e.language!=n.language||t.controls.g.showAudioChannelCountVariants&&e.channelsCount&&n.channelsCount&&e.channelsCount!=n.channelsCount)return!1;var r=t.controls.g.trackLabelFormat;return!((1==r||2==r)&&JSON.stringify(e.audioRoles)!=JSON.stringify(n.audioRoles)||3==r&&e.label!=n.label||!e.bandwidth)}))),(e=e.filter((function(t,n){return e.findIndex((function(e){return e.bandwidth==t.bandwidth}))==n}))).sort((function(t,e){return e.bandwidth-t.bandwidth}));for(var r=t.player.getConfiguration().abr.enabled,i=g(e),a=i.next(),o={};!a.done;o={Me:void 0},a=i.next()){o.Me=a.value,(a=ls()).classList.add("explicit-resolution"),t.eventManager.o(a,"click",function(e){return function(){var n=e.Me;t.player.configure({abr:{enabled:!1}}),t.player.Ie(n,t.controls.g.clearBufferOnQualityChange)}}(o));var s=ss("span");s.textContent=o.Me.bandwidth?Bk(t,o.Me,e):"Unknown",a.appendChild(s),r||o.Me!=n||(a.ariaSelected="true",a.appendChild(GT()),s.classList.add("shaka-chosen-item"),t.currentSelection.textContent=s.textContent),t.menu.appendChild(a)}return e.length}(t):function(t){var e=t.player.getVideoTracks()||[],n=e.find((function(t){return t.active}));(e=e.filter((function(n,r){return e.findIndex((function(e){var r=e.height==n.height&&e.bandwidth==n.bandwidth&&e.frameRate==n.frameRate&&e.hdr==n.hdr&&e.videoLayout==n.videoLayout&&Ie(e.roles,n.roles);return r&&t.controls.g.showVideoCodec&&e.codecs&&n.codecs&&(r=Lr(e.codecs)==Lr(n.codecs)),r}))==r}))).sort((function(t,e){return e.height==t.height||null==t.height||null==e.height?e.bandwidth-t.bandwidth:e.height-t.height}));for(var r=t.player.getConfiguration().abr.enabled,i=g(e),a=i.next(),o={};!a.done;o={nc:void 0},a=i.next()){o.nc=a.value,(a=ls()).classList.add("explicit-resolution"),t.eventManager.o(a,"click",function(e){return function(){var n=e.nc;t.player.configure({abr:{enabled:!1}}),t.player.Ij(n,t.controls.g.clearBufferOnQualityChange)}}(o));var s=ss("span");s.textContent=o.nc.height&&o.nc.width?Uk(t,o.nc,e):o.nc.bandwidth?jk(o.nc.bandwidth):"Unknown",a.appendChild(s);var u=_k(t,o.nc.width,o.nc.height);if(""!==u){var l=ss("sup");l.classList.add("shaka-quality-mark"),l.textContent=u,a.appendChild(l)}r||o.nc!=n||(a.ariaSelected="true",a.appendChild(GT()),s.classList.add("shaka-chosen-item"),t.currentSelection.textContent=s.textContent),t.menu.appendChild(a)}return e.length}(t);var n=ls();n.classList.add("shaka-enable-abr-button"),t.eventManager.o(n,"click",(function(){t.player.configure({abr:{enabled:!0}}),Nk(t)})),t.l=ss("span"),t.l.textContent=t.localization.resolve("AUTO_QUALITY"),n.appendChild(t.l),t.player.getConfiguration().abr.enabled&&(n.ariaSelected="true",n.appendChild(GT()),t.l.classList.add("shaka-chosen-item"),t.currentSelection.textContent=t.localization.resolve("AUTO_QUALITY")),t.button.setAttribute("shaka-status",t.currentSelection.textContent),t.menu.appendChild(n),VT(t.menu),t.controls.dispatchEvent(new z("resolutionselectionupdated")),qk(t),zT(t.button,e>0)}function Uk(t,e,n){function r(t,e){return t!=e&&t.height==e.height&&t.hdr==e.hdr&&i(t)==i(e)&&Math.round(t.frameRate||0)==Math.round(e.frameRate||0)}function i(t){return!!t.codecs&&Lr(t.codecs).startsWith("dovi-")}var a=e.height||0,o=e.width||0;a>o&&(o=(a=g([a,o])).next().value,a=a.next().value);var s=a;o/a>16/9&&(s=Math.round(9*o/16)),o=s+"p",a=new Set;for(var u=(s=g(n)).next();!u.done;u=s.next())(u=u.value).frameRate&&a.add(Math.round(u.frameRate));if(a.size>1&&(a=e.frameRate)&&(a>=50||a<=20)&&(o+=Math.round(e.frameRate)),"PQ"!=e.hdr&&"HLG"!=e.hdr||(o=i(e)?o+" Dolby Vision":o+" HDR"),(e.videoLayout||"").includes("CH-STEREO")&&(o+=" 3D"),n.some((function(t){return r(e,t)}))&&(n.some((function(t){return r(e,t)&&t.bandwidth==e.bandwidth}))||(o+=" ("+jk(e.bandwidth)+")"),t.controls.g.showVideoCodec)){var l=function(t){var e="";return t&&(e=Lr(t).toUpperCase()),e?" "+e:e};n.some((function(t){return r(e,t)&&l(t.codecs)!=l(e.codecs)}))&&(o+=l(e.codecs))}return o}function Bk(t,e,n){var r=jk(e.bandwidth);if(t.controls.g.showAudioCodec){var i=function(t){var e="";return t&&(e=Lr(t).toUpperCase()),e?" "+e:e};n.some((function(t){return i(t.codecs)!=i(e.codecs)}))&&(r+=i(e.codecs))}return r}function jk(t){return t>=1e6?(t/1e6).toFixed(1).replace(".0","")+" Mbps":Math.floor(t/1e3)+" Kbps"}function qk(t){var e=t.player.Ld()?"QUALITY":"RESOLUTION";t.button.ariaLabel=t.localization.resolve(e),t.backButton.ariaLabel=t.localization.resolve(e),t.backSpan.textContent=t.localization.resolve(e),t.nameSpan.textContent=t.localization.resolve(e),t.l.textContent=t.localization.resolve("AUTO_QUALITY"),t.player.getConfiguration().abr.enabled&&(t.currentSelection.textContent=t.localization.resolve("AUTO_QUALITY"))}function Fk(){}function Vk(t,e){BT.call(this,t,e);var n=this;this.g=ls(),this.g.classList.add("shaka-rewind-button"),this.g.classList.add("shaka-tooltip-status"),this.g.setAttribute("shaka-status",this.localization.resolve("OFF")),new jT(this.g).use("M798-281 550-447q-9-6-13.5-14.5T532-480q0-10 4.5-18.5T550-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Zm-400 0L150-447q-9-6-13.5-14.5T132-480q0-10 4.5-18.5T150-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"),this.parent.appendChild(this.g),Gk(this),this.h=this.controls.g.rewindRates,this.eventManager.o(this.localization,"locale-updated",(function(){Gk(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){Gk(n)})),this.eventManager.o(this.g,"click",(function(){if(n.controls.Da()&&n.video.duration){var t=n.h.indexOf(n.player.Za())+1;t=t!=n.h.length?n.h[t]:n.h[0],n.video.paused&&n.video.play(),n.player.sc(t),n.g.setAttribute("shaka-status",t+"x")}})),this.eventManager.o(this.player,"ratechange",(function(){n.g.setAttribute("shaka-status",n.player.Za()+"x")}))}function Gk(t){t.g.ariaLabel=t.localization.resolve("REWIND")}function zk(){}function Hk(t,e){BT.call(this,t,e);var n=this;this.j=this.controls.F,this.g=ls(),this.g.classList.add("shaka-save.video-frame-button"),this.g.classList.add("shaka-tooltip"),new jT(this.g,"M480-337q-8 0-15-2.5t-13-8.5L308-492q-12-12-11.5-28t11.5-28q12-12 28.5-12.5T365-549l75 75v-286q0-17 11.5-28.5T480-800q17 0 28.5 11.5T520-760v286l75-75q12-12 28.5-11.5T652-548q11 12 11.5 28T652-492L508-348q-6 6-13 8.5t-15 2.5ZM240-160q-33 0-56.5-23.5T160-240v-80q0-17 11.5-28.5T200-360q17 0 28.5 11.5T240-320v80h480v-80q0-17 11.5-28.5T760-360q17 0 28.5 11.5T800-320v80q0 33-23.5 56.5T720-160H240Z"),(t=ss("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),this.h=ss("span"),this.h.textContent=this.localization.resolve("DOWNLOAD_VIDEO_FRAME"),t.appendChild(this.h),this.i=ss("span"),this.i.classList.add("shaka-current-selection-span"),t.appendChild(this.i),this.g.appendChild(t),Wk(this),this.parent.appendChild(this.g),this.eventManager.o(this.localization,"locale-updated",(function(){Wk(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){Wk(n)})),this.eventManager.o(this.g,"click",(function(){var t=document.createElement("canvas"),e=t.getContext("2d"),r=n.controls.u;t.width=r.videoWidth,t.height=r.videoHeight,e.drawImage(r,0,0,t.width,t.height),t=t.toDataURL("image/png"),(e=document.createElement("a")).href=t,e.download="videoframe_"+r.currentTime.toFixed(3)+".png",e.click()})),this.eventManager.o(this.controls.D,"vrstatuschanged",(function(){Kk(n)})),this.eventManager.o(this.adManager,"ad-started",(function(){Kk(n)})),this.eventManager.o(this.adManager,"ad-stopped",(function(){Kk(n)})),this.eventManager.o(this.player,"unloading",(function(){Kk(n)})),this.eventManager.o(this.player,"loaded",(function(){Kk(n)})),this.eventManager.o(this.video,"play",(function(){Kk(n)})),this.eventManager.o(this.video,"pause",(function(){Kk(n)})),this.eventManager.o(this.video,"seeking",(function(){Kk(n)})),this.eventManager.o(this.controls,"caststatuschanged",(function(){Kk(n)})),Kk(this)}function Kk(t){var e=!0;t.controls.Xb()&&(e=!1),e&&t.j.Qa()&&(e=!1),e&&(t.player.drmInfo()||t.player.Ld())&&(e=!1),e&&t.ad&&(e=!1),e&&t.video.remote&&"disconnected"!=t.video.remote.state&&(e=!1),zT(t.g,e)}function Wk(t){t.g.ariaLabel=t.localization.resolve("DOWNLOAD_VIDEO_FRAME"),t.h.textContent=t.localization.resolve("DOWNLOAD_VIDEO_FRAME")}function $k(){}function Xk(t,e){BT.call(this,t,e);var n=this;(this.g=this.player.wf())&&(this.h=ls(),this.h.classList.add("shaka-skip-next-button"),this.h.classList.add("shaka-tooltip"),new jT(this.h).use("M660-280v-400q0-17 11.5-28.5T700-720q17 0 28.5 11.5T740-680v400q0 17-11.5 28.5T700-240q-17 0-28.5-11.5T660-280Zm-440-35v-330q0-18 12-29t28-11q5 0 11 1t11 5l248 166q9 6 13.5 14.5T548-480q0 10-4.5 18.5T530-447L282-281q-5 4-11 5t-11 1q-16 0-28-11t-12-29Z"),this.parent.appendChild(this.h),Yk(this),Jk(this),this.eventManager.o(this.localization,"locale-updated",(function(){Yk(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){Yk(n)})),this.eventManager.o(this.h,"click",(function(){n.controls.Da()&&n.g.playItem(n.g.getCurrentItemIndex()+1)})),this.eventManager.o(this.g,"currentitemchanged",(function(){Jk(n)})),this.eventManager.o(this.g,"itemsinserted",(function(){Jk(n)})),this.eventManager.o(this.g,"itemsremoved",(function(){Jk(n)})),this.eventManager.o(this.player,"loading",(function(){Jk(n)})))}function Yk(t){t.h.ariaLabel=t.localization.resolve("SKIP_NEXT")}function Jk(t){var e=t.g.getItems().length;e=e>1&&t.g.getCurrentItemIndex()+1<e,zT(t.h,e)}function Zk(){}function Qk(t,e){BT.call(this,t,e);var n=this;(this.g=this.player.wf())&&(this.h=ls(),this.h.classList.add("shaka-skip-previous-button"),this.h.classList.add("shaka-tooltip"),new jT(this.h).use("M220-280v-400q0-17 11.5-28.5T260-720q17 0 28.5 11.5T300-680v400q0 17-11.5 28.5T260-240q-17 0-28.5-11.5T220-280Zm458-1L430-447q-9-6-13.5-14.5T412-480q0-10 4.5-18.5T430-513l248-166q5-4 11-5t11-1q16 0 28 11t12 29v330q0 18-12 29t-28 11q-5 0-11-1t-11-5Z"),this.parent.appendChild(this.h),tI(this),eI(this),this.eventManager.o(this.localization,"locale-updated",(function(){tI(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){tI(n)})),this.eventManager.o(this.h,"click",(function(){n.controls.Da()&&n.g.playItem(n.g.getCurrentItemIndex()-1)})),this.eventManager.o(this.g,"currentitemchanged",(function(){eI(n)})),this.eventManager.o(this.g,"itemsinserted",(function(){eI(n)})),this.eventManager.o(this.g,"itemsremoved",(function(){eI(n)})),this.eventManager.o(this.player,"loading",(function(){eI(n)})))}function tI(t){t.h.ariaLabel=t.localization.resolve("SKIP_PREVIOUS")}function eI(t){var e=t.g.getItems().length>1&&t.g.getCurrentItemIndex()>0;zT(t.h,e)}function nI(){}function rI(t,e){YT.call(this,t,e),this.button.classList.add("shaka-small-play-button"),this.button.classList.add("shaka-tooltip")}function iI(){}function aI(t,e){BT.call(this,t,e),(t=ss("div")).classList.add("shaka-spacer"),t.ariaHidden="true",this.parent.appendChild(t)}function oI(){}function sI(t,e){function n(t){return(t=parseInt(l.g[t],10))>2e9?(t/1e9).toFixed(2)+"GB":t>1e6?(t/1e6).toFixed(2)+"MB":t>1e3?(t/1e3).toFixed(2)+"KB":t+"B"}function r(t){return l.g[t]+" (gaps)"}function i(t){return HT(l.g[t],!1)+" (m)"}function a(t){return Math.round(l.g[t]/1e3)+" (kbits/s)"}function o(t){return l.g[t].toFixed(2)+" (s)"}function s(t){return l.g[t]+" (frames)"}function u(t){return l.g[t]+" (px)"}BT.call(this,t,e);var l=this;this.i=ls(),this.i.classList.add("shaka-statistics-button"),this.u=new jT(this.i,"M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),(t=ss("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-simple-overflow-button-label-inline"),this.A=ss("span"),t.appendChild(this.A),this.l=ss("span"),this.l.classList.add("shaka-current-selection-span"),t.appendChild(this.l),this.i.appendChild(t),this.parent.appendChild(this.i),this.h=ss("div"),this.h.classList.add("shaka-no-propagation"),this.h.classList.add("shaka-show-controls-on-mouse-over"),this.h.classList.add("shaka-statistics-container"),this.h.classList.add("shaka-hidden"),this.controls.i.appendChild(this.h),this.D=[],this.F=["stateHistory","switchHistory"],this.g=this.player.getStats(),this.m=new Map,this.C=(new Map).set("width",u).set("height",u).set("currentCodecs",(function(t){return l.g[t]})).set("completionPercent",(function(t){return l.g[t]+" (%)"})).set("bufferingTime",o).set("drmTimeSeconds",o).set("licenseTime",o).set("liveLatency",o).set("loadLatency",o).set("manifestTimeSeconds",o).set("estimatedBandwidth",a).set("streamBandwidth",a).set("maxSegmentDuration",o).set("pauseTime",i).set("playTime",i).set("corruptedFrames",s).set("decodedFrames",s).set("droppedFrames",s).set("stallsDetected",(function(t){return l.g[t]+" (stalls)"})).set("gapsJumped",r).set("manifestSizeBytes",n).set("bytesDownloaded",n).set("nonFatalErrorCount",(function(t){return l.g[t]+" (errors)"})).set("manifestPeriodCount",(function(t){return l.g[t]+" (periods)"})).set("manifestGapCount",r),this.j=new Wr((function(){l.g=l.player.getStats();for(var t=g(l.D),e=t.next();!e.done;e=t.next()){var n=e.value;(e=l.m.get(n)).textContent=l.C.get(n)(n),e&&e.parentElement&&(n=l.g[n],zT(e.parentElement,"string"==typeof n?""!=n:!isNaN(n)))}})),lI(this),function(t){var e=ss("div");e.classList.add("shaka-no-propagation"),e.classList.add("shaka-statistics-close");var n=new jT(e,"M480-424 284-228q-11 11-28 11t-28-11q-11-11-11-28t11-28l196-196-196-196q-11-11-11-28t11-28q11-11 28-11t28 11l196 196 196-196q11-11 28-11t28 11q11 11 11 28t-11 28L536-480l196 196q11 11 11 28t-11 28q-11 11-28 11t-28-11L480-424Z").g;for(n.classList.add("material-icons","notranslate"),t.h.appendChild(e),t.eventManager.o(n,"click",(function(){uI(t)})),e=g(t.controls.g.statisticsList),n=e.next();!n.done;n=e.next())if((n=n.value)in t.g&&!t.F.includes(n)){var r=cI(t,n);t.h.appendChild(r),t.D.push(n)}else X("Unrecognized statistic element:",n)}(this),this.eventManager.o(this.localization,"locale-updated",(function(){lI(l)})),this.eventManager.o(this.localization,"locale-changed",(function(){lI(l)})),this.eventManager.o(this.i,"click",(function(){uI(l),lI(l)}))}function uI(t){t.h.classList.contains("shaka-hidden")?(t.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm120-440q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),t.j.xa(.1),zT(t.h,!0)):(t.u.use("M200-120q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h560q33 0 56.5 23.5T840-760v560q0 33-23.5 56.5T760-120H200Zm0-80h560v-560H200v560Zm0-560v560-560Zm120 200q-17 0-28.5 11.5T280-520v200q0 17 11.5 28.5T320-280q17 0 28.5-11.5T360-320v-200q0-17-11.5-28.5T320-560Zm160-120q-17 0-28.5 11.5T440-640v320q0 17 11.5 28.5T480-280q17 0 28.5-11.5T520-320v-320q0-17-11.5-28.5T480-680Zm160 240q-17 0-28.5 11.5T600-400v80q0 17 11.5 28.5T640-280q17 0 28.5-11.5T680-320v-80q0-17-11.5-28.5T640-440Z"),t.j.stop(),zT(t.h,!1))}function lI(t){t.A.textContent=t.localization.resolve("STATISTICS"),t.i.ariaLabel=t.localization.resolve("STATISTICS"),t.l.textContent=t.localization.resolve(t.h.classList.contains("shaka-hidden")?"OFF":"ON")}function cI(t,e){var n=ss("div"),r=ss("label");return r.textContent=e+":",n.appendChild(r),(r=ss("span")).textContent=t.C.get(e)(e),n.appendChild(r),t.m.set(e,r),n}function dI(){}function pI(t,e){DE.call(this,t,e,"M200-160q-33 0-56.5-23.5T120-240v-480q0-33 23.5-56.5T200-800h560q33 0 56.5 23.5T840-720v480q0 33-23.5 56.5T760-160H200Zm80-200h120q17 0 28.5-11.5T440-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T400-600H280q-17 0-28.5 11.5T240-560v160q0 17 11.5 28.5T280-360Zm400-240H560q-17 0-28.5 11.5T520-560v160q0 17 11.5 28.5T560-360h120q17 0 28.5-11.5T720-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T680-600Z");var n=this;this.button.classList.add("shaka-caption-button"),this.button.classList.add("shaka-tooltip-status"),this.menu.classList.add("shaka-text-languages"),this.player&&this.player.Wc()?this.button.ariaPressed="true":this.button.ariaPressed="false",function(t){var e=ls();e.ariaSelected="true",t.menu.appendChild(e),e.appendChild(GT()),t.g=ss("span"),e.appendChild(t.g)}(this),this.eventManager.o(this.localization,"locale-updated",(function(){gI(n),fI(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){gI(n),fI(n)})),this.eventManager.o(this.player,"loading",(function(){hI(n),fI(n)})),this.eventManager.o(this.player,"loaded",(function(){hI(n),fI(n)})),this.eventManager.o(this.player,"unloading",(function(){hI(n),fI(n)})),this.eventManager.o(this.player,"texttrackvisibility",(function(){hI(n),fI(n)})),this.eventManager.o(this.player,"textchanged",(function(){fI(n)})),this.eventManager.o(this.player,"trackschanged",(function(){fI(n)})),hI(this),gI(this),fI(this)}function hI(t){t.player.Wc()?(t.icon.use("M200-160q-33 0-56.5-23.5T120-240v-480q0-33 23.5-56.5T200-800h560q33 0 56.5 23.5T840-720v480q0 33-23.5 56.5T760-160H200Zm80-200h120q17 0 28.5-11.5T440-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T400-600H280q-17 0-28.5 11.5T240-560v160q0 17 11.5 28.5T280-360Zm400-240H560q-17 0-28.5 11.5T520-560v160q0 17 11.5 28.5T560-360h120q17 0 28.5-11.5T720-400v-20q0-9-6-15t-15-6h-18q-9 0-15 6t-6 15h-80v-120h80q0 9 6 15t15 6h18q9 0 15-6t6-15v-20q0-17-11.5-28.5T680-600Z"),t.button.ariaPressed="true"):(t.icon.use("M791-57 687-160H200q-33 0-56.5-23.5T120-240v-487l-65-65q-12-12-12-28.5T55-849q12-12 28.5-12t28.5 12l736 736q12 12 12 28t-12 28q-12 12-28.5 12T791-57ZM280-360h120q17 0 28.5-11.5T440-400v-25q0-8-6-14t-14-6h-20q-8 0-14 6t-6 14v5h-80v-127l-45-45v1q-7 5-11 13t-4 18v160q0 17 11.5 28.5T280-360Zm560-360v388q0 27-24.5 37.5T772-303l-66-66q7-5 10.5-13.5T720-400v-20q0-8-6-14t-14-6h-20q-8 0-14 6t-6 14h-5l-75-75v-45h80v5q0 8 6 14t14 6h20q8 0 14-6t6-14v-25q0-17-11.5-28.5T680-600H560q-17 0-28.5 11.5T520-560v5L343-732q-19-19-8.5-43.5T372-800h388q33 0 56.5 23.5T840-720Z"),t.button.ariaPressed="false"),t.controls.dispatchEvent(new z("captionselectionupdated"))}function fI(t){var e=t.player.yc()||[];!function(t,e,n,r,i,a,o){function s(t,e,n){return t=[t,e],n&&3==o&&t.push(n),t.join(": ")}var u=t.find((function(t){return 1==t.active})),l=qT(e);ps(e),e.appendChild(l),l=new Set,u=u?s(u.language,u.roles.join(", "),u.label):"";for(var c=(t=g(t)).next(),d={};!c.done;d={dd:void 0},c=t.next()){d.dd=c.value,c=d.dd.language;var p=d.dd.forced,h=a.resolve("SUBTITLE_FORCED"),f=d.dd.roles.join(", "),m=d.dd.label,v=s(c,f,m);if(!l.has(v)){l.add(v);var y=ls();y.addEventListener("click",function(t){return function(){n(t.dd)}}(d));var A=ss("span");switch(y.appendChild(A),A.textContent=PE(c,a),o){case ME:p&&(A.textContent+=" ("+h+")");break;case 1:f?A.textContent=f:(X("Track #"+d.dd.id+" does not have a role, but the UI is configured to only show role."),A.textContent="?"),p&&(A.textContent+=" ("+h+")");break;case 2:f&&(A.textContent+=": "+f),p&&(A.textContent+=" ("+h+")");break;case 3:m?A.textContent=m:(X("Track #"+d.dd.id+" does not have a label, but the UI is configured to only show labels."),A.textContent="?")}r&&v==u&&(y.appendChild(GT()),A.classList.add("shaka-chosen-item"),y.ariaSelected="true",i.textContent=A.textContent),e.appendChild(y)}}}(e,t.menu,(function(e){return function(t,e){return P((function(n){if(1==n.g)return t.player.fg(e),w(n,t.player.Zd(!0),2);t.player.configure({preferredTextLanguage:e.language,preferForcedSubs:e.forced}),C(n)}))}(t,e)}),t.player.Wc(),t.currentSelection,t.localization,t.controls.g.textTrackLabelFormat);var n=ls();n.classList.add("shaka-turn-captions-off-button"),t.eventManager.o(n,"click",(function(){t.player.Zd(!1),fI(t)})),n.appendChild(t.g),t.menu.appendChild(n),t.player.Wc()?t.g.classList.remove("shaka-chosen-item"):(n.ariaSelected="true",n.appendChild(GT()),t.g.classList.add("shaka-chosen-item"),t.currentSelection.textContent=t.localization.resolve("OFF")),t.button.setAttribute("shaka-status",t.currentSelection.textContent),VT(t.menu),t.controls.dispatchEvent(new z("captionselectionupdated")),zT(t.button,e.length>0)}function gI(t){t.button.ariaLabel=t.localization.resolve("CAPTIONS"),t.backButton.ariaLabel=t.localization.resolve("BACK"),t.nameSpan.textContent=t.localization.resolve("CAPTIONS"),t.backSpan.textContent=t.localization.resolve("CAPTIONS"),t.g.textContent=t.localization.resolve("OFF")}function mI(){}function vI(t,e){BT.call(this,t,e);var n=this;this.g=ls(),this.g.classList.add("shaka-toggle-stereoscopic-button"),this.g.classList.add("shaka-tooltip"),this.g.ariaPressed="false",new jT(this.g,"M620-360H520q-8 0-14-6t-6-14v-200q0-8 6-14t14-6h100q17 0 28.5 11.5T660-560v160q0 17-11.5 28.5T620-360Zm-200 0h-90q-13 0-21.5-8.5T300-390q0-13 8.5-21.5T330-420h70v-40h-40q-8 0-14-6t-6-14q0-8 6-14t14-6h40v-40h-70q-13 0-21.5-8.5T300-570q0-13 8.5-21.5T330-600h90q17 0 28.5 11.5T460-560v160q0 17-11.5 28.5T420-360Zm140-60h40v-120h-40v120Zm280-20q-17 0-28.5-11.5T800-480q0-115-72.5-203T542-794l30 30q11 11 11 28t-11 28q-11 11-28 11t-28-11L387-837q-8-8-4.5-20t14.5-15q20-5 41-6.5t42-1.5q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 17-11.5 28.5T840-440ZM480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-17 11.5-28.5T120-520q17 0 28.5 11.5T160-480q0 115 72.5 203T418-166l-30-30q-11-11-11-28t11-28q11-11 28-11t28 11l129 129q8 8 4.5 20T563-88q-20 5-41 6.5T480-80Z"),(t=ss("label")).classList.add("shaka-overflow-button-label"),t.classList.add("shaka-overflow-menu-only"),this.i=ss("span"),t.appendChild(this.i),this.h=ss("span"),this.h.classList.add("shaka-current-selection-span"),t.appendChild(this.h),this.g.appendChild(t),this.parent.appendChild(this.g),yI(this),this.eventManager.o(this.localization,"locale-updated",(function(){yI(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){yI(n)}));var r=this.controls.D;this.eventManager.o(this.g,"click",(function(){n.controls.Da()&&r.$d()})),this.eventManager.o(r,"vrstatuschanged",(function(){zT(n.g,n.controls.Xb())})),zT(this.g,this.controls.Xb())}function yI(t){t.g.ariaLabel=t.localization.resolve("TOGGLE_STEREOSCOPIC"),t.i.textContent=t.localization.resolve("TOGGLE_STEREOSCOPIC")}function AI(){}function bI(t,e){nS.call(this,t,e,["shaka-volume-bar-container"],["shaka-volume-bar"]);var n=this;this.g=this.controls.g,this.g.alwaysShowVolumeBar||this.container.classList.add("shaka-volume-bar-container-allow-hiding"),this.setRange(0,100),this.eventManager.o(this.video,"volumechange",(function(){return wI(n)})),this.eventManager.o(this.player,"loading",(function(){return wI(n)})),this.eventManager.o(this.player,"loaded",(function(){return SI(n)})),this.eventManager.o(this.player,"unloading",(function(){return SI(n)})),this.eventManager.o(this.player,"trackschanged",(function(){return SI(n)})),this.eventManager.o(this.controls,"caststatuschanged",(function(){return wI(n)})),this.eventManager.o(this.adManager,"ad-volume-changed",(function(){return CI(n)})),this.eventManager.o(this.adManager,"ad-muted",(function(){return CI(n)})),this.eventManager.o(this.adManager,"ad-started",(function(){return SI(n)})),this.eventManager.o(this.adManager,"ad-stopped",(function(){SI(n),wI(n)})),this.eventManager.o(this.localization,"locale-updated",(function(){return TI(n)})),this.eventManager.o(this.localization,"locale-changed",(function(){return TI(n)})),wI(this),TI(this),this.ad&&this.onChange(),SI(this)}function wI(t){t.video.muted?t.setValue(0):t.setValue(100*t.video.volume),xI(t)}function CI(t){var e=t.ad.getVolume();t.setValue(100*e),xI(t)}function xI(t){var e=t.g.volumeBarColors,n=["to right"];n.push(e.level+t.getValue()+"%"),n.push(e.base+t.getValue()+"%"),n.push(e.base+"100%"),t.container.style.background="linear-gradient("+n.join(",")+")"}function TI(t){t.bar.ariaLabel=t.localization.resolve("VOLUME")}function SI(t){var e=!0;t.ad&&t.ad.isLinear()?e=!0:t.player.Gh()&&(e=!1),zT(t.container,e)}function EI(){}xE.FailReasonCode={NO_BROWSER_SUPPORT:RE,PLAYER_FAILED_TO_LOAD:LE},"complete"==document.readyState?P((function(t){if(1==t.g)return w(t,Promise.resolve(),2);SE(),C(t)})):t.addEventListener("load",SE),h(DE,BT),DE.prototype.release=function(){this.j&&(this.j.disconnect(),this.j=null),BT.prototype.release.call(this)},G("shaka.ui.SettingsMenu",DE),h(NE,DE),G("shaka.ui.AudioLanguageSelection",NE),jE.prototype.create=function(t,e){return new NE(t,e)},oE("language",new jE),FS("language",new jE),h(qE,BT),G("shaka.ui.CastButton",qE),zE.prototype.create=function(t,e){return new qE(t,e)},oE("cast",new zE),FS("cast",new zE),h(HE,DE),G("shaka.ui.ChapterSelection",HE),XE.prototype.create=function(t,e){return new HE(t,e)},oE("chapter",new XE),FS("chapter",new XE),h(YE,BT),G("shaka.ui.FastForwardButton",YE),ZE.prototype.create=function(t,e){return new YE(t,e)},FS("fast_forward",new ZE),h(QE,BT),G("shaka.ui.FullscreenButton",QE),nk.prototype.create=function(t,e){return new QE(t,e)},FS("fullscreen",new nk),h(rk,BT),rk.prototype.release=function(){this.h.stop(),this.h=null,BT.prototype.release.call(this)},G("shaka.ui.LoopButton",rk),ok.prototype.create=function(t,e){return new rk(t,e)},oE("loop",new ok),FS("loop",new ok),$T("loop",new ok),h(sk,BT),G("shaka.ui.MuteButton",sk),dk.prototype.create=function(t,e){return new sk(t,e)},oE("mute",new dk),FS("mute",new dk),$T("mute",new dk),h(pk,BT),G("shaka.ui.PipButton",pk),vk.prototype.create=function(t,e){return new pk(t,e)},oE("picture_in_picture",new vk),FS("picture_in_picture",new vk),$T("picture_in_picture",new vk),h(yk,DE),G("shaka.ui.PlaybackRateSelection",yk),wk.prototype.create=function(t,e){return new yk(t,e)},oE("playback_rate",new wk),FS("playback_rate",new wk),h(Ck,BT),G("shaka.ui.PresentationTimeTracker",Ck),Tk.prototype.create=function(t,e){return new Ck(t,e)},FS("time_and_duration",new Tk),h(Sk,BT),G("shaka.ui.RecenterVRButton",Sk),kk.prototype.create=function(t,e){return new Sk(t,e)},oE("recenter_vr",new kk),FS("recenter_vr",new kk),h(Ik,BT),Ik.prototype.release=function(){this.video.remote&&-1!=this.h&&this.video.remote.cancelWatchAvailability(this.h).catch((function(){})),BT.prototype.release.call(this)},G("shaka.ui.RemoteButton",Ik),Ok.prototype.create=function(t,e){return new Ik(t,e)},oE("remote",new Ok),FS("remote",new Ok),h(Pk,DE),G("shaka.ui.ResolutionSelection",Pk),Fk.prototype.create=function(t,e){return new Pk(t,e)},oE("quality",new Fk),FS("quality",new Fk),h(Vk,BT),G("shaka.ui.RewindButton",Vk),zk.prototype.create=function(t,e){return new Vk(t,e)},FS("rewind",new zk),h(Hk,BT),G("shaka.ui.SaveVideoFrameButton",Hk),$k.prototype.create=function(t,e){return new Hk(t,e)},oE("save_video_frame",new $k),$T("save_video_frame",new $k),h(Xk,BT),G("shaka.ui.SkipNextButton",Xk),Zk.prototype.create=function(t,e){return new Xk(t,e)},FS("skip_next",new Zk),h(Qk,BT),G("shaka.ui.SkipPreviousButton",Qk),nI.prototype.create=function(t,e){return new Qk(t,e)},FS("skip_previous",new nI),h(rI,YT),G("shaka.ui.SmallPlayButton",rI),iI.prototype.create=function(t,e){return new rI(t,e)},FS("play_pause",new iI),h(aI,BT),G("shaka.ui.Spacer",aI),oI.prototype.create=function(t,e){return new aI(t,e)},FS("spacer",new oI),h(sI,BT),sI.prototype.release=function(){this.j.stop(),this.j=null,BT.prototype.release.call(this)},G("shaka.ui.StatisticsButton",sI),dI.prototype.create=function(t,e){return new sI(t,e)},oE("statistics",new dI),$T("statistics",new dI),h(pI,DE),G("shaka.ui.TextSelection",pI),mI.prototype.create=function(t,e){return new pI(t,e)},oE("captions",new mI),FS("captions",new mI),h(vI,BT),G("shaka.ui.ToggleStereoscopicButton",vI),AI.prototype.create=function(t,e){return new vI(t,e)},oE("toggle_stereoscopic",new AI),FS("toggle_stereoscopic",new AI),h(bI,nS),bI.prototype.onChange=function(){this.ad&&this.ad.isLinear()?this.ad.setVolume(this.getValue()/100):(this.video.volume=this.getValue()/100,this.video.volume>0&&(this.video.muted=!1))},G("shaka.ui.VolumeBar",bI),EI.prototype.create=function(t,e){return new bI(t,e)},FS("volume",new EI)}.call(i,t,t,void 0),i.shaka)e[a]=i.shaka[a]}()},3379:function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),o=[];function s(t){for(var e=-1,n=0;n<o.length;n++)if(o[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],i=0;i<t.length;i++){var a=t[i],u=e.base?a[0]+e.base:a[0],l=n[u]||0,c="".concat(u," ").concat(l);n[u]=l+1;var d=s(c),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(p)):o.push({identifier:c,updater:m(p,e),references:1}),r.push(c)}return r}function l(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var o=a(t.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(e)}return e}var c,d=(c=[],function(t,e){return c[t]=e,c.filter(Boolean).join("\n")});function p(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var a=document.createTextNode(i),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(a,o[e]):t.appendChild(a)}}function h(t,e,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var f=null,g=0;function m(t,e){var n,r,i;if(e.singleton){var a=g++;n=f||(f=l(e)),r=p.bind(null,n,a,!1),i=p.bind(null,n,a,!0)}else n=l(e),r=h.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=s(n[r]);o[i].references--}for(var a=u(t,e),l=0;l<n.length;l++){var c=s(n[l]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=a}}}},384:function(t){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},5955:function(t,e,n){"use strict";var r=n(2584),i=n(8662),a=n(6430),o=n(5692);function s(t){return t.call.bind(t)}var u="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,c=s(Object.prototype.toString),d=s(Number.prototype.valueOf),p=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(u)var f=s(BigInt.prototype.valueOf);if(l)var g=s(Symbol.prototype.valueOf);function m(t,e){if("object"!=typeof t)return!1;try{return e(t),!0}catch(t){return!1}}function v(t){return"[object Map]"===c(t)}function y(t){return"[object Set]"===c(t)}function A(t){return"[object WeakMap]"===c(t)}function b(t){return"[object WeakSet]"===c(t)}function w(t){return"[object ArrayBuffer]"===c(t)}function C(t){return"undefined"!=typeof ArrayBuffer&&(w.working?w(t):t instanceof ArrayBuffer)}function x(t){return"[object DataView]"===c(t)}function T(t){return"undefined"!=typeof DataView&&(x.working?x(t):t instanceof DataView)}e.isArgumentsObject=r,e.isGeneratorFunction=i,e.isTypedArray=o,e.isPromise=function(t){return"undefined"!=typeof Promise&&t instanceof Promise||null!==t&&"object"==typeof t&&"function"==typeof t.then&&"function"==typeof t.catch},e.isArrayBufferView=function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):o(t)||T(t)},e.isUint8Array=function(t){return"Uint8Array"===a(t)},e.isUint8ClampedArray=function(t){return"Uint8ClampedArray"===a(t)},e.isUint16Array=function(t){return"Uint16Array"===a(t)},e.isUint32Array=function(t){return"Uint32Array"===a(t)},e.isInt8Array=function(t){return"Int8Array"===a(t)},e.isInt16Array=function(t){return"Int16Array"===a(t)},e.isInt32Array=function(t){return"Int32Array"===a(t)},e.isFloat32Array=function(t){return"Float32Array"===a(t)},e.isFloat64Array=function(t){return"Float64Array"===a(t)},e.isBigInt64Array=function(t){return"BigInt64Array"===a(t)},e.isBigUint64Array=function(t){return"BigUint64Array"===a(t)},v.working="undefined"!=typeof Map&&v(new Map),e.isMap=function(t){return"undefined"!=typeof Map&&(v.working?v(t):t instanceof Map)},y.working="undefined"!=typeof Set&&y(new Set),e.isSet=function(t){return"undefined"!=typeof Set&&(y.working?y(t):t instanceof Set)},A.working="undefined"!=typeof WeakMap&&A(new WeakMap),e.isWeakMap=function(t){return"undefined"!=typeof WeakMap&&(A.working?A(t):t instanceof WeakMap)},b.working="undefined"!=typeof WeakSet&&b(new WeakSet),e.isWeakSet=function(t){return b(t)},w.working="undefined"!=typeof ArrayBuffer&&w(new ArrayBuffer),e.isArrayBuffer=C,x.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&x(new DataView(new ArrayBuffer(1),0,1)),e.isDataView=T;var S="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function E(t){return"[object SharedArrayBuffer]"===c(t)}function k(t){return void 0!==S&&(void 0===E.working&&(E.working=E(new S)),E.working?E(t):t instanceof S)}function I(t){return m(t,d)}function M(t){return m(t,p)}function R(t){return m(t,h)}function L(t){return u&&m(t,f)}function O(t){return l&&m(t,g)}e.isSharedArrayBuffer=k,e.isAsyncFunction=function(t){return"[object AsyncFunction]"===c(t)},e.isMapIterator=function(t){return"[object Map Iterator]"===c(t)},e.isSetIterator=function(t){return"[object Set Iterator]"===c(t)},e.isGeneratorObject=function(t){return"[object Generator]"===c(t)},e.isWebAssemblyCompiledModule=function(t){return"[object WebAssembly.Module]"===c(t)},e.isNumberObject=I,e.isStringObject=M,e.isBooleanObject=R,e.isBigIntObject=L,e.isSymbolObject=O,e.isBoxedPrimitive=function(t){return I(t)||M(t)||R(t)||L(t)||O(t)},e.isAnyArrayBuffer=function(t){return"undefined"!=typeof Uint8Array&&(C(t)||k(t))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))},9539:function(t,e,n){var r=n(4155),i=n(5108),a=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},o=/%[sdj%]/g;e.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(c(arguments[n]));return e.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(t).replace(o,(function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return t}})),s=r[n];n<i;s=r[++n])y(s)||!x(s)?a+=" "+s:a+=" "+c(s);return a},e.deprecate=function(t,n){if(void 0!==r&&!0===r.noDeprecation)return t;if(void 0===r)return function(){return e.deprecate(t,n).apply(this,arguments)};var a=!1;return function(){if(!a){if(r.throwDeprecation)throw new Error(n);r.traceDeprecation?i.trace(n):i.error(n),a=!0}return t.apply(this,arguments)}};var s={},u=/^$/;if(r.env.NODE_DEBUG){var l=r.env.NODE_DEBUG;l=l.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),u=new RegExp("^"+l+"$","i")}function c(t,n){var r={seen:[],stylize:p};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),v(n)?r.showHidden=n:n&&e._extend(r,n),w(r.showHidden)&&(r.showHidden=!1),w(r.depth)&&(r.depth=2),w(r.colors)&&(r.colors=!1),w(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=d),h(r,t,r.depth)}function d(t,e){var n=c.styles[e];return n?"["+c.colors[n][0]+"m"+t+"["+c.colors[n][1]+"m":t}function p(t,e){return t}function h(t,n,r){if(t.customInspect&&n&&E(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,t);return b(i)||(i=h(t,i,r)),i}var a=function(t,e){if(w(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}if(A(e))return t.stylize(""+e,"number");if(v(e))return t.stylize(""+e,"boolean");if(y(e))return t.stylize("null","null")}(t,n);if(a)return a;var o=Object.keys(n),s=function(t){var e={};return t.forEach((function(t,n){e[t]=!0})),e}(o);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),S(n)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return f(n);if(0===o.length){if(E(n)){var u=n.name?": "+n.name:"";return t.stylize("[Function"+u+"]","special")}if(C(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(T(n))return t.stylize(Date.prototype.toString.call(n),"date");if(S(n))return f(n)}var l,c="",d=!1,p=["{","}"];(m(n)&&(d=!0,p=["[","]"]),E(n))&&(c=" [Function"+(n.name?": "+n.name:"")+"]");return C(n)&&(c=" "+RegExp.prototype.toString.call(n)),T(n)&&(c=" "+Date.prototype.toUTCString.call(n)),S(n)&&(c=" "+f(n)),0!==o.length||d&&0!=n.length?r<0?C(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=d?function(t,e,n,r,i){for(var a=[],o=0,s=e.length;o<s;++o)L(e,String(o))?a.push(g(t,e,n,r,String(o),!0)):a.push("");return i.forEach((function(i){i.match(/^\d+$/)||a.push(g(t,e,n,r,i,!0))})),a}(t,n,r,s,o):o.map((function(e){return g(t,n,r,s,e,d)})),t.seen.pop(),function(t,e,n){if(t.reduce((function(t,e){return e.indexOf("\n")>=0&&0,t+e.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1];return n[0]+e+" "+t.join(", ")+" "+n[1]}(l,c,p)):p[0]+c+p[1]}function f(t){return"["+Error.prototype.toString.call(t)+"]"}function g(t,e,n,r,i,a){var o,s,u;if((u=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=u.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):u.set&&(s=t.stylize("[Setter]","special")),L(r,i)||(o="["+i+"]"),s||(t.seen.indexOf(u.value)<0?(s=y(n)?h(t,u.value,null):h(t,u.value,n-1)).indexOf("\n")>-1&&(s=a?s.split("\n").map((function(t){return"  "+t})).join("\n").substr(2):"\n"+s.split("\n").map((function(t){return"   "+t})).join("\n")):s=t.stylize("[Circular]","special")),w(o)){if(a&&i.match(/^\d+$/))return s;(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),o=t.stylize(o,"string"))}return o+": "+s}function m(t){return Array.isArray(t)}function v(t){return"boolean"==typeof t}function y(t){return null===t}function A(t){return"number"==typeof t}function b(t){return"string"==typeof t}function w(t){return void 0===t}function C(t){return x(t)&&"[object RegExp]"===k(t)}function x(t){return"object"==typeof t&&null!==t}function T(t){return x(t)&&"[object Date]"===k(t)}function S(t){return x(t)&&("[object Error]"===k(t)||t instanceof Error)}function E(t){return"function"==typeof t}function k(t){return Object.prototype.toString.call(t)}function I(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(t=t.toUpperCase(),!s[t])if(u.test(t)){var n=r.pid;s[t]=function(){var r=e.format.apply(e,arguments);i.error("%s %d: %s",t,n,r)}}else s[t]=function(){};return s[t]},e.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.types=n(5955),e.isArray=m,e.isBoolean=v,e.isNull=y,e.isNullOrUndefined=function(t){return null==t},e.isNumber=A,e.isString=b,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=w,e.isRegExp=C,e.types.isRegExp=C,e.isObject=x,e.isDate=T,e.types.isDate=T,e.isError=S,e.types.isNativeError=S,e.isFunction=E,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n(384);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var t=new Date,e=[I(t.getHours()),I(t.getMinutes()),I(t.getSeconds())].join(":");return[t.getDate(),M[t.getMonth()],e].join(" ")}function L(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){i.log("%s - %s",R(),e.format.apply(e,arguments))},e.inherits=n(5717),e._extend=function(t,e){if(!e||!x(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t};var O="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(O&&t[O]){var e;if("function"!=typeof(e=t[O]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,r=new Promise((function(t,r){e=t,n=r})),i=[],a=0;a<arguments.length;a++)i.push(arguments[a]);i.push((function(t,r){t?n(t):e(r)}));try{t.apply(this,i)}catch(t){n(t)}return r}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),O&&Object.defineProperty(e,O,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,a(t))},e.promisify.custom=O,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var i=e.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return i.apply(a,arguments)};t.apply(this,e).then((function(t){r.nextTick(o.bind(null,null,t))}),(function(t){r.nextTick(P.bind(null,t,o))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,a(t)),e}},6430:function(t,e,n){"use strict";var r=n(9804),i=n(6314),a=n(1924),o=a("Object.prototype.toString"),s=n(1405)()&&"symbol"==typeof Symbol.toStringTag,u=i(),l=a("String.prototype.slice"),c={},d=n(4079),p=Object.getPrototypeOf;s&&d&&p&&r(u,(function(t){if("function"==typeof n.g[t]){var e=new n.g[t];if(!(Symbol.toStringTag in e))throw new EvalError("this engine has support for Symbol.toStringTag, but "+t+" does not have the property! Please report this.");var r=p(e),i=d(r,Symbol.toStringTag);if(!i){var a=p(r);i=d(a,Symbol.toStringTag)}c[t]=i.get}}));var h=n(5692);t.exports=function(t){return!!h(t)&&(s?function(t){var e=!1;return r(c,(function(n,r){if(!e)try{var i=n.call(t);i===r&&(e=i)}catch(t){}})),e}(t):l(o(t),8,-1))}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var a=n[t]={id:t,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.exports}r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";var t={};r.r(t),r.d(t,{hasBrowserEnv:function(){return po},hasStandardBrowserEnv:function(){return fo},hasStandardBrowserWebWorkerEnv:function(){return go},navigator:function(){return ho},origin:function(){return mo}});var e=r(5108),n=Object.freeze({});function i(t){return null==t}function a(t){return null!=t}function o(t){return!0===t}function s(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function u(t){return null!==t&&"object"==typeof t}var l=Object.prototype.toString;function c(t){return"[object Object]"===l.call(t)}function d(t){return"[object RegExp]"===l.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function h(t){return a(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function f(t){return null==t?"":Array.isArray(t)||c(t)&&t.toString===l?JSON.stringify(t,null,2):String(t)}function g(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}m("slot,component",!0);var v=m("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var A=Object.prototype.hasOwnProperty;function b(t,e){return A.call(t,e)}function w(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var C=/-(\w)/g,x=w((function(t){return t.replace(C,(function(t,e){return e?e.toUpperCase():""}))})),T=w((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),S=/\B([A-Z])/g,E=w((function(t){return t.replace(S,"-$1").toLowerCase()}));var k=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function I(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function M(t,e){for(var n in e)t[n]=e[n];return t}function R(t){for(var e={},n=0;n<t.length;n++)t[n]&&M(e,t[n]);return e}function L(t,e,n){}var O=function(t,e,n){return!1},P=function(t){return t};function D(t,e){if(t===e)return!0;var n=u(t),r=u(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var i=Array.isArray(t),a=Array.isArray(e);if(i&&a)return t.length===e.length&&t.every((function(t,n){return D(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(i||a)return!1;var o=Object.keys(t),s=Object.keys(e);return o.length===s.length&&o.every((function(n){return D(t[n],e[n])}))}catch(t){return!1}}function _(t,e){for(var n=0;n<t.length;n++)if(D(t[n],e))return n;return-1}function N(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var U="data-server-rendered",B=["component","directive","filter"],j=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],q={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:O,isReservedAttr:O,isUnknownElement:O,getTagNamespace:L,parsePlatformTagName:P,mustUseProp:O,async:!0,_lifecycleHooks:j},F=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function G(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var z=new RegExp("[^"+F.source+".$_\\d]");var H,K="__proto__"in{},W="undefined"!=typeof window,$="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,X=$&&WXEnvironment.platform.toLowerCase(),Y=W&&window.navigator.userAgent.toLowerCase(),J=Y&&/msie|trident/.test(Y),Z=Y&&Y.indexOf("msie 9.0")>0,Q=Y&&Y.indexOf("edge/")>0,tt=(Y&&Y.indexOf("android"),Y&&/iphone|ipad|ipod|ios/.test(Y)||"ios"===X),et=(Y&&/chrome\/\d+/.test(Y),Y&&/phantomjs/.test(Y),Y&&Y.match(/firefox\/(\d+)/)),nt={}.watch,rt=!1;if(W)try{var it={};Object.defineProperty(it,"passive",{get:function(){rt=!0}}),window.addEventListener("test-passive",null,it)}catch(t){}var at=function(){return void 0===H&&(H=!W&&!$&&void 0!==r.g&&(r.g.process&&"server"===r.g.process.env.VUE_ENV)),H},ot=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function st(t){return"function"==typeof t&&/native code/.test(t.toString())}var ut,lt="undefined"!=typeof Symbol&&st(Symbol)&&"undefined"!=typeof Reflect&&st(Reflect.ownKeys);ut="undefined"!=typeof Set&&st(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ct=L,dt=0,pt=function(){this.id=dt++,this.subs=[]};pt.prototype.addSub=function(t){this.subs.push(t)},pt.prototype.removeSub=function(t){y(this.subs,t)},pt.prototype.depend=function(){pt.target&&pt.target.addDep(this)},pt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},pt.target=null;var ht=[];function ft(t){ht.push(t),pt.target=t}function gt(){ht.pop(),pt.target=ht[ht.length-1]}var mt=function(t,e,n,r,i,a,o,s){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=i,this.ns=void 0,this.context=a,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=o,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},vt={child:{configurable:!0}};vt.child.get=function(){return this.componentInstance},Object.defineProperties(mt.prototype,vt);var yt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function At(t){return new mt(void 0,void 0,void 0,String(t))}function bt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=Array.prototype,Ct=Object.create(wt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=wt[t];G(Ct,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var i,a=e.apply(this,n),o=this.__ob__;switch(t){case"push":case"unshift":i=n;break;case"splice":i=n.slice(2)}return i&&o.observeArray(i),o.dep.notify(),a}))}));var xt=Object.getOwnPropertyNames(Ct),Tt=!0;function St(t){Tt=t}var Et=function(t){this.value=t,this.dep=new pt,this.vmCount=0,G(t,"__ob__",this),Array.isArray(t)?(K?function(t,e){t.__proto__=e}(t,Ct):function(t,e,n){for(var r=0,i=n.length;r<i;r++){var a=n[r];G(t,a,e[a])}}(t,Ct,xt),this.observeArray(t)):this.walk(t)};function kt(t,e){var n;if(u(t)&&!(t instanceof mt))return b(t,"__ob__")&&t.__ob__ instanceof Et?n=t.__ob__:Tt&&!at()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Et(t)),e&&n&&n.vmCount++,n}function It(t,e,n,r,i){var a=new pt,o=Object.getOwnPropertyDescriptor(t,e);if(!o||!1!==o.configurable){var s=o&&o.get,u=o&&o.set;s&&!u||2!==arguments.length||(n=t[e]);var l=!i&&kt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return pt.target&&(a.depend(),l&&(l.dep.depend(),Array.isArray(e)&&Lt(e))),e},set:function(e){var r=s?s.call(t):n;e===r||e!=e&&r!=r||s&&!u||(u?u.call(t,e):n=e,l=!i&&kt(e),a.notify())}})}}function Mt(t,e,n){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(It(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Rt(t,e){if(Array.isArray(t)&&p(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||b(t,e)&&(delete t[e],n&&n.dep.notify())}}function Lt(t){for(var e=void 0,n=0,r=t.length;n<r;n++)(e=t[n])&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&Lt(e)}Et.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)It(t,e[n])},Et.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)kt(t[e])};var Ot=q.optionMergeStrategies;function Pt(t,e){if(!e)return t;for(var n,r,i,a=lt?Reflect.ownKeys(e):Object.keys(e),o=0;o<a.length;o++)"__ob__"!==(n=a[o])&&(r=t[n],i=e[n],b(t,n)?r!==i&&c(r)&&c(i)&&Pt(r,i):Mt(t,n,i));return t}function Dt(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,i="function"==typeof t?t.call(n,n):t;return r?Pt(r,i):i}:e?t?function(){return Pt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function _t(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Nt(t,e,n,r){var i=Object.create(t||null);return e?M(i,e):i}Ot.data=function(t,e,n){return n?Dt(t,e,n):e&&"function"!=typeof e?t:Dt(t,e)},j.forEach((function(t){Ot[t]=_t})),B.forEach((function(t){Ot[t+"s"]=Nt})),Ot.watch=function(t,e,n,r){if(t===nt&&(t=void 0),e===nt&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var i={};for(var a in M(i,t),e){var o=i[a],s=e[a];o&&!Array.isArray(o)&&(o=[o]),i[a]=o?o.concat(s):Array.isArray(s)?s:[s]}return i},Ot.props=Ot.methods=Ot.inject=Ot.computed=function(t,e,n,r){if(!t)return e;var i=Object.create(null);return M(i,t),e&&M(i,e),i},Ot.provide=Dt;var Ut=function(t,e){return void 0===e?t:e};function Bt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,i,a={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(i=n[r])&&(a[x(i)]={type:null});else if(c(n))for(var o in n)i=n[o],a[x(o)]=c(i)?i:{type:i};t.props=a}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var i=0;i<n.length;i++)r[n[i]]={from:n[i]};else if(c(n))for(var a in n){var o=n[a];r[a]=c(o)?M({from:a},o):{from:o}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Bt(t,e.extends,n)),e.mixins))for(var r=0,i=e.mixins.length;r<i;r++)t=Bt(t,e.mixins[r],n);var a,o={};for(a in t)s(a);for(a in e)b(t,a)||s(a);function s(r){var i=Ot[r]||Ut;o[r]=i(t[r],e[r],n,r)}return o}function jt(t,e,n,r){if("string"==typeof n){var i=t[e];if(b(i,n))return i[n];var a=x(n);if(b(i,a))return i[a];var o=T(a);return b(i,o)?i[o]:i[n]||i[a]||i[o]}}function qt(t,e,n,r){var i=e[t],a=!b(n,t),o=n[t],s=zt(Boolean,i.type);if(s>-1)if(a&&!b(i,"default"))o=!1;else if(""===o||o===E(t)){var u=zt(String,i.type);(u<0||s<u)&&(o=!0)}if(void 0===o){o=function(t,e,n){if(!b(e,"default"))return;var r=e.default;0;if(t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n])return t._props[n];return"function"==typeof r&&"Function"!==Vt(e.type)?r.call(t):r}(r,i,t);var l=Tt;St(!0),kt(o),St(l)}return o}var Ft=/^\s*function (\w+)/;function Vt(t){var e=t&&t.toString().match(Ft);return e?e[1]:""}function Gt(t,e){return Vt(t)===Vt(e)}function zt(t,e){if(!Array.isArray(e))return Gt(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Gt(e[n],t))return n;return-1}function Ht(t,e,n){ft();try{if(e)for(var r=e;r=r.$parent;){var i=r.$options.errorCaptured;if(i)for(var a=0;a<i.length;a++)try{if(!1===i[a].call(r,t,e,n))return}catch(t){Wt(t,r,"errorCaptured hook")}}Wt(t,e,n)}finally{gt()}}function Kt(t,e,n,r,i){var a;try{(a=n?t.apply(e,n):t.call(e))&&!a._isVue&&h(a)&&!a._handled&&(a.catch((function(t){return Ht(t,r,i+" (Promise/async)")})),a._handled=!0)}catch(t){Ht(t,r,i)}return a}function Wt(t,e,n){if(q.errorHandler)try{return q.errorHandler.call(null,t,e,n)}catch(e){e!==t&&$t(e,null,"config.errorHandler")}$t(t,e,n)}function $t(t,n,r){if(!W&&!$||void 0===e)throw t;e.error(t)}var Xt,Yt=!1,Jt=[],Zt=!1;function Qt(){Zt=!1;var t=Jt.slice(0);Jt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&st(Promise)){var te=Promise.resolve();Xt=function(){te.then(Qt),tt&&setTimeout(L)},Yt=!0}else if(J||"undefined"==typeof MutationObserver||!st(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Xt="undefined"!=typeof setImmediate&&st(setImmediate)?function(){setImmediate(Qt)}:function(){setTimeout(Qt,0)};else{var ee=1,ne=new MutationObserver(Qt),re=document.createTextNode(String(ee));ne.observe(re,{characterData:!0}),Xt=function(){ee=(ee+1)%2,re.data=String(ee)},Yt=!0}function ie(t,e){var n;if(Jt.push((function(){if(t)try{t.call(e)}catch(t){Ht(t,e,"nextTick")}else n&&n(e)})),Zt||(Zt=!0,Xt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var ae=new ut;function oe(t){se(t,ae),ae.clear()}function se(t,e){var n,r,i=Array.isArray(t);if(!(!i&&!u(t)||Object.isFrozen(t)||t instanceof mt)){if(t.__ob__){var a=t.__ob__.dep.id;if(e.has(a))return;e.add(a)}if(i)for(n=t.length;n--;)se(t[n],e);else for(n=(r=Object.keys(t)).length;n--;)se(t[r[n]],e)}}var ue=w((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function le(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Kt(r,null,arguments,e,"v-on handler");for(var i=r.slice(),a=0;a<i.length;a++)Kt(i[a],null,t,e,"v-on handler")}return n.fns=t,n}function ce(t,e,n,r,a,s){var u,l,c,d;for(u in t)l=t[u],c=e[u],d=ue(u),i(l)||(i(c)?(i(l.fns)&&(l=t[u]=le(l,s)),o(d.once)&&(l=t[u]=a(d.name,l,d.capture)),n(d.name,l,d.capture,d.passive,d.params)):l!==c&&(c.fns=l,t[u]=c));for(u in e)i(t[u])&&r((d=ue(u)).name,e[u],d.capture)}function de(t,e,n){var r;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),y(r.fns,u)}i(s)?r=le([u]):a(s.fns)&&o(s.merged)?(r=s).fns.push(u):r=le([s,u]),r.merged=!0,t[e]=r}function pe(t,e,n,r,i){if(a(e)){if(b(e,n))return t[n]=e[n],i||delete e[n],!0;if(b(e,r))return t[n]=e[r],i||delete e[r],!0}return!1}function he(t){return s(t)?[At(t)]:Array.isArray(t)?ge(t):void 0}function fe(t){return a(t)&&a(t.text)&&function(t){return!1===t}(t.isComment)}function ge(t,e){var n,r,u,l,c=[];for(n=0;n<t.length;n++)i(r=t[n])||"boolean"==typeof r||(l=c[u=c.length-1],Array.isArray(r)?r.length>0&&(fe((r=ge(r,(e||"")+"_"+n))[0])&&fe(l)&&(c[u]=At(l.text+r[0].text),r.shift()),c.push.apply(c,r)):s(r)?fe(l)?c[u]=At(l.text+r):""!==r&&c.push(At(r)):fe(r)&&fe(l)?c[u]=At(l.text+r.text):(o(t._isVList)&&a(r.tag)&&i(r.key)&&a(e)&&(r.key="__vlist"+e+"_"+n+"__"),c.push(r)));return c}function me(t,e){if(t){for(var n=Object.create(null),r=lt?Reflect.ownKeys(t):Object.keys(t),i=0;i<r.length;i++){var a=r[i];if("__ob__"!==a){for(var o=t[a].from,s=e;s;){if(s._provided&&b(s._provided,o)){n[a]=s._provided[o];break}s=s.$parent}if(!s)if("default"in t[a]){var u=t[a].default;n[a]="function"==typeof u?u.call(e):u}else 0}}return n}}function ve(t,e){if(!t||!t.length)return{};for(var n={},r=0,i=t.length;r<i;r++){var a=t[r],o=a.data;if(o&&o.attrs&&o.attrs.slot&&delete o.attrs.slot,a.context!==e&&a.fnContext!==e||!o||null==o.slot)(n.default||(n.default=[])).push(a);else{var s=o.slot,u=n[s]||(n[s]=[]);"template"===a.tag?u.push.apply(u,a.children||[]):u.push(a)}}for(var l in n)n[l].every(ye)&&delete n[l];return n}function ye(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Ae(t){return t.isComment&&t.asyncFactory}function be(t,e,r){var i,a=Object.keys(e).length>0,o=t?!!t.$stable:!a,s=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&r&&r!==n&&s===r.$key&&!a&&!r.$hasNormal)return r;for(var u in i={},t)t[u]&&"$"!==u[0]&&(i[u]=we(e,u,t[u]))}else i={};for(var l in e)l in i||(i[l]=Ce(e,l));return t&&Object.isExtensible(t)&&(t._normalized=i),G(i,"$stable",o),G(i,"$key",s),G(i,"$hasNormal",a),i}function we(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({}),e=(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:he(t))&&t[0];return t&&(!e||1===t.length&&e.isComment&&!Ae(e))?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function Ce(t,e){return function(){return t[e]}}function xe(t,e){var n,r,i,o,s;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,i=t.length;r<i;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(u(t))if(lt&&t[Symbol.iterator]){n=[];for(var l=t[Symbol.iterator](),c=l.next();!c.done;)n.push(e(c.value,n.length)),c=l.next()}else for(o=Object.keys(t),n=new Array(o.length),r=0,i=o.length;r<i;r++)s=o[r],n[r]=e(t[s],s,r);return a(n)||(n=[]),n._isVList=!0,n}function Te(t,e,n,r){var i,a=this.$scopedSlots[t];a?(n=n||{},r&&(n=M(M({},r),n)),i=a(n)||("function"==typeof e?e():e)):i=this.$slots[t]||("function"==typeof e?e():e);var o=n&&n.slot;return o?this.$createElement("template",{slot:o},i):i}function Se(t){return jt(this.$options,"filters",t)||P}function Ee(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function ke(t,e,n,r,i){var a=q.keyCodes[e]||n;return i&&r&&!q.keyCodes[e]?Ee(i,r):a?Ee(a,t):r?E(r)!==e:void 0===t}function Ie(t,e,n,r,i){if(n)if(u(n)){var a;Array.isArray(n)&&(n=R(n));var o=function(o){if("class"===o||"style"===o||v(o))a=t;else{var s=t.attrs&&t.attrs.type;a=r||q.mustUseProp(e,s,o)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=x(o),l=E(o);u in a||l in a||(a[o]=n[o],i&&((t.on||(t.on={}))["update:"+o]=function(t){n[o]=t}))};for(var s in n)o(s)}else;return t}function Me(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||Le(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function Re(t,e,n){return Le(t,"__once__"+e+(n?"_"+n:""),!0),t}function Le(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Oe(t[r],e+"_"+r,n);else Oe(t,e,n)}function Oe(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Pe(t,e){if(e)if(c(e)){var n=t.on=t.on?M({},t.on):{};for(var r in e){var i=n[r],a=e[r];n[r]=i?[].concat(i,a):a}}else;return t}function De(t,e,n,r){e=e||{$stable:!n};for(var i=0;i<t.length;i++){var a=t[i];Array.isArray(a)?De(a,e,n):a&&(a.proxy&&(a.fn.proxy=!0),e[a.key]=a.fn)}return r&&(e.$key=r),e}function _e(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function Ne(t,e){return"string"==typeof t?e+t:t}function Ue(t){t._o=Re,t._n=g,t._s=f,t._l=xe,t._t=Te,t._q=D,t._i=_,t._m=Me,t._f=Se,t._k=ke,t._b=Ie,t._v=At,t._e=yt,t._u=De,t._g=Pe,t._d=_e,t._p=Ne}function Be(t,e,r,i,a){var s,u=this,l=a.options;b(i,"_uid")?(s=Object.create(i))._original=i:(s=i,i=i._original);var c=o(l._compiled),d=!c;this.data=t,this.props=e,this.children=r,this.parent=i,this.listeners=t.on||n,this.injections=me(l.inject,i),this.slots=function(){return u.$slots||be(t.scopedSlots,u.$slots=ve(r,i)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return be(t.scopedSlots,this.slots())}}),c&&(this.$options=l,this.$slots=this.slots(),this.$scopedSlots=be(t.scopedSlots,this.$slots)),l._scopeId?this._c=function(t,e,n,r){var a=He(s,t,e,n,r,d);return a&&!Array.isArray(a)&&(a.fnScopeId=l._scopeId,a.fnContext=i),a}:this._c=function(t,e,n,r){return He(s,t,e,n,r,d)}}function je(t,e,n,r,i){var a=bt(t);return a.fnContext=n,a.fnOptions=r,e.slot&&((a.data||(a.data={})).slot=e.slot),a}function qe(t,e){for(var n in e)t[x(n)]=e[n]}Ue(Be.prototype);var Fe={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Fe.prepatch(n,n)}else{(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;a(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns);return new t.componentOptions.Ctor(n)}(t,en)).$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var r=e.componentOptions;!function(t,e,r,i,a){0;var o=i.data.scopedSlots,s=t.$scopedSlots,u=!!(o&&!o.$stable||s!==n&&!s.$stable||o&&t.$scopedSlots.$key!==o.$key||!o&&t.$scopedSlots.$key),l=!!(a||t.$options._renderChildren||u);t.$options._parentVnode=i,t.$vnode=i,t._vnode&&(t._vnode.parent=i);if(t.$options._renderChildren=a,t.$attrs=i.data.attrs||n,t.$listeners=r||n,e&&t.$options.props){St(!1);for(var c=t._props,d=t.$options._propKeys||[],p=0;p<d.length;p++){var h=d[p],f=t.$options.props;c[h]=qt(h,f,e,t)}St(!0),t.$options.propsData=e}r=r||n;var g=t.$options._parentListeners;t.$options._parentListeners=r,tn(t,r,g),l&&(t.$slots=ve(a,i.context),t.$forceUpdate());0}(e.componentInstance=t.componentInstance,r.propsData,r.listeners,e,r.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,sn(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,ln.push(e)):an(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?on(e,!0):e.$destroy())}},Ve=Object.keys(Fe);function Ge(t,e,r,s,l){if(!i(t)){var c=r.$options._base;if(u(t)&&(t=c.extend(t)),"function"==typeof t){var d;if(i(t.cid)&&void 0===(t=function(t,e){if(o(t.error)&&a(t.errorComp))return t.errorComp;if(a(t.resolved))return t.resolved;var n=$e;n&&a(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n);if(o(t.loading)&&a(t.loadingComp))return t.loadingComp;if(n&&!a(t.owners)){var r=t.owners=[n],s=!0,l=null,c=null;n.$on("hook:destroyed",(function(){return y(r,n)}));var d=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==l&&(clearTimeout(l),l=null),null!==c&&(clearTimeout(c),c=null))},p=N((function(n){t.resolved=Xe(n,e),s?r.length=0:d(!0)})),f=N((function(e){a(t.errorComp)&&(t.error=!0,d(!0))})),g=t(p,f);return u(g)&&(h(g)?i(t.resolved)&&g.then(p,f):h(g.component)&&(g.component.then(p,f),a(g.error)&&(t.errorComp=Xe(g.error,e)),a(g.loading)&&(t.loadingComp=Xe(g.loading,e),0===g.delay?t.loading=!0:l=setTimeout((function(){l=null,i(t.resolved)&&i(t.error)&&(t.loading=!0,d(!1))}),g.delay||200)),a(g.timeout)&&(c=setTimeout((function(){c=null,i(t.resolved)&&f(null)}),g.timeout)))),s=!1,t.loading?t.loadingComp:t.resolved}}(d=t,c)))return function(t,e,n,r,i){var a=yt();return a.asyncFactory=t,a.asyncMeta={data:e,context:n,children:r,tag:i},a}(d,e,r,s,l);e=e||{},Mn(t),a(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var i=e.on||(e.on={}),o=i[r],s=e.model.callback;a(o)?(Array.isArray(o)?-1===o.indexOf(s):o!==s)&&(i[r]=[s].concat(o)):i[r]=s}(t.options,e);var p=function(t,e,n){var r=e.options.props;if(!i(r)){var o={},s=t.attrs,u=t.props;if(a(s)||a(u))for(var l in r){var c=E(l);pe(o,u,l,c,!0)||pe(o,s,l,c,!1)}return o}}(e,t);if(o(t.options.functional))return function(t,e,r,i,o){var s=t.options,u={},l=s.props;if(a(l))for(var c in l)u[c]=qt(c,l,e||n);else a(r.attrs)&&qe(u,r.attrs),a(r.props)&&qe(u,r.props);var d=new Be(r,u,o,i,t),p=s.render.call(null,d._c,d);if(p instanceof mt)return je(p,r,d.parent,s);if(Array.isArray(p)){for(var h=he(p)||[],f=new Array(h.length),g=0;g<h.length;g++)f[g]=je(h[g],r,d.parent,s);return f}}(t,p,e,r,s);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var g=e.slot;e={},g&&(e.slot=g)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Ve.length;n++){var r=Ve[n],i=e[r],a=Fe[r];i===a||i&&i._merged||(e[r]=i?ze(a,i):a)}}(e);var m=t.options.name||l;return new mt("vue-component-"+t.cid+(m?"-"+m:""),e,void 0,void 0,void 0,r,{Ctor:t,propsData:p,listeners:f,tag:l,children:s},d)}}}function ze(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function He(t,e,n,r,i,l){return(Array.isArray(n)||s(n))&&(i=r,r=n,n=void 0),o(l)&&(i=2),function(t,e,n,r,i){if(a(n)&&a(n.__ob__))return yt();a(n)&&a(n.is)&&(e=n.is);if(!e)return yt();0;Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0);2===i?r=he(r):1===i&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r));var o,s;if("string"==typeof e){var l;s=t.$vnode&&t.$vnode.ns||q.getTagNamespace(e),o=q.isReservedTag(e)?new mt(q.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!a(l=jt(t.$options,"components",e))?new mt(e,n,r,void 0,void 0,t):Ge(l,n,t,r,e)}else o=Ge(e,n,t,r);return Array.isArray(o)?o:a(o)?(a(s)&&Ke(o,s),a(n)&&function(t){u(t.style)&&oe(t.style);u(t.class)&&oe(t.class)}(n),o):yt()}(t,e,n,r,i)}function Ke(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),a(t.children))for(var r=0,s=t.children.length;r<s;r++){var u=t.children[r];a(u.tag)&&(i(u.ns)||o(n)&&"svg"!==u.tag)&&Ke(u,e,n)}}var We,$e=null;function Xe(t,e){return(t.__esModule||lt&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function Ye(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(a(n)&&(a(n.componentOptions)||Ae(n)))return n}}function Je(t,e){We.$on(t,e)}function Ze(t,e){We.$off(t,e)}function Qe(t,e){var n=We;return function r(){var i=e.apply(null,arguments);null!==i&&n.$off(t,r)}}function tn(t,e,n){We=t,ce(e,n||{},Je,Ze,Qe,t),We=void 0}var en=null;function nn(t){var e=en;return en=t,function(){en=e}}function rn(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function an(t,e){if(e){if(t._directInactive=!1,rn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)an(t.$children[n]);sn(t,"activated")}}function on(t,e){if(!(e&&(t._directInactive=!0,rn(t))||t._inactive)){t._inactive=!0;for(var n=0;n<t.$children.length;n++)on(t.$children[n]);sn(t,"deactivated")}}function sn(t,e){ft();var n=t.$options[e],r=e+" hook";if(n)for(var i=0,a=n.length;i<a;i++)Kt(n[i],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),gt()}var un=[],ln=[],cn={},dn=!1,pn=!1,hn=0;var fn=0,gn=Date.now;if(W&&!J){var mn=window.performance;mn&&"function"==typeof mn.now&&gn()>document.createEvent("Event").timeStamp&&(gn=function(){return mn.now()})}function vn(){var t,e;for(fn=gn(),pn=!0,un.sort((function(t,e){return t.id-e.id})),hn=0;hn<un.length;hn++)(t=un[hn]).before&&t.before(),e=t.id,cn[e]=null,t.run();var n=ln.slice(),r=un.slice();hn=un.length=ln.length=0,cn={},dn=pn=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,an(t[e],!0)}(n),function(t){var e=t.length;for(;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&sn(r,"updated")}}(r),ot&&q.devtools&&ot.emit("flush")}var yn=0,An=function(t,e,n,r,i){this.vm=t,i&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++yn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ut,this.newDepIds=new ut,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()};An.prototype.get=function(){var t;ft(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Ht(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&oe(t),gt(),this.cleanupDeps()}return t},An.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},An.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},An.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==cn[e]){if(cn[e]=!0,pn){for(var n=un.length-1;n>hn&&un[n].id>t.id;)n--;un.splice(n+1,0,t)}else un.push(t);dn||(dn=!0,ie(vn))}}(this)},An.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';Kt(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},An.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},An.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},An.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var bn={enumerable:!0,configurable:!0,get:L,set:L};function wn(t,e,n){bn.get=function(){return this[e][n]},bn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,bn)}function Cn(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},i=t.$options._propKeys=[];t.$parent&&St(!1);var a=function(a){i.push(a);var o=qt(a,e,n,t);It(r,a,o),a in t||wn(t,"_props",a)};for(var o in e)a(o);St(!0)}(t,e.props),e.methods&&function(t,e){t.$options.props;for(var n in e)t[n]="function"!=typeof e[n]?L:k(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){ft();try{return t.call(e,e)}catch(t){return Ht(t,e,"data()"),{}}finally{gt()}}(e,t):e||{})||(e={});var n=Object.keys(e),r=t.$options.props,i=(t.$options.methods,n.length);for(;i--;){var a=n[i];0,r&&b(r,a)||V(a)||wn(t,"_data",a)}kt(e,!0)}(t):kt(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=at();for(var i in e){var a=e[i],o="function"==typeof a?a:a.get;0,r||(n[i]=new An(t,o||L,L,xn)),i in t||Tn(t,i,a)}}(t,e.computed),e.watch&&e.watch!==nt&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var i=0;i<r.length;i++)kn(t,n,r[i]);else kn(t,n,r)}}(t,e.watch)}var xn={lazy:!0};function Tn(t,e,n){var r=!at();"function"==typeof n?(bn.get=r?Sn(e):En(n),bn.set=L):(bn.get=n.get?r&&!1!==n.cache?Sn(e):En(n.get):L,bn.set=n.set||L),Object.defineProperty(t,e,bn)}function Sn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),pt.target&&e.depend(),e.value}}function En(t){return function(){return t.call(this,this)}}function kn(t,e,n,r){return c(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var In=0;function Mn(t){var e=t.options;if(t.super){var n=Mn(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var i in n)n[i]!==r[i]&&(e||(e={}),e[i]=n[i]);return e}(t);r&&M(t.extendOptions,r),(e=t.options=Bt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Rn(t){this._init(t)}function Ln(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,i=t._Ctor||(t._Ctor={});if(i[r])return i[r];var a=t.name||n.options.name;var o=function(t){this._init(t)};return(o.prototype=Object.create(n.prototype)).constructor=o,o.cid=e++,o.options=Bt(n.options,t),o.super=n,o.options.props&&function(t){var e=t.options.props;for(var n in e)wn(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)Tn(t.prototype,n,e[n])}(o),o.extend=n.extend,o.mixin=n.mixin,o.use=n.use,B.forEach((function(t){o[t]=n[t]})),a&&(o.options.components[a]=o),o.superOptions=n.options,o.extendOptions=t,o.sealedOptions=M({},o.options),i[r]=o,o}}function On(t){return t&&(t.Ctor.options.name||t.tag)}function Pn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:!!d(t)&&t.test(e)}function Dn(t,e){var n=t.cache,r=t.keys,i=t._vnode;for(var a in n){var o=n[a];if(o){var s=o.name;s&&!e(s)&&_n(n,a,r,i)}}}function _n(t,e,n,r){var i=t[e];!i||r&&i.tag===r.tag||i.componentInstance.$destroy(),t[e]=null,y(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=In++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var i=r.componentOptions;n.propsData=i.propsData,n._parentListeners=i.listeners,n._renderChildren=i.children,n._componentTag=i.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Bt(Mn(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&tn(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,r=t.$vnode=e._parentVnode,i=r&&r.context;t.$slots=ve(e._renderChildren,i),t.$scopedSlots=n,t._c=function(e,n,r,i){return He(t,e,n,r,i,!1)},t.$createElement=function(e,n,r,i){return He(t,e,n,r,i,!0)};var a=r&&r.data;It(t,"$attrs",a&&a.attrs||n,null,!0),It(t,"$listeners",e._parentListeners||n,null,!0)}(e),sn(e,"beforeCreate"),function(t){var e=me(t.$options.inject,t);e&&(St(!1),Object.keys(e).forEach((function(n){It(t,n,e[n])})),St(!0))}(e),Cn(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),sn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(Rn),function(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Mt,t.prototype.$delete=Rt,t.prototype.$watch=function(t,e,n){var r=this;if(c(e))return kn(r,t,e,n);(n=n||{}).user=!0;var i=new An(r,t,e,n);if(n.immediate){var a='callback for immediate watcher "'+i.expression+'"';ft(),Kt(e,r,[i.value],r,a),gt()}return function(){i.teardown()}}}(Rn),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var i=0,a=t.length;i<a;i++)r.$on(t[i],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,i=t.length;r<i;r++)n.$off(t[r],e);return n}var a,o=n._events[t];if(!o)return n;if(!e)return n._events[t]=null,n;for(var s=o.length;s--;)if((a=o[s])===e||a.fn===e){o.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?I(n):n;for(var r=I(arguments,1),i='event handler for "'+t+'"',a=0,o=n.length;a<o;a++)Kt(n[a],e,r,e,i)}return e}}(Rn),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,i=n._vnode,a=nn(n);n._vnode=t,n.$el=i?n.__patch__(i,t):n.__patch__(n.$el,t,e,!1),a(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){sn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),sn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(Rn),function(t){Ue(t.prototype),t.prototype.$nextTick=function(t){return ie(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,i=n._parentVnode;i&&(e.$scopedSlots=be(i.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=i;try{$e=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Ht(n,e,"render"),t=e._vnode}finally{$e=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=yt()),t.parent=i,t}}(Rn);var Nn=[String,RegExp,Array],Un={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:Nn,exclude:Nn,max:[String,Number]},methods:{cacheVNode:function(){var t=this,e=t.cache,n=t.keys,r=t.vnodeToCache,i=t.keyToCache;if(r){var a=r.tag,o=r.componentInstance,s=r.componentOptions;e[i]={name:On(s),tag:a,componentInstance:o},n.push(i),this.max&&n.length>parseInt(this.max)&&_n(e,n[0],n,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)_n(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Dn(t,(function(t){return Pn(e,t)}))})),this.$watch("exclude",(function(e){Dn(t,(function(t){return!Pn(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=Ye(t),n=e&&e.componentOptions;if(n){var r=On(n),i=this.include,a=this.exclude;if(i&&(!r||!Pn(i,r))||a&&r&&Pn(a,r))return e;var o=this.cache,s=this.keys,u=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;o[u]?(e.componentInstance=o[u].componentInstance,y(s,u),s.push(u)):(this.vnodeToCache=e,this.keyToCache=u),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return q}};Object.defineProperty(t,"config",e),t.util={warn:ct,extend:M,mergeOptions:Bt,defineReactive:It},t.set=Mt,t.delete=Rt,t.nextTick=ie,t.observable=function(t){return kt(t),t},t.options=Object.create(null),B.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,M(t.options.components,Un),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=I(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Bt(this.options,t),this}}(t),Ln(t),function(t){B.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&c(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(Rn),Object.defineProperty(Rn.prototype,"$isServer",{get:at}),Object.defineProperty(Rn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(Rn,"FunctionalRenderContext",{value:Be}),Rn.version="2.6.14";var Bn=m("style,class"),jn=m("input,textarea,option,select,progress"),qn=m("contenteditable,draggable,spellcheck"),Fn=m("events,caret,typing,plaintext-only"),Vn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Gn="http://www.w3.org/1999/xlink",zn=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Hn=function(t){return zn(t)?t.slice(6,t.length):""},Kn=function(t){return null==t||!1===t};function Wn(t){for(var e=t.data,n=t,r=t;a(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=$n(r.data,e));for(;a(n=n.parent);)n&&n.data&&(e=$n(e,n.data));return function(t,e){if(a(t)||a(e))return Xn(t,Yn(e));return""}(e.staticClass,e.class)}function $n(t,e){return{staticClass:Xn(t.staticClass,e.staticClass),class:a(t.class)?[t.class,e.class]:e.class}}function Xn(t,e){return t?e?t+" "+e:t:e||""}function Yn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,i=t.length;r<i;r++)a(e=Yn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):u(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Jn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Zn=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Qn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),tr=function(t){return Zn(t)||Qn(t)};var er=Object.create(null);var nr=m("text,number,password,search,email,tel,url");var rr=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Jn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),ir={create:function(t,e){ar(e)},update:function(t,e){t.data.ref!==e.data.ref&&(ar(t,!0),ar(e))},destroy:function(t){ar(t,!0)}};function ar(t,e){var n=t.data.ref;if(a(n)){var r=t.context,i=t.componentInstance||t.elm,o=r.$refs;e?Array.isArray(o[n])?y(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}var or=new mt("",{},[]),sr=["create","activate","update","remove","destroy"];function ur(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&a(t.data)===a(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=a(n=t.data)&&a(n=n.attrs)&&n.type,i=a(n=e.data)&&a(n=n.attrs)&&n.type;return r===i||nr(r)&&nr(i)}(t,e)||o(t.isAsyncPlaceholder)&&i(e.asyncFactory.error))}function lr(t,e,n){var r,i,o={};for(r=e;r<=n;++r)a(i=t[r].key)&&(o[i]=r);return o}var cr={create:dr,update:dr,destroy:function(t){dr(t,or)}};function dr(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,i,a=t===or,o=e===or,s=hr(t.data.directives,t.context),u=hr(e.data.directives,e.context),l=[],c=[];for(n in u)r=s[n],i=u[n],r?(i.oldValue=r.value,i.oldArg=r.arg,gr(i,"update",e,t),i.def&&i.def.componentUpdated&&c.push(i)):(gr(i,"bind",e,t),i.def&&i.def.inserted&&l.push(i));if(l.length){var d=function(){for(var n=0;n<l.length;n++)gr(l[n],"inserted",e,t)};a?de(e,"insert",d):d()}c.length&&de(e,"postpatch",(function(){for(var n=0;n<c.length;n++)gr(c[n],"componentUpdated",e,t)}));if(!a)for(n in s)u[n]||gr(s[n],"unbind",t,t,o)}(t,e)}var pr=Object.create(null);function hr(t,e){var n,r,i=Object.create(null);if(!t)return i;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=pr),i[fr(r)]=r,r.def=jt(e.$options,"directives",r.name);return i}function fr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function gr(t,e,n,r,i){var a=t.def&&t.def[e];if(a)try{a(n.elm,t,n,r,i)}catch(r){Ht(r,n.context,"directive "+t.name+" "+e+" hook")}}var mr=[ir,cr];function vr(t,e){var n=e.componentOptions;if(!(a(n)&&!1===n.Ctor.options.inheritAttrs||i(t.data.attrs)&&i(e.data.attrs))){var r,o,s=e.elm,u=t.data.attrs||{},l=e.data.attrs||{};for(r in a(l.__ob__)&&(l=e.data.attrs=M({},l)),l)o=l[r],u[r]!==o&&yr(s,r,o,e.data.pre);for(r in(J||Q)&&l.value!==u.value&&yr(s,"value",l.value),u)i(l[r])&&(zn(r)?s.removeAttributeNS(Gn,Hn(r)):qn(r)||s.removeAttribute(r))}}function yr(t,e,n,r){r||t.tagName.indexOf("-")>-1?Ar(t,e,n):Vn(e)?Kn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):qn(e)?t.setAttribute(e,function(t,e){return Kn(e)||"false"===e?"false":"contenteditable"===t&&Fn(e)?e:"true"}(e,n)):zn(e)?Kn(n)?t.removeAttributeNS(Gn,Hn(e)):t.setAttributeNS(Gn,e,n):Ar(t,e,n)}function Ar(t,e,n){if(Kn(n))t.removeAttribute(e);else{if(J&&!Z&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var br={create:vr,update:vr};function wr(t,e){var n=e.elm,r=e.data,o=t.data;if(!(i(r.staticClass)&&i(r.class)&&(i(o)||i(o.staticClass)&&i(o.class)))){var s=Wn(e),u=n._transitionClasses;a(u)&&(s=Xn(s,Yn(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Cr,xr={create:wr,update:wr};function Tr(t,e,n){var r=Cr;return function i(){var a=e.apply(null,arguments);null!==a&&kr(t,i,n,r)}}var Sr=Yt&&!(et&&Number(et[1])<=53);function Er(t,e,n,r){if(Sr){var i=fn,a=e;e=a._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=i||t.timeStamp<=0||t.target.ownerDocument!==document)return a.apply(this,arguments)}}Cr.addEventListener(t,e,rt?{capture:n,passive:r}:n)}function kr(t,e,n,r){(r||Cr).removeEventListener(t,e._wrapper||e,n)}function Ir(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Cr=e.elm,function(t){if(a(t.__r)){var e=J?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}a(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),ce(n,r,Er,kr,Tr,e.context),Cr=void 0}}var Mr,Rr={create:Ir,update:Ir};function Lr(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,r,o=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in a(u.__ob__)&&(u=e.data.domProps=M({},u)),s)n in u||(o[n]="");for(n in u){if(r=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===s[n])continue;1===o.childNodes.length&&o.removeChild(o.childNodes[0])}if("value"===n&&"PROGRESS"!==o.tagName){o._value=r;var l=i(r)?"":String(r);Or(o,l)&&(o.value=l)}else if("innerHTML"===n&&Qn(o.tagName)&&i(o.innerHTML)){(Mr=Mr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var c=Mr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;c.firstChild;)o.appendChild(c.firstChild)}else if(r!==s[n])try{o[n]=r}catch(t){}}}}function Or(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(a(r)){if(r.number)return g(n)!==g(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var Pr={create:Lr,update:Lr},Dr=w((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function _r(t){var e=Nr(t.style);return t.staticStyle?M(t.staticStyle,e):e}function Nr(t){return Array.isArray(t)?R(t):"string"==typeof t?Dr(t):t}var Ur,Br=/^--/,jr=/\s*!important$/,qr=function(t,e,n){if(Br.test(e))t.style.setProperty(e,n);else if(jr.test(n))t.style.setProperty(E(e),n.replace(jr,""),"important");else{var r=Vr(e);if(Array.isArray(n))for(var i=0,a=n.length;i<a;i++)t.style[r]=n[i];else t.style[r]=n}},Fr=["Webkit","Moz","ms"],Vr=w((function(t){if(Ur=Ur||document.createElement("div").style,"filter"!==(t=x(t))&&t in Ur)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Fr.length;n++){var r=Fr[n]+e;if(r in Ur)return r}}));function Gr(t,e){var n=e.data,r=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(r.staticStyle)&&i(r.style))){var o,s,u=e.elm,l=r.staticStyle,c=r.normalizedStyle||r.style||{},d=l||c,p=Nr(e.data.style)||{};e.data.normalizedStyle=a(p.__ob__)?M({},p):p;var h=function(t,e){var n,r={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode)&&i.data&&(n=_r(i.data))&&M(r,n);(n=_r(t.data))&&M(r,n);for(var a=t;a=a.parent;)a.data&&(n=_r(a.data))&&M(r,n);return r}(e,!0);for(s in d)i(h[s])&&qr(u,s,"");for(s in h)(o=h[s])!==d[s]&&qr(u,s,null==o?"":o)}}var zr={create:Gr,update:Gr},Hr=/\s+/;function Kr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Hr).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function Wr(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(Hr).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function $r(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&M(e,Xr(t.name||"v")),M(e,t),e}return"string"==typeof t?Xr(t):void 0}}var Xr=w((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),Yr=W&&!Z,Jr="transition",Zr="animation",Qr="transition",ti="transitionend",ei="animation",ni="animationend";Yr&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Qr="WebkitTransition",ti="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ei="WebkitAnimation",ni="webkitAnimationEnd"));var ri=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function ii(t){ri((function(){ri(t)}))}function ai(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),Kr(t,e))}function oi(t,e){t._transitionClasses&&y(t._transitionClasses,e),Wr(t,e)}function si(t,e,n){var r=li(t,e),i=r.type,a=r.timeout,o=r.propCount;if(!i)return n();var s=i===Jr?ti:ni,u=0,l=function(){t.removeEventListener(s,c),n()},c=function(e){e.target===t&&++u>=o&&l()};setTimeout((function(){u<o&&l()}),a+1),t.addEventListener(s,c)}var ui=/\b(transform|all)(,|$)/;function li(t,e){var n,r=window.getComputedStyle(t),i=(r[Qr+"Delay"]||"").split(", "),a=(r[Qr+"Duration"]||"").split(", "),o=ci(i,a),s=(r[ei+"Delay"]||"").split(", "),u=(r[ei+"Duration"]||"").split(", "),l=ci(s,u),c=0,d=0;return e===Jr?o>0&&(n=Jr,c=o,d=a.length):e===Zr?l>0&&(n=Zr,c=l,d=u.length):d=(n=(c=Math.max(o,l))>0?o>l?Jr:Zr:null)?n===Jr?a.length:u.length:0,{type:n,timeout:c,propCount:d,hasTransform:n===Jr&&ui.test(r[Qr+"Property"])}}function ci(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return di(e)+di(t[n])})))}function di(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function pi(t,e){var n=t.elm;a(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=$r(t.data.transition);if(!i(r)&&!a(n._enterCb)&&1===n.nodeType){for(var o=r.css,s=r.type,l=r.enterClass,c=r.enterToClass,d=r.enterActiveClass,p=r.appearClass,h=r.appearToClass,f=r.appearActiveClass,m=r.beforeEnter,v=r.enter,y=r.afterEnter,A=r.enterCancelled,b=r.beforeAppear,w=r.appear,C=r.afterAppear,x=r.appearCancelled,T=r.duration,S=en,E=en.$vnode;E&&E.parent;)S=E.context,E=E.parent;var k=!S._isMounted||!t.isRootInsert;if(!k||w||""===w){var I=k&&p?p:l,M=k&&f?f:d,R=k&&h?h:c,L=k&&b||m,O=k&&"function"==typeof w?w:v,P=k&&C||y,D=k&&x||A,_=g(u(T)?T.enter:T);0;var U=!1!==o&&!Z,B=gi(O),j=n._enterCb=N((function(){U&&(oi(n,R),oi(n,M)),j.cancelled?(U&&oi(n,I),D&&D(n)):P&&P(n),n._enterCb=null}));t.data.show||de(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),O&&O(n,j)})),L&&L(n),U&&(ai(n,I),ai(n,M),ii((function(){oi(n,I),j.cancelled||(ai(n,R),B||(fi(_)?setTimeout(j,_):si(n,s,j)))}))),t.data.show&&(e&&e(),O&&O(n,j)),U||B||j()}}}function hi(t,e){var n=t.elm;a(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=$r(t.data.transition);if(i(r)||1!==n.nodeType)return e();if(!a(n._leaveCb)){var o=r.css,s=r.type,l=r.leaveClass,c=r.leaveToClass,d=r.leaveActiveClass,p=r.beforeLeave,h=r.leave,f=r.afterLeave,m=r.leaveCancelled,v=r.delayLeave,y=r.duration,A=!1!==o&&!Z,b=gi(h),w=g(u(y)?y.leave:y);0;var C=n._leaveCb=N((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),A&&(oi(n,c),oi(n,d)),C.cancelled?(A&&oi(n,l),m&&m(n)):(e(),f&&f(n)),n._leaveCb=null}));v?v(x):x()}function x(){C.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),p&&p(n),A&&(ai(n,l),ai(n,d),ii((function(){oi(n,l),C.cancelled||(ai(n,c),b||(fi(w)?setTimeout(C,w):si(n,s,C)))}))),h&&h(n,C),A||b||C())}}function fi(t){return"number"==typeof t&&!isNaN(t)}function gi(t){if(i(t))return!1;var e=t.fns;return a(e)?gi(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function mi(t,e){!0!==e.data.show&&pi(e)}var vi=function(t){var e,n,r={},u=t.modules,l=t.nodeOps;for(e=0;e<sr.length;++e)for(r[sr[e]]=[],n=0;n<u.length;++n)a(u[n][sr[e]])&&r[sr[e]].push(u[n][sr[e]]);function c(t){var e=l.parentNode(t);a(e)&&l.removeChild(e,t)}function d(t,e,n,i,s,u,c){if(a(t.elm)&&a(u)&&(t=u[c]=bt(t)),t.isRootInsert=!s,!function(t,e,n,i){var s=t.data;if(a(s)){var u=a(t.componentInstance)&&s.keepAlive;if(a(s=s.hook)&&a(s=s.init)&&s(t,!1),a(t.componentInstance))return p(t,e),h(n,t.elm,i),o(u)&&function(t,e,n,i){var o,s=t;for(;s.componentInstance;)if(a(o=(s=s.componentInstance._vnode).data)&&a(o=o.transition)){for(o=0;o<r.activate.length;++o)r.activate[o](or,s);e.push(s);break}h(n,t.elm,i)}(t,e,n,i),!0}}(t,e,n,i)){var d=t.data,g=t.children,m=t.tag;a(m)?(t.elm=t.ns?l.createElementNS(t.ns,m):l.createElement(m,t),y(t),f(t,g,e),a(d)&&v(t,e),h(n,t.elm,i)):o(t.isComment)?(t.elm=l.createComment(t.text),h(n,t.elm,i)):(t.elm=l.createTextNode(t.text),h(n,t.elm,i))}}function p(t,e){a(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,g(t)?(v(t,e),y(t)):(ar(t),e.push(t))}function h(t,e,n){a(t)&&(a(n)?l.parentNode(n)===t&&l.insertBefore(t,e,n):l.appendChild(t,e))}function f(t,e,n){if(Array.isArray(e)){0;for(var r=0;r<e.length;++r)d(e[r],n,t.elm,null,!0,e,r)}else s(t.text)&&l.appendChild(t.elm,l.createTextNode(String(t.text)))}function g(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return a(t.tag)}function v(t,n){for(var i=0;i<r.create.length;++i)r.create[i](or,t);a(e=t.data.hook)&&(a(e.create)&&e.create(or,t),a(e.insert)&&n.push(t))}function y(t){var e;if(a(e=t.fnScopeId))l.setStyleScope(t.elm,e);else for(var n=t;n;)a(e=n.context)&&a(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e),n=n.parent;a(e=en)&&e!==t.context&&e!==t.fnContext&&a(e=e.$options._scopeId)&&l.setStyleScope(t.elm,e)}function A(t,e,n,r,i,a){for(;r<=i;++r)d(n[r],a,t,e,!1,n,r)}function b(t){var e,n,i=t.data;if(a(i))for(a(e=i.hook)&&a(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(a(e=t.children))for(n=0;n<t.children.length;++n)b(t.children[n])}function w(t,e,n){for(;e<=n;++e){var r=t[e];a(r)&&(a(r.tag)?(C(r),b(r)):c(r.elm))}}function C(t,e){if(a(e)||a(t.data)){var n,i=r.remove.length+1;for(a(e)?e.listeners+=i:e=function(t,e){function n(){0==--n.listeners&&c(t)}return n.listeners=e,n}(t.elm,i),a(n=t.componentInstance)&&a(n=n._vnode)&&a(n.data)&&C(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);a(n=t.data.hook)&&a(n=n.remove)?n(t,e):e()}else c(t.elm)}function x(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];if(a(o)&&ur(t,o))return i}}function T(t,e,n,s,u,c){if(t!==e){a(e.elm)&&a(s)&&(e=s[u]=bt(e));var p=e.elm=t.elm;if(o(t.isAsyncPlaceholder))a(e.asyncFactory.resolved)?k(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var h,f=e.data;a(f)&&a(h=f.hook)&&a(h=h.prepatch)&&h(t,e);var m=t.children,v=e.children;if(a(f)&&g(e)){for(h=0;h<r.update.length;++h)r.update[h](t,e);a(h=f.hook)&&a(h=h.update)&&h(t,e)}i(e.text)?a(m)&&a(v)?m!==v&&function(t,e,n,r,o){var s,u,c,p=0,h=0,f=e.length-1,g=e[0],m=e[f],v=n.length-1,y=n[0],b=n[v],C=!o;for(;p<=f&&h<=v;)i(g)?g=e[++p]:i(m)?m=e[--f]:ur(g,y)?(T(g,y,r,n,h),g=e[++p],y=n[++h]):ur(m,b)?(T(m,b,r,n,v),m=e[--f],b=n[--v]):ur(g,b)?(T(g,b,r,n,v),C&&l.insertBefore(t,g.elm,l.nextSibling(m.elm)),g=e[++p],b=n[--v]):ur(m,y)?(T(m,y,r,n,h),C&&l.insertBefore(t,m.elm,g.elm),m=e[--f],y=n[++h]):(i(s)&&(s=lr(e,p,f)),i(u=a(y.key)?s[y.key]:x(y,e,p,f))?d(y,r,t,g.elm,!1,n,h):ur(c=e[u],y)?(T(c,y,r,n,h),e[u]=void 0,C&&l.insertBefore(t,c.elm,g.elm)):d(y,r,t,g.elm,!1,n,h),y=n[++h]);p>f?A(t,i(n[v+1])?null:n[v+1].elm,n,h,v,r):h>v&&w(e,p,f)}(p,m,v,n,c):a(v)?(a(t.text)&&l.setTextContent(p,""),A(p,null,v,0,v.length-1,n)):a(m)?w(m,0,m.length-1):a(t.text)&&l.setTextContent(p,""):t.text!==e.text&&l.setTextContent(p,e.text),a(f)&&a(h=f.hook)&&a(h=h.postpatch)&&h(t,e)}}}function S(t,e,n){if(o(n)&&a(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var E=m("attrs,class,staticClass,staticStyle,key");function k(t,e,n,r){var i,s=e.tag,u=e.data,l=e.children;if(r=r||u&&u.pre,e.elm=t,o(e.isComment)&&a(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(a(u)&&(a(i=u.hook)&&a(i=i.init)&&i(e,!0),a(i=e.componentInstance)))return p(e,n),!0;if(a(s)){if(a(l))if(t.hasChildNodes())if(a(i=u)&&a(i=i.domProps)&&a(i=i.innerHTML)){if(i!==t.innerHTML)return!1}else{for(var c=!0,d=t.firstChild,h=0;h<l.length;h++){if(!d||!k(d,l[h],n,r)){c=!1;break}d=d.nextSibling}if(!c||d)return!1}else f(e,l,n);if(a(u)){var g=!1;for(var m in u)if(!E(m)){g=!0,v(e,n);break}!g&&u.class&&oe(u.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!i(e)){var u,c=!1,p=[];if(i(t))c=!0,d(e,p);else{var h=a(t.nodeType);if(!h&&ur(t,e))T(t,e,p,null,null,s);else{if(h){if(1===t.nodeType&&t.hasAttribute(U)&&(t.removeAttribute(U),n=!0),o(n)&&k(t,e,p))return S(e,p,!0),t;u=t,t=new mt(l.tagName(u).toLowerCase(),{},[],void 0,u)}var f=t.elm,m=l.parentNode(f);if(d(e,p,f._leaveCb?null:m,l.nextSibling(f)),a(e.parent))for(var v=e.parent,y=g(e);v;){for(var A=0;A<r.destroy.length;++A)r.destroy[A](v);if(v.elm=e.elm,y){for(var C=0;C<r.create.length;++C)r.create[C](or,v);var x=v.data.hook.insert;if(x.merged)for(var E=1;E<x.fns.length;E++)x.fns[E]()}else ar(v);v=v.parent}a(m)?w([t],0,0):a(t.tag)&&b(t)}}return S(e,p,c),e.elm}a(t)&&b(t)}}({nodeOps:rr,modules:[br,xr,Rr,Pr,zr,W?{create:mi,activate:mi,remove:function(t,e){!0!==t.data.show?hi(t,e):e()}}:{}].concat(mr)});Z&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Si(t,"input")}));var yi={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?de(n,"postpatch",(function(){yi.componentUpdated(t,e,n)})):Ai(t,e,n.context),t._vOptions=[].map.call(t.options,Ci)):("textarea"===n.tag||nr(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",xi),t.addEventListener("compositionend",Ti),t.addEventListener("change",Ti),Z&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ai(t,e,n.context);var r=t._vOptions,i=t._vOptions=[].map.call(t.options,Ci);if(i.some((function(t,e){return!D(t,r[e])})))(t.multiple?e.value.some((function(t){return wi(t,i)})):e.value!==e.oldValue&&wi(e.value,i))&&Si(t,"change")}}};function Ai(t,e,n){bi(t,e,n),(J||Q)&&setTimeout((function(){bi(t,e,n)}),0)}function bi(t,e,n){var r=e.value,i=t.multiple;if(!i||Array.isArray(r)){for(var a,o,s=0,u=t.options.length;s<u;s++)if(o=t.options[s],i)a=_(r,Ci(o))>-1,o.selected!==a&&(o.selected=a);else if(D(Ci(o),r))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function wi(t,e){return e.every((function(e){return!D(e,t)}))}function Ci(t){return"_value"in t?t._value:t.value}function xi(t){t.target.composing=!0}function Ti(t){t.target.composing&&(t.target.composing=!1,Si(t.target,"input"))}function Si(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Ei(t){return!t.componentInstance||t.data&&t.data.transition?t:Ei(t.componentInstance._vnode)}var ki={model:yi,show:{bind:function(t,e,n){var r=e.value,i=(n=Ei(n)).data&&n.data.transition,a=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&i?(n.data.show=!0,pi(n,(function(){t.style.display=a}))):t.style.display=r?a:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Ei(n)).data&&n.data.transition?(n.data.show=!0,r?pi(n,(function(){t.style.display=t.__vOriginalDisplay})):hi(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,i){i||(t.style.display=t.__vOriginalDisplay)}}},Ii={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Mi(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Mi(Ye(e.children)):t}function Ri(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var i=n._parentListeners;for(var a in i)e[x(a)]=i[a];return e}function Li(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var Oi=function(t){return t.tag||Ae(t)},Pi=function(t){return"show"===t.name},Di={name:"transition",props:Ii,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(Oi)).length){0;var r=this.mode;0;var i=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return i;var a=Mi(i);if(!a)return i;if(this._leaving)return Li(t,i);var o="__transition-"+this._uid+"-";a.key=null==a.key?a.isComment?o+"comment":o+a.tag:s(a.key)?0===String(a.key).indexOf(o)?a.key:o+a.key:a.key;var u=(a.data||(a.data={})).transition=Ri(this),l=this._vnode,c=Mi(l);if(a.data.directives&&a.data.directives.some(Pi)&&(a.data.show=!0),c&&c.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(a,c)&&!Ae(c)&&(!c.componentInstance||!c.componentInstance._vnode.isComment)){var d=c.data.transition=M({},u);if("out-in"===r)return this._leaving=!0,de(d,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),Li(t,i);if("in-out"===r){if(Ae(a))return l;var p,h=function(){p()};de(u,"afterEnter",h),de(u,"enterCancelled",h),de(d,"delayLeave",(function(t){p=t}))}}return i}}},_i=M({tag:String,moveClass:String},Ii);function Ni(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function Ui(t){t.data.newPos=t.elm.getBoundingClientRect()}function Bi(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,i=e.top-n.top;if(r||i){t.data.moved=!0;var a=t.elm.style;a.transform=a.WebkitTransform="translate("+r+"px,"+i+"px)",a.transitionDuration="0s"}}delete _i.mode;var ji={Transition:Di,TransitionGroup:{props:_i,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var i=nn(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,i(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,i=this.$slots.default||[],a=this.children=[],o=Ri(this),s=0;s<i.length;s++){var u=i[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))a.push(u),n[u.key]=u,(u.data||(u.data={})).transition=o;else;}if(r){for(var l=[],c=[],d=0;d<r.length;d++){var p=r[d];p.data.transition=o,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?l.push(p):c.push(p)}this.kept=t(e,null,l),this.removed=c}return t(e,null,a)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(Ni),t.forEach(Ui),t.forEach(Bi),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;ai(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ti,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ti,t),n._moveCb=null,oi(n,e))})}})))},methods:{hasMove:function(t,e){if(!Yr)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){Wr(n,t)})),Kr(n,e),n.style.display="none",this.$el.appendChild(n);var r=li(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};Rn.config.mustUseProp=function(t,e,n){return"value"===n&&jn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Rn.config.isReservedTag=tr,Rn.config.isReservedAttr=Bn,Rn.config.getTagNamespace=function(t){return Qn(t)?"svg":"math"===t?"math":void 0},Rn.config.isUnknownElement=function(t){if(!W)return!0;if(tr(t))return!1;if(t=t.toLowerCase(),null!=er[t])return er[t];var e=document.createElement(t);return t.indexOf("-")>-1?er[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:er[t]=/HTMLUnknownElement/.test(e.toString())},M(Rn.options.directives,ki),M(Rn.options.components,ji),Rn.prototype.__patch__=W?vi:L,Rn.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=yt),sn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new An(t,r,L,{before:function(){t._isMounted&&!t._isDestroyed&&sn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,sn(t,"mounted")),t}(this,t=t&&W?function(t){if("string"==typeof t){return document.querySelector(t)||document.createElement("div")}return t}(t):void 0,e)},W&&setTimeout((function(){q.devtools&&ot&&ot.emit("init",Rn)}),0);var qi=Rn,Fi=r(9944),Vi=r(7284),Gi=r(6511),zi=r(5108);class Hi{bus;constructor(t){"function"==typeof t.getVersion&&Vi(t.getVersion())?Gi(t.getVersion())!==Gi(this.getVersion())&&zi.warn("Proxying an event bus of version "+t.getVersion()+" with "+this.getVersion()):zi.warn("Proxying an event bus with an unknown or invalid version"),this.bus=t}getVersion(){return"3.3.2"}subscribe(t,e){this.bus.subscribe(t,e)}unsubscribe(t,e){this.bus.unsubscribe(t,e)}emit(t,...e){this.bus.emit(t,...e)}}class Ki{handlers=new Map;getVersion(){return"3.3.2"}subscribe(t,e){this.handlers.set(t,(this.handlers.get(t)||[]).concat(e))}unsubscribe(t,e){this.handlers.set(t,(this.handlers.get(t)||[]).filter((t=>t!==e)))}emit(t,...e){(this.handlers.get(t)||[]).forEach((t=>{try{t(e[0])}catch(t){zi.error("could not invoke event listener",t)}}))}}let Wi=null;function $i(){return null!==Wi?Wi:"undefined"==typeof window?new Proxy({},{get:()=>()=>zi.error("Window not available, EventBus can not be established!")}):(window.OC?._eventBus&&void 0===window._nc_event_bus&&(zi.warn("found old event bus instance at OC._eventBus. Update your version!"),window._nc_event_bus=window.OC._eventBus),Wi=void 0!==window?._nc_event_bus?new Hi(window._nc_event_bus):window._nc_event_bus=new Ki,Wi)}var Xi=r(4637),Yi=r(5108);let Ji;const Zi=[];function Qi(){return void 0===Ji&&(Ji=document.head.dataset.requesttoken??null),Ji}var ta,ea;ta="csrf-token-update",ea=t=>{Ji=t.token,Zi.forEach((t=>{try{t(Ji)}catch(t){Yi.error("Error updating CSRF token observer",t)}}))},$i().subscribe(ta,ea);(0,Xi.Kc)("public").persist().build();function na(t,e){return function(){return t.apply(e,arguments)}}var ra=r(4155);const{toString:ia}=Object.prototype,{getPrototypeOf:aa}=Object,{iterator:oa,toStringTag:sa}=Symbol,ua=(la=Object.create(null),t=>{const e=ia.call(t);return la[e]||(la[e]=e.slice(8,-1).toLowerCase())});var la;const ca=t=>(t=t.toLowerCase(),e=>ua(e)===t),da=t=>e=>typeof e===t,{isArray:pa}=Array,ha=da("undefined");function fa(t){return null!==t&&!ha(t)&&null!==t.constructor&&!ha(t.constructor)&&va(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const ga=ca("ArrayBuffer");const ma=da("string"),va=da("function"),ya=da("number"),Aa=t=>null!==t&&"object"==typeof t,ba=t=>{if("object"!==ua(t))return!1;const e=aa(t);return!(null!==e&&e!==Object.prototype&&null!==Object.getPrototypeOf(e)||sa in t||oa in t)},wa=ca("Date"),Ca=ca("File"),xa=ca("Blob"),Ta=ca("FileList"),Sa=ca("URLSearchParams"),[Ea,ka,Ia,Ma]=["ReadableStream","Request","Response","Headers"].map(ca);function Ra(t,e,{allOwnKeys:n=!1}={}){if(null==t)return;let r,i;if("object"!=typeof t&&(t=[t]),pa(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(fa(t))return;const i=n?Object.getOwnPropertyNames(t):Object.keys(t),a=i.length;let o;for(r=0;r<a;r++)o=i[r],e.call(null,t[o],o,t)}}function La(t,e){if(fa(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r,i=n.length;for(;i-- >0;)if(r=n[i],e===r.toLowerCase())return r;return null}const Oa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,Pa=t=>!ha(t)&&t!==Oa;const Da=(_a="undefined"!=typeof Uint8Array&&aa(Uint8Array),t=>_a&&t instanceof _a);var _a;const Na=ca("HTMLFormElement"),Ua=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Ba=ca("RegExp"),ja=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ra(n,((n,i)=>{let a;!1!==(a=e(n,i,t))&&(r[i]=a||n)})),Object.defineProperties(t,r)};const qa=ca("AsyncFunction"),Fa=(Va="function"==typeof setImmediate,Ga=va(Oa.postMessage),Va?setImmediate:Ga?((t,e)=>(Oa.addEventListener("message",(({source:n,data:r})=>{n===Oa&&r===t&&e.length&&e.shift()()}),!1),n=>{e.push(n),Oa.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t));var Va,Ga;const za="undefined"!=typeof queueMicrotask?queueMicrotask.bind(Oa):void 0!==ra&&ra.nextTick||Fa;var Ha={isArray:pa,isArrayBuffer:ga,isBuffer:fa,isFormData:t=>{let e;return t&&("function"==typeof FormData&&t instanceof FormData||va(t.append)&&("formdata"===(e=ua(t))||"object"===e&&va(t.toString)&&"[object FormData]"===t.toString()))},isArrayBufferView:function(t){let e;return e="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&ga(t.buffer),e},isString:ma,isNumber:ya,isBoolean:t=>!0===t||!1===t,isObject:Aa,isPlainObject:ba,isEmptyObject:t=>{if(!Aa(t)||fa(t))return!1;try{return 0===Object.keys(t).length&&Object.getPrototypeOf(t)===Object.prototype}catch(t){return!1}},isReadableStream:Ea,isRequest:ka,isResponse:Ia,isHeaders:Ma,isUndefined:ha,isDate:wa,isFile:Ca,isBlob:xa,isRegExp:Ba,isFunction:va,isStream:t=>Aa(t)&&va(t.pipe),isURLSearchParams:Sa,isTypedArray:Da,isFileList:Ta,forEach:Ra,merge:function t(){const{caseless:e,skipUndefined:n}=Pa(this)&&this||{},r={},i=(i,a)=>{const o=e&&La(r,a)||a;ba(r[o])&&ba(i)?r[o]=t(r[o],i):ba(i)?r[o]=t({},i):pa(i)?r[o]=i.slice():n&&ha(i)||(r[o]=i)};for(let t=0,e=arguments.length;t<e;t++)arguments[t]&&Ra(arguments[t],i);return r},extend:(t,e,n,{allOwnKeys:r}={})=>(Ra(e,((e,r)=>{n&&va(e)?t[r]=na(e,n):t[r]=e}),{allOwnKeys:r}),t),trim:t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:t=>(65279===t.charCodeAt(0)&&(t=t.slice(1)),t),inherits:(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},toFlatObject:(t,e,n,r)=>{let i,a,o;const s={};if(e=e||{},null==t)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)o=i[a],r&&!r(o,t,e)||s[o]||(e[o]=t[o],s[o]=!0);t=!1!==n&&aa(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kindOf:ua,kindOfTest:ca,endsWith:(t,e,n)=>{t=String(t),(void 0===n||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return-1!==r&&r===n},toArray:t=>{if(!t)return null;if(pa(t))return t;let e=t.length;if(!ya(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},forEachEntry:(t,e)=>{const n=(t&&t[oa]).call(t);let r;for(;(r=n.next())&&!r.done;){const n=r.value;e.call(t,n[0],n[1])}},matchAll:(t,e)=>{let n;const r=[];for(;null!==(n=t.exec(e));)r.push(n);return r},isHTMLForm:Na,hasOwnProperty:Ua,hasOwnProp:Ua,reduceDescriptors:ja,freezeMethods:t=>{ja(t,((e,n)=>{if(va(t)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=t[n];va(r)&&(e.enumerable=!1,"writable"in e?e.writable=!1:e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(t,e)=>{const n={},r=t=>{t.forEach((t=>{n[t]=!0}))};return pa(t)?r(t):r(String(t).split(e)),n},toCamelCase:t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(t,e,n){return e.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(t,e)=>null!=t&&Number.isFinite(t=+t)?t:e,findKey:La,global:Oa,isContextDefined:Pa,isSpecCompliantForm:function(t){return!!(t&&va(t.append)&&"FormData"===t[sa]&&t[oa])},toJSONObject:t=>{const e=new Array(10),n=(t,r)=>{if(Aa(t)){if(e.indexOf(t)>=0)return;if(fa(t))return t;if(!("toJSON"in t)){e[r]=t;const i=pa(t)?[]:{};return Ra(t,((t,e)=>{const a=n(t,r+1);!ha(a)&&(i[e]=a)})),e[r]=void 0,i}}return t};return n(t,0)},isAsyncFn:qa,isThenable:t=>t&&(Aa(t)||va(t))&&va(t.then)&&va(t.catch),setImmediate:Fa,asap:za,isIterable:t=>null!=t&&va(t[oa])};function Ka(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Ha.inherits(Ka,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ha.toJSONObject(this.config),code:this.code,status:this.status}}});const Wa=Ka.prototype,$a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((t=>{$a[t]={value:t}})),Object.defineProperties(Ka,$a),Object.defineProperty(Wa,"isAxiosError",{value:!0}),Ka.from=(t,e,n,r,i,a)=>{const o=Object.create(Wa);Ha.toFlatObject(t,o,(function(t){return t!==Error.prototype}),(t=>"isAxiosError"!==t));const s=t&&t.message?t.message:"Error",u=null==e&&t?t.code:e;return Ka.call(o,s,u,n,r,i),t&&null==o.cause&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",a&&Object.assign(o,a),o};var Xa=Ka,Ya=r(8764).Buffer;function Ja(t){return Ha.isPlainObject(t)||Ha.isArray(t)}function Za(t){return Ha.endsWith(t,"[]")?t.slice(0,-2):t}function Qa(t,e,n){return t?t.concat(e).map((function(t,e){return t=Za(t),!n&&e?"["+t+"]":t})).join(n?".":""):e}const to=Ha.toFlatObject(Ha,{},null,(function(t){return/^is[A-Z]/.test(t)}));var eo=function(t,e,n){if(!Ha.isObject(t))throw new TypeError("target must be an object");e=e||new FormData;const r=(n=Ha.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(t,e){return!Ha.isUndefined(e[t])}))).metaTokens,i=n.visitor||l,a=n.dots,o=n.indexes,s=(n.Blob||"undefined"!=typeof Blob&&Blob)&&Ha.isSpecCompliantForm(e);if(!Ha.isFunction(i))throw new TypeError("visitor must be a function");function u(t){if(null===t)return"";if(Ha.isDate(t))return t.toISOString();if(Ha.isBoolean(t))return t.toString();if(!s&&Ha.isBlob(t))throw new Xa("Blob is not supported. Use a Buffer instead.");return Ha.isArrayBuffer(t)||Ha.isTypedArray(t)?s&&"function"==typeof Blob?new Blob([t]):Ya.from(t):t}function l(t,n,i){let s=t;if(t&&!i&&"object"==typeof t)if(Ha.endsWith(n,"{}"))n=r?n:n.slice(0,-2),t=JSON.stringify(t);else if(Ha.isArray(t)&&function(t){return Ha.isArray(t)&&!t.some(Ja)}(t)||(Ha.isFileList(t)||Ha.endsWith(n,"[]"))&&(s=Ha.toArray(t)))return n=Za(n),s.forEach((function(t,r){!Ha.isUndefined(t)&&null!==t&&e.append(!0===o?Qa([n],r,a):null===o?n:n+"[]",u(t))})),!1;return!!Ja(t)||(e.append(Qa(i,n,a),u(t)),!1)}const c=[],d=Object.assign(to,{defaultVisitor:l,convertValue:u,isVisitable:Ja});if(!Ha.isObject(t))throw new TypeError("data must be an object");return function t(n,r){if(!Ha.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),Ha.forEach(n,(function(n,a){!0===(!(Ha.isUndefined(n)||null===n)&&i.call(e,n,Ha.isString(a)?a.trim():a,r,d))&&t(n,r?r.concat(a):[a])})),c.pop()}}(t),e};function no(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,(function(t){return e[t]}))}function ro(t,e){this._pairs=[],t&&eo(t,this,e)}const io=ro.prototype;io.append=function(t,e){this._pairs.push([t,e])},io.toString=function(t){const e=t?function(e){return t.call(this,e,no)}:no;return this._pairs.map((function(t){return e(t[0])+"="+e(t[1])}),"").join("&")};var ao=ro;function oo(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function so(t,e,n){if(!e)return t;const r=n&&n.encode||oo;Ha.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let a;if(a=i?i(e,n):Ha.isURLSearchParams(e)?e.toString():new ao(e,n).toString(r),a){const e=t.indexOf("#");-1!==e&&(t=t.slice(0,e)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}var uo=class{constructor(){this.handlers=[]}use(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ha.forEach(this.handlers,(function(e){null!==e&&t(e)}))}},lo={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},co={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:ao,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const po="undefined"!=typeof window&&"undefined"!=typeof document,ho="object"==typeof navigator&&navigator||void 0,fo=po&&(!ho||["ReactNative","NativeScript","NS"].indexOf(ho.product)<0),go="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,mo=po&&window.location.href||"http://localhost";var vo={...t,...co};var yo=function(t){function e(t,n,r,i){let a=t[i++];if("__proto__"===a)return!0;const o=Number.isFinite(+a),s=i>=t.length;if(a=!a&&Ha.isArray(r)?r.length:a,s)return Ha.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!o;r[a]&&Ha.isObject(r[a])||(r[a]=[]);return e(t,n,r[a],i)&&Ha.isArray(r[a])&&(r[a]=function(t){const e={},n=Object.keys(t);let r;const i=n.length;let a;for(r=0;r<i;r++)a=n[r],e[a]=t[a];return e}(r[a])),!o}if(Ha.isFormData(t)&&Ha.isFunction(t.entries)){const n={};return Ha.forEachEntry(t,((t,r)=>{e(function(t){return Ha.matchAll(/\w+|\[(\w*)]/g,t).map((t=>"[]"===t[0]?"":t[1]||t[0]))}(t),r,n,0)})),n}return null};const Ao={transitional:lo,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const n=e.getContentType()||"",r=n.indexOf("application/json")>-1,i=Ha.isObject(t);i&&Ha.isHTMLForm(t)&&(t=new FormData(t));if(Ha.isFormData(t))return r?JSON.stringify(yo(t)):t;if(Ha.isArrayBuffer(t)||Ha.isBuffer(t)||Ha.isStream(t)||Ha.isFile(t)||Ha.isBlob(t)||Ha.isReadableStream(t))return t;if(Ha.isArrayBufferView(t))return t.buffer;if(Ha.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(t,e){return eo(t,new vo.classes.URLSearchParams,{visitor:function(t,e,n,r){return vo.isNode&&Ha.isBuffer(t)?(this.append(e,t.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...e})}(t,this.formSerializer).toString();if((a=Ha.isFileList(t))||n.indexOf("multipart/form-data")>-1){const e=this.env&&this.env.FormData;return eo(a?{"files[]":t}:t,e&&new e,this.formSerializer)}}return i||r?(e.setContentType("application/json",!1),function(t,e,n){if(Ha.isString(t))try{return(e||JSON.parse)(t),Ha.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){const e=this.transitional||Ao.transitional,n=e&&e.forcedJSONParsing,r="json"===this.responseType;if(Ha.isResponse(t)||Ha.isReadableStream(t))return t;if(t&&Ha.isString(t)&&(n&&!this.responseType||r)){const n=!(e&&e.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(t){if(n){if("SyntaxError"===t.name)throw Xa.from(t,Xa.ERR_BAD_RESPONSE,this,null,this.response);throw t}}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vo.classes.FormData,Blob:vo.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ha.forEach(["delete","get","head","post","put","patch"],(t=>{Ao.headers[t]={}}));var bo=Ao;const wo=Ha.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const Co=Symbol("internals");function xo(t){return t&&String(t).trim().toLowerCase()}function To(t){return!1===t||null==t?t:Ha.isArray(t)?t.map(To):String(t)}function So(t,e,n,r,i){return Ha.isFunction(r)?r.call(this,e,n):(i&&(e=n),Ha.isString(e)?Ha.isString(r)?-1!==e.indexOf(r):Ha.isRegExp(r)?r.test(e):void 0:void 0)}class Eo{constructor(t){t&&this.set(t)}set(t,e,n){const r=this;function i(t,e,n){const i=xo(e);if(!i)throw new Error("header name must be a non-empty string");const a=Ha.findKey(r,i);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||e]=To(t))}const a=(t,e)=>Ha.forEach(t,((t,n)=>i(t,n,e)));if(Ha.isPlainObject(t)||t instanceof this.constructor)a(t,e);else if(Ha.isString(t)&&(t=t.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim()))a((t=>{const e={};let n,r,i;return t&&t.split("\n").forEach((function(t){i=t.indexOf(":"),n=t.substring(0,i).trim().toLowerCase(),r=t.substring(i+1).trim(),!n||e[n]&&wo[n]||("set-cookie"===n?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)})),e})(t),e);else if(Ha.isObject(t)&&Ha.isIterable(t)){let n,r,i={};for(const e of t){if(!Ha.isArray(e))throw TypeError("Object iterator must return a key-value pair");i[r=e[0]]=(n=i[r])?Ha.isArray(n)?[...n,e[1]]:[n,e[1]]:e[1]}a(i,e)}else null!=t&&i(e,t,n);return this}get(t,e){if(t=xo(t)){const n=Ha.findKey(this,t);if(n){const t=this[n];if(!e)return t;if(!0===e)return function(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}(t);if(Ha.isFunction(e))return e.call(this,t,n);if(Ha.isRegExp(e))return e.exec(t);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=xo(t)){const n=Ha.findKey(this,t);return!(!n||void 0===this[n]||e&&!So(0,this[n],n,e))}return!1}delete(t,e){const n=this;let r=!1;function i(t){if(t=xo(t)){const i=Ha.findKey(n,t);!i||e&&!So(0,n[i],i,e)||(delete n[i],r=!0)}}return Ha.isArray(t)?t.forEach(i):i(t),r}clear(t){const e=Object.keys(this);let n=e.length,r=!1;for(;n--;){const i=e[n];t&&!So(0,this[i],i,t,!0)||(delete this[i],r=!0)}return r}normalize(t){const e=this,n={};return Ha.forEach(this,((r,i)=>{const a=Ha.findKey(n,i);if(a)return e[a]=To(r),void delete e[i];const o=t?function(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((t,e,n)=>e.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete e[i],e[o]=To(r),n[o]=!0})),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Ha.forEach(this,((n,r)=>{null!=n&&!1!==n&&(e[r]=t&&Ha.isArray(n)?n.join(", "):n)})),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([t,e])=>t+": "+e)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const n=new this(t);return e.forEach((t=>n.set(t))),n}static accessor(t){const e=(this[Co]=this[Co]={accessors:{}}).accessors,n=this.prototype;function r(t){const r=xo(t);e[r]||(!function(t,e){const n=Ha.toCamelCase(" "+e);["get","set","has"].forEach((r=>{Object.defineProperty(t,r+n,{value:function(t,n,i){return this[r].call(this,e,t,n,i)},configurable:!0})}))}(n,t),e[r]=!0)}return Ha.isArray(t)?t.forEach(r):r(t),this}}Eo.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ha.reduceDescriptors(Eo.prototype,(({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(t){this[n]=t}}})),Ha.freezeMethods(Eo);var ko=Eo;function Io(t,e){const n=this||bo,r=e||n,i=ko.from(r.headers);let a=r.data;return Ha.forEach(t,(function(t){a=t.call(n,a,i.normalize(),e?e.status:void 0)})),i.normalize(),a}function Mo(t){return!(!t||!t.__CANCEL__)}function Ro(t,e,n){Xa.call(this,null==t?"canceled":t,Xa.ERR_CANCELED,e,n),this.name="CanceledError"}Ha.inherits(Ro,Xa,{__CANCEL__:!0});var Lo=Ro;function Oo(t,e,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?e(new Xa("Request failed with status code "+n.status,[Xa.ERR_BAD_REQUEST,Xa.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):t(n)}var Po=function(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i,a=0,o=0;return e=void 0!==e?e:1e3,function(s){const u=Date.now(),l=r[o];i||(i=u),n[a]=s,r[a]=u;let c=o,d=0;for(;c!==a;)d+=n[c++],c%=t;if(a=(a+1)%t,a===o&&(o=(o+1)%t),u-i<e)return;const p=l&&u-l;return p?Math.round(1e3*d/p):void 0}};var Do=function(t,e){let n,r,i=0,a=1e3/e;const o=(e,a=Date.now())=>{i=a,n=null,r&&(clearTimeout(r),r=null),t(...e)};return[(...t)=>{const e=Date.now(),s=e-i;s>=a?o(t,e):(n=t,r||(r=setTimeout((()=>{r=null,o(n)}),a-s)))},()=>n&&o(n)]};const _o=(t,e,n=3)=>{let r=0;const i=Po(50,250);return Do((n=>{const a=n.loaded,o=n.lengthComputable?n.total:void 0,s=a-r,u=i(s);r=a;t({loaded:a,total:o,progress:o?a/o:void 0,bytes:s,rate:u||void 0,estimated:u&&o&&a<=o?(o-a)/u:void 0,event:n,lengthComputable:null!=o,[e?"download":"upload"]:!0})}),n)},No=(t,e)=>{const n=null!=t;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},Uo=t=>(...e)=>Ha.asap((()=>t(...e)));var Bo=vo.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,vo.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(vo.origin),vo.navigator&&/(msie|trident)/i.test(vo.navigator.userAgent)):()=>!0,jo=vo.hasStandardBrowserEnv?{write(t,e,n,r,i,a){const o=[t+"="+encodeURIComponent(e)];Ha.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),Ha.isString(r)&&o.push("path="+r),Ha.isString(i)&&o.push("domain="+i),!0===a&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function qo(t,e,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e);return t&&(r||0==n)?function(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}(t,e):e}const Fo=t=>t instanceof ko?{...t}:t;function Vo(t,e){e=e||{};const n={};function r(t,e,n,r){return Ha.isPlainObject(t)&&Ha.isPlainObject(e)?Ha.merge.call({caseless:r},t,e):Ha.isPlainObject(e)?Ha.merge({},e):Ha.isArray(e)?e.slice():e}function i(t,e,n,i){return Ha.isUndefined(e)?Ha.isUndefined(t)?void 0:r(void 0,t,0,i):r(t,e,0,i)}function a(t,e){if(!Ha.isUndefined(e))return r(void 0,e)}function o(t,e){return Ha.isUndefined(e)?Ha.isUndefined(t)?void 0:r(void 0,t):r(void 0,e)}function s(n,i,a){return a in e?r(n,i):a in t?r(void 0,n):void 0}const u={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s,headers:(t,e,n)=>i(Fo(t),Fo(e),0,!0)};return Ha.forEach(Object.keys({...t,...e}),(function(r){const a=u[r]||i,o=a(t[r],e[r],r);Ha.isUndefined(o)&&a!==s||(n[r]=o)})),n}var Go=t=>{const e=Vo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:a,headers:o,auth:s}=e;if(e.headers=o=ko.from(o),e.url=so(qo(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),s&&o.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Ha.isFormData(n))if(vo.hasStandardBrowserEnv||vo.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ha.isFunction(n.getHeaders)){const t=n.getHeaders(),e=["content-type","content-length"];Object.entries(t).forEach((([t,n])=>{e.includes(t.toLowerCase())&&o.set(t,n)}))}if(vo.hasStandardBrowserEnv&&(r&&Ha.isFunction(r)&&(r=r(e)),r||!1!==r&&Bo(e.url))){const t=i&&a&&jo.read(a);t&&o.set(i,t)}return e};var zo="undefined"!=typeof XMLHttpRequest&&function(t){return new Promise((function(e,n){const r=Go(t);let i=r.data;const a=ko.from(r.headers).normalize();let o,s,u,l,c,{responseType:d,onUploadProgress:p,onDownloadProgress:h}=r;function f(){l&&l(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let g=new XMLHttpRequest;function m(){if(!g)return;const r=ko.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Oo((function(t){e(t),f()}),(function(t){n(t),f()}),{data:d&&"text"!==d&&"json"!==d?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:r,config:t,request:g}),g=null}g.open(r.method.toUpperCase(),r.url,!0),g.timeout=r.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new Xa("Request aborted",Xa.ECONNABORTED,t,g)),g=null)},g.onerror=function(e){const r=e&&e.message?e.message:"Network Error",i=new Xa(r,Xa.ERR_NETWORK,t,g);i.event=e||null,n(i),g=null},g.ontimeout=function(){let e=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||lo;r.timeoutErrorMessage&&(e=r.timeoutErrorMessage),n(new Xa(e,i.clarifyTimeoutError?Xa.ETIMEDOUT:Xa.ECONNABORTED,t,g)),g=null},void 0===i&&a.setContentType(null),"setRequestHeader"in g&&Ha.forEach(a.toJSON(),(function(t,e){g.setRequestHeader(e,t)})),Ha.isUndefined(r.withCredentials)||(g.withCredentials=!!r.withCredentials),d&&"json"!==d&&(g.responseType=r.responseType),h&&([u,c]=_o(h,!0),g.addEventListener("progress",u)),p&&g.upload&&([s,l]=_o(p),g.upload.addEventListener("progress",s),g.upload.addEventListener("loadend",l)),(r.cancelToken||r.signal)&&(o=e=>{g&&(n(!e||e.type?new Lo(null,t,g):e),g.abort(),g=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const v=function(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}(r.url);v&&-1===vo.protocols.indexOf(v)?n(new Xa("Unsupported protocol "+v+":",Xa.ERR_BAD_REQUEST,t)):g.send(i||null)}))};var Ho=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let n,r=new AbortController;const i=function(t){if(!n){n=!0,o();const e=t instanceof Error?t:this.reason;r.abort(e instanceof Xa?e:new Lo(e instanceof Error?e.message:e))}};let a=e&&setTimeout((()=>{a=null,i(new Xa(`timeout ${e} of ms exceeded`,Xa.ETIMEDOUT))}),e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach((t=>{t.unsubscribe?t.unsubscribe(i):t.removeEventListener("abort",i)})),t=null)};t.forEach((t=>t.addEventListener("abort",i)));const{signal:s}=r;return s.unsubscribe=()=>Ha.asap(o),s}};const Ko=function*(t,e){let n=t.byteLength;if(!e||n<e)return void(yield t);let r,i=0;for(;i<n;)r=i+e,yield t.slice(i,r),i=r},Wo=async function*(t){if(t[Symbol.asyncIterator])return void(yield*t);const e=t.getReader();try{for(;;){const{done:t,value:n}=await e.read();if(t)break;yield n}}finally{await e.cancel()}},$o=(t,e,n,r)=>{const i=async function*(t,e){for await(const n of Wo(t))yield*Ko(n,e)}(t,e);let a,o=0,s=t=>{a||(a=!0,r&&r(t))};return new ReadableStream({async pull(t){try{const{done:e,value:r}=await i.next();if(e)return s(),void t.close();let a=r.byteLength;if(n){let t=o+=a;n(t)}t.enqueue(new Uint8Array(r))}catch(t){throw s(t),t}},cancel:t=>(s(t),i.return())},{highWaterMark:2})},{isFunction:Xo}=Ha,Yo=(({Request:t,Response:e})=>({Request:t,Response:e}))(Ha.global),{ReadableStream:Jo,TextEncoder:Zo}=Ha.global,Qo=(t,...e)=>{try{return!!t(...e)}catch(t){return!1}},ts=t=>{t=Ha.merge.call({skipUndefined:!0},Yo,t);const{fetch:e,Request:n,Response:r}=t,i=e?Xo(e):"function"==typeof fetch,a=Xo(n),o=Xo(r);if(!i)return!1;const s=i&&Xo(Jo),u=i&&("function"==typeof Zo?(l=new Zo,t=>l.encode(t)):async t=>new Uint8Array(await new n(t).arrayBuffer()));var l;const c=a&&s&&Qo((()=>{let t=!1;const e=new n(vo.origin,{body:new Jo,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e})),d=o&&s&&Qo((()=>Ha.isReadableStream(new r("").body))),p={stream:d&&(t=>t.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach((t=>{!p[t]&&(p[t]=(e,n)=>{let r=e&&e[t];if(r)return r.call(e);throw new Xa(`Response type '${t}' is not supported`,Xa.ERR_NOT_SUPPORT,n)})}));const h=async(t,e)=>{const r=Ha.toFiniteNumber(t.getContentLength());return null==r?(async t=>{if(null==t)return 0;if(Ha.isBlob(t))return t.size;if(Ha.isSpecCompliantForm(t)){const e=new n(vo.origin,{method:"POST",body:t});return(await e.arrayBuffer()).byteLength}return Ha.isArrayBufferView(t)||Ha.isArrayBuffer(t)?t.byteLength:(Ha.isURLSearchParams(t)&&(t+=""),Ha.isString(t)?(await u(t)).byteLength:void 0)})(e):r};return async t=>{let{url:i,method:o,data:s,signal:u,cancelToken:l,timeout:f,onDownloadProgress:g,onUploadProgress:m,responseType:v,headers:y,withCredentials:A="same-origin",fetchOptions:b}=Go(t),w=e||fetch;v=v?(v+"").toLowerCase():"text";let C=Ho([u,l&&l.toAbortSignal()],f),x=null;const T=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let S;try{if(m&&c&&"get"!==o&&"head"!==o&&0!==(S=await h(y,s))){let t,e=new n(i,{method:"POST",body:s,duplex:"half"});if(Ha.isFormData(s)&&(t=e.headers.get("content-type"))&&y.setContentType(t),e.body){const[t,n]=No(S,_o(Uo(m)));s=$o(e.body,65536,t,n)}}Ha.isString(A)||(A=A?"include":"omit");const e=a&&"credentials"in n.prototype,u={...b,signal:C,method:o.toUpperCase(),headers:y.normalize().toJSON(),body:s,duplex:"half",credentials:e?A:void 0};x=a&&new n(i,u);let l=await(a?w(x,b):w(i,u));const f=d&&("stream"===v||"response"===v);if(d&&(g||f&&T)){const t={};["status","statusText","headers"].forEach((e=>{t[e]=l[e]}));const e=Ha.toFiniteNumber(l.headers.get("content-length")),[n,i]=g&&No(e,_o(Uo(g),!0))||[];l=new r($o(l.body,65536,n,(()=>{i&&i(),T&&T()})),t)}v=v||"text";let E=await p[Ha.findKey(p,v)||"text"](l,t);return!f&&T&&T(),await new Promise(((e,n)=>{Oo(e,n,{data:E,headers:ko.from(l.headers),status:l.status,statusText:l.statusText,config:t,request:x})}))}catch(e){if(T&&T(),e&&"TypeError"===e.name&&/Load failed|fetch/i.test(e.message))throw Object.assign(new Xa("Network Error",Xa.ERR_NETWORK,t,x),{cause:e.cause||e});throw Xa.from(e,e&&e.code,t,x)}}},es=new Map,ns=t=>{let e=t?t.env:{};const{fetch:n,Request:r,Response:i}=e,a=[r,i,n];let o,s,u=a.length,l=es;for(;u--;)o=a[u],s=l.get(o),void 0===s&&l.set(o,s=u?new Map:ts(e)),l=s;return s};ns();const rs={http:null,xhr:zo,fetch:{get:ns}};Ha.forEach(rs,((t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch(t){}Object.defineProperty(t,"adapterName",{value:e})}}));const is=t=>`- ${t}`,as=t=>Ha.isFunction(t)||null===t||!1===t;var os=(t,e)=>{t=Ha.isArray(t)?t:[t];const{length:n}=t;let r,i;const a={};for(let o=0;o<n;o++){let n;if(r=t[o],i=r,!as(r)&&(i=rs[(n=String(r)).toLowerCase()],void 0===i))throw new Xa(`Unknown adapter '${n}'`);if(i&&(Ha.isFunction(i)||(i=i.get(e))))break;a[n||"#"+o]=i}if(!i){const t=Object.entries(a).map((([t,e])=>`adapter ${t} `+(!1===e?"is not supported by the environment":"is not available in the build")));let e=n?t.length>1?"since :\n"+t.map(is).join("\n"):" "+is(t[0]):"as no adapter specified";throw new Xa("There is no suitable adapter to dispatch the request "+e,"ERR_NOT_SUPPORT")}return i};function ss(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Lo(null,t)}function us(t){ss(t),t.headers=ko.from(t.headers),t.data=Io.call(t,t.transformRequest),-1!==["post","put","patch"].indexOf(t.method)&&t.headers.setContentType("application/x-www-form-urlencoded",!1);return os(t.adapter||bo.adapter,t)(t).then((function(e){return ss(t),e.data=Io.call(t,t.transformResponse,e),e.headers=ko.from(e.headers),e}),(function(e){return Mo(e)||(ss(t),e&&e.response&&(e.response.data=Io.call(t,t.transformResponse,e.response),e.response.headers=ko.from(e.response.headers))),Promise.reject(e)}))}const ls="1.12.2";var cs=r(5108);const ds={};["object","boolean","number","function","string","symbol"].forEach(((t,e)=>{ds[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));const ps={};ds.transitional=function(t,e,n){function r(t,e){return"[Axios v1.12.2] Transitional option '"+t+"'"+e+(n?". "+n:"")}return(n,i,a)=>{if(!1===t)throw new Xa(r(i," has been removed"+(e?" in "+e:"")),Xa.ERR_DEPRECATED);return e&&!ps[i]&&(ps[i]=!0,cs.warn(r(i," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,i,a)}},ds.spelling=function(t){return(e,n)=>(cs.warn(`${n} is likely a misspelling of ${t}`),!0)};var hs={assertOptions:function(t,e,n){if("object"!=typeof t)throw new Xa("options must be an object",Xa.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const a=r[i],o=e[a];if(o){const e=t[a],n=void 0===e||o(e,a,t);if(!0!==n)throw new Xa("option "+a+" must be "+n,Xa.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Xa("Unknown option "+a,Xa.ERR_BAD_OPTION)}},validators:ds};const fs=hs.validators;class gs{constructor(t){this.defaults=t||{},this.interceptors={request:new uo,response:new uo}}async request(t,e){try{return await this._request(t,e)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const n=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?n&&!String(t.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+n):t.stack=n}catch(t){}}throw t}}_request(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},e=Vo(this.defaults,e);const{transitional:n,paramsSerializer:r,headers:i}=e;void 0!==n&&hs.assertOptions(n,{silentJSONParsing:fs.transitional(fs.boolean),forcedJSONParsing:fs.transitional(fs.boolean),clarifyTimeoutError:fs.transitional(fs.boolean)},!1),null!=r&&(Ha.isFunction(r)?e.paramsSerializer={serialize:r}:hs.assertOptions(r,{encode:fs.function,serialize:fs.function},!0)),void 0!==e.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),hs.assertOptions(e,{baseUrl:fs.spelling("baseURL"),withXsrfToken:fs.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let a=i&&Ha.merge(i.common,i[e.method]);i&&Ha.forEach(["delete","get","head","post","put","patch","common"],(t=>{delete i[t]})),e.headers=ko.concat(a,i);const o=[];let s=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(s=s&&t.synchronous,o.unshift(t.fulfilled,t.rejected))}));const u=[];let l;this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)}));let c,d=0;if(!s){const t=[us.bind(this),void 0];for(t.unshift(...o),t.push(...u),c=t.length,l=Promise.resolve(e);d<c;)l=l.then(t[d++],t[d++]);return l}c=o.length;let p=e;for(;d<c;){const t=o[d++],e=o[d++];try{p=t(p)}catch(t){e.call(this,t);break}}try{l=us.call(this,p)}catch(t){return Promise.reject(t)}for(d=0,c=u.length;d<c;)l=l.then(u[d++],u[d++]);return l}getUri(t){return so(qo((t=Vo(this.defaults,t)).baseURL,t.url,t.allowAbsoluteUrls),t.params,t.paramsSerializer)}}Ha.forEach(["delete","get","head","options"],(function(t){gs.prototype[t]=function(e,n){return this.request(Vo(n||{},{method:t,url:e,data:(n||{}).data}))}})),Ha.forEach(["post","put","patch"],(function(t){function e(e){return function(n,r,i){return this.request(Vo(i||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}gs.prototype[t]=e(),gs.prototype[t+"Form"]=e(!0)}));var ms=gs;class vs{constructor(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");let e;this.promise=new Promise((function(t){e=t}));const n=this;this.promise.then((t=>{if(!n._listeners)return;let e=n._listeners.length;for(;e-- >0;)n._listeners[e](t);n._listeners=null})),this.promise.then=t=>{let e;const r=new Promise((t=>{n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t,r,i){n.reason||(n.reason=new Lo(t,r,i),e(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=e=>{t.abort(e)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new vs((function(e){t=e})),cancel:t}}}var ys=vs;const As={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(As).forEach((([t,e])=>{As[e]=t}));var bs=As;const ws=function t(e){const n=new ms(e),r=na(ms.prototype.request,n);return Ha.extend(r,ms.prototype,n,{allOwnKeys:!0}),Ha.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return t(Vo(e,n))},r}(bo);ws.Axios=ms,ws.CanceledError=Lo,ws.CancelToken=ys,ws.isCancel=Mo,ws.VERSION=ls,ws.toFormData=eo,ws.AxiosError=Xa,ws.Cancel=ws.CanceledError,ws.all=function(t){return Promise.all(t)},ws.spread=function(t){return function(e){return t.apply(null,e)}},ws.isAxiosError=function(t){return Ha.isObject(t)&&!0===t.isAxiosError},ws.mergeConfig=Vo,ws.AxiosHeaders=ko,ws.formToJSON=t=>yo(Ha.isHTMLForm(t)?new FormData(t):t),ws.getAdapter=os,ws.HttpStatusCode=bs,ws.default=ws;var Cs=ws;const{Axios:xs,AxiosError:Ts,CanceledError:Ss,isCancel:Es,CancelToken:ks,VERSION:Is,all:Ms,Cancel:Rs,isAxiosError:Ls,spread:Os,toFormData:Ps,AxiosHeaders:Ds,HttpStatusCode:_s,formToJSON:Ns,getAdapter:Us,mergeConfig:Bs}=Cs,js=(t,e,n)=>{const r=Object.assign({escape:!0},n||{});return"/"!==t.charAt(0)&&(t="/"+t),i=(i=e||{})||{},t.replace(/{([^{}]*)}/g,(function(t,e){const n=i[e];return r.escape?encodeURIComponent("string"==typeof n||"number"==typeof n?n.toString():t):"string"==typeof n||"number"==typeof n?n.toString():t}));var i},qs=(t,e,n)=>{var r,i,a;const o=Object.assign({noRewrite:!1},n||{}),s=null!=(r=null==n?void 0:n.baseURL)?r:Fs();return!0!==(null==(a=null==(i=null==window?void 0:window.OC)?void 0:i.config)?void 0:a.modRewriteWorking)||o.noRewrite?s+"/index.php"+js(t,e,n):s+js(t,e,n)};function Fs(){let t=window._oc_webroot;if(typeof t>"u"){t=location.pathname;const e=t.indexOf("/index.php/");if(-1!==e)t=t.slice(0,e);else{const e=t.indexOf("/",1);t=t.slice(0,e>0?e:void 0)}}return t}var Vs=r(5108);const Gs=Cs.create({headers:{requesttoken:Qi()??"","X-Requested-With":"XMLHttpRequest"}});!function(t){Zi.push(t)}((t=>{Gs.defaults.headers.requesttoken=t}));const zs=Object.assign(Gs,{CancelToken:Cs.CancelToken,isCancel:Cs.isCancel}),Hs=Symbol("csrf-retry");const Ks=Symbol("retryDelay");zs.interceptors.response.use((t=>t),function(t){return async e=>{if(!Ls(e))throw e;const{config:n,response:r,request:i}=e,a=i?.responseURL;if(n&&!n[Hs]&&412===r?.status&&"CSRF check failed"===r?.data?.message){Vs.warn(`Request to ${a} failed because of a CSRF mismatch. Fetching a new token`);const{data:{token:e}}=await t.get(qs("/csrftoken"));return Vs.debug(`New request token ${e} fetched`),t.defaults.headers.requesttoken=e,t({...n,headers:{...n.headers,requesttoken:e},[Hs]:!0})}throw e}}(zs)),zs.interceptors.response.use((t=>t),function(t){return async e=>{if(!Ls(e))throw e;const{config:n,response:r,request:i}=e,a=i?.responseURL,o=r?.status,s=r?.headers;let u="number"==typeof n?.[Ks]?n?.[Ks]:1;if(503===o&&"1"===s?.["x-nextcloud-maintenance-mode"]&&n?.retryIfMaintenanceMode){if(u*=2,u>32)throw Vs.error("Retry delay exceeded one minute, giving up.",{responseURL:a}),e;return Vs.warn(`Request to ${a} failed because of maintenance mode. Retrying in ${u}s`),await new Promise((t=>{setTimeout(t,1e3*u)})),t({...n,[Ks]:u})}throw e}}(zs)),zs.interceptors.response.use((t=>t),(async function(t){if(Ls(t)){const{config:e,response:n,request:r}=t,i=r?.responseURL;401===n?.status&&"Current user is not logged in"===n?.data?.message&&e?.reloadExpiredSession&&window?.location&&(Vs.error(`Request to ${i} failed because the user session expired. Reloading the page …`),window.location.reload())}throw t}));var Ws=r(5108);function $s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xs(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$s(Object(n),!0).forEach((function(e){Ys(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Ys(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Js(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Zs(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zs(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zs(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qs(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function tu(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){Qs(a,r,i,o,s,"next",t)}function s(t){Qs(a,r,i,o,s,"throw",t)}o(void 0)}))}}var eu={name:"App",data:function(){return{loading:!1,activeJobs:[],autoGenDirs:[],statistics:{activeJobs:0,completedJobs:0,pendingJobs:0,completedJobFilenames:[]},lastRefresh:"Never",refreshInterval:null,statsInterval:null,isPollingActive:!1,showBackToTop:!1,showCompletedJobs:!1}},mounted:function(){var t=this;return tu(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ws.log("🎬 Hyper Viewer Dashboard mounted!"),e.next=3,t.refreshData();case 3:t.refreshInterval=setInterval((function(){t.refreshActiveJobs()}),1e4),t.statsInterval=setInterval((function(){t.refreshStatisticsAndAutoGen()}),1e4),window.addEventListener("scroll",t.handleScroll);case 6:case"end":return e.stop()}}),e)})))()},beforeDestroy:function(){this.refreshInterval&&clearInterval(this.refreshInterval),this.statsInterval&&clearInterval(this.statsInterval),this.isPollingActive=!1,window.removeEventListener("scroll",this.handleScroll)},methods:{refreshData:function(){var t=this;return tu(regeneratorRuntime.mark((function e(){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,e.next=4,Promise.all([zs.get(qs("/apps/hyper_viewer/api/auto-generation")),zs.get(qs("/apps/hyper_viewer/api/jobs/statistics"))]);case 4:return n=e.sent,r=Js(n,2),i=r[0],a=r[1],e.next=10,t.refreshActiveJobs();case 10:t.autoGenDirs=i.data.autoGenDirs||[],t.statistics=a.data.stats||t.statistics,t.lastRefresh=(new Date).toLocaleTimeString(),Ws.log("✅ Dashboard data refreshed",{activeJobs:t.activeJobs.length,autoGenDirs:t.autoGenDirs.length}),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),Ws.error("❌ Failed to refresh dashboard data:",e.t0),OC.Notification.showTemporary("Failed to refresh dashboard data",{type:"error"});case 20:return e.prev=20,t.loading=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,16,20,23]])})))()},refreshStatisticsAndAutoGen:function(){var t=this;return tu(regeneratorRuntime.mark((function e(){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([zs.get(qs("/apps/hyper_viewer/api/auto-generation")),zs.get(qs("/apps/hyper_viewer/api/jobs/statistics"))]);case 3:n=e.sent,r=Js(n,2),i=r[0],a=r[1],t.autoGenDirs=i.data.autoGenDirs||[],t.statistics=a.data.stats||t.statistics,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Ws.error("❌ Failed to refresh statistics and auto-gen:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},refreshActiveJobs:function(){var t=this;return tu(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zs.get(qs("/apps/hyper_viewer/api/jobs/active"));case 3:n=e.sent,r=n.data.jobs||[],t.activeJobs=r.map((function(e){var n=t.activeJobs.find((function(t){return t.filename===e.filename}));return n?Xs(Xs({},n),e):Xs(Xs({},e),{},{progress:0,frame:0,fps:0,speed:"0x",time:"00:00:00"})})),t.activeJobs.length>0&&!t.isPollingActive&&t.startCentralizedPolling(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Ws.error("❌ Failed to refresh active jobs:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()},startCentralizedPolling:function(){var t=this;return tu(regeneratorRuntime.mark((function e(){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isPollingActive){e.next=2;break}return e.abrupt("return");case 2:t.isPollingActive=!0,Ws.log("🔄 Starting centralized job polling");case 4:if(!(t.activeJobs.length>0&&t.isPollingActive)){e.next=31;break}n=0;case 6:if(!(n<t.activeJobs.length)){e.next=27;break}if(t.isPollingActive){e.next=9;break}return e.abrupt("break",27);case 9:if(r=t.activeJobs[n]){e.next=12;break}return e.abrupt("continue",24);case 12:return e.prev=12,e.next=15,zs.get(qs("/apps/hyper_viewer/api/jobs/active/".concat(r.filename)));case 15:i=e.sent,t.$set(t.activeJobs,n,Xs(Xs({},t.activeJobs[n]),i.data)),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(12),404===(null===(a=e.t0.response)||void 0===a?void 0:a.status)&&(t.activeJobs.splice(n,1),n--);case 22:return e.next=24,new Promise((function(t){return setTimeout(t,500)}));case 24:n++,e.next=6;break;case 27:return e.next=29,new Promise((function(t){return setTimeout(t,2e3)}));case 29:e.next=4;break;case 31:t.isPollingActive=!1,Ws.log("⏹️ Stopped centralized job polling");case 33:case"end":return e.stop()}}),e,null,[[12,19]])})))()},editAutoGeneration:function(t){var e=this,n=t.resolutions||[],r=["1080p","720p","480p","360p","240p"].map((function(t){var e=n.includes(t)?"checked":"";return'<label style="display: block; margin: 5px 0;"><input type="checkbox" value="'.concat(t,'" ').concat(e,"> ").concat(t,"</label>")})).join(""),i=t.enabled?"checked":"",a='\n\t\t\t\t<div style="padding: 20px;">\n\t\t\t\t\t<h3>Edit Auto-Generation Settings</h3>\n\t\t\t\t\t<p><strong>Directory:</strong> '.concat(t.directory,'</p>\n\t\t\t\t\t\n\t\t\t\t\t<div style="margin: 15px 0;">\n\t\t\t\t\t\t<label><input type="checkbox" id="enabled-checkbox" ').concat(i,'> Enabled</label>\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div style="margin: 15px 0;">\n\t\t\t\t\t\t<strong>Resolutions:</strong><br>\n\t\t\t\t\t\t').concat(r,'\n\t\t\t\t\t</div>\n\t\t\t\t\t\n\t\t\t\t\t<div style="margin-top: 20px;">\n\t\t\t\t\t\t<button id="save-btn" style="background: #0082c9; color: white; padding: 8px 16px; border: none; border-radius: 4px; margin-right: 10px;">Save</button>\n\t\t\t\t\t\t<button id="cancel-btn" style="background: #ccc; color: black; padding: 8px 16px; border: none; border-radius: 4px;">Cancel</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t'),o=document.createElement("div");o.style.cssText="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 10000; display: flex; align-items: center; justify-content: center;",o.innerHTML='<div style="background: white; border-radius: 8px; max-width: 500px; width: 90%;">'.concat(a,"</div>"),document.body.appendChild(o),o.querySelector("#save-btn").onclick=tu(regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=o.querySelector("#enabled-checkbox").checked,i=Array.from(o.querySelectorAll('input[type="checkbox"][value]')).filter((function(t){return t.checked})).map((function(t){return t.value})),n.prev=2,n.next=5,zs.put(qs("/apps/hyper_viewer/api/auto-generation/".concat(t.configKey)),{enabled:r,resolutions:i});case 5:-1!==(a=e.autoGenDirs.findIndex((function(e){return e.configKey===t.configKey})))&&(e.autoGenDirs[a].enabled=r,e.autoGenDirs[a].resolutions=i),document.body.removeChild(o),OC.Notification.showTemporary("Auto-generation settings updated successfully",{type:"success"}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),Ws.error("❌ Failed to update auto-generation settings:",n.t0),OC.Notification.showTemporary("Failed to update settings",{type:"error"});case 15:case"end":return n.stop()}}),n,null,[[2,11]])}))),o.querySelector("#cancel-btn").onclick=function(){document.body.removeChild(o)},o.onclick=function(t){t.target===o&&document.body.removeChild(o)}},removeAutoGeneration:function(t){var e=this;return tu(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(confirm("Are you sure you want to remove this auto-generation directory?")){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,zs.delete(qs("/apps/hyper_viewer/api/auto-generation/"+t));case 5:e.autoGenDirs=e.autoGenDirs.filter((function(e){return e.configKey!==t})),e.statistics.autoGenDirectories=Math.max(0,e.statistics.autoGenDirectories-1),OC.Notification.showTemporary("Auto-generation removed successfully",{type:"success"}),Ws.log("🗑️ Removed auto-generation:",t),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(2),Ws.error("❌ Failed to remove auto-generation:",n.t0),OC.Notification.showTemporary("Failed to remove auto-generation",{type:"error"});case 15:case"end":return n.stop()}}),n,null,[[2,11]])})))()},formatDate:function(t){return t?new Date(1e3*t).toLocaleDateString():"Unknown"},handleScroll:function(){this.showBackToTop=window.scrollY>300},scrollToTop:function(){window.scrollTo({top:0,behavior:"smooth"})},toggleCompletedJobs:function(){this.showCompletedJobs=!this.showCompletedJobs},scrollToSection:function(t){var e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth",block:"start"})}}},nu=r(3379),ru=r.n(nu),iu=r(4069),au={insert:"head",singleton:!1};ru()(iu.Z,au),iu.Z.locals;var ou=function(t,e,n,r,i,a,o,s){var u,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=n,l._compiled=!0),r&&(l.functional=!0),a&&(l._scopeId="data-v-"+a),o?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},l._ssrRegister=u):i&&(u=s?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),u)if(l.functional){l._injectStyles=u;var c=l.render;l.render=function(t,e){return u.call(e),c(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,u):[u]}return{exports:t,options:l}}(eu,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hyper-viewer-dashboard"},[n("div",{staticClass:"dashboard-header"},[n("h1",[t._v("🎬 Hyper Viewer Management")]),t._v(" "),n("p",[t._v("Monitor HLS generation jobs and manage auto-generation settings")]),t._v(" "),n("button",{staticClass:"refresh-btn",attrs:{disabled:t.loading},on:{click:t.refreshData}},[t.loading?n("span",[t._v("🔄")]):n("span",[t._v("↻")]),t._v("\n\t\t\tRefresh\n\t\t")])]),t._v(" "),n("div",{staticClass:"quick-nav"},[n("button",{staticClass:"nav-btn",on:{click:function(e){return t.scrollToSection("stats")}}},[t._v("\n\t\t\t📊 Stats\n\t\t")]),t._v(" "),n("button",{staticClass:"nav-btn",on:{click:function(e){return t.scrollToSection("active-jobs")}}},[t._v("\n\t\t\t🔥 Active\n\t\t")]),t._v(" "),n("button",{staticClass:"nav-btn",on:{click:function(e){return t.scrollToSection("auto-gen")}}},[t._v("\n\t\t\t🤖 Auto-Gen\n\t\t")]),t._v(" "),n("button",{staticClass:"nav-btn",on:{click:function(e){return t.scrollToSection("system-info")}}},[t._v("\n\t\t\tℹ️ System\n\t\t")])]),t._v(" "),n("div",{staticClass:"stats-grid",attrs:{id:"stats"}},[n("div",{staticClass:"stat-card"},[n("div",{staticClass:"stat-icon"},[t._v("\n\t\t\t\t⚡\n\t\t\t")]),t._v(" "),n("div",{staticClass:"stat-content"},[n("div",{staticClass:"stat-number"},[t._v("\n\t\t\t\t\t"+t._s(t.statistics.activeJobs)+"\n\t\t\t\t")]),t._v(" "),n("div",{staticClass:"stat-label"},[t._v("\n\t\t\t\t\tActive Jobs\n\t\t\t\t")])])]),t._v(" "),n("div",{staticClass:"stat-card"},[n("div",{staticClass:"stat-icon"},[t._v("\n\t\t\t\t🤖\n\t\t\t")]),t._v(" "),n("div",{staticClass:"stat-content"},[n("div",{staticClass:"stat-number"},[t._v("\n\t\t\t\t\t"+t._s(t.statistics.autoGenDirectories)+"\n\t\t\t\t")]),t._v(" "),n("div",{staticClass:"stat-label"},[t._v("\n\t\t\t\t\tAuto-Gen Dirs\n\t\t\t\t")])])]),t._v(" "),n("div",{staticClass:"stat-card clickable",on:{click:t.toggleCompletedJobs}},[n("div",{staticClass:"stat-icon"},[t._v("\n\t\t\t\t✅\n\t\t\t")]),t._v(" "),n("div",{staticClass:"stat-content"},[n("div",{staticClass:"stat-number"},[t._v("\n\t\t\t\t\t"+t._s(t.statistics.completedJobs)+"\n\t\t\t\t")]),t._v(" "),n("div",{staticClass:"stat-label"},[t._v("\n\t\t\t\t\tCompleted\n\t\t\t\t\t"),n("span",{staticClass:"toggle-indicator"},[t._v(t._s(t.showCompletedJobs?"▼":"▶"))])])])]),t._v(" "),n("div",{staticClass:"stat-card"},[n("div",{staticClass:"stat-icon"},[t._v("\n\t\t\t\t⏳\n\t\t\t")]),t._v(" "),n("div",{staticClass:"stat-content"},[n("div",{staticClass:"stat-number"},[t._v("\n\t\t\t\t\t"+t._s(t.statistics.pendingJobs)+"\n\t\t\t\t")]),t._v(" "),n("div",{staticClass:"stat-label"},[t._v("\n\t\t\t\t\tPending\n\t\t\t\t")])])])]),t._v(" "),t.showCompletedJobs&&t.statistics.completedJobFilenames&&t.statistics.completedJobFilenames.length>0?n("div",{staticClass:"completed-jobs-section"},[n("div",{staticClass:"completed-jobs-header"},[n("h3",[t._v("✅ Completed Jobs ("+t._s(t.statistics.completedJobFilenames.length)+")")]),t._v(" "),n("button",{staticClass:"close-btn",on:{click:function(e){t.showCompletedJobs=!1}}},[t._v("✕")])]),t._v(" "),n("div",{staticClass:"completed-jobs-list"},t._l(t.statistics.completedJobFilenames,(function(e){return n("div",{key:e,staticClass:"completed-job-item",attrs:{title:e}},[t._v("\n\t\t\t\t"+t._s(e)+"\n\t\t\t")])})),0)]):t._e(),t._v(" "),n("div",{staticClass:"section",attrs:{id:"active-jobs"}},[n("h2",[t._v("🔥 Active Jobs")]),t._v(" "),0===t.activeJobs.length?n("div",{staticClass:"empty-state"},[n("div",{staticClass:"empty-icon"},[t._v("\n\t\t\t\t😴\n\t\t\t")]),t._v(" "),n("p",[t._v("No active jobs running")])]):n("div",{staticClass:"jobs-list"},t._l(t.activeJobs,(function(e){return n("div",{key:e.cachePath,staticClass:"job-card"},[n("div",{staticClass:"job-header"},[n("div",{staticClass:"job-filename"},[t._v("\n\t\t\t\t\t\t"+t._s(e.filename)+"\n\t\t\t\t\t")]),t._v(" "),n("div",{staticClass:"job-status processing"},[t._v("\n\t\t\t\t\t\t"+t._s(e.status)+"\n\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"job-progress"},[n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"progress-fill",style:{width:e.progress+"%"}})]),t._v(" "),n("div",{staticClass:"progress-text"},[t._v("\n\t\t\t\t\t\t"+t._s(e.progress)+"%\n\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"job-details"},[n("span",{staticClass:"detail-item"},[t._v("⏱️ "+t._s(e.time))]),t._v(" "),n("span",{staticClass:"detail-item"},[t._v("🎬 "+t._s(e.frame)+" frames")]),t._v(" "),n("span",{staticClass:"detail-item"},[t._v("⚡ "+t._s(e.speed))]),t._v(" "),n("span",{staticClass:"detail-item"},[t._v("📺 "+t._s(e.fps)+" fps")]),t._v(" "),e.cacheSize?n("span",{staticClass:"detail-item"},[t._v("💾 "+t._s(e.cacheSize))]):t._e()]),t._v(" "),n("div",{staticClass:"job-resolutions"},t._l(e.resolutions,(function(e){return n("span",{key:e,staticClass:"resolution-tag"},[t._v(t._s(e))])})),0)])})),0)]),t._v(" "),n("div",{staticClass:"section",attrs:{id:"auto-gen"}},[n("h2",[t._v("🤖 Auto-Generation Directories")]),t._v(" "),0===t.autoGenDirs.length?n("div",{staticClass:"empty-state"},[n("div",{staticClass:"empty-icon"},[t._v("\n\t\t\t\t📁\n\t\t\t")]),t._v(" "),n("p",[t._v("No auto-generation directories configured")])]):n("div",{staticClass:"auto-gen-list"},t._l(t.autoGenDirs,(function(e){return n("div",{key:e.configKey,staticClass:"auto-gen-card"},[n("div",{staticClass:"auto-gen-header"},[n("div",{staticClass:"auto-gen-path"},[t._v("\n\t\t\t\t\t\t📁 "+t._s(e.directory)+"\n\t\t\t\t\t")]),t._v(" "),n("div",{staticClass:"auto-gen-status",class:{enabled:e.enabled,disabled:!e.enabled}},[t._v("\n\t\t\t\t\t\t"+t._s(e.enabled?"Enabled":"Disabled")+"\n\t\t\t\t\t")])]),t._v(" "),n("div",{staticClass:"auto-gen-details"},[n("span",{staticClass:"detail-item"},[t._v("📍 "+t._s(e.cacheLocation))]),t._v(" "),n("span",{staticClass:"detail-item"},[t._v("📅 "+t._s(t.formatDate(e.registeredAt)))])]),t._v(" "),n("div",{staticClass:"auto-gen-resolutions"},t._l(e.resolutions,(function(e){return n("span",{key:e,staticClass:"resolution-tag"},[t._v(t._s(e))])})),0),t._v(" "),n("div",{staticClass:"auto-gen-actions"},[n("button",{staticClass:"edit-btn",on:{click:function(n){return t.editAutoGeneration(e)}}},[t._v("\n\t\t\t\t\t\t✏️ Edit\n\t\t\t\t\t")]),t._v(" "),n("button",{staticClass:"remove-btn",on:{click:function(n){return t.removeAutoGeneration(e.configKey)}}},[t._v("\n\t\t\t\t\t\t🗑️ Remove\n\t\t\t\t\t")])])])})),0)]),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:t.showBackToTop,expression:"showBackToTop"}],staticClass:"back-to-top-btn",attrs:{title:"Back to top"},on:{click:t.scrollToTop}},[t._v("\n\t\t↑\n\t")])])}),[],!1,null,"5a1b7adc",null).exports;r(142);qi.mixin({methods:{t:Fi.Iu,n:Fi.uN}});new qi({el:"#vue-content",render:function(t){return t(ou)}})}()}();
//# sourceMappingURL=hyper_viewer-main.js.map